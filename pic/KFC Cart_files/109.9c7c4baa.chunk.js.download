(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[109],{1068:function(e,t,o){"use strict";o.d(t,"a",(function(){return v})),o.d(t,"b",(function(){return O})),o.d(t,"d",(function(){return p})),o.d(t,"m",(function(){return b})),o.d(t,"g",(function(){return m})),o.d(t,"f",(function(){return h})),o.d(t,"l",(function(){return y})),o.d(t,"j",(function(){return D})),o.d(t,"i",(function(){return j})),o.d(t,"k",(function(){return f})),o.d(t,"e",(function(){return R})),o.d(t,"c",(function(){return w})),o.d(t,"h",(function(){return I}));var r=o(6),d=o(102),i=o(268),l=o(4),n=o(958),a=o(215),u=o(11),s=o(5),c=o(939);const v={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,showCarryBagInLineItem:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null,showTaxLines:!1,showTaxExcluded:!0},O=e=>{const{dispatch:t,customerId:o,tenantId:r}=e,d=Object(s.tc)(12);t(Object(i.d)({customerId:o,tenantId:r},d))},p=e=>{const{dispatch:t,tenantId:o,selectedOrderId:r,orderDetails:i}=e,l=null===i||void 0===i?void 0:i.service;Object(s.he)(r)&&t(Object(d.c)({orderId:r,tenantId:o,CTO:!!Object(s.Ad)(l)&&void 0}))},b=e=>{var t,o,r,d,i,l,n,a,u,s,c,v,O,p,b,m,h,y,D,j,f,R,w,I,S,H,g,T,E,C,k,P,F,M,N,x,_,L;const{props:A,dispatch:W,tenantReducer:B,profileReducer:G,updateSetOrderHistoryDetails:V,openReorderModal:Y,userOrderStateDispatch:U}=e,{authoredContent:J,tenantId:z,currencySymbol:K,currencyConversionFactor:Q,addHope:Z,carryBag:q,showCarryBagInLineItem:X,pastOrderDateformat:$="",pastOrderTimeFormat:ee="",componentOptions:te,scheduleOrderDateFormat:oe,dateFormat:re,timeFormat:de}=B;V({props:A,dispatch:W,authoredContent:J,tenantId:z,currencySymbol:K,currencyConversionFactor:Q,addHope:Z,carryBag:q,showCarryBagInLineItem:X,pastOrderDateformat:$,pastOrderTimeFormat:ee,scheduleOrderDateFormat:oe,dateFormat:re,timeFormat:de,customerId:null===G||void 0===G?void 0:G.customerId,customer:null===G||void 0===G?void 0:G.basic,favoriteItems:(null===G||void 0===G?void 0:G.favouriteItems)||[],openReorderModal:Y,userOrderStateDispatch:U,showTaxLines:null===te||void 0===te||null===(t=te.web)||void 0===t||null===(o=t.cartPage)||void 0===o?void 0:o.showTaxLines,showTaxExcluded:null===te||void 0===te||null===(r=te.web)||void 0===r||null===(d=r.checkout)||void 0===d?void 0:d.showTaxExcluded,enableGlobalOrderTracking:null===B||void 0===B||null===(i=B.componentOptions)||void 0===i||null===(l=i.web)||void 0===l||null===(n=l.orderPages)||void 0===n?void 0:n.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===B||void 0===B||null===(a=B.componentOptions)||void 0===a||null===(u=a.web)||void 0===u||null===(s=u.orderPages)||void 0===s?void 0:s.enableRetryCountForPickupOrderTracking,pickupTrackOrderButtonLabel:null===B||void 0===B||null===(c=B.componentOptions)||void 0===c||null===(v=c.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.pickupTrackOrderButtonLabel,enableClickCollectScheduleOrder:null===te||void 0===te||null===(p=te.web)||void 0===p||null===(b=p.dispositionConfig)||void 0===b?void 0:b.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===te||void 0===te||null===(m=te.web)||void 0===m||null===(h=m.scheduledDelivery)||void 0===h?void 0:h.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===B||void 0===B||null===(y=B.componentOptions)||void 0===y||null===(D=y.web)||void 0===D||null===(j=D.orderPages)||void 0===j?void 0:j.showGiftCardOrVoucherSummary,showPromosSummary:null===B||void 0===B||null===(f=B.componentOptions)||void 0===f||null===(R=f.web)||void 0===R||null===(w=R.orderPages)||void 0===w?void 0:w.showPromosSummary,enableScheduleOrder:null===B||void 0===B||null===(I=B.componentOptions)||void 0===I||null===(S=I.web)||void 0===S||null===(H=S.dispositionConfig)||void 0===H?void 0:H.enableScheduleOrder,showStoreRegistrationNumber:null===te||void 0===te||null===(g=te.web)||void 0===g||null===(T=g.orderPages)||void 0===T?void 0:T.showStoreRegistrationNumber,showStoreOrderNumber:null===te||void 0===te||null===(E=te.web)||void 0===E||null===(C=E.orderPages)||void 0===C?void 0:C.showStoreOrderNumber,showOrderDateTime:null===te||void 0===te||null===(k=te.web)||void 0===k||null===(P=k.orderPages)||void 0===P?void 0:P.showOrderDateTime,showOrderMode:null===te||void 0===te||null===(F=te.web)||void 0===F||null===(M=F.orderPages)||void 0===M?void 0:M.showOrderMode,showOrderStatus:null===te||void 0===te||null===(N=te.web)||void 0===N||null===(x=N.orderPages)||void 0===x?void 0:x.showOrderStatus,showPickupOrDeliveryTime:null===te||void 0===te||null===(_=te.web)||void 0===_||null===(L=_.orderPages)||void 0===L?void 0:L.showPickupOrDeliveryTime})},m=e=>{const{cartReducer:t,updateSetOrderHistoryDetails:o}=e,{cartData:r}=t;o({cartDataService:null===r||void 0===r?void 0:r.service})},h=e=>{const{appStateReducer:t,updateSetOrderHistoryDetails:o}=e;o({userStatus:null===t||void 0===t?void 0:t.userStatus})},y=e=>{const{paymentsContentReducer:t,updateSetOrderHistoryDetails:o}=e;o({paymentsContentReducer:t})},D=e=>{var t,o,r;const{orderHistoryReducer:d,orderHistoryDetails:i,updateSetOrderHistoryDetails:l,tenantReducer:a}=e;l({selectedOrderId:"",orderHistory:null!==d&&void 0!==d&&d.orderHistory&&Array.isArray(null===d||void 0===d?void 0:d.orderHistory)&&(null===d||void 0===d||null===(t=d.orderHistory)||void 0===t?void 0:t.length)>0?null===d||void 0===d||null===(o=d.orderHistory)||void 0===o||null===(r=o.sort(((e,t)=>(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch))))||void 0===r?void 0:r.map((t=>{var o;const r=Object(n.j)({postOrPastOrderDetails:{...t,customer:null===i||void 0===i?void 0:i.customer,phoneNum:null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber},orderDetails:i,paymentsContentReducer:null===i||void 0===i?void 0:i.paymentsContentReducer,tenantReducer:a});return r.enableGlobalOrderTracking=null===i||void 0===i?void 0:i.enableGlobalOrderTracking,r.enableRetryCountForPickupOrderTracking=null===i||void 0===i?void 0:i.enableRetryCountForPickupOrderTracking,(e=>{const{profileReducer:t,orderDetails:o}=e,{favouriteOrders:r}=t;if(Object(s.ge)(o)&&(null===r||void 0===r?void 0:r.length)>0){const e=null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.orderId)));Object(s.ge)(e)&&(o.isOrderSavedAsFavorite=!0,o.favoriteOrderName=null===e||void 0===e?void 0:e.name)}return o})({orderDetails:r,...e})})):[]})},j=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:o}=e,{orderHistory:r}=t;o({currentOrderHistory:null===r||void 0===r?void 0:r.filter((e=>!Object(a.bb)(e)&&!Object(a.ab)(e))),completedOrderHistory:null===r||void 0===r?void 0:r.filter((e=>Object(a.bb)(e)||Object(a.ab)(e)))})},f=e=>{const{orderReducer:t,orderHistoryDetails:o,updateSetOrderHistoryDetails:r,tenantReducer:d}=e;r({orderDetails:Object(n.j)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:o,paymentsContentReducer:null===o||void 0===o?void 0:o.paymentsContentReducer,tenantReducer:d})})},R=e=>{const{orderDetails:t,orderHistoryDetails:o,redirectTo:r}=e,{props:d}=o;(null===t||void 0===t?void 0:t.orderId)&&Object(c.r)({trackDetails:o,orderDetails:t,redirectTo:r,props:d})},w=e=>{var t,o,d,i;const{orderHistoryDetails:n,orderDetails:c,tenantReducer:v}=e,{orderDateOn:O,displayTodayDate:p,displayFormatOrderTime:b,service:m,statusUpdatedDate:h,showOrderingTime:y}=c,{showOrderDateTime:D}=n,j=D?y:b,f=null===O||void 0===O?void 0:O.split(" "),R=!!(null===v||void 0===v||null===(t=v.componentOptions)||void 0===t||null===(o=t.orderHistory)||void 0===o?void 0:o.showGiftCardRefundStatus)&&Object(a.Y)(null===c||void 0===c?void 0:c.postOrderDetails),w=Object(s.Ad)(m)?Object(a.A)(c):Object(a.u)(c),{isMobileView:I}=n;var S,H;if(Object(a.Z)(c))return"".concat(Object(r.translateWithI18Next)(Object(a.kb)(c)||Object(a.jb)(c)?R?null===l.a||void 0===l.a?void 0:l.a.GIFT_CARD_PROVIDED:null===l.a||void 0===l.a?void 0:l.a.REFUNDED:null===l.a||void 0===l.a?void 0:l.a.CANCELED),": ").concat(Object(r.translateWithI18Next)(null===f||void 0===f?void 0:f[0])+" "+(null!==(S=null===f||void 0===f?void 0:f[1])&&void 0!==S?S:"")+" "+(null!==(H=null===f||void 0===f?void 0:f[2])&&void 0!==H?H:"")+" "+j);if(!w&&Object(u.J)(h)&&O===p){var g,T;let e="".concat(Object(r.translateWithI18Next)(null===f||void 0===f?void 0:f[0])+" "+(null!==(g=null===f||void 0===f?void 0:f[1])&&void 0!==g?g:"")+" "+(null!==(T=null===f||void 0===f?void 0:f[2])&&void 0!==T?T:"")," ").concat(Object(r.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.AT)," ");return O===p&&(e=Object(r.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.SCHEDULE)+" ".concat(Object(r.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.FOR)," ")+Object(r.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.TODAY_AT)),"".concat(e," ").concat(j)}return"".concat(Object(r.translateWithI18Next)(null===f||void 0===f?void 0:f[0])+" "+(null!==(d=null===f||void 0===f?void 0:f[1])&&void 0!==d?d:"")+" "+(null!==(i=null===f||void 0===f?void 0:f[2])&&void 0!==i?i:"")," ").concat(I?" "+j:Object(r.translateWithI18Next)(null===l.a||void 0===l.a?void 0:l.a.AT)+" "+j)},I=e=>{const{contentReducer:t,updateSetOrderHistoryDetails:o}=e;o({StoreRegistrationNumber:Object(s.Nc)(t),...Object(s.Mc)(t)})}},831:function(e,t,o){"use strict";o.r(t);var r=o(3),d=o(25),i=o(102),l=o(268),n=o(171),a=o(76),u=o(0),s=o(5),c=o(1068),v=o(939),O=o(2);t.default=e=>{var t,o,p;const b=Object(d.b)(),{userOrderState:m,userOrderStateDispatch:h}=Object(r.useContext)(a.a),{tenantReducer:y,orderHistoryReducer:D,orderReducer:j,profileReducer:f,cartReducer:R,paymentsContentReducer:w,appStateReducer:I,contentReducer:S}=Object(d.c)((e=>e)),{flatResponse:{productMapById:H={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[g,T]=Object(r.useState)(c.a),[E,C]=Object(r.useState)({height:0,width:0}),{ORDER_HISTORY_ITEM:k}=u.Oc,{ITEM_IMAGE_HEIGHT_MOBILE:P,ITEM_IMAGE_WIDTH_MOBILE:F,ITEM_WIDTH_DESK_PRCNT:M}=k,N=Object(r.useCallback)((e=>{T&&T((t=>({...t,...e})))}),[]),x=()=>{const e=Object(s.Ud)(window.innerWidth);N({isMobileView:e});const t=Object(s.Tc)(e,{height:P,width:F},{height:Object(s.vc)(window.innerWidth,M),width:Object(s.vc)(window.innerWidth,M)});C(t)};return Object(r.useEffect)((()=>(window.scrollTo(0,0),window.addEventListener(u.we,x),x(),()=>{b(Object(l.f)()),localStorage.removeItem(null===u.gd||void 0===u.gd?void 0:u.gd.LOAD_MORE_ORDER_HISTORY)})),[]),Object(r.useEffect)((()=>{Object(v.f)(b)}),[b]),Object(r.useEffect)((()=>{var t;null!==y&&void 0!==y&&y.tenantId&&null!==f&&void 0!==f&&f.customerId&&Object(c.m)({props:e,dispatch:b,tenantReducer:y,profileReducer:f,updateSetOrderHistoryDetails:N,openReorderModal:null===m||void 0===m||null===(t=m.reorderFlag)||void 0===t?void 0:t.reorderModalOpen,userOrderStateDispatch:h})}),[null===y||void 0===y?void 0:y.tenantId,null===f||void 0===f?void 0:f.customerId,null===m||void 0===m||null===(o=m.reorderFlag)||void 0===o?void 0:o.reorderModalOpen,y]),Object(r.useEffect)((()=>{null!==I&&void 0!==I&&I.userStatus&&Object(c.f)({appStateReducer:I,updateSetOrderHistoryDetails:N})}),[null===I||void 0===I?void 0:I.userStatus]),Object(r.useEffect)((()=>{w&&Object(c.l)({paymentsContentReducer:w,updateSetOrderHistoryDetails:N})}),[w]),Object(r.useEffect)((()=>{var e;null!==R&&void 0!==R&&R.cartData&&null!==R&&void 0!==R&&null!==(e=R.cartData)&&void 0!==e&&e.id&&Object(c.g)({cartReducer:R,updateSetOrderHistoryDetails:N})}),[null===R||void 0===R?void 0:R.cartData]),Object(r.useEffect)((()=>{(null===g||void 0===g?void 0:g.tenantId)&&Object(c.b)(g)}),[null===g||void 0===g?void 0:g.tenantId]),Object(r.useEffect)((()=>{(null===D||void 0===D?void 0:D.orderHistory)&&(null===f||void 0===f?void 0:f.customerId)&&(null===g||void 0===g||!g.showFavoriteModal)&&Object(c.j)({orderHistoryReducer:D,orderHistoryDetails:g,profileReducer:f,updateSetOrderHistoryDetails:N,tenantReducer:y})}),[null===D||void 0===D?void 0:D.orderHistory,null===f||void 0===f?void 0:f.favouriteOrders]),Object(r.useEffect)((()=>{N({orderHistoryLoading:null===D||void 0===D?void 0:D.orderHistoryLoading})}),[null===D||void 0===D?void 0:D.orderHistoryLoading]),Object(r.useEffect)((()=>{Object(s.ge)(null===j||void 0===j?void 0:j.response)&&Object(c.k)({orderReducer:j,orderHistoryDetails:g,updateSetOrderHistoryDetails:N,tenantReducer:y})}),[null===j||void 0===j?void 0:j.response]),Object(r.useEffect)((()=>{var e;(null===g||void 0===g||null===(e=g.orderHistory)||void 0===e?void 0:e.length)>0&&Object(c.i)({orderHistoryDetails:g,updateSetOrderHistoryDetails:N})}),[null===g||void 0===g?void 0:g.orderHistory]),Object(r.useEffect)((()=>{null!==g&&void 0!==g&&g.selectedOrderId?Object(c.d)(g):b(Object(i.e)())}),[null===g||void 0===g?void 0:g.selectedOrderId]),Object(r.useEffect)((()=>{var e,t;(null===g||void 0===g||null===(e=g.completedOrderHistory)||void 0===e?void 0:e.length)>0&&N({totalNumOfPages:Math.ceil((null===g||void 0===g||null===(t=g.completedOrderHistory)||void 0===t?void 0:t.length)/(null===g||void 0===g?void 0:g.displayNumOfRecords))})}),[null===g||void 0===g?void 0:g.completedOrderHistory]),Object(r.useEffect)((()=>{Object(c.h)({contentReducer:S,updateSetOrderHistoryDetails:N})}),[null===S||void 0===S||null===(p=S.response)||void 0===p?void 0:p.homeContentfulResp]),Object(s.Tc)(E.height,(_={orderHistoryDetails:g,updateSetOrderHistoryDetails:N,imageOrderContainerSize:E,userParams:null===I||void 0===I?void 0:I.userStatus,tenantReducer:y,contentReducer:S,productMapById:H},Object(O.jsx)(n.a,{..._,testId:"order_history_view",importPath:"ORDER_HISTORY_VIEW"})),Object(O.jsx)(O.Fragment,{}));var _}}}]);