(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[49,30,103,108],{1005:function(e,t,o){"use strict";var i=o(24),a=o(50),n=o(174),l=o.n(n),d=o(3),r=o.n(d),s=o(191),c=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],v=r.a.forwardRef((function(e,t){var o=e.bsPrefix,n=e.className,d=e.noGutters,v=e.as,m=void 0===v?"div":v,b=Object(a.a)(e,c),O=Object(s.a)(o,"row"),j=O+"-cols",p=[];return u.forEach((function(e){var t,o=b[e];delete b[e];var i="xs"!==e?"-"+e:"";null!=(t=null!=o&&"object"===typeof o?o.cols:o)&&p.push(""+j+i+"-"+t)})),r.a.createElement(m,Object(i.a)({ref:t},b,{className:l.a.apply(void 0,[n,O,d&&"no-gutters"].concat(p))}))}));v.displayName="Row",v.defaultProps={noGutters:!1},t.a=v},1014:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return l}));var i=o(19),a=o(5);const n=e=>{var t,o,i,a;const{DesktopImage:n,button:l,email:d="",headline:r="",subHeadline:s="",mobileImage:c,subHeadline2:u="",icon:v}=e,{url:m=""}=n&&n.fields&&n.fields.file,{url:b=""}=c&&c.fields&&c.fields.file,{buttonText:O="",name:j="",url:p=""}=l&&(null===l||void 0===l?void 0:l.fields)||{};return{desktopSrc:m,mobileSrc:b,email:d,headline:r,subHeadline:s,buttonText:O,buttonItem:j,buttonUrl:p,subHeadline2:u,stripesIcon:null===v||void 0===v||null===(t=v.fields)||void 0===t||null===(o=t.desktopImage)||void 0===o||null===(i=o.fields)||void 0===i||null===(a=i.file)||void 0===a?void 0:a.url}},l=async e=>{const t=[];t.push(e),await i.a.registerEvent(void 0,{data:t[0]},a.xb)}},1017:function(e,t,o){"use strict";var i=o(24),a=o(50),n=o(174),l=o.n(n),d=o(3),r=o.n(d),s=o(191),c=["bsPrefix","className","as"],u=["xl","lg","md","sm","xs"],v=r.a.forwardRef((function(e,t){var o=e.bsPrefix,n=e.className,d=e.as,v=void 0===d?"div":d,m=Object(a.a)(e,c),b=Object(s.a)(o,"col"),O=[],j=[];return u.forEach((function(e){var t,o,i,a=m[e];if(delete m[e],"object"===typeof a&&null!=a){var n=a.span;t=void 0===n||n,o=a.offset,i=a.order}else t=a;var l="xs"!==e?"-"+e:"";t&&O.push(!0===t?""+b+l:""+b+l+"-"+t),null!=i&&j.push("order"+l+"-"+i),null!=o&&j.push("offset"+l+"-"+o)})),O.length||O.push(b),r.a.createElement(v,Object(i.a)({},m,{ref:t,className:l.a.apply(void 0,[n].concat(O,j))}))}));v.displayName="Col",t.a=v},1053:function(e,t,o){var i=o(510);e.exports=function(e,t){var o=[];return i(e,(function(e,i,a){t(e,i,a)&&o.push(e)})),o}},1062:function(e,t,o){var i={"./LoyaltyCrmItems":[819,34],"./LoyaltyCrmItems.js":[819,34],"./SignMeUPBannerContainer":[821,13],"./SignMeUPBannerContainer.js":[821,13]};function a(e){if(!o.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return o.e(t[1]).then((function(){return o(a)}))}a.keys=function(){return Object.keys(i)},a.id=1062,e.exports=a},1072:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var i=o(3),a=o(1014),n=o(0),l=o(2);const d=e=>{const{contentData:t}=e,d=t&&Object(a.a)(t),r=Object(i.lazy)((()=>o(1062)("./"+n.Re)));return Object(l.jsxs)(i.Suspense,{fallback:Object(l.jsx)("div",{children:"Loding..."}),children:[" ",Object(l.jsx)(r,{contentData:d,customTag:e.customTag})," "]})}},1100:function(e,t,o){var i=o(518),a=o(1053),n=o(270),l=o(98);e.exports=function(e,t){return(l(e)?i:a)(e,n(t,3))}},1129:function(e,t,o){"use strict";var i=o(24),a=o(50),n=o(174),l=o.n(n),d=o(3),r=o.n(d),s=o(191),c=["bsPrefix","fluid","as","className"],u=r.a.forwardRef((function(e,t){var o=e.bsPrefix,n=e.fluid,d=e.as,u=void 0===d?"div":d,v=e.className,m=Object(a.a)(e,c),b=Object(s.a)(o,"container"),O="string"===typeof n?"-"+n:"-fluid";return r.a.createElement(u,Object(i.a)({ref:t},m,{className:l()(v,n?""+b+O:b)}))}));u.displayName="Container",u.defaultProps={fluid:!1},t.a=u},812:function(e,t,o){"use strict";o.r(t),o.d(t,"removeCouponHandler",(function(){return u})),o.d(t,"quantityModifierOnClickHandler",(function(){return v}));var i=o(3),a=o(317),n=o(25),l=o(54),d=o(918),r=o(6),s=o(4),c=o(2);const u=e=>{let{setCartItem:t,item:o,setCouponModal:i,setQuantityActionData:a,quantityAction:n}=e;i(!0),t(o),a(n)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:o,item:i,setCouponModal:a,setQuantityActionData:n,quantityAction:l,event:d,updateItemQuantity:r}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:o,item:i,setCouponModal:a,setQuantityActionData:n,quantityAction:l}):r(i,l,d)};t.default=e=>{var t,o;const{itemQuantity:u,itemCount:m,updateItemQuantity:b,quantityAction:O,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:I,hideChild:g=!1,type:f="",paymentDiscountAmounts:S=[],removeSingleItem:N=!1}=e,{QUANTITY_INCREASE_DECREASE:C}=l.a;var T="".concat(Object(r.translateWithI18Next)(s.a.DECREASE_QUANTITY_BY)," ").concat(p),E="".concat(Object(r.translateWithI18Next)(s.a.INCREASE_QUANTITY_BY),"  ").concat(p);const y=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[x,D]=Object(i.useState)(!1),[A,_]=Object(i.useState)({}),[R,w]=Object(i.useState)(""),P=Object(n.c)((e=>{var t,o,i,a,n,l;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(o=e.cartReducer)||void 0===o?void 0:o.isUpdateQuantityLoading)||(null===(i=e.cartReducer)||void 0===i?void 0:i.isValidateBasketLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isCreateOrderLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isPlaceOrder)}));return Object(c.jsxs)("div",{className:"cart-food-quantity-change",children:[!N&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(c.jsx)(a.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!g&&Object(c.jsx)("span",{children:"-"})}):Object(c.jsx)(a.a,{className:"button quantity-decrease",ariaLable:T,disabled:y||P,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:_,item:j,setCouponModal:D,setQuantityActionData:w,quantityAction:O.Decrease,event:e,updateItemQuantity:b}),"data-testid":"quantity-minus",type:f,children:!g&&Object(c.jsx)("span",{children:"-"})}),Object(c.jsx)("span",{className:"cart-food-quantity",children:m}),Object(c.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(c.jsx)(a.a,{className:".transparent-btn button quantity-increase",ariaLable:E,"data-testid":"quantity-plus",type:f,onClickHandler:e=>v({paymentDiscountAmounts:S,setCartItem:_,item:j,setCouponModal:D,setQuantityActionData:w,quantityAction:O.Increase,event:e,updateItemQuantity:b}),disabled:!!(0!==I&&h+m>I||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(o=t[0])&&void 0!==o&&o.isDiscounteditem)||(y||P),children:!g&&Object(c.jsx)("span",{children:"+"})}),x&&Object(c.jsx)(d.a,{cartItem:A,setCouponModal:D,quantityAction:R,updateItemQuantity:b,flag:C})]})}},813:function(e,t,o){"use strict";o.r(t),o.d(t,"ScheduleOrder",(function(){return m}));var i=o(3),a=o.n(i),n=o(936),l=o(121),d=o(2);var r=e=>{const{handleClose:t,ScheduleOrderForm:o,headerText:i,modalTitleId:n="",handleGoBack:r}=e;return Object(d.jsx)(a.a.Fragment,{children:Object(d.jsx)(l.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:r,children:o})})},s=o(76),c=o(14),u=o(6),v=o(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:o,userOrderStateDispatch:a}=Object(i.useContext)(s.a),{SEARCH_ORDER_DATA:l,SCHEDULE_ORDER_DATA:m}=c.a,{scheduleOrderData:b}=o,{changeFlow:O=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),a({type:m,value:{selectedStoreInfo:o.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),a({type:l,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(n.a,{onStoreSelectFinish:t});return Object(d.jsx)(r,{handleGoBack:()=>{a({type:l,value:{showSearchStore:!0}}),a({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:O?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},883:function(e,t,o){"use strict";o.r(t);var i=o(3),a=o.n(i),n=o(25),l=o(37),d=o.n(l),r=o(931),s=o.n(r),c=o(17),u=o(113),v=o(22),m=o(348),b=o(61),O=o(318),j=o(63),p=o(5),h=o(908),I=o(0),g=o(1072),f=o(62),S=o(15),N=o(2);const C=(e,t)=>{var o;const{RedMarker:l}=S.a;let d,r=a.a.createRef();const s=Object(n.b)();return Object(i.useEffect)((()=>()=>{s(Object(j.r)())}),[]),Object(i.useEffect)((()=>{var o,i;const a={lat:null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.latitude,lng:null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.longitude};d=(e=>{const o=window.google&&new window.google.maps.Map(r.current,{zoom:10,center:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!t,gestureHandling:"greedy"});return new window.google.maps.Marker({position:e,map:o,visible:!0,icon:l}),o})(a)}),[null===(o=window)||void 0===o?void 0:o.google]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{id:"google-map",className:"rest-map-view",ref:r})})};var T=a.a.memo(C),E=o(43),y=o(96),x=o(76),D=o(1129),A=o(1005),_=o(1017),R=o(36),w=o(921),P=o(14),L=o(136),M=o(6),k=o(4),F=o(1019),U=o(981),H=o(943);const{AMENITIES:W,CLOSED_BTN_TEXT:B,GET_DIRECTION:Y,TRADING_HRS:G,DELIVERY_HRS:z,KFC_WEB_APP:V,RDP_NO_DELIVERY:q,DELIVERY:Q,HOURS:K,CLOSED:J}=k.a,X=(e,t,o,i)=>(null===e||void 0===e?void 0:e.length)>0?Object(N.jsx)("div",{className:"rdp-accordian-container",children:Object(N.jsx)(L.a,{header:t,onClickHandler:o,children:e.map(((e,t)=>i(e)))})}):"",Z=(e,t,o,i,a)=>e.rdpDeliveryBlk&&t&&Object(N.jsxs)("div",{className:"delivery-blk",children:[Object(N.jsx)("h2",{className:"delivery-title",children:Object(M.translateWithI18Next)(Q)}),Object(N.jsx)("div",{className:"separator"}),o&&!o.length&&Object(N.jsx)("div",{className:"delivery-not-available",children:Object(M.translateWithI18Next)(q)}),o&&o.map((e=>(null===e||void 0===e?void 0:e.channelName)===I.qb.VIEWPORT_AGENT_BROWSER?Object(N.jsxs)(y.b,{to:"/",className:"kfc-lockup",children:[Object(N.jsx)(E.a,{srcFile:i?null===e||void 0===e?void 0:e.mobileImage:null===e||void 0===e?void 0:e.desktopImage,alt:null===e||void 0===e?void 0:e.channelName,className:"KFCbucket"}),Object(N.jsx)("div",{className:"kfc-lockup-cnt",children:Object(M.translateWithI18Next)(V)})]}):null)),Object(N.jsx)("div",{className:"aggregator-logo-wrap",children:o&&o.map((e=>(null===e||void 0===e?void 0:e.channelName)!==I.qb.VIEWPORT_AGENT_BROWSER?Object(N.jsxs)("a",{href:null===e||void 0===e?void 0:e.linkUrl,target:"_blank",rel:"noreferrer noopener",className:"aggregator-logo ".concat(null!==e&&void 0!==e&&e.linkUrl?"haslink":"nolink"),children:[Object(N.jsx)("div",{className:"aggregator-logo-img",children:Object(N.jsx)(E.a,{srcFile:i?null===e||void 0===e?void 0:e.mobileImage:null===e||void 0===e?void 0:e.desktopImage,alt:null===e||void 0===e?void 0:e.channelName})}),Object(N.jsxs)("div",{className:"aggregator-url",children:[null===e||void 0===e?void 0:e.channelName,Object(N.jsx)(E.a,{srcFile:a,alt:"External url",className:""})]})]}):null))})]}),$=e=>{var t,o,a,l,d,r,s,u,v,m,j,h,g,f,C,T,y,L,k,B,V,q;const{StripsIcon:Q,FavoriteFillImage:$,FavoriteUnfillImage:ee,phoneImg:te,External_url:oe,Direction:ie}=S.a,{loggedIn:ae,restarantDetails:ne,restrauntContentful:le,isMobile:de,storeNumberFormat:re}=e,{favouriteStores:se}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),ce=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),{userOrderState:ue,userOrderStateDispatch:ve}=Object(i.useContext)(x.a),me=Object(b.g)(),be=null===se||void 0===se?void 0:se.map((e=>{var t;return null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id})),Oe=null!==be&&void 0!==be&&be.includes(null===ne||void 0===ne?void 0:ne.id)?{...ne,isFavoriteStore:!0}:ne;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const je=Object(n.c)((e=>e.tenantReducer)),pe=Object(H.a)(ue),he=null===je||void 0===je?void 0:je.enableDeliveryMenuOption,Ie=null===je||void 0===je||null===(t=je.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(a=o.dispositionConfig)||void 0===a?void 0:a.enableClickCollectScheduleOrder,ge=null===je||void 0===je?void 0:je.isViewMenuDisabled,fe=null===je||void 0===je||null===(l=je.componentOptions)||void 0===l||null===(d=l.web)||void 0===d||null===(r=d.dispositionConfig)||void 0===r?void 0:r.enableScheduleOrder,Se=null===je||void 0===je||null===(s=je.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.dispositionConfig)||void 0===v?void 0:v.showOutboundInRDP,Ne=null===je||void 0===je||null===(m=je.componentOptions)||void 0===m||null===(j=m.web)||void 0===j||null===(h=j.scheduledDelivery)||void 0===h?void 0:h.allowScheduleOrderForDispositions,Ce=null===je||void 0===je||null===(g=je.componentOptions)||void 0===g||null===(f=g.web)||void 0===f||null===(C=f.restaurantDetailPage)||void 0===C?void 0:C.favStoreToastMsg,Te=Ie&&(null===Ne||void 0===Ne?void 0:Ne.includes(null===pe||void 0===pe||null===(T=pe.type)||void 0===T?void 0:T.toLowerCase())),Ee=(ye=Te,fe||ye);var ye;let xe=Oe&&Object.keys(Oe).length&&Object(O.w)(Oe,!0);const De=Oe&&Object.keys(Oe).length&&Object(O.t)(null===le||void 0===le||null===(y=le.details)||void 0===y||null===(L=y.fields)||void 0===L?void 0:L.icons,null===Oe||void 0===Oe?void 0:Oe.availableServicesPerChannel),Ae=Oe&&Object.keys(Oe).length&&Object(O.h)(null===Oe||void 0===Oe?void 0:Oe.availableCollectionPoints),_e=Object(n.b)(),{customerId:Re}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{tenantId:we,componentOptions:{web:{rdpPage:Pe}},savedAddressPage:Le}=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Me=e=>{const t=e.target.parentElement.parentElement.parentElement;t.classList.contains("rdp-accordian-open")?t.classList.remove("rdp-accordian-open"):t.classList.add("rdp-accordian-open")},ke={storeData:Oe,enableClickCollectScheduleOrderFlag:Te,enableScheduleOrder:fe,userOrderStateDispatch:ve,goToMenuObj:{history:me,dispatch:_e,tenantId:we,userParams:ce},userOrderState:ue,enableScheduleOrderFlag:Ee},Fe=e=>Object(N.jsx)("div",{className:"hours-view",children:Object(N.jsxs)("div",{className:"hours-text",children:[Object(N.jsx)("span",{className:"day-details",children:Object(F.b)(e)}),Object(N.jsx)("span",{className:"time-details",children:Object(N.jsx)("p",{children:Object(F.a)(e)})})]})},null===e||void 0===e?void 0:e.day);return Object(N.jsxs)(D.a,{className:"retaurant-view-container",children:[Object(N.jsx)("div",{className:"strips-Icon",children:Object(N.jsx)(E.a,{srcFile:Q,alt:"stripsIcon"})}),Object(N.jsx)("div",{className:"fav-icon",children:ae&&Object(N.jsx)(E.a,{"data-testid":"favorite-img",srcFile:Object(p.Tc)(null===Oe||void 0===Oe?void 0:Oe.isFavoriteStore,$,ee),alt:"favorite",className:"favorite-img",onClick:()=>null!==Oe&&void 0!==Oe&&Oe.isFavoriteStore?Object(O.L)(Oe,_e,we,Re,Ce):Object(O.a)(Oe,_e,we,Re,Ce)})}),Object(N.jsxs)(A.a,{className:"restraunt-detail-wrapper",children:[Pe.rdpAddress&&Object(N.jsxs)(_.a,{md:"5",className:"restraunt-detail-addr",children:[Object(N.jsx)("h1",{className:"store-name-rdp",children:null===Oe||void 0===Oe||null===(k=Oe.name)||void 0===k||null===(B=k[0])||void 0===B?void 0:B.value}),Object(N.jsx)("div",{className:"store-address",children:Object(p.Wb)(null===Oe||void 0===Oe?void 0:Oe.addresses,Le.showStateCityAddAddress)}),Object(N.jsx)("div",{className:"store-channel-details",children:Object(O.v)(Oe,Ae)}),Object(N.jsxs)("div",{className:"store-contact-wrapper",children:[Object(O.d)(Oe)&&Object(N.jsxs)("div",{className:"mt15 store-contact",children:[Object(N.jsx)("span",{className:"contact-icon",children:Object(N.jsx)(E.a,{srcFile:te,alt:"\u2121"})}),Object(N.jsx)("a",{"data-testid":"store-number",href:"".concat(c.d.tel).concat(Object(O.d)(Oe)),className:"contact-info ml-2",children:Object(O.n)(Object(O.d)(Oe),re)})]}),Object(N.jsx)("a",{href:Object(p.Cb)(null===xe||void 0===xe?void 0:xe.storeAddress),target:"_blank",rel:"noreferrer noopener",children:Object(N.jsxs)("span",{className:"kfcdirection",children:[Object(N.jsx)("img",{src:ie,alt:"direction",className:"KfcDirectionIcon"}),Object(N.jsx)("span",{children:Object(M.translateWithI18Next)(Y)})]})})]}),(!ge||(null===xe||void 0===xe?void 0:xe.storeOpen))&&Object(p.l)(null===Oe||void 0===Oe?void 0:Oe.summary,Object(N.jsx)(R.c,{"data-testid":"start-order",variant:Object(p.Tc)(null===xe||void 0===xe?void 0:xe.storeOpen,R.b.primary,R.b.tertiary),onClickHandler:e=>null!==xe&&void 0!==xe&&xe.storeOpen?(e=>{var t,o;const{storeData:i,enableClickCollectScheduleOrderFlag:a,enableScheduleOrder:n,userOrderStateDispatch:l,goToMenuObj:d,userOrderState:r,enableScheduleOrderFlag:s}=e,c=(null===i||void 0===i||null===(t=i.summary)||void 0===t||null===(o=t.status)||void 0===o?void 0:o.currentStatus)===I.Nd,u=Object(p.wd)(i);Object(U.c)(a,n,c,u)&&a?(l({type:P.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),l({type:P.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),l({type:P.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}}),Object(U.b)(l,d,r,i,s,a)):l({type:P.a.DISPOSITION_DATA,value:{showDisposition:!0}})})(ke):(Object(O.H)(ve,me,_e,{tenantId:we,userParams:ce,userOrderState:ue,store:Oe,enableDeliveryMenuOption:he}),ve({type:P.a.FAV_STORE_NOT_IN_RADIUS,value:{showNotInRadiusError:!1}}),void ve({type:P.a.ORDER_MODE_BROWSE_MENU_CLICK,value:{orderModeBrowseMenuBtnClicked:!0}})),children:Object(O.C)(!0,null===xe||void 0===xe?void 0:xe.storeOpen)}))]}),Object(N.jsxs)(_.a,{md:"7",className:"restraunt-detail-cnt",children:[Pe.rdpHrsblock&&Object(N.jsxs)("div",{className:"hour-blk-wrapper",children:[Object(N.jsxs)("div",{className:"hour-blk",children:[Object(N.jsx)("h2",{className:"hour-title",children:Object(M.translateWithI18Next)(K)}),Object(N.jsxs)("div",{className:"opening-hrs",children:[Object(p.l)(null===Oe||void 0===Oe?void 0:Oe.summary,Object(N.jsx)("span",{children:null===xe||void 0===xe?void 0:xe.storeTimeMessage})),Object(p.l)(!(null!==Oe&&void 0!==Oe&&Oe.summary),Object(N.jsx)("span",{class:"closed-text",children:Object(M.translateWithI18Next)(J)}))]})]}),Object(N.jsxs)("div",{className:"accordian-blk",children:[X(null===Oe||void 0===Oe?void 0:Oe.availableTradingHours,Object(M.translateWithI18Next)(G),Me,Fe),X(null===Oe||void 0===Oe?void 0:Oe.availableDeliveryHours,Object(M.translateWithI18Next)(z),Me,Fe)]})]}),!(null===Oe||void 0===Oe||null===(V=Oe.amenities)||void 0===V||!V.length)&&Pe.rdpAmenitiesBlk&&Object(N.jsxs)("div",{className:"amenities-blk",children:[Object(N.jsx)("h3",{className:"amenities-title",children:Object(M.translateWithI18Next)(W)}),Object(N.jsx)("div",{className:"separator"}),Object(N.jsx)("div",{className:"amenities-cnt",children:Object(N.jsx)("ul",{className:"amenities-list-wrapper",children:null===(q=Object(w.a)(Oe,"rdp"))||void 0===q?void 0:q.map((e=>Object(N.jsxs)("li",{className:"amenities-list",children:[Object(N.jsx)(E.a,{"data-testid":"",srcFile:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.label,className:"amenities-img",title:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.key),Object(p.Tc)(null===e||void 0===e?void 0:e.label,null===e||void 0===e?void 0:e.label,null===e||void 0===e?void 0:e.key)]})))})})]}),Z(Pe,Se,De,de,oe)]})]})]})};var ee=a.a.memo($);const te=()=>Object(N.jsxs)("div",{className:"restraunt-detail-wrapper row",children:[Object(N.jsx)("div",{className:"restraunt-detail-addr col-md-5 placeholder",children:Object(N.jsxs)("div",{className:"table retaurant-view-container container",children:[Object(N.jsx)("div",{className:"loading card-title shorter-s"}),Object(N.jsx)("div",{className:"loading card-title shorter-m"}),Object(N.jsx)("div",{className:"loading table-content"}),Object(N.jsx)("div",{className:"loading table-content"}),Object(N.jsx)("div",{className:"loading table-content"})]})}),Object(N.jsx)("div",{className:"restraunt-detail-cnt col-md-7 placeholder",children:Object(N.jsxs)("div",{className:"table retaurant-view-container container",children:[Object(N.jsx)("div",{className:"loading card-title shorter-s"}),Object(N.jsx)("div",{className:"loading card-title shorter-m"}),Object(N.jsx)("div",{className:"loading table-content"}),Object(N.jsx)("div",{className:"loading table-content"}),Object(N.jsx)("div",{className:"loading table-content"})]})})]});var oe=a.a.memo(te),ie=o(1100),ae=o.n(ie);const ne=()=>{var e,t,o,a,l,r;const S=Object(n.c)((e=>Object(p.kd)(e.storesReducer))),{selectedRestaurantDetailsDL:C,storeDetailsContentFull:E,selectedRestaurantDetailsDLError:y,isRestaurantDetailsLoading:x}=S,D=Object(n.c)((e=>({homePageContent:d()(e,"contentReducer.response",null)}))),{store_name:A="",post_code:_=""}=Object(b.i)(),[R,w]=Object(i.useState)(),[P,L]=Object(i.useState)(),[M,k]=Object(i.useState)(null),[F,U]=Object(i.useState)([]),[H,W]=Object(i.useState)(!1),[B,Y]=Object(i.useState)({}),G=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),z=null===G||void 0===G||null===(e=G.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(o=t.restaurantDetailPage)||void 0===o?void 0:o.storeNumberFormat,V=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,Q]=Object(i.useState)(Object(p.Ud)(window.innerWidth)),{tenantId:K,componentOptions:{web:{rdpPage:J}}}=G,X=Object(b.h)(),Z=Object(n.b)(),[$,te]=Object(i.useState)(null);Object(i.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{null!==D&&void 0!==D&&D.homePageContent&&te(Object(p.od)(Object(p.bc)(null===D||void 0===D?void 0:D.homePageContent)))}),[null===D||void 0===D?void 0:D.homePageContent]),Object(i.useEffect)((()=>{Z(Object(u.c)({object:Object(f.a)(),contentFull:{content_type:"landingPage","fields.channel":v.b.channel,include:"5"},userParams:V})),Z(Object(j.b)({object:Object(f.a)(),contentFull:{content_type:"aggregatorImage",include:"5"}}))}),[Z,K,null===X||void 0===X||null===(a=X.state)||void 0===a?void 0:a.storeId,V]),Object(i.useEffect)((()=>{Z(Object(j.j)({storeName:A,postCode:_,tenantId:K},(e=>{var t;const o={data:[{channel:v.b.channel,service:I.ee,storeId:(null===e||void 0===e?void 0:e.id)||(null===X||void 0===X||null===(t=X.state)||void 0===t?void 0:t.storeId)}],tenantId:K};Z(Object(j.d)(o,(e=>{U(e)})))})))}),[Z]),Object(i.useEffect)((()=>{var e,t;C&&Object.keys(C).length&&Y({service:null===(e=F[0])||void 0===e?void 0:e.service,summary:null===(t=F[0])||void 0===t?void 0:t.summary,...C})}),[C,F]),Object(i.useEffect)((()=>{const e=setInterval((()=>{window.google&&(W(!0),clearInterval(e))}),100)}),[W]),Object(i.useEffect)((()=>{var e,t,o,i,a;k(null===D||void 0===D||null===(e=D.homePageContent)||void 0===e||null===(t=e.seoStructureData)||void 0===t?void 0:t.seo);const n=Object(p.kd)(null===E||void 0===E||null===(o=E.details)||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.icons),l=Object(p.od)(s()(n,(e=>{var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.category)===I.qb.VIEWPORT_AGENT_BROWSER}))),{state:d,city:r,pinCode:u}=Object(p.kd)((null===B||void 0===B?void 0:B.addresses)&&(null===B||void 0===B||null===(a=B.addresses[0])||void 0===a?void 0:a.address)),v=Object(p.rf)(null===B||void 0===B?void 0:B.availableTradingHours),m=B&&Object.keys(B).length&&Object(O.h)(null===B||void 0===B?void 0:B.availableCollectionPoints,I.Je),b=Object(O.l)(null===B||void 0===B?void 0:B.availableServicesPerChannel);if(m&&b){var j,h,g,f,S,N,C,T,y,x,A,_;const e=[...m,...b],t={StoreName:Object(p.od)(null===B||void 0===B||null===(j=B.summary)||void 0===j?void 0:j.name),StoreOptions:null===(h=Object(O.v)(B,"",I.Je))||void 0===h||null===(g=h.orderTypes)||void 0===g?void 0:g.join(", "),StoreImage:"".concat(c.d.https).concat(null===l||void 0===l||null===(f=l.fields)||void 0===f||null===(S=f.desktopImage)||void 0===S||null===(N=S.fields)||void 0===N||null===(C=N.file)||void 0===C?void 0:C.url),StoreLat:null===(T=Object(p.od)(null===B||void 0===B||null===(y=B.location)||void 0===y?void 0:y.latitude))||void 0===T?void 0:T.toString(),StoreLong:null===(x=Object(p.od)(null===B||void 0===B||null===(A=B.location)||void 0===A?void 0:A.longitude))||void 0===x?void 0:x.toString(),StoreLocation:r,StoreAddress:Object(p.Wb)((null===B||void 0===B?void 0:B.addresses)&&(null===B||void 0===B?void 0:B.addresses)),StorePostcode:u,StoreRegion:d,StoreAmenities:Object(O.b)(e),StorePhone:null===(_=ae()(null===B||void 0===B?void 0:B.contacts,["key",I.Yd])[0])||void 0===_?void 0:_.value,...v};L(t),w(I.xe)}}),[M,B,null===D||void 0===D?void 0:D.homePageContent,null===E||void 0===E||null===(l=E.details)||void 0===l||null===(r=l.fields)||void 0===r?void 0:r.icons]);const ie=()=>{const e=Object(p.Ud)(window.innerWidth);Q(e)};return Object(i.useEffect)((()=>(window.addEventListener(I.we,ie),()=>{window.removeEventListener(I.we,ie)})),[q]),Object(p.Tc)(!y,Object(N.jsxs)(N.Fragment,{children:[Object(p.l)(P,Object(N.jsx)(h.a,{page:R,seoObj:P})),Object(p.l)(Object(p.Kd)(B),H,J.rdpMap,Object(N.jsx)(T,{isMobile:q,latLong:null===B||void 0===B?void 0:B.location})),Object(p.l)(x,Object(N.jsx)(oe,{})),Object(p.l)(Object(p.Kd)(B),Object(N.jsx)(ee,{loggedIn:null===V||void 0===V?void 0:V.loggedIn,isMobile:q,restarantDetails:B,restrauntContentful:E,storeNumberFormat:z})),!x&&Object(p.Kd)(B)&&Object(p.Kd)($)&&J.rdpLickinFingerBlk&&$.crmSignUp&&Object(N.jsx)(g.a,{customTag:"h3",contentData:Object(p.kd)($.crmSignUp)})||null]}),Object(N.jsx)(m.a,{}))};t.default=a.a.memo(ne)},899:function(e,t,o){"use strict";t.a={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1}},900:function(e,t,o){"use strict";o.d(t,"a",(function(){return l}));o(3);var i=o(968),a=o.n(i),n=(o(969),o(970),o(2));const l=e=>{const{settings:t,carousalRef:o}=e;return Object(n.jsx)(a.a,{...t,ref:o,children:e.children})};l.defaultProps={settings:null,carousalRef:null},t.b=l},903:function(e,t,o){"use strict";var i=o(812);o.d(t,"a",(function(){return i.default}))},905:function(e,t,o){"use strict";(function(e){o.d(t,"a",(function(){return i}));let i;(async()=>{i=await(async()=>{var t,i,a,n,l;const d=null===(t=e)||void 0===t||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===i?void 0:i.REACT_APP_TENANT_CODE,r=await Promise.resolve().then(o.bind(null,176));return null===r||void 0===r||null===(a=r.default)||void 0===a||null===(n=a[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,o(112))},907:function(e,t,o){"use strict";o.d(t,"g",(function(){return b})),o.d(t,"j",(function(){return O})),o.d(t,"l",(function(){return j})),o.d(t,"k",(function(){return p})),o.d(t,"b",(function(){return h})),o.d(t,"c",(function(){return I})),o.d(t,"n",(function(){return f})),o.d(t,"e",(function(){return S})),o.d(t,"d",(function(){return N})),o.d(t,"m",(function(){return C})),o.d(t,"f",(function(){return T})),o.d(t,"h",(function(){return E})),o.d(t,"i",(function(){return y})),o.d(t,"a",(function(){return x}));var i=o(19),a=o(5),n=o(9),l=o(123),d=o(6),r=o(327),s=o(320),c=o(18),u=o.n(c),v=o(0),m=o(2);const b=async(e,t)=>{var o;await i.a.registerEvent(null===n.a||void 0===n.a||null===(o=n.a.menuNavigation)||void 0===o?void 0:o.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},a.xb)},O=async(e,t)=>{const o=[];o.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:o[0]},a.xb)},j=async(e,t,o)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o]}),await i.a.registerEvent(e.eventType,{data:n[0]},a.xb)},p=async(e,t,o,n)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[o]:e.selectedData[o],[n]:e.selectedData[n]}),await i.a.registerEvent(void 0,{data:l[0]},a.xb)},h=(e,t)=>{const o=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===o||void 0===o?void 0:o.find((t=>{let{isHidden:o=!1,items:i}=t;return!o&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},I=(e,t,o,i,a,n)=>{var l;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.length)&&0===Object.keys(t).length?g(e.categories[0],o,i,a):Object.keys(t).length>0?g(t,o,i,a):g(e,o,i,a),d},g=(e,t,o,i)=>{var n;let l={},d=[];return d=null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.map((e=>(e.items.forEach(((e,n)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===s.o.PRICE_WITHOUT_TAX.toLowerCase())),r=Object(a.Dc)(d.value,i).toFixed(2);r=r?parseFloat(r):"NA",l={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:r,item_category:t,item_list_name:t,item_list_id:o,index:n,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),l))),d},f=async e=>{var t,o,l;await i.a.registerEvent(null===n.a||void 0===n.a||null===(t=n.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}},a.xb)},S=(e,t)=>{let o={},i=e.find((e=>{var o;return(null===e||void 0===e||null===(o=e.name)||void 0===o?void 0:o.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const a in e.categories)if(e.categories[a].id===t)return o=e.categories[a],!0;return!1}))),{selectedCategory:i,selectedSubcategory:o}},N=function(e,t,o,i){let a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const n=(r=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:o,categories:i}=e,a=!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase());return a||(a=i.find((e=>{let{url:t,isHidden:o}=e;return!o&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())}))),a})));var d,r,s;if(u()(n)){if(t&&(o("category"),i(!0)),!u()(e)){var c;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&l.scroller.scrollTo(null===t||void 0===t||null===(c=t.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:a?-140:-100})}}else l.scroller.scrollTo(null===n||void 0===n||null===(s=n.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:a?-150:-100});return!u()(n)},C=e=>null===e||void 0===e?void 0:e.isStoreClosed,T=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:o}=r.d;let i=Object(d.translateWithI18Next)(t),a=Object(d.translateWithI18Next)(o);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=a),{btnText:i}},E=(e,t)=>{0===e.length&&Object(a.Kb)(document.title,Object(d.translateWithI18Next)(s.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(s.s))},y=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let o=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;o.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),o},x=e=>{const{searchMode:t,filterList:o,dietaryList:i,products:a,viewUp:n,tenantData:l,getCardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:b}=e;return(t.isSearchedMode||[...o,...i].length)&&null!==a&&void 0!==a&&a.length?Object(m.jsx)("div",{className:n?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:a,cardType:n?"small":"medium",tenantData:l,cardCount:d,catalogs:r,storeClosedData:s,setShowTopScrollBtn:c,categoryId:b})}):t.isSearchedMode&&u()}},908:function(e,t,o){"use strict";o.d(t,"a",(function(){return m}));var i=o(3),a=o(25),n=o(139),l=o(175),d=o(18),r=o.n(d),s=o(214),c=o(0),u=o(2);const v=(e,t)=>{if(e&&t){const o={};e.replace(/%(.*?)%/g,((e,t)=>{o[e]=t})),Object.entries(o).forEach((o=>{const[i,a]=o,n=((e,t)=>{var o;return null!==(o=e[t])&&void 0!==o?o:"N/A"})(t,a);if("string"==typeof n){const t=new RegExp(i,"ig");e=e.replace(t,n)}else{let t=JSON.parse(e);for(let e in t)t[e]===i&&(t[e]=n);e=JSON.stringify(t)}}))}return e},m=e=>{let{page:t,seoObj:o,seoTemplate:d}=e;const[m,b]=Object(i.useState)(null),[O,j]=Object(i.useState)(""),{seoContent:p}=Object(a.c)((e=>{var t,o,i;return{seoContent:null!==(t=null===e||void 0===e||null===(o=e.contentReducer)||void 0===o||null===(i=o.response)||void 0===i?void 0:i.seoStructureData)&&void 0!==t?t:null}}));return Object(i.useEffect)((()=>{var e,i,a,n,u,m;const O={...o,PageURL:null!==(e=null===(i=window)||void 0===i||null===(a=i.location)||void 0===a?void 0:a.href)&&void 0!==e?e:"",HomeURL:null!==(n=null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.origin)&&void 0!==n?n:"/"};if(!r()(p)){var h,I;const e=null!==(h=null!==d&&void 0!==d?d:null===p||void 0===p||null===(I=p.seo)||void 0===I?void 0:I.find((e=>{var o;return(null===(o=e.fields)||void 0===o?void 0:o.title)===t})))&&void 0!==h?h:{},{fields:{templateData:o={},data:i={}}={}}=e,{template:a={}}=null!==p&&void 0!==p?p:{},n=Object(s.documentToHtmlString)(a);if(!r()(n)){let e=Object(l.a)(n.replace(/<p>|<\/p>/gi,""));e=v(e,o),e=v(e,O);const t=Object(l.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t;return!((null===e||void 0===e?void 0:e.type)===c.qf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children))})))}if(!r()(i)){let e=JSON.stringify(i);e=v(e,O),b(e)}}}),[t,p,o,d]),Object(u.jsxs)(n.a,{children:[O,Object(u.jsx)("script",{type:"application/ld+json",children:m})]})};m.defaultProps={page:"",seoTemplate:null,seoObj:null}},913:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"c",(function(){return r})),o.d(t,"e",(function(){return s})),o.d(t,"b",(function(){return c})),o.d(t,"d",(function(){return u}));var i=o(19),a=o(9),n=o(5),l=o(11);o(0);const d=async function(e,t,o,l){var d;let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await i.a.registerEvent(null===a.a||void 0===a.a||null===(d=a.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:r,value:o||"",coupon:l||""}}},n.xb)},r=e=>{i.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(l.O)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(l.O)(e.month),", ").concat(e.day)||"NA"},n.xb)},s=e=>{i.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},n.xb)},c=async e=>{await i.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},n.xb)},u=async e=>{await i.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},n.xb)}},918:function(e,t,o){"use strict";var i=o(92),a=o(84),n=o(4),l=o(54),d=o(6),r=o(3),s=o(76),c=o(39),u=o(110),v=o(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:o={},setConfirmationModel:m=null,itemRemoveHandler:b=null,isRemoveItemLoading:O=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:I="",updateItemQuantity:g=null,addtoCartClinckHandler:f=null,setAddToClickParms:S=null,addToClickParms:N={},selectedStoreData:C=null,clickHandler:T=null,title:E="",confirmButtonText:y="",removeCouponHandler:x=null,couponCode:D="",couponTitle:A="",itemRemoveWrapper:_=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:w=""}=e,{userOrderStateDispatch:P}=Object(r.useContext)(s.a),L=Object(u.a)(),{REMOVE_COUPON:M}=l.a,{CONTINUE:k,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:U,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:H,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:W}=n.a;return Object(v.jsx)(i.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(a.a,{title:h===M?E:Object(d.translateWithI18Next)(U),giftCardOrVoucherErrMsg:h===M?R:Object(d.translateWithI18Next)(W),giftCardErrFirstMsg:h===M?w:Object(d.translateWithI18Next)(H),altText:"",confirmButtonText:h===M?y:Object(d.translateWithI18Next)(k),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:i,itemRemoveHandler:a,isRemoveItemLoading:n,setCouponModal:d,setRemoveItem:r,flag:s,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:b,addToClickParms:O,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:I,couponCode:g,couponTitle:f,itemRemoveWrapper:S,userOrderStateDispatch:N,sliceDispatch:C}=e;const{EDIT_ITEM:T,REMOVE_ITEM:E,QUANTITY_INCREASE_DECREASE:y,STORE_DISPOSITION_UPDATE:x,REMOVE_COUPON:D}=l.a;if(d(!1),s===E&&S({isAddedPromosCoupon:t,item:o,setConfirmationModel:i,itemRemoveHandler:a,isRemoveItemLoading:n,setRemoveItem:r,sliceDispatch:C}),s===y&&(N({type:c.p,value:{couponErrorMessage:"REMOVE"}}),v(o,u,h)),s===T){const{event:e,data:t,miniPDPData:o,totalAmount:i,cartId:a,pdpDataForUpdateFoodLine:n,cartData:l}=O;m(e,t,o,a,i,n,l),b({}),d(!1)}s===x&&p(h,j),s===D&&I(g,f)})({isAddedPromosCoupon:t,cartItem:o,setConfirmationModel:m,itemRemoveHandler:b,isRemoveItemLoading:O,itemRemoveWrapper:_,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:I,updateItemQuantity:g,addtoCartClinckHandler:f,setAddToClickParms:S,addToClickParms:N,selectedStoreData:C,clickHandler:T,events:e,removeCouponHandler:x,couponCode:D,couponTitle:A,userOrderStateDispatch:P,sliceDispatch:L}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},926:function(e,t,o){"use strict";o.d(t,"a",(function(){return C}));var i=o(3),a=o(73),n=o.n(a),l=o(121),d=o(5),r=(o(0),o(903)),s=o(54),c=o(76),u=o(14),v=o(25),m=o(122),b=o(190),O=o(30),j=o(15),p=o(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:o,SetCustomizableFoodItemsList:a,calculateTotalAmountHandler:n,isEditSelection:l}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:I}=b.a,{userOrderState:g,userOrderStateDispatch:f}=Object(i.useContext)(c.a),{MINI_PDP_DATA:S,FROMFLAGEDIT:N,EDIT_CLICKED:C}=u.a,{QUANTITY_ACTION:T}=s.a,E=o[t],y=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[x,D]=Object(i.useState)(!1),{Single_Arrow_Edit:A}=j.a,_=(e,i)=>{E.quantity=i===T.Increase?(null===E||void 0===E?void 0:E.quantity)+1:(null===E||void 0===E?void 0:E.quantity)-1;const l=o;l[t]=E,a(l),n()};Object(i.useEffect)((()=>{var e;let t=!0;null===E||void 0===E||null===(e=E.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[E.modGrps]),Object(i.useEffect)((()=>{Object(d.oc)(y,E,g,x,h,O.v),D(!1)}),[y,x]);return Object(p.jsxs)(p.Fragment,{children:[l?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,o;f({type:S,value:{id:null===E||void 0===E||null===(e=E.foodItems)||void 0===e?void 0:e.id,flag:N,foodLineId:t}}),f({type:I}),f({type:C,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===E||void 0===E?void 0:E.tenantId,catalogName:null===E||void 0===E?void 0:E.catalog,itemId:null===E||void 0===E||null===(o=E.foodItems)||void 0===o?void 0:o.id})),D(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.pc)(E.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:A,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.pc)(E.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(r.a,{itemCount:null===E||void 0===E?void 0:E.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:_,quantityAction:T,maxItemCountPerLineItem:null===E||void 0===E?void 0:E.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},I={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var g=o(6);const f=e=>{const{addNewProductHandler:t,currencySymbol:o,updateCartHandler:i,customizableFoodItemsList:a,SetCustomizableFoodItemsList:n,totalAmount:l,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s,checkItemExpiry:c}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=I,m=Object.keys(a).length;return Object(p.jsxs)("div",{children:[Object.keys(a).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:a,SetCustomizableFoodItemsList:n,calculateTotalAmountHandler:d,isEditSelection:r,handleClose:s}))),r?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(g.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(g.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{c({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:i,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(g.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:o+l})]})})]})]})};var S=o(913),N=o(319);const C=e=>{var t;const{filteredPreviousData:o,tenantData:a,dname:r,cardId:s,categoryId:c,categoryName:u,categoryUrl:m,itemCount:b,availability:j,imageName:h,itemFoodlineId:I,customizable:g,isFavouriteMenu:C=!1,cartData:T,clickHandler:E,handleClose:y,foodId:x,isEditSelection:D,headerText:A,pricewithouttax:_}=e,R=Object(v.b)(),{discountTotal:w="",couponCode:P=""}=Object(d.vb)(T)||{},L=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=Object(d.gd)(null===L||void 0===L?void 0:L.localized,null===L||void 0===L?void 0:L.loggedIn),{flatResponse:{productMapById:k={}}={}}=null!==(t=Object(d.Lb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=a,[U,H]=Object(i.useState)({}),[W,B]=Object(i.useState)(0),{currencyConversionFactor:Y,currencySymbol:G,componentOptions:z}=a,{web:{global:{showPriceWithTax:V=!1}={}}={}}=null!==z&&void 0!==z?z:{},q={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:y,modalTitle:A},[Q,K]=Object(i.useState)(-1),[J,X]=Object(i.useState)([]),Z=()=>{K(-1),y&&y()},$=()=>{0===J.length&&0===Q?Z():J&&null!==J&&void 0!==J&&J.length&&Q<=J.length&&((()=>{var e,t,o,i;R(Object(O.x)({params:{basketId:null===T||void 0===T?void 0:T.id,basketLineItemId:null===(e=J[Q])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=J[Q])||void 0===t?void 0:t.quantity,isBundle:Object(N.e)((null===(o=J[Q])||void 0===o?void 0:o.foodItemId)||(null===(i=J[Q])||void 0===i?void 0:i.mdmId))}))})(),K(Q+1))};Object(i.useEffect)((()=>{$()}),[J]),Object(i.useEffect)((()=>{if(-1===Q){var e;const t={...U};null===T||void 0===T||null===(e=T.foodLines)||void 0===e||e.forEach((e=>{var o,i;if(null!==e&&void 0!==e&&null!==(o=e.item)&&void 0!==o&&o.customizable&&(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.id)===x){var n,l;const o=Object(d.Yc)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:o,displayName:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.displayName,modGrps:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps,maxItemCountPerLineItem:null===a||void 0===a?void 0:a.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===T||void 0===T?void 0:T.catalog,categorySelected:c}}})),H(t),K(0)}else Q===J.length?(Z(),R(Object(O.u)(new Date))):$()}),[null===T||void 0===T?void 0:T.foodLines]),Object(i.useEffect)((()=>{ee()}),[U]);const ee=()=>{let e=0;Object.values(U).forEach((t=>{const o=V?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*o})),B((e/Y).toFixed(2))},te=Object(p.jsx)(l.a,{...q,children:Object(p.jsx)(f,{...e,"data-testid":"ModalTemplate",filteredPreviousData:o,addNewProductHandler:e=>{const t={id:s,itemCount:b,product:{productName:r,productImage:h,productPrice:Object(d.zc)(j[0],_,Y,V)},itemFoodlineId:I},o={catId:c,catName:u,catUrl:m};C?E(e,t,g,o):(E(e,t,g,o),y&&y())},currencySymbol:G,currencyConversionFactor:Y,updateCartHandler:()=>{if(null!==T&&void 0!==T&&T.id&&F){var e,t;const o=Object.values(U),i=o.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(i);const n=null===o||void 0===o?void 0:o[0],{foodItems:l,unitPrice:r,quantity:s,previousQty:c}=null!==n&&void 0!==n?n:{},u=s-c;let v="".concat(Object(d.pc)(null===l||void 0===l?void 0:l.modGrps));const{categoryId:m="NA",categoryName:b="NA"}=null!==(e=null===k||void 0===k?void 0:k[null===l||void 0===l?void 0:l.id])&&void 0!==e?e:{};Object(S.a)({item_name:Object(d.jc)(null===l||void 0===l?void 0:l.name),item_id:Object(d.jc)(null===l||void 0===l?void 0:l.id),item_category:b,price:Object(d.jc)(r/Y),item_variant:Object(d.jc)(null===v||void 0===v?void 0:v.trim()),item_list_name:b,item_list_id:m,index:1,quantity:u,coupon:P,discount:w/Y,currency:null===a||void 0===a?void 0:a.currencyShortName},M,u*(null===d.jc||void 0===d.jc||null===(t=Object(d.jc)(r/Y))||void 0===t?void 0:t.toFixed(2)),P,null===a||void 0===a?void 0:a.currencyShortName)}},customizableFoodItemsList:U,SetCustomizableFoodItemsList:H,totalAmount:W,calculateTotalAmountHandler:ee,isEditSelection:D,handleClose:y})});return n.a.createPortal(te,document.getElementById("modal-popups"))}},933:function(e,t,o){"use strict";var i=o(3),a=o(25),n=o(61),l=o(938),d=o(900),r=o(122),s=o(14),c=o(328),u=o(76),v=o(963),m=o(30),b=o(5),O=o(322),j=o(0),p=o(54),h=o(320),I=o(18),g=o.n(I),f=o(319),S=o(2);const N={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},C=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),T=(e,t,o)=>{var i;return{foodName:null===t||void 0===t||null===(i=t.productName[0])||void 0===i?void 0:i.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:o}};t.a=Object(n.j)((e=>{var t,o;const{productList:n=[],cardType:j="",tenantData:I={},categoryId:E,categoryName:y,categoryUrl:x,catalogs:D,storeClosedData:A,setShowTopScrollBtn:_}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:w,PLP_PDP_DETAILS:P,MINI_PDP_DATA:L,FROMFLAGPLP:M}=s.a,{PlpProductCard:k={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=O.a,[U,H]=Object(i.useState)(1),W=Object(a.b)(),B=Object(a.c)((e=>e.cartReducer)),{flatResponse:{productMapById:Y={},categoryMapById:G={}}={}}=null!==(o=Object(a.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==o?o:{},{cartData:z={}}=Object(b.kd)(B),V=Object(a.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[q,Q]=Object(i.useState)(e.selectedCat),[K,J]=Object(i.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(i.useContext)(u.a),[$,ee]=Object(i.useState)(null),{showCartAlert:te}=Object(c.a)(void 0,void 0,void 0,void 0,Z,W,void 0);Object(i.useEffect)((()=>{J(!1)}));const{addToCartAnalyticsOnly:oe}=Object(c.a)({cartId:null===z||void 0===z?void 0:z.id},null===I||void 0===I?void 0:I.tenantId,void 0,Y,void 0,W,void 0),ie=(e,t,o,i)=>{var a;if(V.localized&&g()(null===B||void 0===B||null===(a=B.cartData)||void 0===a?void 0:a.id)){const{id:e,itemCount:t}=i,o=[{Id:e,categoryId:E,quantity:t+1,modGrps:[]}],a=!0;Object(b.G)(W,m.f,null===I||void 0===I?void 0:I.tenantId,X,null===B||void 0===B?void 0:B.qrCodeScanTime,a,o)}else((e,t,o,i)=>{var a;const{id:n,itemCount:l,product:d,itemFoodlineId:s}=i,{catId:c}=o,{id:u="",name:v="",url:b=""}=null!==(a=null===G||void 0===G?void 0:G[c])&&void 0!==a?a:{};if(e&&e.stopPropagation(),ee(n),V.localized){if(t)Q(c),Z({type:L,value:{id:n,flag:M,foodLineId:""}}),Z({type:F}),W(Object(r.c)({tenantId:I.tenantId,catalogName:D,itemId:n}));else if(0===l){var O;W(Object(m.a)({params:{basketId:null===B||void 0===B||null===(O=B.cartData)||void 0===O?void 0:O.id},tenantId:I.tenantId},[{Id:n,categoryId:u,quantity:l+1,modGrps:[],categoryName:v,categoryUrl:b}])),W(Object(m.u)(new Date)),oe(T(n,d,s),R.Increase,I.currencyConversionFactor)}else if(l>0){var j;W(Object(m.x)({params:{basketId:null===B||void 0===B||null===(j=B.cartData)||void 0===j?void 0:j.id,basketLineItemId:s},tenantId:I.tenantId},{quantity:l+1,isBundle:Object(f.e)(n)})),W(Object(m.u)(new Date)),oe(T(n,d,s),R.Increase)}}else J(!0),Z({type:w,value:{addToCart:!0,productItemId:n,categoryId:E,oldProduct:d,customizable:t,catalogs:D,fromPdpPage:!1}})})(e,t,o,i)},ae=Object(a.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(i.useEffect)((()=>{ae&&q&&X.minipdpData.itemId===ae.id&&W(Object(m.v)({showProductListingModal:!0,categorySelected:q}))}),[ae]);const ne=()=>{te(!0)},le={...N,beforeChange:(e,t)=>{H(Math.round(t+1))},variableWidth:!1},de=(t,o,i,a)=>{const{catId:n,catName:l,catUrl:d}=a,{productId:r,productInfo:s}=o;t.preventDefault(),t.stopPropagation();const c={productId:r,customizable:i,catId:n,catalogName:D,productInfo:s,isFromPlp:!0,categoryName:l,categoryUrl:d};Z({type:P,value:c}),localStorage.setItem(h.p,JSON.stringify(c)),e.history.push({pathname:"/pdp/".concat(E,"/").concat(r)})},re=(e,t,o)=>{W(Object(r.a)({tenantId:e,customerId:o},t))},se=(e,t,o)=>{W(Object(r.b)({tenantId:e,customerId:t,itemId:o}))},ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,o=Object(b.me)(t.additionalProperties);return Object(S.jsx)(l.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:k,tenantData:I,servingCount:o.servings,button:e.button,categoryId:E,categoryName:y,categoryUrl:x,clickHandler:ie,customizable:t.customizable,onCardClickHandler:de,userParams:V,openAlertModal:ne,storeClosedData:A,addFavourite:re,removeFavourite:se,setShowTopScrollBtn:_,"data-testid":"menu-card-component",...o,...t},t.id)};return Object(S.jsxs)("div",{className:"product-container",children:[K&&Object(S.jsx)(v.a,{}),"carousal"===j?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"individual-card-counter",children:[U,"/",n.length]}),Object(S.jsx)(d.b,{settings:le,children:C(n,ce)})]}):C(n,ce)]})}))},936:function(e,t,o){"use strict";o.d(t,"b",(function(){return K}));var i=o(3),a=o.n(i),n=o(975),l=o.n(n),d=o(317),r=o(326),s=o(212),c=o(76),u=o(14),v=o(101),m=o(25),b=o(63),O=o(11),j=o(5),p=o(61),h=o(97),I=o(128),g=o(43),f=o(6),S=o(4),N=o(30),C=o(22),T=o(93),E=o(0),y=o(318),x=o(335),D=(o(974),o(15)),A=o(49),_=o(2);const{ORDER_TYPE:R,YOUR_KFC_RESTAURANT:w,YOUR_LOCATION:P,EDIT:L,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:k,TIME:F,CONFIRM_BTN_TEXT:U,DELIVERY_UNAVAILABLE_ERROR:H,SWITCH_TO_TAKEAWAY_TEXT:W,ERROR_MESSAGE_IN_ACTIVE:B,DELIVERY_PICKUP_MESSAGE:Y,ERROR_MESSAGE_CLOSED:G,SCHEDULE_ORDER:z,CHANGE_ORDER_TITLE:V,ASAP_SERVES_Warning_Message:q}=S.a,Q=(e,t,o)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(o)),K=e=>"ASAP"!==e&&"-"!==e?e:Object(O.R)(Object(O.o)(),I.a.HHMM,I.a.LT),J=(e,t)=>{let o={};return"-"!==e&&"ASAP"!==e?o={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(o={isForNow:!0,futureDateTime:0}),o},X=(e,t,o)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Gb)(i.type):t?E.Mb.PICKUP:Object(j.Gb)(o)};function Z(e,t,o){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||o(null===(i=e[0])||void 0===i?void 0:i.timestr):o("-")}t.a=Object(p.j)((e=>{var t,o,n,p,S,ee,te,oe,ie,ae,ne,le,de,re,se,ce,ue;const{SingleArrow:ve,Calendar:me,Error:be}=D.a,Oe=Object(i.useRef)(null),je=Object(i.useRef)(null),{location:pe,onStoreSelectFinish:he}=e,{SEARCH_ORDER_DATA:Ie,SCHEDULE_ORDER_DATA:ge,DISPOSITION_DATA:fe,SCHEDULE_ORDER_TIME_DATA:Se,CLOSED:Ne,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Ce,MENU_URL:Te,PDP_URL:Ee,SELECTED_TILE_DATA:ye,DISPOSITION_METHOD:xe,SET_DISPOSITION:De,USER_LOCALIZED:Ae,SHOW_CLEAR_CART_ALERT:_e,CLEAR_CART_CONFIRM_CANCEL_MODAL:Re,clearCartChangeFlag:we,orderTypeAlertTitle:Pe,searchStoreAlertTitle:Le,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:ke}=u.a,Fe=Object(m.c)((e=>e.profileReducer)),{userOrderState:Ue,userOrderStateDispatch:He}=Object(i.useContext)(c.a),{dispositionStateData:We={},scheduleOrderData:Be={}}=Ue,{changeFlow:Ye=!1,isAddressFlow:Ge=!1}=Be,ze=Be&&Object(j.Kd)(Be.storeInfo)?Be.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:Ve=""}=We,qe=Ve||localStorage.getItem("dispositionType"),{value:Qe=""}=(null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Ke=""}=Be&&(null===(o=Be.selectedDateTimeInfo)||void 0===o||null===(n=o.date)||void 0===n?void 0:n.length)>0?Be.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Je=Be&&(null===(p=Be.selectContentData)||void 0===p||null===(S=p.savedTime)||void 0===S?void 0:S.length)>0?null===(ee=Be.selectContentData)||void 0===ee?void 0:ee.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Xe,scheduled:Ze={},asap:$e}=(null===(te=Be.storeInfo)||void 0===te||null===(oe=te.summary)||void 0===oe?void 0:oe.timings)||{},et=Object(j.Jd)(Ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ue.dispositionNew,{unavailibilities:tt,unavailibilityType:ot}=Ze,{interval:it=0,startEndTime:at={}}=Ze&&(null===Ze||void 0===Ze||null===(ie=Ze.periods)||void 0===ie?void 0:ie.length)&&(null===Ze||void 0===Ze?void 0:Ze.periods[0])||{},{from:nt,to:lt}=at;let dt=Object(m.c)((e=>e.appStateReducer.userStatus));const rt=Object(m.b)(),st=Object(m.c)((e=>e.tenantReducer)),ct=Object(m.c)((e=>e.storesReducer)),ut=Object(m.c)((e=>e.cartReducer)),{cartData:vt}=ut,{storesAvilableTimeSlots:mt,storesTimeSlots:bt}=ct,[Ot,jt]=Object(i.useState)(!1),[pt,ht]=Object(i.useState)({error:!1,errormessage:""}),[It,gt]=Object(i.useState)({from:nt,to:lt,interval:it}),[ft,St]=Object(i.useState)({error:!1,openStoreTime:""}),Nt=(null===(ae=Be.storeInfo)||void 0===ae||null===(ne=ae.summary)||void 0===ne||null===(le=ne.status)||void 0===le?void 0:le.currentStatus)===Ne,Ct=()=>{var e;return Ye?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===I.a.TYPE_DELIVERY:!Ge&&(null===qe||void 0===qe?void 0:qe.toUpperCase())===I.a.TYPE_DELIVERY},[Tt,Et]=Object(i.useState)(Ze&&Ze.date?new Date(Ze.date.toString()):new Date),[yt,xt]=Object(i.useState)($e&&$e.isAvailable?"ASAP":Object(O.R)(null===at||void 0===at?void 0:at.from,"hh:mm","LT")),[Dt,At]=Object(i.useState)([]),[_t,Rt]=Object(i.useState)(!1),[wt,Pt]=Object(i.useState)(!1),[Lt,Mt]=Object(i.useState)(Object(j.Ud)(window.innerWidth)),kt=()=>{Mt(Object(j.Ud)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",kt)}),[Lt]),Object(i.useEffect)((()=>{if(1===(null===Xe||void 0===Xe?void 0:Xe.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country)){var e;const t={storeid:null===Be||void 0===Be||null===(e=Be.storeInfo)||void 0===e?void 0:e.id,channel:C.b.channel,service:Object(j.Ib)(Zt()).toString().toLowerCase(),date:""};rt(Object(b.c)({data:t,tenantId:st.tenantId}))}let t=Object(v.j)(nt,lt,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===(null===Xe||void 0===Xe?void 0:Xe.length)&&"INDIA"===(null===st||void 0===st?void 0:st.country),tt,ot);return At(t),()=>{rt(Object(b.a)())}}),[]);const Ft=e=>{var t,o;if("INDIA"===(null===st||void 0===st?void 0:st.country))return;const i=Object(O.h)(e,"YYYY-MM-DD");if(Ze.date===i){let t=Object(v.j)(nt,lt,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),tt,ot);return At(t),xt(t[0].timestr),gt({from:nt,to:lt,interval:it}),Et(e),ht({...pt,error:!1,errormessage:""}),Rt(!1),void Pt(!1)}const a={storeid:null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.id,channel:C.b.channel,service:Object(j.Ib)(Zt()).toString().toLowerCase(),dateVal:i};if(rt(Object(b.c)({data:a,tenantId:st.tenantId})),Et(e),(null===mt||void 0===mt||null===(o=mt.periods)||void 0===o?void 0:o.length)>0){const{startEndTime:e,interval:t}=mt.periods[0],{from:o,to:i}=e;let a=Object(v.j)(o,i,t,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&"INDIA"===(null===st||void 0===st?void 0:st.country),tt,ot);gt({from:o,to:i,interval:t}),At(a)}ht({...pt,error:!1,errormessage:""})},Ut=e=>{const t=new Date,o=new Date(e.split("T")[0]);return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()},Ht=e=>{var t;xt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let o=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ut(Ke)?"Today":"Tomorrow"});Et(o),Rt(!1),Pt(!1),ht({...pt,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Je;Ke&&Ft(new Date(Ke)),((e,t,o,i,a,n)=>{if(e&&t){const e=Object(O.R)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)?n(a):n(t)}})(Ye,e,nt,Ke,Je,Ht),((e,t,o,i,a)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var n;const e={storeid:null===t||void 0===t||null===(n=t.storeInfo)||void 0===n?void 0:n.id,channel:C.b.channel,service:Object(j.Ib)(o()).toString().toLowerCase(),date:""};i(Object(b.c)({data:e,tenantId:null===a||void 0===a?void 0:a.tenantId}))}})(Xe,Be,Zt,rt,st)}),[]),Object(i.useEffect)((()=>{let e=Object(j.Tc)(Ye,Object(f.translateWithI18Next)(V),Object(f.translateWithI18Next)(z));var t;if(Object(j.Kd)(bt)&&Ot)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ne)ht({...pt,error:!0,errormessage:Object(f.translateWithI18Next)(G)}),Object(j.Kb)(e,Object(f.translateWithI18Next)(G));else{let t=new Date;if(new Date(Tt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(O.o)().add($e.promiseTime,"minutes").format("LT");Object(O.c)(t,yt,"h:mm A")?(ht({...pt,error:!0,errormessage:Object(f.translateWithI18Next)(B)}),Object(j.Kb)(e,Object(f.translateWithI18Next)(B))):Q(pe,Te,Ee)?Wt():Bt()}else Q(pe,Te,Ee)?Wt():Bt()}}),[bt,Fe]);const Wt=()=>{He({type:ye,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(st)),localStorage.setItem("selectedTile",JSON.stringify({})),Bt(),setTimeout((()=>{e.history.push({pathname:"".concat(Te)})}),500)},Bt=async()=>{He({type:ge,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Be||void 0===Be?void 0:Be.storeInfo,changeFlow:!0}}),He({type:xe,value:{dispositionType:qe}}),localStorage.setItem("dispositionType",Zt()),localStorage.setItem("storeInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),He({type:Me,value:Object(j.kd)(null===Be||void 0===Be?void 0:Be.storeInfo)}),He({type:Ie,value:{showSearchStore:!1}});let e="",t="";"ASAP"===yt||"-"===yt?(e="ASAP",t="ASAP"):(e=yt,t=yt),He({type:ke,value:{forceReload:!0}});let o=K(yt);const i=Object(O.A)(Object(O.h)(Tt,"YYYY-MM-DD")+" "+o,"YYYY-MM-DD hh:mm A");let a={time:e,interval:It.interval,date:Tt,epochTime:i,selectedTime:yt},n=(null===Be||void 0===Be?void 0:Be.deliveryAddress)||(null===et||void 0===et?void 0:et.deliveryAddress);if(null===et||et.type!==Zt()||et.store.id!==ze.id||et.deliveryAddress!==Be.deliveryAddress){let e=await Object(j.z)(ze,Object(j.Ib)(qe),null===Fe||void 0===Fe?void 0:Fe.customerId,a,n,null===Be||void 0===Be?void 0:Be.deliveryAddressLine);rt(Object(N.m)("")),rt(Object(N.f)({data:e,tenantId:st.tenantId}))}rt(Object(h.a)({...dt,localized:!0})),He({type:De,value:{oldvalue:et,newValue:{type:Zt(),store:ze,date:a.date,time:a.time,epochTime:a.epochTime,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:n}}}),localStorage.setItem("dispositionOld",JSON.stringify(et)),localStorage.setItem("dispositionNew",JSON.stringify({type:Zt(),store:ze,date:a.date,time:a.time,epochTime:a.epochTime,interval:a.interval,selectedTime:a.selectedTime,deliveryAddress:n})),Object(j.if)(),He({type:Se,value:{selectedDateTime:a}}),He({type:Ce,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,o={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(mt||{}).length){var i,a,n;const{startEndTime:e,interval:d}=Object(j.id)(null===(i=mt[0])||void 0===i?void 0:i.periods[0],o),{startEndTime:r}=Object(j.id)(null===(a=mt[1])||void 0===a?void 0:a.periods[0],o),{from:s}=e,{to:c}=r;var l;if(t=Object(v.j)(s,c,d,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&new Date(null===(n=mt[0])||void 0===n?void 0:n.date).setHours(0,0,0,0)<new Date(null===Xe||void 0===Xe?void 0:Xe[0]).setHours(0,0,0,0)&&"INDIA"===(null===st||void 0===st?void 0:st.country),tt,ot),gt({from:s,to:c,interval:d}),At(t),Z(t,Je,Ht),!mt.find((e=>e.date===Ke.split("T")[0])))Et(new Date(null===(l=mt[0])||void 0===l?void 0:l.date))}else if(Object.keys(mt||{}).length){var d,r;const{startEndTime:e,interval:i}=Object(j.id)(null===(d=mt[0])||void 0===d?void 0:d.periods[0],o),{from:a,to:n}=e;var s;if(t=Object(v.j)(a,n,i,null===$e||void 0===$e?void 0:$e.isAvailable,"INDIA"===(null===st||void 0===st?void 0:st.country)&&1===(null===Xe||void 0===Xe?void 0:Xe.length)&&new Date(null===(r=mt[0])||void 0===r?void 0:r.date).setHours(0,0,0,0)<new Date(null===Xe||void 0===Xe?void 0:Xe[0]).setHours(0,0,0,0),tt,ot),gt({from:a,to:n,interval:i}),At(t),Z(t,Je,Ht),!mt.find((e=>e.date===Ke.split("T")[0])))Et(new Date(null===(s=mt[0])||void 0===s?void 0:s.date))}const c=localStorage.getItem("modalSource");var u;null!==st&&void 0!==st&&st.showASAPServiceWarningMessage&&(null===$e||void 0===$e||!$e.isAvailable)&&Nt&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&St({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(mt)]);const Yt=e=>{var t,o;null!==Oe&&void 0!==Oe&&null!==(t=Oe.current)&&void 0!==t&&t.contains(e.target)||null!==je&&void 0!==je&&null!==(o=je.current)&&void 0!==o&&o.contains(e.target)||(Rt(!1),Pt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Yt),()=>{document.removeEventListener("mousedown",Yt)})),[]);const Gt=()=>{He({type:Ie,value:{showSearchStore:!0}}),He({type:ge,value:{showDisposition:!1}}),He({type:xe,value:{dispositionType:"Pickup"}})},zt=null===Be||void 0===Be||null===(de=Be.storeInfo)||void 0===de||null===(re=de.availableServicesPerChannel)||void 0===re||null===(se=re.find((e=>"web"===e.channel)))||void 0===se?void 0:se.services,Vt=null===zt||void 0===zt?void 0:zt.includes("delivery"),qt=Object(j.db)(Ct(),!Vt),Qt=()=>{let e=Object(f.translateWithI18Next)(Y),t=!1;return Vt&&(e=Object(f.translateWithI18Next)(H),t=!0),{showTakeWayButton:t,message:e}},{message:Kt}=Qt();Object(i.useEffect)((()=>{Object(T.g)(Ye,Kt)}),[Kt]);const Jt=()=>{const{message:e,showTakeWayButton:t}=Qt();return Object(_.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(_.jsx)(g.a,{srcFile:be,className:"location-alert-icon"}),Object(_.jsx)("div",{className:"location-error-message",children:e}),Object(_.jsx)("div",{className:"location-error-button-section",children:t&&Object(_.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Gt,children:Object(f.translateWithI18Next)(W)})})]})},Xt=e=>{var t;let{orderType:o}=e,i=Object(f.translateWithI18Next)(q),a=null===i||void 0===i?void 0:i.replace("%time%",ft.openStoreTime);return a=null===(t=a)||void 0===t?void 0:t.replace("%servesName%",o),Object(_.jsxs)("div",{className:"asap-warning-container",children:[Object(_.jsx)("span",{className:"error-img"}),a]})},Zt=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ye&&e?e.type:Ge?"Pickup":qe},$t=Ye?null===(ce=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ce?void 0:ce.deliveryAddress:Be.deliveryAddress;return Object(_.jsxs)("div",{className:"scheduleOrder-form",children:[Object(_.jsx)("h3",{className:"order-type",children:Object(f.translateWithI18Next)(R)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(r.a,{value:X(Ye,Ge,qe),className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Object(_.jsx)(s.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:Pe};Object(j.ue)(He,e,_e,Re)}else He({type:fe,value:{showDisposition:!0}});He({type:ge,value:{showScheduleOrderCatering:!1}}),He({type:Ie,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(f.translateWithI18Next)(L)})})]}),pt&&pt.error&&Object(_.jsxs)("div",{className:"error-container",children:[Object(_.jsx)("span",{className:"error-img"}),pt.errormessage]}),Lt&&qt&&Object(_.jsx)(Jt,{}),Object(_.jsx)("h3",{className:"order-type",children:Ct()?Object(f.translateWithI18Next)(P):Object(f.translateWithI18Next)(w)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(r.a,{value:Ct()?$t:Qe||"",className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Ct()?Object(_.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(He({type:xe,value:{dispositionType:Ye?JSON.parse(localStorage.getItem("dispositionNew")).type:qe}}),vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:Le};Object(j.ue)(He,e,_e,Re)}else He({type:Ie,value:{showSearchStore:!0}});He({type:ge,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(f.translateWithI18Next)(L)}):Object(_.jsx)(s.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:we,onConfirm:Le};Object(j.ue)(He,e,_e,Re)}else{let e=Object(j.jd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ge)He({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:Be.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];He({type:Ie,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}He({type:ge,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ye)}}),He({type:xe,value:{dispositionType:Zt()}})},"data-testid":"edit-store-test",children:Object(f.translateWithI18Next)(L)})})]}),!Lt&&qt&&Object(_.jsx)(Jt,{}),(null===ft||void 0===ft?void 0:ft.error)&&Object(_.jsx)(Xt,{orderType:X(Ye,Ge,qe)}),Object(_.jsx)("h3",{className:"order-type",children:Object(f.translateWithI18Next)(M)}),Object(_.jsxs)("div",{className:"schedule-date-time",children:[Object(_.jsxs)("div",{className:"schedule-date",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker",children:Object(f.translateWithI18Next)(k)}),Xe&&Xe.length>0&&Ze&&Ze.date&&"INDIA"!==(null===st||void 0===st?void 0:st.country)?Object(_.jsxs)(a.a.Fragment,{children:[Object(_.jsxs)("div",{ref:Oe,onClick:()=>Pt(!wt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(_.jsx)(l.a,{selected:Tt,showPopperArrow:!1,onChange:e=>Ft(e),minDate:new Date(Ze.date.toString()),maxDate:new Date(Xe[Xe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:wt,readOnly:!0}),Object(_.jsx)("img",{src:me,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(_.jsx)("span",{className:"dropdown-img"})]}):Object(_.jsx)(a.a.Fragment,{children:Object(_.jsx)("div",{className:"time-input time-input-container",children:Object(O.h)(Tt,"YYYYMMDD")===Object(O.e)("YYYYMMDD")&&Object(f.translateWithI18Next)("today")||Object(f.translateWithI18Next)("tomorrow")})})]}),Object(_.jsxs)("div",{className:"schedule-time",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(f.translateWithI18Next)(F)}),Object(_.jsxs)("div",{className:$(Dt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==Ze.periods.length&&Rt(!_t),onClick:()=>0!==Ze.periods.length&&Rt(!_t),children:[Object(_.jsx)("div",{className:"time-input asap-default",children:yt}),Object(_.jsx)("img",{src:ve,alt:" ",className:"downarrow-time-list"})]}),_t&&Object(_.jsx)("div",{ref:je,className:"schedule-time-list-container",children:Object(_.jsx)("ul",{children:!(null===Dt||void 0===Dt||!Dt.length)&&(null===Dt||void 0===Dt?void 0:Dt.map((e=>Object(_.jsx)("li",{tabIndex:"0",onClick:()=>{St((e=>({...e,error:!1}))),Ht(e)},onKeyPress:()=>Ht(e),children:e.timestr}))))})})]})]}),Object(_.jsx)("div",{className:"text-center schedule-btn-div",children:Object(_.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(f.translateWithI18Next)(U),onClickHandler:e=>{var t,o,i,a,n;Object(A.D)(),e.stopPropagation(),e.preventDefault();const l={storeID:null===ze||void 0===ze?void 0:ze.id,disposition:qe,postCode:null===ze||void 0===ze||null===(t=ze.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};he(l),Object(y.J)(l,yt),Object(x.a)(Be),jt(!0);let d=K(yt);const r=Object(O.A)(Object(O.h)(Tt,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),s={storeid:null===Be||void 0===Be||null===(i=Be.storeInfo)||void 0===i?void 0:i.id,channel:C.b.channel,service:null===(a=Object(j.Ib)(Zt()))||void 0===a||null===(n=a.toString())||void 0===n?void 0:n.toLowerCase(),futureDateTimeInEpochFormat:r,asap:yt===E.s};rt(Object(b.n)({data:s,tenantId:st.tenantId})),null!==vt&&void 0!==vt&&vt.id&&rt(Object(b.q)({params:{basketId:null===vt||void 0===vt?void 0:vt.id},tenantId:st.tenantId,postBody:J(yt,r)})),He({type:Ae,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===Ze||void 0===Ze||null===(ue=Ze.periods)||void 0===ue?void 0:ue.length),children:Object(f.translateWithI18Next)(U)})})]})}));const $=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},938:function(e,t,o){"use strict";o.d(t,"a",(function(){return U}));var i=o(3),a=o(25),n=o(320),l=o(5),d=o(899),r=o(54),s=o(328),c=o(6),u=o(30),v=o(317),m=o(43),b=o(213),O=o(903),j=o(907),p=o(926),h=o(0),I=o(15),g=o(122),f=o(76),S=o(14),N=o(190),C=o(2);const T=(e,t,o,i,a)=>Object(l.Tc)(e||t||o||i||a,I.a.ribbonRedOutlined,null);var E=function(e){var t,o,s;const{getCardTypeName:E,cardType:y,allowClickOnProductCard:x,discount:D,specials:A,exclusive:_,timer:R,cardId:w,customizable:P,getProductImageClassName:L,tenantData:M,imageName:k,onCardClickHandler:F,categoryId:U,categoryName:H,categoryUrl:W,dname:B,availability:Y=[],newitem:G,topseller:z,customlabelfield:V,getSpecificRibbonBanner:q,userParams:Q,favouriteItems:K,item:J,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:oe,veg:ie,servingCount:ae,getVegNonvegClassName:ne,menuProductPriceClassName:le,checkForBasePriceInMenu:de,baseprice:re,cardCat:se,displayPrice:ce,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:be,configureOptions:Oe,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:Ie,checkLoading:ge,menuCardBtnText:fe,clickHandler:Se,itemFoodlineId:Ne,openCostomizedModal:Ce,setOpenCostomizedModal:Te,filteredPreviousData:Ee,cartData:ye,CARD_TYPE:xe,setShowTopScrollBtn:De,pricewithouttax:Ae}=e,_e=Object(a.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=N.a,{MINI_PDP_DATA:we,FROMFLAGEDIT:Pe,EDIT_CLICKED:Le}=S.a,{userOrderStateDispatch:Me}=Object(i.useContext)(f.a),[ke,Fe]=Object(i.useState)(!1),[Ue,He]=Object(i.useState)(Object(l.Ud)(window.innerWidth)),{ITEM_QUANTITY:We}=d.a,{QUANTITY_ACTION:Be}=r.a,Ye=Object(l.Tc)(null===Q||void 0===Q?void 0:Q.loggedIn,h.Zf,""),{allowAddToCartButton:Ge=!0}=Oe,{web:{global:{showPriceWithTax:ze=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Ve,Veg_dot_Icon:qe,Product_Card_Icon:Qe,TimerIcon:Ke,FavoriteInActiveWhite:Je,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=I.a;Object(i.useEffect)((()=>{window.addEventListener(h.we,et)}),[Ue]);const et=()=>{He(Object(l.Ud)(window.innerWidth))},tt=()=>Object(C.jsxs)("div",{className:le(y),children:[Object(l.db)(de(re,se),ce(re,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(C.jsxs)("span",{className:ue(re,se),children:[n.o.MENU_CARD.CURRENCY,Object(l.zc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,ze).toFixed(2)]})]}),ot=()=>Object(C.jsxs)("div",{className:ne(y),children:[Object(l.db)(Ue,Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.Tc)(!ie,Ve,qe)})),Object(l.db)(!Ue,Object(l.Tc)(!ie,Object(c.translateWithI18Next)(n.o.MENU_CARD.NON_VEG),Object(c.translateWithI18Next)(n.o.MENU_CARD.VEG))),Object(l.db)(ae,Object(C.jsx)("div",{className:"Dot"})),n.o.MENU_CARD.SERVES,ae]}),it=()=>{if(null!==Q&&void 0!==Q&&Q.loggedIn)return Object(C.jsxs)("picture",{children:[Object(C.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(l.Tc)("small-menu-product-card"===Z,Object(l.Tc)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),X(y),te(y)),Object(l.Tc)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"fav-item-source",onClick:()=>$()}),Object(C.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(l.Tc)(Array.isArray(K)&&K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))),Xe,Je),alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(C.jsx)("img",{src:Object(l.db)(Array.isArray(K),null===K||void 0===K?void 0:K.find((e=>(null===e||void 0===e?void 0:e.id)===(null===J||void 0===J?void 0:J.id))))?Xe:Je,alt:"",className:"menu-product-save ".concat(Ye),"data-testid":"save-product-".concat(w),onClick:()=>$()})]})},at=()=>Object(C.jsx)(m.a,{"data-testid":"product-image",className:L(y),defaultPath:Object(l.Xb)(null,M,!0),srcFile:Object(l.Xb)(k,M),onClick:e=>Object(l.zf)(x,F,[e,w,P,U,{productName:B,productImage:k,productPrice:Object(l.zc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,ze)}]),alt:""}),nt={productId:w,productInfo:{productName:B,productImage:k,productPrice:Object(l.zc)(Y[0],Ae,null===M||void 0===M?void 0:M.currencyConversionFactor,ze)}},lt={catId:U,catName:H,catUrl:W},dt={id:w,itemCount:ee,product:{productName:B,productImage:k,productPrice:Object(l.yc)(Y[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:Ne};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:E(y,x,D,A,_,R),"data-testid":"click-allow-on-product-".concat(w),id:w,children:[Object(l.Qd)()&&P&&Object(C.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),y!==xe.SMALL&&at(),Object(C.jsx)(b.a,{src:Object(l.Tc)(A,Qe,T(V,D,_,G,z)),className:Object(l.Tc)(A,"specials-product-ribbon",Object(l.Tc)(Object(l.fb)(_,V),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(C.jsx)("span",{className:Object(l.Tc)(A,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(C.jsxs)("div",{children:[Object(C.jsx)(b.a,{src:Ke,className:"product-timer"}),Object(C.jsx)("span",{className:"product-timer-text",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.TIMER)})]}):q(A,D,_,G,z,V)}),Object(l.db)(!Ue,it()),Object(C.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{x&&F(e,nt,P,lt)},children:[Object(C.jsx)("div",{className:oe(y,D,A,_,{timer:R,newitem:G,topseller:z,customlabelfield:V}),children:null===B||void 0===B?void 0:B[0].value}),Ue?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"description-and-image",children:[Object(C.jsx)("div",{className:ve(y),id:"longDescription",children:me[0].value}),y===xe.SMALL&&at()]}),Object(C.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),ot(),Object(C.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.Tc)(!ie,Ve,qe)}),ot(),tt(),Object(C.jsx)("div",{className:ve(y),id:"longDescription",children:me[0].value})]})]}),Object(C.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ye:"cardwithNoquantity"),children:[!!ee&&(rt=ee,st=be,ct=null===B||void 0===B?void 0:B[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(C.jsx)(O.a,{itemCount:rt,itemQuantity:We,updateItemQuantity:st,quantityAction:Be,item:void 0,itemName:ct,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ge&&je&&Object(C.jsx)("div",{className:pe(ee,Ye),children:ee<1?Object(C.jsxs)(v.a,{tabIndex:"0",className:he(Ie,y,ge,je),"data-testid":"add-to-cart-".concat(w),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=fe(je))&&void 0!==t&&t.enabled&&ee<=0&&Se(e,P,lt,dt)},"aria-label":(null===(o=fe(je))||void 0===o?void 0:o.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(s=fe(je))||void 0===s?void 0:s.btnText,Object(l.H)(je.isStoreClosed)]}):P&&Object(C.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:we,value:{id:null===J||void 0===J?void 0:J.mdmId,flag:Pe,foodLineId:Ne}}),Me({type:Re}),Me({type:Le,value:{cartEditClicked:!1}}),_e(Object(g.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===ye||void 0===ye?void 0:ye.catalog,itemId:null===J||void 0===J?void 0:J.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:U}))):(Fe(!0),Te(!0))},children:Object(c.translateWithI18Next)(n.o.EDIT_SELECTIONS)})})]})]}),Object(C.jsx)("div",{children:Ce&&(()=>{var t;return Object(C.jsx)(p.a,{handleClose:()=>{Te(!1),Fe(!1)},filteredPreviousData:Ee,updateItemQuantity:be,tenantData:M,dname:B,clickHandler:Se,cardId:w,categoryId:U,categoryName:H,categoryUrl:W,itemCount:ee,availability:Y,pricewithouttax:Ae,imageName:k,itemFoodlineId:Ne,customizable:P,setOpenCostomizedModal:Te,openCostomizedModal:Ce,cartData:ye,setShowTopScrollBtn:De,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:ke,headerText:Object(l.Tc)(ke,Object(c.translateWithI18Next)(n.o.EDIT_QUANTITY),Object(c.translateWithI18Next)(n.o.SELECT_QUANTITY))})})()})]});var rt,st,ct,ut};const{CARD_TYPE:y}=n.o,{FavoriteInActiveWhite:x,heartIcon_active:D,heartIcon_activeFavourite:A,heartIcon_inactive_red:_}=I.a,R=(e,t,o,i,a,n)=>e===y.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===y.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===y.SMALL?((e,t,o,i,a)=>e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||o||i||a)?"small-menu-product-card product-card-active":!e&&(t||o||i||a)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,o,i,a,n):e===y.CAROUSAL?"carousal-menu-product-card":void 0,w=e=>e===y.LARGE?"menu-product-image":e===y.MEDIUM?"medium-menu-product-image":e===y.SMALL?"small-menu-product-image":e===y.CAROUSAL?"carousal-menu-product-image":void 0,P=(e,t,o,i,a)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:r}=a;return e===y.LARGE?"menu-product-header":e===y.MEDIUM?"medium-menu-product-header":e===y.SMALL?t||o||i||n||l||d||r?"small-menu-product-header-shift":"small-menu-product-header":e===y.CAROUSAL?"carousal-menu-product-header":void 0},L=e=>e===y.LARGE?"menu-vegOrNonVeg":e===y.MEDIUM?"medium-menu-vegOrNonVeg":e===y.SMALL?"small-menu-vegOrNonVeg":e===y.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===y.LARGE?"menu-product-price":e===y.MEDIUM?"medium-menu-product-price":e===y.SMALL?"small-menu-product-price":e===y.CAROUSAL?"carousal-menu-product-price":"",k=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===y.LARGE?"menu-product-description":e===y.MEDIUM?"medium-menu-product-description":e===y.SMALL?"small-menu-product-description":e===y.CAROUSAL?"carousal-menu-product-description":"",U=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=d.a;let o=Object(c.translateWithI18Next)(t),i="",a=!0;return null!==e&&void 0!==e&&e.isStoreNone?(o="Store Closed",i="no-store-selected",a=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(o="Store Closed",i="store-closed",a=!1),{btnText:o,className:i,enabled:a}},W=(e,t,o,i)=>e?"".concat(((e,t)=>{let o,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case y.LARGE:o="menu-cart-button";break;case y.MEDIUM:o="medium-menu-cart-button";break;case y.SMALL:o="small-menu-cart-button";break;case y.CAROUSAL:o="carousal-menu-cart-button";break;default:o=""}return"".concat(i," ").concat(o)})(t,o)," ").concat(H(i).className):"button btn-black medium-menu-cart-button",B=(e,t,o,i,a,d)=>{let r;return r=d?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(o?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(C.jsx)("span",{"data-testid":"new-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.NEW)}):Object(l.Tc)(a,Object(C.jsx)("span",{"data-testid":"topseller-id",children:Object(c.translateWithI18Next)(n.o.MENU_CARD.TOP_SELLER)}),null))),r},Y=e=>e===y.CAROUSAL?D:A,G=e=>e===y.CAROUSAL?x:_,z=(e,t)=>Boolean(e)&&"recommended"!==t,V=(e,t)=>{let o;return o=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"price-display",children:"old price"}),Object(C.jsxs)("span",{className:"base-price-menu",children:[n.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),o};t.b=e=>{var t,o;const{cardId:n,cardType:d,discount:c,specials:v,exclusive:m,timer:b,availability:O=[],tenantData:p,customizable:h,categoryId:I,activeId:g,addFavourite:f,removeFavourite:S,item:N,isHidden:T,cardFor:x,setShowTopScrollBtn:D,userParams:A}=e,{QUANTITY_ACTION:_}=r.a,q=Object(a.b)(),Q=null===p||void 0===p?void 0:p.tenantId,{componentOptions:K={}}=p,{PlpProductCard:J={}}=K,{allowClickOnProductCard:X=!1}=J,Z=Object(a.c)((e=>e.cartReducer)),$=Object(a.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(l.kd)(Z),[oe,ie]=Object(i.useState)(0),[ae,ne]=Object(i.useState)(null),[le,de]=Object(i.useState)(0),re=null===$||void 0===$?void 0:$.id,se=Object(a.c)((e=>{var t;return Object(l.od)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[ce,ue]=Object(i.useState)(!0),[ve,me]=Object(i.useState)("product"),{flatResponse:{productMapById:be={}}={}}=null!==(t=Object(a.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Oe,je]=Object(i.useState)(""),[pe,he]=Object(i.useState)(0),[Ie,ge]=Object(i.useState)([]),[fe,Se]=Object(i.useState)(!1),[Ne,Ce]=Object(i.useState)(""),{couponCode:Te="",amount:Ee=0}=(null===ee||void 0===ee||null===(o=ee.discountLines)||void 0===o?void 0:o[0])||{},{foodLines:ye,total:xe}=ee,De=Number((xe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),Ae=[{couponCode:Te,amount:Number((Ee/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{x&&me(x)}),[x]),Object(i.useEffect)((()=>{const e=Object(l.Kd)(ee)?Object(l.hc)(n,ee):{},t=Object(l.Tc)(Object(l.Kd)(e),e.count,0),o=Object(l.Tc)(Object(l.Kd)(e),e.matchedItemFoodLineId,""),i=Object(l.Tc)(Object(l.Kd)(e),e.entriesCount,0),a=Object(l.Tc)(Object(l.Kd)(e),e.itemUnitPrice,"");ie(t),ne(o),de(i),he(a)}),[ee,n]);const _e=Object(i.useCallback)((()=>{je(R(d,X,c,v,m,b))}));Object(i.useEffect)((()=>{_e()}),[_e]);Object(i.useEffect)((()=>{ue(!0)}),[oe]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var o;return(null===t||void 0===t||null===(o=t.item)||void 0===o?void 0:o.id)===e}));ge(t)}Ce(e),Se(!0)},we=Object(l.db)(te,g===n);return!T&&Object(C.jsx)(E,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:w,getSpecificRibbonBanner:B,favouriteItems:se,classFavouriteIconActive:Y,getCardName:Oe,favouriteButtonClickHandler:()=>{Object(l.db)(Array.isArray(se),null===se||void 0===se?void 0:se.find((e=>(null===e||void 0===e?void 0:e.id)===(null===N||void 0===N?void 0:N.id))))?S(Q,re,N.id):((e,t,o,i)=>{var a;const n=Object(l.ld)(null===(a=o[0])||void 0===a?void 0:a.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};f(e,d,i),q(Object(u.v)({showProductListingModal:!1,categorySelected:I}))})(Q,N,O,re)},itemCount:oe,classFavouriteIconInActive:G,getMenuProductHeader:P,getVegNonvegClassName:L,menuProductPriceClassName:M,checkForBasePriceInMenu:z,cardCat:ve,displayPrice:V,getPriceClassName:k,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(A.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let o={foodName:null===N||void 0===N?void 0:N.name,foodItemId:null===N||void 0===N?void 0:N.mdmId,cartPrice:e,modifiers:Object(j.i)(N),customizable:null===N||void 0===N?void 0:N.customizable,quantity:oe,foodLineId:ae};const{itemQuantityHandler:i}=Object(s.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:Ae,foodLines:ye,totalAmount:De},null===p||void 0===p?void 0:p.tenantId,void 0,be,void 0,q,void 0);t===_.Increase?h&&oe>=1?Re(null===o||void 0===o?void 0:o.foodItemId):(!h&&ue(!1),i(o,_.Increase)):le>1?Re(null===o||void 0===o?void 0:o.foodItemId):(ue(!1),i(o,_.Decrease))}},classesCardButton:U,classEnableAddToCart:W,enableAddToCartButton:ce,checkLoading:we,menuCardBtnText:H,itemFoodlineId:ae,openCostomizedModal:fe,filteredPreviousData:Ie,setOpenCostomizedModal:Se,cartData:ee,CARD_TYPE:y,setShowTopScrollBtn:D,FoodId:Ne})}},943:function(e,t,o){"use strict";o.d(t,"a",(function(){return s}));o(6),o(92),o(84);var i=o(5),a=(o(960),o(933),o(18),o(320)),n=(o(36),o(123),o(15));o(2);const{CARD_TYPE:{CAROUSAL:l,MEDIUM:d}}=a.o,{CartError:r}=n.a,s=e=>Object(i.Jd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},944:function(e,t,o){"use strict";o.d(t,"a",(function(){return P}));var i=o(3),a=o.n(i),n=o(61),l=o(25),d=o(63),r=o(5),s=o(30),c=o(6),u=o(36),v=o(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:o,setRef:i=null}=e,{contentText:n="",infoObject:l=null,orderTypes:d=[]}=t,r=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{o(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(a.a.Fragment,{children:Object(v.jsxs)("div",{ref:i,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),l&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:l.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:o,"data-testid":"form-component",children:r})]})})},b=o(121),O=o(49);var j=e=>{Object(i.useEffect)((()=>{Object(O.o)()}),[]);const{handleClose:t,DispositionModuleForm:o,headerText:n,modalTitleId:l=""}=e;return Object(v.jsx)(a.a.Fragment,{children:Object(v.jsx)(b.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:l,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:o})})},p=o(19),h=o(9),I=o(0),g=o(334),f=o(14);const S=(e,t)=>{const o=[];for(const n of e){var i,a;const e=null===n||void 0===n||null===(i=n.fields)||void 0===i||null===(a=i.name)||void 0===a?void 0:a.split("-"),l=e[e.length-1].trim().toUpperCase();if(t&&null!==l&&void 0!==l&&l.includes(g.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:r=!1,name:s,showOption:c=!0,id:u="",dispositionType:v}=n.fields;o.push({buttonText:d,selectDefault:r,type:s,showOption:c,id:u,dispositionType:v})}return o},N=e=>{const{headline:t="",subHeadline:o="",subHeadlineType:i="",title:a=""}=e[0].fields||{};return{modalHeaderText:a,contentText:t,infoObject:{type:i,infoText:o}}},C=(e,t,o,i)=>{var a;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:l}=f.a;null!==e&&void 0!==e&&null!==(a=e.foodLines)&&void 0!==a&&a.length&&!i?Object(r.ue)(t,{},l,n,o):o()};var T=o(76),E=o(22),y=o(97),x=o(84),D=o(192),A=o(905),_=o(128),R=o(111),w=o(46);var P=e=>{const{CURRENTLY_CLOSED:t,SORRY:o}=A.a,{userOrderState:a,userOrderStateDispatch:u}=Object(i.useContext)(T.a),{contentData:b={}}=a.dispositionStateData,P=Object(l.c)((e=>e.tenantReducer)),{tenantId:L,disableOrderTypeAnalytic:M,isSpecialEventEnabled:k,enableDeliveryMenuOption:F}=P,{deeplinkSelectedStoreId:U,deepLinkStoreMode:H,isDeepLinkURL:W}=a,B=Object(r.Kd)(b)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=e.disposition&&e.disposition.fields||{},{headline:a=[],supportedDispositions:n=[]}=i,l={modalHeaderText:"",modalContent:{}},d=o?n:n.filter((e=>{var t,o;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(o=t.dispositionType)||void 0===o?void 0:o.toUpperCase())!==I.zf}));l.modalContent.orderTypes=S(d,t);const{modalHeaderText:r,contentText:s,infoObject:c}=N(a);return l.modalHeaderText=r,l.modalContent.contentText=s,l.modalContent.infoObject=c,l}({dispositionData:b,deepLinkStoreMode:H,isSpecialEventEnabled:k,enableDeliveryMenuOption:F});let{modalContent:Y={},modalHeaderText:G=""}=B;const{SEARCH_ORDER_DATA:z,MENU_URL:V,DISPOSITION_DATA:q,CURRENT_STORE_INFO:Q,SCHEDULE_ORDER_TIME_DATA:K,SELECTED_TILE_DATA:J,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:oe,SET_REDIRECTION_PATH:ie}=f.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:ae,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:le,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:re,INVALID_QR_TEXT:se,CLOSED_STORE_MODAL_SUBTITLE:ce,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:be}=g.a,{ENABLE_ADDRESS_LOCALISATION:Oe,SHOW_MAP_VIEW_BUTTON:je}=w.a,pe=a&&a.dispositionStateData&&a.dispositionStateData.dispositionType?a.dispositionStateData.dispositionType:null;let he="";const Ie=Object(r.Jd)(a.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):a.dispositionNew,ge=Object(l.b)(),fe=Object(n.g)(),[Se,Ne]=Object(i.useState)(""),[Ce,Te]=Object(i.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ee={},qrCodeScanTime:ye}=Object(l.c)((e=>e.cartReducer)),{customerId:xe=""}=Object(l.c)((e=>e.profileReducer));let De=Object(l.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:Ae=[],isStoreStatusLoading:_e,selectedStoreDetailsDL:Re={}}=Object(l.c)((e=>Object(r.kd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:we}}=g.a;Object(i.useEffect)((()=>{ge(Object(d.u)()),ge(Object(d.t)()),ge(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:I.Ae.HOME_PAGE}))})(H,fe)}),[ge]);const Pe=Object(i.useCallback)(((e,t)=>{e.stopPropagation();C(Ee,u,(()=>{Te({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[we,u,Ee]);Object(i.useEffect)((()=>{H&&ge(Object(d.l)({storeId:U,tenantId:L},null,(()=>{Te({showError:!0,errMsg:Object(c.translateWithI18Next)(se),errDesc:null,buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Pe(e,!1)})})))}),[re,se,H,U,ge,L]);const Le=(e,t,o,i)=>{e.stopPropagation(),e.preventDefault();const a=t.split("-");if(he=a[a.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=ae),i&&(he=i),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(r.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},r.xb)})({selectedDispositionType:he}),H){const e={data:[{storeId:U,channel:E.b.channel,service:I.ee},{storeId:U,channel:E.b.channel,service:I.Eb}],store:[{...Re,service:I.ee},{...Re,service:I.Eb}],tenantId:L,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Ne(he),ge(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};C(Ee,u,t,o)}else[ae,ne,le,de].includes(he.toUpperCase())&&(u({type:oe,value:{findAKFC:!1}}),u({type:z,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(I.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:q,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:Oe,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===I.gd||void 0===I.gd?void 0:I.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:l=!1}=De,s=Object(r.gd)(n,l);((e,t)=>{var o;t||Object(O.p)(null===h.a||void 0===h.a||null===(o=h.a.selectOrderType)||void 0===o?void 0:o.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(r.h)(he),"%userType%":s},M)},Me=async(e,t)=>{const o=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(r.Ib)(t)));if(null!==o&&void 0!==o&&o.length){var i,n,l,d,v,m,b,j,p,h,g,f,S;const e={time:"ASAP",interval:null===o||void 0===o||null===(i=o[0].summary.timings.scheduled.periods[0])||void 0===i?void 0:i.interval,date:new Date,selectedTime:"ASAP"},c=await Object(r.jb)(ge,!0,ye,null===o||void 0===o?void 0:o[0],Object(r.Ib)(t),xe,e);ge(Object(s.f)({data:c,tenantId:L})),u({type:$,value:{oldvalue:Ie,newValue:{store:null===o||void 0===o?void 0:o[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===a||void 0===a||null===(n=a.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(Ie)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===o||void 0===o?void 0:o[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===a||void 0===a||null===(l=a.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress})),Object(r.pe)(null===o||void 0===o||null===(d=o[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(b=m.address)||void 0===b||null===(j=b.addressLines)||void 0===j?void 0:j[0],_.a.ALREADY_SERACHED_LOCATIONS),Object(r.if)();const I={storeID:null===o||void 0===o||null===(p=o[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===o||void 0===o||null===(h=o[0])||void 0===h||null===(g=h.addresses)||void 0===g||null===(f=g[0])||void 0===f||null===(S=f.address)||void 0===S?void 0:S.pinCode};Object(O.y)(I),u({type:q,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let o=e||null;u({value:{selectedData:{}},type:J}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),u({value:o,type:Q}),ge(Object(y.a)({...De,localized:!0})),u({value:{selectedDateTime:t},type:K}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(P)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("savedTimeOrder","ASAP"),fe.push({pathname:"".concat(V)})})(null===o||void 0===o?void 0:o[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===ae?Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ve),errDesc:null,buttonText:Object(c.translateWithI18Next)(me),buttonCTA:e=>Le(e,I.kf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&Te({showError:!0,errMsg:Object(c.translateWithI18Next)(ue),errDesc:null,buttonText:Object(c.translateWithI18Next)(be),buttonCTA:e=>Le(e,I.Fb,!0)})})(t)};Object(i.useEffect)((()=>{if(Ae.length>0&&!_e&&Se&&H){var e,i,a;((e,i)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Te({showError:!0,errMsg:"".concat(Object(c.translateWithI18Next)(o)," ").concat(i," ").concat(Object(c.translateWithI18Next)(t)),errDesc:Object(c.translateWithI18Next)(ce),buttonText:Object(c.translateWithI18Next)(re),buttonCTA:e=>Pe(e,!0)})})(null===Ae||void 0===Ae?void 0:Ae.filter((e=>{var t,o,i,a,n,l,d,r,s,c,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&"OPEN"===(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(a=i.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(s=r.timings)||void 0===s||null===(c=s.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===Ae||void 0===Ae||null===(e=Ae[0])||void 0===e||null===(i=e.name)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.value)}}),[Ae,_e,H]);const ke=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:q,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:we,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:ie,value:{redirectionOrder:""}}),u({type:oe,value:{findAKFC:window.location.pathname===I.Ae.FIND_STORE}}),W&&Object(r.td)(fe)};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&ke(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:Y,onDispositionMethodSubmit:Le}),Ue=Object(v.jsx)(j,{handleClose:ke,DispositionModuleForm:Fe,headerText:G,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ce||void 0===Ce?void 0:Ce.showError)&&Object(v.jsx)(D.a,{handleClose:null,CartAlertForm:Object(v.jsx)(x.a,{title:null===Ce||void 0===Ce?void 0:Ce.errMsg,contentMsg:null===Ce||void 0===Ce?void 0:Ce.errDesc,confirmButtonText:null===Ce||void 0===Ce?void 0:Ce.buttonText,confirmHandler:null===Ce||void 0===Ce?void 0:Ce.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),Ue]})}},945:function(e,t,o){"use strict";var i=o(813);o.d(t,"a",(function(){return i.default}))},946:function(e,t,o){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},960:function(e,t,o){"use strict";o(3);var i=o(933),a=o(5),n=o(2);t.a=e=>Object(a.R)(e.subCategory).map(((t,o)=>{let{categories:a="",products:l=[],id:d="",dname:r}=t;return Object(n.jsxs)("div",{id:d,children:[Object(n.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(n.jsx)("div",{children:r[0].value}),a]}),Object(n.jsx)(i.a,{productList:l,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},o)}))},963:function(e,t,o){"use strict";var i=o(3),a=o.n(i),n=o(25),l=o(944),d=o(814),r=o(49),s=o(14),c=o(76),u=o(945),v=o(2);var m=e=>{const{DISPOSITION_DATA:t=""}=s.a,{userOrderState:o,userOrderStateDispatch:n}=Object(i.useContext)(c.a)||{};return Object(i.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(a.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===o||void 0===o?void 0:o.dispositionStateData.showDisposition)&&Object(v.jsx)(l.a,{}),(null===o||void 0===o?void 0:o.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:r.y}),(null===o||void 0===o?void 0:o.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:r.y})]})})},b=o(5),O=o(946);t.a=()=>{var e,t,o,i;const{DISPOSITION:a}=O.a;let l=null,d=null,r=Object(n.c)((e=>e.appStateReducer.userStatus));const s=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(s.marketPageContent&&s.tenantReducerContent&&s.homePageContent){const{tenant:e=[]}=s.marketPageContent.headerData||{};l=Object(b.bc)(s.homePageContent)||null,d=Object(b.Rc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[a])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(o=null===(i=l)||void 0===i?void 0:i[a])&&void 0!==o?o:{}},userParams:r,tenantReducerData:s.tenantReducerContent})}}}]);