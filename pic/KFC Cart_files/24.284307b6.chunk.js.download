(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[24],{535:function(e,t,a){"use strict";a.r(t);var o=a(5),l=a(321),n=a(3),d=a(25),c=a(6),i=a(18),s=a.n(i),r=a(43),u=a(76),v=a(0),b=a(15),O=a(61),j=a(173),h=a(329),p=a(77),m=a(2);const N=e=>{const{children:t,pathname:a,signInLink:l,loggedIn:n,setOrderComplete:d,...c}=e,i=Object(O.g)();return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{...c,onClick:()=>{l&&!n?Object(p.b)():a===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.HOME_PAGE)?(d&&localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_COMPLETE,!0),Object(o.Me)({history:i})):a===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.CHECKOUT)?Object(o.Ge)({history:i},!1,!1,!1,!1,!1,!0):i.push({pathname:a})},children:t})})};var g=a(965),x=a(1059),A=a(36),C=a(215),I=a(4),E=a(212);const S=()=>Object(C.j)()?v.Ae.HOME_PAGE:v.Ae.CART,R=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?Object(m.jsx)("span",{"data-testid":"back-to-cart-btn",className:"back-text",children:Object(c.translateWithI18Next)(Object(C.j)()?j.a.GO_BACK:j.a.BACK_TO_CART)}):Object(m.jsx)("span",{"data-testid":"goto-home-btn",className:"back-text",children:t?Object(c.translateWithI18Next)(I.a.BACK_BUTTON):Object(c.translateWithI18Next)(j.a.GO_BACK)})},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return null!==a&&void 0!==a&&a.includes(null===v.fb||void 0===v.fb?void 0:v.fb.TH.toLowerCase())?e?S():t?v.Ae.CHECKOUT:v.Ae.CART:e?S():t?v.Ae.CHECKOUT:v.Ae.HOME_PAGE},_=(e,t)=>"need-help-container right-nav-item".concat(e?"":" payment-help-btn"," ").concat(t?"disable-supportbtn":""),f=(e,t)=>t||e?"back-icon":"display-none",H=(e,t)=>t||e?"display-none":"help-icon",T=e=>{const{hideNeedHelpModal:t,showNeedhelpModal:a,checkoutHeader:l,multiDeliverySupport:n,toggleModal:d,contentReducer:i}=e,{NEED_HELP:u}=j.a,O=s()(Object(o.Ob)(i));return Object(m.jsxs)(m.Fragment,{children:[!t&&a&&Object(m.jsxs)("div",{"data-testid":"help-btn ac",className:_(l,n),onClick:()=>O?d(!0):window.open(Object(o.Ob)(i),"_blank"),children:[Object(m.jsx)(r.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:"help-icon",alt:"help icon"}),Object(m.jsx)("span",{className:"help-text",children:Object(c.translateWithI18Next)(u)})]}),!a&&Object(m.jsx)("div",{"data-testid":"help-btn ac",className:_(l,n),children:Object(m.jsxs)(E.a,{className:"need-help-desk",href:v.Ae.HELP,children:[Object(m.jsx)(r.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:"help-icon",alt:"help icon"}),Object(m.jsx)("span",{className:"help-text need-help",children:Object(c.translateWithI18Next)(u)})]})})]})};var y=e=>{var t,a,l,c,i,s,j,p;const{contentData:I,tenantReducerData:E={},checkoutHeader:S=!1,showOrderSummaryHeader:_=!1,showBackToCart:y=!0,showNeedHelp:k=!0,showMobileKfcLogo:D=!1,hideNeedHelpModal:M=!1,showSavedPaymentTextInHeader:G=!1,showBack:L=!1,contentReducer:P={}}=e,B=Object(O.g)(),{basic:F,countryCode:W}=E,{showSecondaryHeader:U=!1}=(null===E||void 0===E||null===(t=E.componentOptions)||void 0===t||null===(a=t.web)||void 0===a?void 0:a.global)||{},{navRight:K,kfcLogo:J}=Object(h.c)(I,F),{HOME_PAGE:X}=v.Ae,{userOrderState:Q}=Object(n.useContext)(u.a),Y=Object(o.Jd)(null===Q||void 0===Q?void 0:Q.dispositionNew)?JSON.parse(localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW)):Q.dispositionNew,[q,z]=Object(n.useState)(!1),[V,Z]=Object(n.useState)(!1),$=Object(d.c)((e=>e.tenantReducer)),{postOrderReducer:ee}=Object(d.c)((e=>e)),{showNeedhelpModal:te=!1}=(null===$||void 0===$||null===(l=$.componentOptions)||void 0===l||null===(c=l.web)||void 0===c?void 0:c.global)||{},{isWicodeFinaliseFailed:ae=!1}=Object(o.fc)(ee),[oe,le]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{var e,t,a,l;"/order-summary"===(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname)&&(z(!0),((e,t)=>{var a,l;null!==e&&void 0!==e&&null!==(a=e.orderAccepted)&&void 0!==a&&a.deliveryPartners||Object(o.Xd)(null===e||void 0===e||null===(l=e.orderAccepted)||void 0===l?void 0:l.service)?t(!1):t(!0)})(ee,z)),(null===(a=window)||void 0===a||null===(l=a.location)||void 0===l?void 0:l.pathname)===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.PAYMENT_FAILURE)&&le((e=>{var t,a,o,l;return(null===e||void 0===e||null===(t=e.orderAccepted)||void 0===t||null===(a=t.paymentReferences)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.paymentType)===(null===v.Ud||void 0===v.Ud?void 0:v.Ud.TRUE_MONEY_WALLET)&&(null===e||void 0===e||null===(l=e.orderAccepted)||void 0===l?void 0:l.status)===(null===v.Qd||void 0===v.Qd?void 0:v.Qd.PAYMENT_FAILED)})(ee))}),[B,ee]),Object(m.jsxs)("div",{"data-testid":"secondary-header-container",className:"secondary-header-container",children:[(null===(i=window)||void 0===i||null===(s=i.location)||void 0===s?void 0:s.pathname)!==(null===v.Ae||void 0===v.Ae?void 0:v.Ae.ORDER_PROCESSING)&&y&&!oe&&Object(m.jsxs)("div",{className:"back-button-container","data-testid":"order-confirmation-return-button",children:[Object(m.jsx)(N,{pathname:w(S,oe,W),setOrderComplete:!S,children:Object(o.Ud)(window.innerWidth)||Object(C.X)()?Object(m.jsx)(r.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.ArrowIcon,className:f(S,L),alt:"Back to Cart"}):Object(m.jsx)(A.c,{variant:A.b.tertiary,className:te?"":"button whiteButton blackBorder",children:R(S,L)})}),!M&&te&&(!Object(C.X)()||!Object(C.T)())&&Object(m.jsx)("div",{"data-testid":"help-btn",className:"payment-help-container",onClick:()=>Z(!0),children:Object(m.jsx)(r.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.HelpIcon,className:H(S,L),alt:"help icon"})})]}),Object(m.jsxs)("div",{className:"kfc-header-container",children:[!D&&Object(m.jsx)(N,{"data-testid":"home-btn",pathname:X,setOrderComplete:!S,children:Object(m.jsx)(r.a,{className:"kfc-header-icon",srcFile:(null===J||void 0===J?void 0:J.src)||(null===b.a||void 0===b.a?void 0:b.a.HeaderLogo),alt:null===J||void 0===J?void 0:J.alt})}),!D&&Object(m.jsx)("span",{className:"text-icon",children:Object(h.a)({checkoutHeader:S,showOrderSummaryHeader:_,dispositionNew:Y,isWicodeFinaliseFailed:ae,showSavedPaymentTextInHeader:G})}),D&&Object(m.jsx)("div",{"data-testid":"kfc-logo",className:"header-logo-mobile",onClick:()=>Object(o.Me)({history:B}),children:Object(m.jsx)(r.a,{srcFile:(null===J||void 0===J?void 0:J.src)||(null===b.a||void 0===b.a?void 0:b.a.HeaderLogo),alt:"KFC LOGO"})})]}),(null===(j=window)||void 0===j||null===(p=j.location)||void 0===p?void 0:p.pathname)!==(null===v.Ae||void 0===v.Ae?void 0:v.Ae.ORDER_PROCESSING)&&k&&Object(m.jsxs)("div",{className:"right-nav-container",children:[Object(m.jsx)(T,{hideNeedHelpModal:M,showNeedhelpModal:te,checkoutHeader:S,multiDeliverySupport:q,toggleModal:Z,contentReducer:P}),S&&U?Object(m.jsx)(g.a,{"data-testid":"sign-in-container",navRight:K}):null,Object(m.jsx)(N,{pathname:X,setOrderComplete:!0,"data-testid":"header-close-btn",className:S?"display-none":"header-close-btn",children:Object(m.jsx)(r.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.PopupCloseBtn,alt:"close-btn"})})]}),V&&Object(m.jsx)(x.a,{isOpen:V,orderHistoryPage:Object(o.i)(),checkoutHeader:S,showOrderSummaryHeader:_,handleClose:()=>{Z(!1)}})]})},k=a(14),D=a(994);t.default=e=>{var t,a;const{contentData:c={},checkoutHeader:i}=e,[s,r]=Object(n.useState)(0),{userOrderState:b,userOrderStateDispatch:O}=Object(n.useContext)(u.a),{timeBasedCetegory:j}=b,h=Object(d.c)((e=>Object(o.kd)(e.storesReducer))),p=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),N=Object(d.c)((e=>null===e||void 0===e?void 0:e.contentReducer)),g=Object(d.c)((e=>e.cartReducer)),x=Object(o.Tc)(Object(o.Jd)(b.dispositionNew),Object(l.k)(k.a.DISPOSITION_NEW),b.dispositionNew),A=Object(n.useCallback)((e=>s?clearInterval(e):null),[s]);return Object(n.useEffect)((()=>{const e=setInterval((()=>{var e;const t=Object(o.u)(null===h||void 0===h||null===(e=h.storesWithStatus[0])||void 0===e?void 0:e.summary,v.qb.STORE_CLOSING_SOON_MODAL_TIMING,!0);Object(l.m)(j,g,O),Object(l.p)(j,O),Object(o.lf)(x,g,t,r)}),15e3);return A(e),()=>{clearInterval(e)}}),[s,null===h||void 0===h?void 0:h.storesWithStatus,x,null===g||void 0===g||null===(t=g.cartData)||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.length,A,g,j,O]),Object(m.jsxs)("div",{className:"secondary-header au","data-testid":"HeaderItems-component",children:[Object(m.jsx)(y,{contentData:c,checkoutHeader:i,tenantReducerData:p,...e,contentReducer:N}),Object(m.jsx)(D.a,{})]})}},965:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(3),l=a(25),n=a(61),d=a(0),c=a(22),i=a(77),s=a(43),r=a(173),u=a(6),v=a(333),b=a(110),O=a(69),j=a(15),h=a(2);const p=e=>{var t,a,p,m,N,g;const{navRight:x,hamburgerComp:A,closeHamburger:C}=e,I=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{showContentCards:E=!1,showNeedhelpModal:S}=Object(l.c)((e=>{var t,a,o;return(null===(t=e.tenantReducer)||void 0===t||null===(a=t.componentOptions)||void 0===a||null===(o=a.web)||void 0===o?void 0:o.global)||{}})),R=!(c.b.isGoogle&&null!==I&&void 0!==I&&I.loggedIn),w=Object(n.g)(),{LOGGEDIN_USER_SIGNIN_TEXT:_,GUEST_USER_SINGIN_TEXT:f,SIGN_IN_LINK:H}=r.a,[T,y]=Object(o.useState)(0),k=Object(b.b)(O.b),D=(null===k||void 0===k?void 0:k.brazeInitialized)&&(null===(t=window)||void 0===t||null===(a=t.appboy)||void 0===a||null===(p=a.getCachedContentCards())||void 0===p||null===(m=p.cards)||void 0===m||null===(N=m.filter((e=>!e.isControl&&!e.viewed)))||void 0===N?void 0:N.length),{Arrow_Icon:M}=j.a;Object(o.useEffect)((()=>{y(D)}),[D]);const G=()=>{null!==I&&void 0!==I&&I.loggedIn?(null===C||void 0===C||C(),w.push({pathname:d.Ae.ACCOUNT})):Object(i.b)()},L=e=>A?Object(u.translateWithI18Next)(f):null===e||void 0===e?void 0:e.name;return Object(h.jsx)("div",{className:"sign-in-container","data-testid":e["data-testid"],"data-id":(P=R,P?d.qb.HEADER_SIGN_IN_ATTR_DATA_ID:""),children:null===x||void 0===x||null===(g=x.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toUpperCase())===H})))||void 0===g?void 0:g.map((e=>Object(h.jsxs)("div",{className:"account-container","data-testid":"account-container",onClick:G,children:[Object(v.p)((null===e||void 0===e?void 0:e.url)||(null===e||void 0===e?void 0:e.imageUrl),"HEADER_SIGN_IN","account-icon"),E&&!!T&&(null===I||void 0===I?void 0:I.loggedIn)&&Object(h.jsx)("span",{className:"msg-badge",children:T}),Object(h.jsx)("span",{className:"sign-in-text".concat(""," ").concat(S?"":"not-cart-icon"),children:null!==I&&void 0!==I&&I.loggedIn?Object(u.translateWithI18Next)(_):L(e)}),A?Object(h.jsx)(s.a,{srcFile:M,className:"arrow"}):null]},null===e||void 0===e?void 0:e.title)))});var P}},994:function(e,t,a){"use strict";var o=a(321),l=a(76),n=a(3),d=a(5),c=a(15),i=a(6),s=a(92),r=a(84),u=a(61),v=a(25),b=a(329),O=a(14),j=a(2);t.a=()=>{const{userOrderState:e,userOrderStateDispatch:t}=Object(n.useContext)(l.a),{menuReducer:a,PlpDisclaimerReducerContent:h}=Object(v.c)((e=>e)),p=Object(v.c)((e=>Object(d.kd)(e.storesReducer))),m=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),N=Object(v.c)((e=>e.cartReducer)),{timeBasedCetegory:g,timeBasedAlertModalData:x}=e,A=Object(v.b)(),C=Object(u.g)(),{CartError:I}=c.a,E=(null===p||void 0===p?void 0:p.storesWithStatus)&&Object(b.b)(null===p||void 0===p?void 0:p.storesWithStatus[0]),S=Object(n.useCallback)((()=>{if(null===g||void 0===g||!g.supportContentAlertData){var e,a,l;const n=null===h||void 0===h||null===(e=h.response)||void 0===e||null===(a=e.plpDisclaimerResponseData)||void 0===a||null===(l=a.includes)||void 0===l?void 0:l.Entry;null!==n&&void 0!==n&&n.length&&Object(o.s)({...g,supportContentAlertData:n},t)}}),[h,g,t]);return Object(n.useEffect)((()=>{S()}),[S]),Object(n.useEffect)((()=>{const e={menuReducer:a,userParams:m,updateTimebasedCategory:o.s,userOrderStateDispatch:t,dispatch:A,getStoreDetail:E,cartReducer:N,timeBasedCetegory:g};Object(o.r)(e)}),[a]),Object(j.jsx)(j.Fragment,{children:(null===x||void 0===x?void 0:x.flag)&&Object(j.jsx)(s.a,{"data-testid":"timeBasedAlert-modal",handleClose:null!==x&&void 0!==x&&x.showCrossIcon?()=>Object(o.o)(t,x):null,classNames:"clear-cart-modal catering-menu-nav-alert timebased-alert ".concat((null===x||void 0===x?void 0:x.title)!==(null===O.a||void 0===O.a?void 0:O.a.CART_REVIEW_ORDER_MODAL)?"timebased-alert-notification":"timebased-alert-popup"),CartAlertForm:Object(j.jsx)(r.a,{title:Object(d.bf)(null===x||void 0===x?void 0:x.headline,null===x||void 0===x?void 0:x.cName),contentMsg:Object(d.bf)(null===x||void 0===x?void 0:x.subHeadline,null===x||void 0===x?void 0:x.cName),contentImg:null===x||void 0===x?void 0:x.contentImg,imageSrc:null!==x&&void 0!==x&&x.contentImg?null:I,altText:"",confirmButtonText:Object(i.translateWithI18Next)(null===x||void 0===x?void 0:x.buttonText),confirmHandler:()=>Object(o.n)({timeBasedAlertModalData:x,userOrderStateDispatch:t,timeBasedCetegory:g,history:C})})})})}}}]);