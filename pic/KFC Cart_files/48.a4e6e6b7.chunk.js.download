(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[48,25,95,108,132],{1002:function(e,t,a){"use strict";a.r(t),a.d(t,"VIEW_RECEIPT",(function(){return i})),a.d(t,"REORDER",(function(){return n})),a.d(t,"MY_ACCOUNT",(function(){return s})),a.d(t,"ORDER_IT_AGAIN",(function(){return o})),a.d(t,"SEE_FULL_ORDER_HISTORY",(function(){return l})),a.d(t,"CONTINUE",(function(){return c})),a.d(t,"CANCEL",(function(){return d})),a.d(t,"ACCOUNT_FAVORDERS",(function(){return r})),a.d(t,"HOMEPAGE_REORDER",(function(){return u})),a.d(t,"ReorderConstants",(function(){return v}));const i="viewReceipt",n="reorderBtn",s="myAccount",o="orderItAgain",l="seeFullOrderHistory",c="continue",d="cancel",r="Account - Occasions",u="HomePage - Reorder",v={LARGE_CARRY_BAG:"largeCarryBag",ADD_HOPE_TEXT:"addhope",SEARCH_IN_CART:"SEARCH_IN_CART",SET_DISPOSITION:"SET_DISPOSITION",CLOSED:"CLOSED",DELIVER_TO:"deliveryTo",WHEN:"when",PLEASE_REVIEW_YOUR_ORDER:"pleaseReviewYourOrder",QUICK_ORDER:"quickOrder",TODAY:"today",ASAP:"asap",ITEMS:"items",WANT_TO_MODIFY:"wantToModify",ITEM_ADDED_TO_CART_MSG:"itemAddedToCartMsg",KEEP_SHOPING:"keepShoping",ADD_A_COUPON:"addACoupon",SUBTOTAL:"subTotal",GST:"GST",REST_HANDLING:"cartIncluTax",DISCOUNT:"DiscountText",TOTAL:"total",CONTINUE_TO_PAYMEN:"continuePayment",CLEAR_CART_MSG:"clearCartActionText",CLEARE_AWARE_MSG:"clearCartAwareText",CLEAR_CART_COMPLETE_MSG:"clearCartCompleteText",STORE_CLOSED:"storeClosed",DELIVERY_NOT_AVAIALABLE:"deliveryNotAvailable",PRICE_CHANGE_TEXT:"cartItems",PRICE_CHANGE_MAIN:"priceChangedCartMain",ITEM_UNAVAILABLE:"itemUnavailable",SERVICE_CHANNEL:"web",UNAVAILABLE:"unavailable",UNAVAILABLE_TEXT:"unavailableCartText",DINE_IN:"dine-in",TAKEAWAY:"takeaway",DINE_IN_TEXT:"dineIn",GENERIC_ERROR:"generic_error",CHECKOUT:"checkout",DISPOISTIONUN_AVAL:"dispositionUnavalMsg",UNAVAILABLE_ERROR:"sorryUnaval",CART:"cart",SCHEDULE_ORDER_DATA:"scheduleOrderData",CHANGE_ORDER_SETTING:"changeOrderSettings"}},1012:function(e,t,a){"use strict";var i=a(3),n=a(5),s=a(121),o=a(0),l=a(15),c=a(2);const d=e=>{const{isOpen:t,handleClose:a,OrderReducerData:d}=e,[r,u]=Object(i.useState)(Object(n.Ud)(window.innerWidth)),v=window.google,{RedMarker:b,BlackMarker:j}=l.a;Object(i.useEffect)((()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)})));const m=()=>{u(Object(n.Ud)(window.innerWidth))},O=r?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:a,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:a,autoFocus:!0};function h(){var e,t,a,i;const n=new v.maps.DirectionsService,s=new v.maps.DirectionsRenderer,o=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===d||void 0===d||null===(e=d.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===d||void 0===d||null===(a=d.store)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.longitude)}});s.setMap(o),function(e,t){var a,i,n,s,o,l,c,r,u,b,m,O;const h={lat:Number(null===d||void 0===d||null===(a=d.store)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.latitude),lng:Number(null===d||void 0===d||null===(n=d.store)||void 0===n||null===(s=n.location)||void 0===s?void 0:s.longitude)},p=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:h});e.route({origin:{lat:Number(null===d||void 0===d||null===(o=d.store)||void 0===o||null===(l=o.location)||void 0===l?void 0:l.latitude),lng:Number(null===d||void 0===d||null===(c=d.store)||void 0===c||null===(r=c.location)||void 0===r?void 0:r.longitude)},destination:{lat:Number(null===d||void 0===d||null===(u=d.store)||void 0===u||null===(b=u.location)||void 0===b?void 0:b.latitude),lng:Number(null===d||void 0===d||null===(m=d.store)||void 0===m||null===(O=m.location)||void 0===O?void 0:O.longitude)},travelMode:v.maps.TravelMode.DRIVING},((e,a)=>{if("OK"===a){t.setDirections(e);var i=e.routes[0].legs[0];new v.maps.Marker({position:i.end_location,map:p,visible:!0,icon:j,title:"Delivery-Location"})}else new v.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(n,s)}return Object(i.useEffect)((()=>{null!==(null===d||void 0===d?void 0:d.deliveryAddress)&&null!==(null===d||void 0===d?void 0:d.store)&&Object(n.ef)(null===d||void 0===d?void 0:d.service)===Object(n.ef)(o.yb)?h():Object(n.ef)(null===d||void 0===d?void 0:d.service)!==Object(n.ef)(o.ee)&&Object(n.ef)(null===d||void 0===d?void 0:d.service)!==Object(n.ef)(o.Eb)||null===(null===d||void 0===d?void 0:d.store)||function(){var e,t,a,i;const n={lat:Number(null===d||void 0===d||null===(e=d.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===d||void 0===d||null===(a=d.store)||void 0===a||null===(i=a.location)||void 0===i?void 0:i.longitude)},s=new v.maps.Map(document.getElementById("maps"),{zoom:16,center:n});new v.maps.Marker({position:n,map:s,visible:!0,icon:b,title:"KFC Store"})}()})),Object(c.jsx)("div",{children:t&&Object(c.jsx)(s.a,{...O,children:Object(c.jsx)("div",{children:Object(c.jsx)("div",{id:"maps"})})})})};d.defaultProps={isOpen:!1,closeModal:null},t.a=d},1038:function(e,t,a){"use strict";t.a={ADD_NEW_ADDRESS:"Add New Address",EDIT_DELIVERY_ADDRESS:"Edit Delivery Address",HIDDEN:"hidden",OK:"OK",KM:"km",DEFAULT_DISPOSITION_TAKEWAY:"Pickup",mapText:"map",ZERO_RESULTS:"ZERO_RESULTS",DELIVERY_SERVICE:"delivery",CHANNEL:"web",REMOVED_MSG:"Store removed from favorite list",INDIA:"India",NOT_SERVICEABLE:"The Delivery location is not serviceable. Please choose a different address",INITIAL_STATE:{addressId:"",addressName:"",city:"",pinCode:"",name:"",state:"",country:"",isPrimary:!1,location:{latitude:"",longitude:""},addressLines:["",""]},MYDELIVERYADDRESSES:"MyDeliveryAddresses",ADDRESS:"address"}},1054:function(e,t,a){"use strict";var i=a(3),n=a(136),s=a(11),o=a(327),l=a(340),c=a.n(l),d=a(37),r=a.n(d),u=a(6),v=a(25),b=a(5),j=a(336),m=a(1012),O=a(220),h=a(62),p=a(15),N=a(4),g=a(2);t.a=e=>{var t,a;const{orderItem:l}=e,d=Object(v.c)((e=>e.tenantReducer)),{currencySymbol:I,currencyConversionFactor:x,addHope:S,carryBag:E,showCustomDeliveryFee:f}=d||{},{tendersContent:T}=Object(v.c)((e=>e.paymentsContentReducer)),{items:C=[]}=T,{phoneImg:A,Direction:y}=p.a,{fulfillmentDateTime:D,deliveryAddress:_,store:R,foodLines:L,subTotal:k,total:w,taxLines:M,paymentReferences:P,posOrderId:F,inclusiveTaxTotal:W,additionalChargeLines:H,discountTotal:U,service:B}=l,{phoneNumber:G}=R,{YOUR_ORDER:Y,DELIVER_TO:V,PAYMENT:K,ORDER_FROM:z,GET_DIRECTION:J,TOTAL:q,SUBTOTAL:X,ORDER:Q,AT:Z,COMPLETED:$,GST:ee,DISCOUNT:te,SEARCH_IN_CART:ae,LARGE_CARRY_BAG:ie,ADD_HOPE_TEXT:ne}=o.d,se=Object(s.C)(D,"ll"),oe=Object(s.C)(D,"h:mm A"),[le,ce]=Object(i.useState)(""),[de,re]=Object(i.useState)(""),[ue,ve]=Object(i.useState)(0),[be,je]=Object(i.useState)(0),[me,Oe]=Object(i.useState)([]),[he,pe]=Object(i.useState)(!1),Ne=Object(v.b)();Object(i.useEffect)((()=>{Ne(Object(O.a)({object:Object(h.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((()=>{if(Object(b.db)(S,E)){let e={setAddHopeDataExistsId:re,setAddHopeDataPrice:ve},t={setCarryBagDataExistsId:ce,setCarryBagDataPrice:je};Object(j.i)(l,S,E,ae,e,t,d);let a=Object(b.Pb)(L,S,E);Oe(a)}}),[l]);const ge=e=>(e/x).toFixed(2);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"reciept-header",children:[Object(g.jsx)("span",{className:"your-order",children:Object(u.translateWithI18Next)(Y)}),Object(g.jsxs)("span",{className:"receipt-number",children:[Object(u.translateWithI18Next)(Q),"# ",F]})]}),Object(g.jsx)("hr",{className:"horizontal-bar"}),Object(g.jsxs)("div",{className:"reciept-order-detail",children:[Object(g.jsxs)("div",{className:"reciept-details-heading",children:[Object(g.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)($)}),Object(g.jsx)("span",{className:"receipt-sub-detail",children:se+" ".concat(Object(u.translateWithI18Next)(Z)," ")+oe})]}),_&&Object(g.jsxs)("div",{className:"reciept-details-heading",children:[Object(g.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(V)}),Object(g.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[(null===_||void 0===_?void 0:_.addressLines[2])&&Object(g.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[2],", "]}),(null===_||void 0===_?void 0:_.addressLines[1])&&Object(g.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[1],", "]}),(null===_||void 0===_?void 0:_.addressLines[0])&&Object(g.jsxs)("span",{children:[null===_||void 0===_?void 0:_.addressLines[0],", "]}),(null===_||void 0===_?void 0:_.state)&&Object(g.jsxs)("span",{children:[null===_||void 0===_?void 0:_.state,", "]}),(null===_||void 0===_?void 0:_.pinCode)&&Object(g.jsxs)("span",{children:[null===_||void 0===_?void 0:_.pinCode,", "]}),(null===_||void 0===_?void 0:_.country)&&Object(g.jsx)("span",{children:null===_||void 0===_?void 0:_.country})]})]}),Object(g.jsxs)("div",{className:"reciept-details-heading",children:[Object(g.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(K)}),Object(g.jsx)("span",{className:"receipt-sub-detail",children:(()=>{var e,t,a,i,n,s,o,l;const d=c()(P,{}),r=c()(C.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.title)===(null===d||void 0===d?void 0:d.paymentType)})),{});return"Only image"===(null===r||void 0===r||null===(e=r.fields)||void 0===e?void 0:e.displayFormat)?Object(g.jsx)("img",{src:null===r||void 0===r||null===(t=r.fields)||void 0===t||null===(a=t.icon)||void 0===a||null===(i=a.fields)||void 0===i||null===(n=i.desktopImage)||void 0===n||null===(s=n.fields)||void 0===s||null===(o=s.file)||void 0===o?void 0:o.url,alt:"paymentMethod"}):Object(g.jsx)("span",{className:"dateCompleted",children:null===r||void 0===r||null===(l=r.fields)||void 0===l?void 0:l.displayName})})()})]}),Object(g.jsxs)("div",{className:"reciept-details-heading",children:[Object(g.jsx)("span",{className:"receipt-sub-heading",children:Object(u.translateWithI18Next)(z)}),null!==R&&void 0!==R&&Object(g.jsxs)("span",{className:"receipt-sub-detail width-style-lg",children:[R.name,Object(g.jsx)("br",{}),null===R||void 0===R||null===(t=R.address)||void 0===t?void 0:t.addressLines]})]}),Object(g.jsxs)("div",{className:"CompletedCallAndDirection mt-2",id:"DirectionTest",children:[Object(g.jsx)("span",{children:" "}),Object(g.jsxs)("span",{className:"callAndDirection",children:[Object(g.jsxs)("span",{className:"KfcphoneNums",children:[Object(g.jsx)("img",{src:A,alt:"phone",className:"KfcphoneIcon"}),Object(g.jsx)("a",{href:"tel:"+G,className:"anchorTags",children:(e=>{e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)})(G)})]}),Object(g.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>pe(!0),children:[Object(g.jsx)("img",{src:y,alt:"phone",className:"KfcDirectionIcon"}),Object(u.translateWithI18Next)(J)]})]})]})]}),Object(g.jsx)("section",{className:"reciept-accordian",children:Object(g.jsx)(n.a,{header:"".concat(me.length," ITEM"),children:me.map((e=>{return Object(g.jsx)("section",{className:"",children:Object(g.jsxs)("div",{className:"reciept-order-item",children:[Object(g.jsxs)("div",{className:"reciept-item-details",children:[Object(g.jsx)("div",{className:"item-count-box mr",children:Object(g.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(g.jsxs)("div",{className:"item-desc-section",children:[Object(g.jsx)("span",{className:"item-desc",children:e.item.displayName}),Object(g.jsx)("span",{className:"item-desc-quantity",children:(t=e.item,r()(t,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>"".concat(e.quantity,"x ").concat(e.name))).join())})]})]}),Object(g.jsxs)("span",{className:"item-amount",children:[I,ge.call(void 0,e.item.quantity*e.item.unitPrice)," "]})]})});var t}))},"orderItem-".concat(l.id))}),Object(g.jsxs)("div",{className:"reciept-order-detail",children:[Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(X)}),Object(g.jsxs)("span",{className:"payment-amount",children:[I,ge(k)]})]}),M&&Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsx)("span",{className:"payment-type",children:ee}),Object(g.jsxs)("span",{className:"payment-amount",children:[I,ge(W)]})]}),f&&(e=>{var t;return null===e||void 0===e||null===(t=e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))))||void 0===t?void 0:t.map(((e,t)=>Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.DELIVERY_FEE)}),Object(g.jsxs)("span",{className:"payment-amount",children:[I,ge.call(void 0,null===e||void 0===e?void 0:e.amount)," "]})]},t)))})(H),f&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.IN_DELIVERY_FEE)}),Object(g.jsxs)("span",{className:"payment-amount",children:[I,ge.call(void 0,null===t||void 0===t?void 0:t.amount)," "]})]})})(H),!f&&(null===H||void 0===H||null===(a=H.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===a?void 0:a.map(((e,t)=>Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsxs)("span",{className:"payment-type",children:[" ",e.chargeType]}),Object(g.jsxs)("span",{className:"payment-amount",children:[I,ge.call(void 0,e.amount)," "]})]},t)))),U>0&&Object(g.jsxs)("div",{className:"reciept-payment-details",children:[Object(g.jsx)("span",{className:"payment-type",children:Object(u.translateWithI18Next)(te)}),Object(g.jsxs)("span",{className:"payment-amount",children:[" ","- ",I,ge(U)]})]}),"PICKUP"===B.toUpperCase()&&le&&Object(g.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(g.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(ie)}),Object(g.jsx)("span",{className:"payment-amount",id:"amountStyle",children:be})]}),Boolean(de)&&Object(g.jsxs)("div",{className:"reciept-payment-details",id:"priceListData",children:[Object(g.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(u.translateWithI18Next)(ne)}),Object(g.jsx)("span",{className:"payment-amount",id:"amountStyle",children:ue})]}),Object(g.jsxs)("div",{className:"reciept-payment-details mt-4",children:[Object(g.jsx)("span",{className:"payment-total",children:Object(u.translateWithI18Next)(q)}),Object(g.jsxs)("span",{className:"payment-total-amount",children:[I,ge(w)]})]}),he&&Object(g.jsx)("div",{children:Object(g.jsx)(m.a,{"data-testid":"map-modal",isOpen:he,handleClose:()=>pe(!1),OrderReducerData:l})})]})]})}},1057:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return c}));var i=a(3);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},n.apply(this,arguments)}var s=function(e){var t=Object(i.useRef)(e);return t.current=e,t},o=function(e){var t=void 0===e?{}:e,a=t.requestOptions,o=t.debounce,l=void 0===o?200:o,c=t.cache,d=void 0===c?86400:c,r=t.cacheKey,u=t.googleMaps,v=t.callbackName,b=t.defaultValue,j=void 0===b?"":b,m=t.initOnMount,O=void 0===m||m,h=Object(i.useState)(!1),p=h[0],N=h[1],g=Object(i.useState)(j),I=g[0],x=g[1],S=Object(i.useState)({loading:!1,status:"",data:[]}),E=S[0],f=S[1],T=Object(i.useRef)(null),C=s(a),A=s(u),y=r?"upa-"+r:"upa",D=Object(i.useCallback)((function(){var e;if(!T.current){var t=window.google,a=A.current,i=(null==a?void 0:a.places)||(null==t||null==(e=t.maps)?void 0:e.places);i?(T.current=new i.AutocompleteService,N(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),_=Object(i.useCallback)((function(){f({loading:!1,status:"",data:[]})}),[]),R=Object(i.useCallback)((function(){try{sessionStorage.removeItem(y)}catch(e){}}),[]),L=Object(i.useCallback)(function(e,t){var a;return function(){for(var i=this,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];null!==a&&(clearTimeout(a),a=null),a=setTimeout((function(){return e.apply(i,s)}),t)}}((function(e){if(e){f((function(e){return n({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(y)||"{}")}catch(a){}d&&(t=Object.keys(t).reduce((function(e,a){return t[a].maxAge-Date.now()>=0&&(e[a]=t[a]),e}),{}))[e]?f({loading:!1,status:"OK",data:t[e].data}):T.current.getPlacePredictions(n({},C.current,{input:e}),(function(i,n){if(f({loading:!1,status:n,data:i||[]}),d&&"OK"===n){t[e]={data:i,maxAge:Date.now()+1e3*d};try{sessionStorage.setItem(y,JSON.stringify(t))}catch(a){}}}))}else _()}),l),[l,_]),k=Object(i.useCallback)((function(e,t){void 0===t&&(t=!0),x(e),T.current&&t&&L(e)}),[L]);return Object(i.useEffect)((function(){if(!O)return function(){return null};var e=window.google;return A.current||null!=e&&e.maps||!v?D():window[v]=D,function(){window[v]&&delete window[v]}}),[v,D]),{ready:p,value:I,suggestions:E,setValue:k,clearSuggestions:_,clearCache:R,init:D}},l=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(a,i){t.geocode(e,(function(t,n){"OK"!==n&&i(n),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),a(t)),a(t)}))}))},c=function(e){return new Promise((function(t,a){try{var i=e.geometry.location,n=i.lat,s=i.lng;t({lat:n(),lng:s()})}catch(o){a(o)}}))}},1069:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return j}));var i=a(19),n=a(9),s=a(6),o=a(0),l=a(54),c=a(5),d=a(1002);const{ANALYTICS_EVENTS:r}=l.a,u=async(e,t)=>{var a;const s=[];s.push({event:e.eventType,[t]:e.selectedData}),console.log(s,"reoder"),await i.a.registerEvent(null===n.a||void 0===n.a||null===(a=n.a.add_to_cart)||void 0===a?void 0:a.name,{data:s[0]},c.xb)},v=(e,t,a)=>{e&&Object(c.Kb)(Object(s.translateWithI18Next)(t),a)},b=(e,t)=>{const{foodLineItem:a,checkProductPriceAndAvail:i,itemMapById:n,reOrderAnalyticEvent:l}=t,v=null===a||void 0===a?void 0:a.filter((e=>{var t;return i(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,n)}));0!==(null===v||void 0===v?void 0:v.length)&&l&&((e,t,a)=>{const i=window.location.href,n=[...e].map(((e,n)=>{var l,r,u,v,b,j;let m=((null===e||void 0===e?void 0:e.unitPrice)/t).toFixed(2);const O=[];null===e||void 0===e||null===(l=e.item)||void 0===l||null===(r=l.modGrps)||void 0===r||r.forEach((e=>{var t;O.push(null===e||void 0===e||null===(t=e.modifiers[0])||void 0===t?void 0:t.name)}));const{categoryId:h=o.Ed,categoryName:p=o.Ed}=null!==(u=null===a||void 0===a?void 0:a[null===e||void 0===e||null===(v=e.item)||void 0===v?void 0:v.id])&&void 0!==u?u:{},N=localStorage.getItem(o.lb);return{item_name:Object(c.fb)(null===e||void 0===e||null===(b=e.item)||void 0===b?void 0:b.name,o.Ed),item_id:Object(c.fb)(null===e||void 0===e||null===(j=e.item)||void 0===j?void 0:j.id,o.Ed),item_category:p,price:Object(c.fb)(parseFloat(m),o.Ed),item_variant:Object(c.fb)(O.join(", "),o.Ed),item_list_name:null!==i&&void 0!==i&&i.endsWith(o.b)?N:Object(s.translateWithI18Next)(d.HOMEPAGE_REORDER),item_list_id:h,index:n+1,quantity:null===e||void 0===e?void 0:e.quantity}}));u({eventType:r.ADD_TO_CART,selectedData:{add_to_cart:{items:n}}},o.Tb)})(v,e,n)},j=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NA";await i.a.registerEvent(null===n.a||void 0===n.a||null===(e=n.a.trackOrder)||void 0===e?void 0:e.name,{data:{event:"trackOrder",orderValue:t}},c.xb)}},1089:function(e,t,a){"use strict";var i=a(3),n=a(1002),s=a(121),o=a(36),l=a(6),c=a(15),d=a(2);var r=e=>{const{onCancel:t,onContinue:a}=e,{CONTINUE:i,CANCEL:s,ReorderConstants:r}=n,{CLEAR_CART_MSG:u,CLEARE_AWARE_MSG:v,CLEAR_CART_COMPLETE_MSG:b}=r,{CartError:j}=c.a;return Object(d.jsxs)("div",{className:"reorder-modal-container",children:[Object(d.jsxs)("div",{className:"reorder-error-container",children:[Object(d.jsx)("img",{src:j,alt:"error-cart-icon",className:"error-icon mb-3"}),Object(d.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(d.jsx)("span",{children:Object(l.translateWithI18Next)(v)}),Object(d.jsx)("span",{className:"red-text",children:Object(l.translateWithI18Next)(u)}),Object(d.jsx)("span",{children:Object(l.translateWithI18Next)(b)})]})]}),Object(d.jsxs)("div",{className:"reorder-modal-btn",children:[Object(d.jsx)(o.a,{"data-testid":"confirmation-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(l.translateWithI18Next)(s)}),Object(d.jsx)(o.a,{"data-testid":"continue-button",className:"button blackButton blackBorder save-button",onClickHandler:a,children:Object(l.translateWithI18Next)(i)})]})]})},u=a(5),v=a(136),b=a(37),j=a.n(b),m=a(4),O=a(25),h=a(43),p=a(61),N=a(964),g=a(14),I=a(30),x=a(1069),S=a(11),E=a(22),f=a(76),T=a(101),C=a(336),A=a(97),y=a(0),D=a(318);const{DELIVER_TO:_,TOTAL:R,DISCOUNT:L,SUBTOTAL:k,WHEN:w,PLEASE_REVIEW_YOUR_ORDER:M,TODAY:P,ASAP:F,ITEMS:W,WANT_TO_MODIFY:H,ITEM_ADDED_TO_CART_MSG:U,KEEP_SHOPING:B,ADD_A_COUPON:G,CONTINUE_TO_PAYMEN:Y,PRICE_CHANGE_MAIN:V,PRICE_CHANGE_TEXT:K,UNAVAILABLE:z,TAKEAWAY:J,DINE_IN_TEXT:q,STORE_CLOSED:X,GENERIC_ERROR:Q,GST:Z,CLOSED:$,SET_DISPOSITION:ee,SEARCH_IN_CART:te,LARGE_CARRY_BAG:ae,ADD_HOPE_TEXT:ie,DISPOISTIONUN_AVAL:ne,UNAVAILABLE_ERROR:se,QUICK_ORDER:oe,SCHEDULE_ORDER_DATA:le,CHANGE_ORDER_SETTING:ce}=n.ReorderConstants;var de=e=>{var t,a;const{onCancel:s,onContinue:r,onAddCoupon:b,storeInfo:g={},isBasketAdded:le}=e,{summary:ce={},service:de=""}=g,{status:re={}}=Object(u.kd)(ce),{currentStatus:ue=""}=Object(u.kd)(re),ve=ue!==$,be=Object(O.b)(),[je,me]=Object(i.useState)(0),[Oe,he]=Object(i.useState)(0),[pe,Ne]=Object(i.useState)(!1),[ge,Ie]=Object(i.useState)(!0),[xe,Se]=Object(i.useState)(),{userOrderState:Ee,userOrderStateDispatch:fe}=Object(i.useContext)(f.a),{Error:Te}=c.a,[Ce,Ae]=Object(i.useState)(""),[ye,De]=Object(i.useState)(""),[_e,Re]=Object(i.useState)(0),[Le,ke]=Object(i.useState)(0),[we,Me]=Object(i.useState)([]),[Pe,Fe]=Object(i.useState)(!1),[We,He]=Object(i.useState)(!1),[Ue,Be]=Object(i.useState)(!1),[Ge,Ye]=Object(i.useState)(!1),Ve=Object(u.Jd)(Ee.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ee.dispositionNew,{tenantReducer:Ke,postOrderReducer:ze,reorderReducer:Je,cartReducer:qe,profileReducer:Xe,appStateReducer:Qe}=Object(O.c)((e=>e)),{flatResponse:{itemMapById:Ze={}}={}}=null!==(t=Object(O.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{};let $e=Object(l.translateWithI18Next)(X),et=null===$e||void 0===$e?void 0:$e.replace("%storeName%",null===ce||void 0===ce?void 0:ce.name);const tt=Object(p.g)(),{cartData:at={},qrCodeScanTime:it}=Object(u.kd)(qe),{errors:nt=[]}=Object(u.kd)(at),{tenantId:st,currencySymbol:ot,currencyConversionFactor:lt,addHope:ct,carryBag:dt,showCustomDeliveryFee:rt}=Ke,{orderAccepted:ut={}}=Object(u.kd)(ze),{flatResponse:vt}=Je,{items:bt=[]}=Object(u.kd)(vt),{flatResponse:{itemMapById:jt={},categoryMapById:mt={}}={}}=Object(u.Lb)(Je),{customerId:Ot}=Xe,{userStatus:ht}=Object(u.kd)(Qe),{deliveryAddress:pt={},foodLines:Nt=[],subTotal:gt,total:It,taxLines:xt=[],additionalChargeLines:St=[],store:Et={},service:ft="",lang:Tt="",source:Ct="",catalog:At="",inclusiveTaxTotal:yt,discountTotal:Dt}=ut,{storeId:_t="",address:Rt={}}=Object(u.kd)(Et),Lt={...g,...Et,id:_t,addresses:[{address:{addressLines:[Object(u.Wb)(Rt)]},lang:Tt}],name:[{lang:Tt,value:Et.name}]};Object(i.useEffect)((()=>{if(Object(u.db)(ct,dt)){let e={setAddHopeDataExistsId:De,setAddHopeDataPrice:Re},t={setCarryBagDataExistsId:Ae,setCarryBagDataPrice:ke};Object(C.i)(ut,ct,dt,te,e,t,Ke);let a=Object(u.Pb)(Nt,ct,dt);Me(a),function(e,t,a,i,n){e||t(a)}(le,Pt,a)}}),[ut]);const kt=(e,t,a,i)=>{var n;const{id:s="",name:o="",url:l=""}=null!==(n=null===i||void 0===i?void 0:i[null===a||void 0===a?void 0:a.categoryId])&&void 0!==n?n:{};return e.push({Id:t.item.id,quantity:t.quantity,categoryUrl:l,categoryName:o,categoryId:s})},wt=e=>{const t=[];let a=0,i=0;return null===e||void 0===e||e.forEach((e=>{const{isAvailable:n,product:s}=Ft(e.item.id,jt);"hidden"!==(null===n||void 0===n?void 0:n.toString())&&(n?n&&n!==e.unitPrice?(i+=1,kt(t,e,s,mt)):kt(t,e,s,mt):a+=1)})),me(a),he(i),{unAval:a,itemArr:t}},Mt=e=>{var t,a,i,n,s,o;be(Object(I.r)());const l=wt(e);!function(e,t,a,i,n,s){t.unAval!==a.length&&e(Object(I.a)({params:{basketId:i},tenantId:n},t.itemArr,(()=>s(!0))))}(be,l,e,We,st,Ye);const{futureDates:c,scheduled:d,asap:r}=(null===ce||void 0===ce?void 0:ce.timings)||{},{interval:v=0,startEndTime:b={}}=(null===d||void 0===d||null===(t=d.periods)||void 0===t?void 0:t.length)&&d.periods[0]||{},{from:j,to:m}=b;Object(T.j)(j,m,v,null===r||void 0===r?void 0:r.isAvailable,1===(null===c||void 0===c?void 0:c.length)&&"INDIA"===(null===Ke||void 0===Ke?void 0:Ke.country));let O={time:"ASAP",interval:null===Lt||void 0===Lt||null===(a=Lt.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(s=n.periods[0])||void 0===s?void 0:s.interval,date:new Date,selectedTime:"ASAP"};be(Object(A.a)({...ht,localized:!0}));const h="".concat(null===pt||void 0===pt||null===(o=pt.addressLines)||void 0===o?void 0:o.join("")," ").concat(null===pt||void 0===pt?void 0:pt.city," ").concat(null===pt||void 0===pt?void 0:pt.state," ").concat(null===pt||void 0===pt?void 0:pt.country);fe({type:ee,value:{newValue:{type:Object(u.Fb)(ft),store:Lt,date:O.date,time:O.time,interval:O.interval,selectedTime:O.selectedTime,deliveryAddress:h},oldvalue:Ve}}),localStorage.setItem("dispositionNew",JSON.stringify({type:Object(u.Fb)(ft),store:Lt,time:O.time,date:O.date,selectedTime:O.selectedTime,interval:O.interval,deliveryAddress:h})),localStorage.setItem("dispositionOld",JSON.stringify(Ve))};Object(i.useEffect)((()=>{Pe&&(Fe(!1),Mt(we))}),[jt,we,Pe,le]);const Pt=e=>{var t;const a={storeId:Object(u.md)(_t),service:ft,channel:E.b.channel,requestedDateTime:{isForNow:!0,futureDateTime:0},customerId:Ot,deliveryAddress:{...pt,name:Object(u.md)(null===pt||void 0===pt?void 0:pt.name),pinCode:Object(u.md)(null===pt||void 0===pt?void 0:pt.pinCode)},catalog:At,lang:Tt,source:Ct},i=Object(u.Zd)(it),n=localStorage.getItem(y.gd.STORE_ID),s=null===(t=localStorage.getItem(y.gd.DISPOSITION_TYPE))||void 0===t?void 0:t.toLowerCase();i&&it&&(null===a||void 0===a?void 0:a.storeId)===n&&(null===a||void 0===a?void 0:a.service)===s?a.qrOrder={isQROrder:!0,qrScannedTime:it}:be(Object(I.m)("")),be(Object(I.f)({data:a,tenantId:st,successCallback:null,errorCallback:()=>wt(e)}))};Object(i.useEffect)((()=>{if(le){const{id:e}=at;He(e),be(Object(N.b)({tenantId:st,catalogName:At},{storeId:_t,channel:E.b.channel,service:ft},(()=>Fe(!0))))}}),[le,we]);const Ft=(e,t)=>{let a=!1;const i=Object(S.e)(y.sb.lll),n=Object(u.Lb)(null===t||void 0===t?void 0:t[e]),s=Object(u.rb)(null===n||void 0===n?void 0:n.availability,""),o=null===s||void 0===s?void 0:s.availableHours,l=null===o||void 0===o?void 0:o.startTime.time,c=null===o||void 0===o?void 0:o.endTime.time,d=Object(D.j)(Object(u.y)(l),y.sb.lll,1e3*i),r=Object(D.j)(Object(u.y)(c),y.sb.lll,1e3*i);a=Object(S.f)(i,d,r);return(null===n||void 0===n?void 0:n.isHidden)&&(a="hidden"),a&&(a=null===s||void 0===s?void 0:s.price),{isAvailable:a,product:n}},Wt={foodLineItem:we,checkProductPriceAndAvail:Ft,itemMapById:jt,reOrderAnalyticEvent:Ue,menuItemsMapById:Ze};Object(i.useEffect)((()=>{let e=function(e,t,a,i,n,s,o){let c=!1,d="";if(t){if(e.length>0)d=Object(l.translateWithI18Next)(Q);else if(i>0)d=Object(l.translateWithI18Next)(se);else if(n>0)d=n+" "+Object(l.translateWithI18Next)(K)+" "+Object(l.translateWithI18Next)(V),c=!0;else if(null===s){const e=Object(l.translateWithI18Next)(ne);d=null===e||void 0===e?void 0:e.replace("%disposition%",Object(u.Fb)(o))}}else d=a;return{error:d,isPriceChange:c}}(nt,ve,et,je,Oe,ce,de);const t=Object(u.db)(je>0,je!==we.length);Ge&&Ie(Object(u.Tc)(Object(u.fb)(e.isPriceChange,t),!1,""!==e.error)),Be(Object(u.Tc)(Object(u.ob)(e.isPriceChange,t,""===e.error),!0,!1)),Ne(""!==e.error),Se(e.error)}),[bt,je,Oe,ve,nt,ce,Ge]),Object(i.useEffect)((()=>{Object(x.b)(pe,oe,xe)}),[pe]);const Ht=e=>e.toFixed(2);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"ReorderModal",children:[Object(d.jsx)("div",{className:"reorder-header",children:Object(d.jsx)("span",{className:"your-order",children:Object(l.translateWithI18Next)(M)})}),pe&&Object(d.jsx)("div",{className:"error-container",children:Object(d.jsx)("div",{className:"error-sub-container",children:Object(d.jsxs)("div",{children:[Object(d.jsx)(h.a,{srcFile:Te,className:"location-alert-icon mr-1"}),Object(d.jsx)("div",{className:"error-msg",children:xe})]})})}),Object(d.jsx)("hr",{className:"horizontal-bar"}),Object(d.jsxs)("div",{className:"reorder-order-detail",children:["delivery"===ft.toLowerCase()&&Object(d.jsxs)("div",{className:"reorder-details-heading",children:[Object(d.jsx)("span",{className:"reorder-sub-heading",children:Object(l.translateWithI18Next)(_)}),Object(d.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(u.a)(pt)})]}),"delivery"!==ft.toLowerCase()&&Object(d.jsxs)("div",{className:"reorder-details-heading",children:[Object(d.jsxs)("span",{className:"reorder-sub-heading",children:["dine-in"===ft.toLowerCase()&&Object(l.translateWithI18Next)(q),"pickup"===ft.toLowerCase()&&Object(l.translateWithI18Next)(J)+" FROM"]}),Object(d.jsx)("span",{className:"reorder-sub-detail width-style-lg",children:Object(u.Wb)(Rt)})]}),Object(d.jsxs)("div",{className:"reorder-details-heading",children:[Object(d.jsx)("span",{className:"reorder-sub-heading",children:Object(l.translateWithI18Next)(w)}),Object(d.jsxs)("span",{className:"reorder-sub-detail width-style",children:[Object(l.translateWithI18Next)(P)," ",Object(l.translateWithI18Next)(F)]})]})]}),Object(d.jsx)("section",{className:"reorder-accordian",children:Object(d.jsx)("div",{className:"mt-2",children:Object(d.jsxs)(v.a,{header:"".concat(Object(C.g)(we)," ").concat(W),"data-testid":"order-details",children:[we.map((e=>{var t,a;const{isAvailable:i}=Ft(e.item.id,jt);return Object(d.jsx)("section",{className:"",children:Object(d.jsxs)("div",{className:"reorder-order-item",children:[Object(d.jsxs)("div",{className:"reorder-item-details mt-2",children:[Object(d.jsx)("div",{className:"item-count-box mr",children:Object(d.jsx)("span",{className:"item-count ml",children:e.quantity})}),Object(d.jsxs)("div",{className:"item-desc-section",children:[Object(d.jsx)("span",{className:"item-desc",children:null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.name}),Object(d.jsx)("span",{className:"item-desc-quantity",children:(n=null===e||void 0===e?void 0:e.item,j()(n,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>" ".concat(e.quantity,"x ").concat(e.name))).join())})]})]}),!i&&Object(d.jsxs)("div",{className:"unavialble-alert",children:[Object(d.jsx)(h.a,{srcFile:Te,className:"location-alert-icon"}),Object(d.jsx)("span",{className:"alert-text",children:Object(l.translateWithI18Next)(z)})]}),i&&i!==e.unitPrice&&Object(d.jsxs)("div",{className:"cart-item-price",children:[Object(d.jsxs)("span",{className:"old-price",children:[ot,Ht(e.unitPrice/lt)]}),Object(d.jsxs)("span",{className:"modified-price",children:[ot,Ht(i/lt)]})]}),i===e.unitPrice&&Object(d.jsxs)("span",{className:"item-amount",children:[ot,Ht((null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.unitPrice)/lt)]})]})});var n})),Object(d.jsxs)("div",{className:"reorder-modification-box mb-4",children:[Object(d.jsx)("span",{className:"reorder-heading mt-3",children:Object(l.translateWithI18Next)(H)}),Object(d.jsx)("span",{className:"reorder-subheading mt-2",children:Object(l.translateWithI18Next)(U)}),Object(d.jsxs)("div",{className:"reorder-modal-btn mt-3 mb-3",children:[Object(d.jsx)(o.a,{"data-testid":"keep-shoping-button",className:"button whiteButton ".concat(ve?"blackBorder":"grayButton"),onClickHandler:ve?()=>{Object(x.d)("keepShopping"),Object(x.c)(lt,Wt),tt.push({pathname:"/menu"}),sessionStorage.setItem("reorderClick",!1)}:null,children:Object(l.translateWithI18Next)(B)}),Object(d.jsx)(o.a,{"data-testid":"add-coupon-button",className:"button whiteButton ".concat(ve?"blackBorder":"grayButton"),onClickHandler:Object(u.Tc)(!ve,null,(()=>{b(lt,Wt,x.c)})),children:Object(l.translateWithI18Next)(G)})]})]})]})})}),Object(d.jsxs)("div",{className:"reorder-order-detail",children:[Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:Object(l.translateWithI18Next)(k)}),Object(d.jsxs)("span",{className:"payment-amount",children:[ot,Ht(gt/lt)]})]}),xt&&Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:Z}),Object(d.jsxs)("span",{className:"payment-amount",children:[ot,Ht(yt/lt)]})]}),!rt&&(null===St||void 0===St||null===(a=St.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===a?void 0:a.map((e=>Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:null===e||void 0===e?void 0:e.chargeType}),Object(d.jsxs)("span",{className:"payment-amount",children:[ot,Ht((null===e||void 0===e?void 0:e.amount)/lt)]})]})))),rt&&(e=>e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))).map(((e,t)=>Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:Object(l.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.DELIVERY_FEE)}),Object(d.jsxs)("span",{className:"payment-amount",children:[ot,Ht((null===e||void 0===e?void 0:e.amount)/lt)]})]},t))))(St),rt&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:Object(l.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.IN_DELIVERY_FEE)}),Object(d.jsxs)("span",{className:"payment-amount","data-testid":"custom-delivery-fee-amount",children:[ot,Ht(t.amount/lt)]})]})})(St),Dt>0&&Object(d.jsxs)("div",{className:"reorder-payment-details",children:[Object(d.jsx)("span",{className:"payment-type",children:Object(l.translateWithI18Next)(L)}),Object(d.jsxs)("span",{className:"payment-amount",children:["\u2013 ",ot,Ht(Dt/lt)]})]}),"PICKUP"===ft.toUpperCase()&&Ce&&Object(d.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(d.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(l.translateWithI18Next)(ae)}),Object(d.jsx)("span",{className:"payment-amount",id:"amountStyle",children:Le})]}),Boolean(ye)&&Object(d.jsxs)("div",{className:"reorder-payment-details",id:"priceListData",children:[Object(d.jsx)("span",{className:"payment-type",id:"fontStyle",children:Object(l.translateWithI18Next)(ie)}),Object(d.jsx)("span",{className:"payment-amount",id:"amountStyle",children:_e})]}),Object(d.jsxs)("div",{className:"reorder-payment-details mt",children:[Object(d.jsx)("span",{className:"payment-total",children:Object(l.translateWithI18Next)(R)}),Object(d.jsxs)("span",{className:"payment-total-amount",children:[ot,Ht(It/lt)]})]})]})]}),Object(d.jsxs)("div",{className:"modal-footer",children:[Object(d.jsx)(o.a,{"data-testid":"quick-reorder-cancel",className:"button whiteButton blackBorder cancel-btn btn-quick-order",onClickHandler:s,children:Object(l.translateWithI18Next)(n.CANCEL)}),Object(d.jsx)(o.a,{"data-testid":"quick-order-continue-button",className:"button ".concat(Object(u.Tc)(ge,"grayButton","redButton")," "),onClickHandler:Object(u.Tc)(ge,null,(()=>{r(lt,Wt,x.c)})),children:Object(l.translateWithI18Next)(Y)})]})]})},re=a(380),ue=a(382),ve=a(167),be=a(87);t.a=e=>{const{reorderModalOpen:t,setReorderModalOpen:a,isQuickReorderModalOpen:o,setQuickReorderModalOpen:c,storeInfo:v}=e,{userOrderStateDispatch:b}=Object(i.useContext)(f.a),j=Object(O.b)(),{QUICK_ORDER:m,CHECKOUT:h,CART:N}=n.ReorderConstants,[x,S]=Object(i.useState)(t),[E,T]=Object(i.useState)(Object(u.Ud)(window.innerWidth)),[C,A]=Object(i.useState)({name:"",payload:{}}),[y,D]=Object(i.useState)(!1),[_,R]=Object(i.useState)(!1),[L,k]=Object(i.useState)(),[w,M]=Object(i.useState)(),[P,F]=Object(i.useState)(!1),[W,H]=Object(i.useState)({}),[U,B]=Object(i.useState)(!1),[G,Y]=Object(i.useState)(!1),V=Object(p.g)(),K=Object(O.c)((e=>e.appStateReducer.userStatus)),{TENDER_DATA:z,PAYMENET_FORM_PAYLOAD:J}=g.a,{cartReducer:q,tenantReducer:X,profileReducer:Q}=Object(O.c)((e=>e)),{tenantId:Z}=X,{cartData:$={},isValidated:ee=!1,isBasketAdded:te}=q,ae=null===Q||void 0===Q?void 0:Q.basic,{discountLines:ie=[],id:ne}=$||{},[se,oe]=Object(i.useState)(be.c),le=Object(i.useCallback)((e=>{oe&&oe((t=>({...t,...e})))}),[]);Object(i.useEffect)((()=>{Object(u.Kd)(ae)&&K.loggedIn&&(()=>{const{phone:e,email:t}=(e=>{const t={...e},{firstName:a="",middleName:i="",lastName:n="",email:s="",phone:o=""}=t;return{fullName:(a||"")+(i||"")+(n||""),email:s,phone:o}})(ae);k(e),M(t);const a=Boolean(t||e);D(a)})()}),[ae]);const ce=()=>{const e=Object(u.Ud)(window.innerWidth);T(e)};Object(i.useEffect)((()=>(window.addEventListener("resize",ce),()=>{window.removeEventListener("resize",ce)})),[E]),Object(i.useEffect)((()=>{Object(be.x)({cartData:$,checkoutDetails:se,updateCheckoutDetails:le})}),[]);const je=()=>{j(Object(I.o)({basketId:ne,tenantId:Z})),c(!1),a(!1),sessionStorage.setItem("reorderClick",!1)},me={id:"reorderModal",role:"dialog",modalTitleId:"reorderModal",show:x,classNames:"Base-modal ".concat(E?"mobile-reorder-modal":"reorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>a(!1),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},Oe={id:"QuickReorderModal",role:"dialog",modalTitleId:"QuickReorder",show:o,classNames:"Base-modal ".concat(E?"mobile-QuickReorder-modal":"QuickReorder-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:je,modalTitle:Object(l.translateWithI18Next)(m),closeDataTestId:"close-quick-reorder-modal",autoFocus:!0},[he,pe]=Object(i.useState)(!1);return Object(d.jsxs)(d.Fragment,{children:[x&&Object(d.jsx)(s.a,{...me,children:Object(d.jsx)(r,{onCancel:()=>a(!1),onContinue:()=>{if(ie.length>0&&ne){let e=ie.map((e=>e.id));j(Object(I.n)({params:{basketId:ne},tenantId:Z,shouldClearCart:!0},e))}else ne&&j(Object(I.o)({basketId:ne,tenantId:Z}));c(!0),S(!1)}})}),o&&!he&&Object(d.jsx)(s.a,{...Oe,children:Object(d.jsx)(de,{storeInfo:v,cartData:$,onCancel:je,onContinue:(e,t,a)=>{a(e,t),Object(ve.a)(y,U,B,H,w,L,A,null,null,Y),pe(!0),sessionStorage.setItem("reorderClick",!1)},isBasketAdded:te,onAddCoupon:(e,t,a)=>{a(e,t),R(!0),pe(!0)}})}),Object(d.jsx)(re.a,{checkoutDetails:{...se,cartData:$,isClickAddPayment:U,openPaymentPopup:G,tenantId:Z,basketId:ne},isClickAddPayment:U,setIsClickAddPayment:B,updateCheckoutDetails:le,onSubmit:()=>{V.push({pathname:"/".concat(h)})},onClose:()=>{a(!1),pe(!1),c(!1)},cartData:$,isValidated:ee,basketId:null===$||void 0===$?void 0:$.id,tenantId:Z,tender:C,setTender:e=>(e=>{A(e),b({type:z,value:{tenderInfo:e,isPaymentAdded:!0}})})(e),isValid:P,setIsValid:F,formPayload:W,setFormPayload:e=>(e=>{H(e),b({type:J,value:{paymentFormPayload:e}})})(e)}),_&&Object(d.jsx)(ue.a,{"data-testid":"coupon-modal",bucketId:ne,isOpen:_,handleClose:e=>{"true"===e?(V.push({pathname:"/".concat(N)}),sessionStorage.setItem("reorderClick",!1)):(pe(!1),R(!1),c(!0))}})]})}},811:function(e,t,a){"use strict";a.r(t);t.default={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card",LOGIN_ACTION:"login-actions/registration?client_id=",REDIRECT_PATH_NAME:"redirect_path_name",SIGNOUT:"/signout",OPEN_ID_CONNECT:"/openid-connect/",CODE_CHALLENGE:"code_challenge",CODE_VERIFIER:"code_verifier",REGISTRATIONS:"registrations?"}},813:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleOrder",(function(){return b}));var i=a(3),n=a.n(i),s=a(936),o=a(121),l=a(2);var c=e=>{const{handleClose:t,ScheduleOrderForm:a,headerText:i,modalTitleId:s="",handleGoBack:c}=e;return Object(l.jsx)(n.a.Fragment,{children:Object(l.jsx)(o.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:s,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:c,children:a})})},d=a(76),r=a(14),u=a(6),v=a(4);const b=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:a,userOrderStateDispatch:n}=Object(i.useContext)(d.a),{SEARCH_ORDER_DATA:o,SCHEDULE_ORDER_DATA:b}=r.a,{scheduleOrderData:j}=a,{changeFlow:m=!1}=j,O=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),n({type:b,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),n({type:o,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&O(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const h=Object(l.jsx)(s.a,{onStoreSelectFinish:t});return Object(l.jsx)(c,{handleGoBack:()=>{n({type:o,value:{showSearchStore:!0}}),n({type:b,value:{showScheduleOrderCatering:!1}})},handleClose:O,ScheduleOrderForm:h,modalTitleId:"schedule-order",headerText:m?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=b},814:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return vt}));var i=a(12),n=a(13),s=a(6),o=a(269),l=a(63),c=a(155),d=a(22),r=a(5),u=a(76),v=a(3),b=a.n(v),j=a(25),m=a(807),O=a(14),h=a(128),p=a(330),N=a(212),g=a(43),I=a(266),x=a.n(I),S=a(36),E=a(928),f=a(323),T=a(49),C=a(15),A=a(2);const y=e=>!0===e.includes(",")?e.replace(",",", "):e;var D=e=>{var t,a;const{onMapClickHandler:i,startOrderFormSavedAddress:n}=e,{MapImage:o}=C.a,{SAVED_ADDRESS:l,SAVED_ADDRESSES:c,START_ORDER_TEXT:d}=h.a,{savedAddresses:r}=Object(j.c)((e=>e.profileReducer)),u=null===(t=r.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"savedAddress-store-count",children:[Object(A.jsxs)("span",{className:"saved-address-count-title",children:[r.length>1?"".concat(Object(s.translateWithI18Next)(c)," "):"".concat(Object(s.translateWithI18Next)(l))," ","(",r.length,")"," "]}),Object(A.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>i(e,"",u),children:Object(A.jsxs)(N.a,{className:"map-link",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:o,alt:"map",className:"map-img"})}),"Map"]})})]}),r.map((e=>Object(A.jsx)("div",{className:"savedAddress-module-card",children:Object(A.jsxs)("div",{className:"inside-card",children:[Object(A.jsxs)("div",{className:"address-section",children:[Object(A.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(A.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(A.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(A.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(A.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(A.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(A.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(A.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(A.jsx)("div",{children:Object(A.jsx)(S.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var a;const{latitude:i,longitude:s}=t.location,o={userLat:i,userLong:s},l=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);n(l,o)})(0,e),"data-testid":"savedaddress-click-test",children:Object(s.translateWithI18Next)(d)})})]})})))]})})},_=a(124);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:a,dispositionType:i,onRetryClickHandler:n,onMapClickHandler:o,showMap:l}=e,{userOrderStateDispatch:c}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:d}=O.a,{DELIVERY_UNAVAILABLE_WITH_CTA:r,TAKE_AWAY:j,TYPE_TAKE_WAY:m,RETRY_TEXT:p,CTA1_SEARCH_DIFF_ADDRESS:N,CTA2_ORDER_TAKEAWAY:I,CTA2_VIEW_MAP_BUTTON_TEXT:x}=h.a,{Error:E}=C.a,f=Object(_.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":l});return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===i?f:"error-alert-location-popup error-adjust",children:[Object(A.jsx)(g.a,{srcFile:E,className:"location-alert-icon"}),t!==r&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"location-error-address",children:Object(s.translateWithI18Next)(t)}),Object(A.jsxs)("div",{className:"location-error-button-section",children:[Object(A.jsx)(S.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),a()})(e),children:Object(s.translateWithI18Next)(N)}),i.toLowerCase()!==j.toLowerCase()&&Object(A.jsx)(S.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),c({type:d,value:{dispositionType:m}})})(e),children:Object(s.translateWithI18Next)(I)})]})]}),t===r&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"location-error-address",children:Object(s.translateWithI18Next)(t)}),Object(A.jsxs)("div",{className:"location-error-button-section",children:[Object(A.jsx)(S.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>n(e),children:Object(s.translateWithI18Next)(p)}),i!==j&&Object(A.jsx)(S.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>o(e),children:Object(s.translateWithI18Next)(x)})]})]})]})})},L=a(0),k=a(110),w=a(69),M=a(318);const{LocationImage:P,GoogleMapLocationImage:F,SuggestionItemSearchPin:W,clearTextIcon:H,Time_Clock:U,Error:B,MapImage:G}=C.a,{MIN_SEARCH_CHARACTER_LIMIT:Y,SUUGESTED_ITEMS_TEXT:V,ALLOWED_SUGGESTION_LIST:K,ALREADY_SERACHED_LOCATIONS:z,COUNTRY_CODE:J,SUGGESTION_ACTIVE_COLOR:q,SUGGESTION_ACTIVE_OPACITY:X,BRAND_BLACK:Q,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ae,DELIVERY_UNAVAILABLE:ie,DELIVERY_UNAVAILABLE_WITH_CTA:ne,NOTAVAILABLE:se,CTA1_SEARCH_DIFF_ADDRESS:oe,TAKE_AWAY:le,CTA2_ORDER_TAKEAWAY:ce}=h.a,de=(e,t)=>{t()},re=e=>{var t;let{eligibleStoreData:a,suggestedAddress:i,setNegativeScenarioAlert:n,getNegativeView:o}=e,l=null===a||void 0===a?void 0:a.filter((e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0})),c=l.filter((e=>{var t,a,i,n,s,o;const l="CLOSED"===e.summary.status.currentStatus,c=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),d=-1!==(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(s=n.status)||void 0===s||null===(o=s.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN"));return l&&(c||d)})),d=Object(f.a)("delivery",l);var u;return Object(r.id)(d,Object(r.id)(!(null!==(t=i[0])&&void 0!==t&&t.description),(null===c||void 0===c?void 0:c.length)===l.length))?(Object(r.db)((null===c||void 0===c?void 0:c.length)===(null===l||void 0===l?void 0:l.length),null===l||void 0===l?void 0:l.length)?d=ie:null!==(u=i[0])&&void 0!==u&&u.description||(d=ne),n(d),Object(r.Kb)(Object(s.translateWithI18Next)(p.a.contentData.deliveryHeaderText),Object(s.translateWithI18Next)(d)),o(d)):void 0},ue=(e,t,a)=>Object(A.jsx)(S.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(s.translateWithI18Next)($)}),ve=(e,t,a)=>{var i,n,s,o,l;return null===e||void 0===e||null===(i=e.toString())||void 0===i||null===(n=i.replace)||void 0===n||null===(s=n.call(i,t,""))||void 0===s||null===(o=s.trim())||void 0===o||null===(l=o.replace)||void 0===l?void 0:l.call(o,a,"")};var be=e=>{var t;const{formContent:a={},userPositionHandler:i,singInClickhandler:n,eligibleStoreData:o}=e,{memberText:l="",singInLink:c={},currentLocationText:m="",addressBoxPlaceHolderForDelivery:h=""}=a,{RETAIN_ADDRESS:E}=L.gd,{SCHEDULE_ORDER_DATA:C,DISPOSITION_METHOD:y}=O.a,_=Object(j.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(r.kd)(_),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:ne={},dispositionStateData:be={}}=Z,[he,pe]=Object(v.useState)(""),[Ne,ge]=Object(v.useState)(!1),[Ie,xe]=Object(v.useState)(!1),[Se,Ee]=Object(v.useState)(!1),[fe,Te]=Object(v.useState)({lat:28.7,lng:77.1}),[Ce,Ae]=Object(v.useState)(!1),[ye,De]=Object(v.useState)(!1),[_e,Re]=Object(v.useState)([]),[Le,ke]=Object(v.useState)(""),we=Object(v.useRef)(null),[Me,Pe]=Object(v.useState)(""),[Fe,We]=Object(v.useState)(""),[He,Ue]=Object(v.useState)(!1),[Be,Ge]=Object(v.useState)(!1),[Ye,Ve]=Object(v.useState)(!1),[Ke,ze]=Object(v.useState)(""),[Je,qe]=Object(v.useState)(!1),{dispositionType:Xe=localStorage.getItem("dispositionType")}=be,[Qe,Ze]=Object(v.useState)({}),$e=Object(j.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),et=Object(k.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:at}}},postalcodeRemoveRegex:it=null,specialCharRemoveRegex:nt=null}=Object(j.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),st=Object(j.c)((e=>{var t,a,i,n;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isNearByStoresLoading)||(null===(n=e.storesReducer)||void 0===n?void 0:n.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(f.e)(ye,Fe,p.a)}),[ye,Fe]);const ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(R,{errorMsgToShow:Object(r.id)(Fe,e),onClearTextHandler:bt,onRetryClickHandler:dt,onMapClickHandler:lt,dispositionType:Xe,showMap:Se})})},lt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(f.i)(Se,Xe),Ee(!0),We(!1),t&&!he&&rt(t)},ct=e=>{var t;const a=null===(t=e.toString())||void 0===t?void 0:t.split(" "),i=null===a||void 0===a?void 0:a.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===i||void 0===i?void 0:i.join(" ")},dt=e=>{we.current.select(),ge(!1),Ae(!1),We(!1),De(!1)},rt=async function(e,t,a){var n;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];qe(!1),ze(""),Object(r.db)(null===t,null===a)&&(null===(n=_e[0])||void 0===n?void 0:n.description)&&De(!0),Ue(!0),Ae(!0);const o=await Object(I.geocodeByAddress)(e),l=await Object(I.getLatLng)(o[0]);at&&et(Object(w.d)({key:L.qe.LAT_LONG,value:l})),Te(l),ut(e);const c=tt?ve(e,it,nt):ct(e);pe(c),s||ge(!0),i({userLat:l.lat,userLong:l.lng}),xe(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(E);Object(f.b)(t,Re,rt)}),[]),Object(v.useEffect)((()=>{let e=null===o||void 0===o?void 0:o.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==se})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));Je&&Ke&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ve(!1),$({type:C,value:{deliveryAddress:Ke,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):Ke&&Ve(!0)}),[o,Ke,Je]),Object(v.useEffect)((()=>{}),[fe]);Object(v.useEffect)((()=>{(null===he||void 0===he?void 0:he.length)>2?ge(!ye):(ge(!1),De(!1),We(""));let e=Object(r.d)(he,Y);Ge(e)}),[he]),Object(v.useEffect)((()=>{if(Ie){const e=ct(Me);pe(e),ut(Me),xe(!1)}}),[ne]);const ut=e=>{Object(r.pe)(e,z)},vt=e=>{return t=e,Object(r.jd)(JSON.parse(localStorage.getItem(z))).includes(t);var t},bt=()=>{pe(""),ge(!1),We(""),Re(""),Ve(!1)},jt=async(e,t)=>{Te({lat:t.userLat,lng:t.userLong}),qe(!0);const a=ct(e);pe(a),Ze(t),ut(e),ze(e),i(t)};return Object(A.jsxs)(b.a.Fragment,{children:[Object(A.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"login-section",children:[Object(A.jsx)("span",{className:"delivery-member-signin",children:!G&&Oe(l,n,c)}),Object(A.jsx)("span",{children:Object(A.jsxs)(N.a,{onClickHandler:async()=>{if(Object(T.o)(),await d.b.BindLocation($e),Object(f.m)(),Re([]),d.b.coordinates){const{latitude:e,longitude:t}=d.b.coordinates;d.b.addFeedback("Check coordinates ".concat(JSON.stringify(d.b.coordinates))),d.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),d.b.addFeedback("Check address ".concat(d.b.address)),i({userLat:e,userLong:t}),Pe(d.b.address);const a=ct(d.b.address);pe(a),rt(d.b.address),xe(!0),Re([{description:d.b.address}])}Object(M.s)($,!d.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(A.jsx)(g.a,{"data-testid":"",srcFile:P,alt:" ",className:"location-img"}),Object(s.translateWithI18Next)(m)]})})]}),Object(A.jsxs)("div",{className:"delivery-address-section",children:[Object(A.jsx)("div",{className:"search-delivery-address",children:Object(A.jsx)("div",{className:"input-delivery-address",children:Object(A.jsx)(x.a,{value:he,onChange:e=>{Ue(!1),Ae(!1);const t=ct(e);pe(t),((e,t,a)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))})(e,Re,Ge),qe(!1),ze(""),Ve(!1)},onSelect:rt,searchOptions:{componentRestrictions:{country:J}},shouldFetchSuggestions:!0,onError:de,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:n}=e;return Object(A.jsxs)("div",{children:[Object(A.jsx)(g.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(A.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(r.Tc)(Object(r.id)(ye,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(s.translateWithI18Next)(h),ref:we})}),he&&Object(A.jsx)("img",{src:H,className:"clearTextIcon",onClick:bt,alt:"Clear Text Icon"}),Object(r.db)(Object(r.kc)(a),Be)?Object(A.jsx)("div",{className:"suggestion-list",children:a.map(((e,t)=>{var n;if(null!==e&&void 0!==e&&null!==(n=e.types)&&void 0!==n&&n.some((e=>K.includes(e)))){Re(a);const n=Object(r.Tc)(e.active,{backgroundColor:q,opacity:X},{backgroundColor:Q});return Object(A.jsxs)(b.a.Fragment,{children:[0===t&&Object(A.jsx)("div",{className:"suggestion-items suggest-text",children:Object(s.translateWithI18Next)(V)}),Object(A.jsx)("div",{style:n,children:Object(A.jsx)("div",{...i(e,{className:"suggestion-items"}),children:Object(A.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(A.jsx)("div",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Object(r.Tc)(vt(e.description),U,W),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(A.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(A.jsx)("form",{children:ue(Ne,st,(e=>{var t;if(e.preventDefault(),Je)return Ye&&ge(!1),void jt(he,Qe);if(!(He&&re({eligibleStoreData:o,suggestedAddress:_e,setNegativeScenarioAlert:We,getNegativeView:ot})||(null===(t=_e[0])||void 0===t||!t.description)&&re({eligibleStoreData:o,suggestedAddress:_e,setNegativeScenarioAlert:We,getNegativeView:ot}))){if(We(""),!Ce){var a,i;const e=null===(a=_e[0])||void 0===a?void 0:a.description;return ke(e),(null===(i=_e[0])||void 0===i?void 0:i.description)&&De(!0),ge(!1),void rt(e,null===_e||void 0===_e?void 0:_e.placeId,_e,!0)}o[0]&&(Ae(!1),$({type:C,value:{deliveryAddress:he,showScheduleOrderCatering:!0,selectedStoreInfo:o[0]}}))}}))})]})]}),Ye&&!st&&Object(A.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(A.jsx)(g.a,{srcFile:B,className:"location-alert-icon"}),Object(A.jsx)("div",{className:"location-error-address",children:Object(s.translateWithI18Next)(ie)}),Object(A.jsxs)("div",{className:"location-error-button-section",children:[Object(A.jsx)(S.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ve(!1),children:Object(s.translateWithI18Next)(oe)}),Object(A.jsx)(S.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:y,value:{dispositionType:le}})},children:Object(s.translateWithI18Next)(ce)})]})]}),!Se&&Object(A.jsx)("div",{className:"my-3 store-form-separation"}),Se||G||ye||Fe?null:me(lt),!ye&&G&&!Fe&&!Se&&!Ye&&Object(A.jsx)(D,{userPositionHandler:i,startOrderFormSavedAddress:jt,allowOrderNow:Ye,onMapClickHandler:lt})]}),he.length>0&&Object(r.db)(ye,!Fe)?Object(A.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(A.jsx)(g.a,{srcFile:B,className:"location-alert-icon"}),Object(A.jsx)("div",{className:"location-error-message",children:Object(s.translateWithI18Next)(ee)}),Object(A.jsx)("div",{className:"location-error-address",children:Object(r.id)(null===(t=_e[0])||void 0===t?void 0:t.description,he)}),Object(A.jsxs)("div",{className:"location-error-button-section",children:[Object(A.jsx)(S.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:dt,children:Object(s.translateWithI18Next)(te)}),Object(A.jsx)(S.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const a=re({eligibleStoreData:o,suggestedAddress:_e,setNegativeScenarioAlert:We,getNegativeView:ot});he.length>0&&ye&&a||!o[0]&&a||(null!==(t=_e[0])&&void 0!==t&&t.description&&$({type:C,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(r.kd)(o[0])}}),Ae(!1))},children:Object(s.translateWithI18Next)(ae)})]})]}):Fe&&ot(),Se?je(ye,fe,(e=>{const t=ct(e);rt(t),pe(t)}),Fe):null]})};function je(e,t,a,i){return Object(A.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(r.Tc)(e,"pointer-disabled","")),children:Object(A.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(A.jsx)(E.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:i,locationAlert:e})})})}function me(e){return Object(A.jsx)("div",{className:"map-button-form",children:Object(A.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(A.jsx)("span",{className:"delivery-map-text",children:Object(s.translateWithI18Next)("pleaseEnterLocation")}),Object(A.jsxs)(N.a,{className:"map-link",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(s.translateWithI18Next)("map")]})]})})}function Oe(e,t,a){return Object(A.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(s.translateWithI18Next)(e),Object(A.jsx)("span",{onClick:t,children:Object(A.jsx)(N.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(s.translateWithI18Next)(a.linkText)})})]})}var he=a(121);var pe=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:i,headerText:n,modalTitleId:s="",showLocationError:o}=e;return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(he.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:s,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:o,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:n,autoFocus:!0,children:i})})},Ne=a(61),ge=a(52),Ie=a(30),xe=a(97),Se=a(921),Ee=a(101);const{FavoriteUnfillImage:fe,FavoriteFillImage:Te,GreenTickImage:Ce}=C.a,Ae=(e,t)=>{var a,i;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(i=t.storeSearch)||void 0===i?void 0:i.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var ye=Object(Ne.j)((e=>{var t,a,i,n,o;const{storeDistance:l="",addresses:c={},isOpen:d=!1,buttonData:b={},map:m={},storeName:p="",currentMarket:I,storeInfo:x={},channels:E=[],storeStatus:T={},onStoreSelectFinish:C,onClickMapHandler:y,isMapView:D,isMobile:_,isFavoriteStore:R,addToFavoriteHandler:k,removeFromFavoriteHandler:w,loggedIn:M,centerIndex:P,storeLength:F}=e,W=null===x||void 0===x||null===(t=x.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.message,{unavailibilities:H}=(null===x||void 0===x||null===(i=x.summary)||void 0===i||null===(n=i.timings)||void 0===n?void 0:n.scheduled)||{},{buttonText:U=""}=Object(r.kd)(null===b||void 0===b?void 0:b.scheduleOrderButtonData),{buttonText:B="",display:G=!1}=Object(r.kd)(null===b||void 0===b?void 0:b.orderNowButtonData),{userOrderState:Y,userOrderStateDispatch:V}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:K="",SEARCH_ORDER_DATA:z="",SELECTED_TILE_DATA:J="",SCHEDULE_ORDER_TIME_DATA:q="",MENU_URL:X,SET_DISPOSITION:Q,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=O.a,{STORE_STATUS_CLOSED:ae}=h.a,{mapText:ie=""}=m,ne=E&&Object(f.g)(E),{services:se=[]}=Object(r.jd)(ne[0]),{operatingHours:oe=[]}=null!==T&&void 0!==T&&null!==(o=T.timings)&&void 0!==o&&o.operatingHours?T.timings:[],le=Object(f.c)(d,oe,W,H),ce=Object(j.b)(),de=Object(j.c)((e=>e.profileReducer)),re=Object(j.c)((e=>e.tenantReducer)),{dispositionType:ue=localStorage.getItem("dispositionType")}=Y.dispositionStateData,{allowScheduleOrder:ve}=re.componentOptions.ScheduledDeliveryComponent;let be=Object(j.c)((e=>e.appStateReducer.userStatus));const je=Object(r.Jd)(Y.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Y.dispositionNew,me=async(t,a)=>{var i,n,s,o,l,c,d,u;t.preventDefault(),t.stopPropagation(),Object(f.l)();const{futureDates:v,scheduled:b={},asap:j}=(null===a||void 0===a||null===(i=a.summary)||void 0===i?void 0:i.timings)||{},{interval:m=0,startEndTime:O={}}=Object(r.db)(null===b||void 0===b||null===(n=b.periods)||void 0===n?void 0:n.length,b.periods[0]),{from:h,to:p}=O,{unavailibilities:N,unavailibilityType:g}=b;Object(Ee.j)(h,p,m,null===j||void 0===j?void 0:j.isAvailable,1===v.length&&"INDIA"===(null===re||void 0===re?void 0:re.country),N,g);let I={time:"ASAP",interval:null===(s=a.summary.timings.scheduled.periods[0])||void 0===s?void 0:s.interval,date:new Date,selectedTime:"ASAP"};if(null===je||je.type!==ue||je.store.id!==a.id||je.deliveryAddress!==(null===Y||void 0===Y||null===(o=Y.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress)){let e=await Object(r.z)(a,Object(r.Ib)(ue),de.customerId,I);ce(Object(Ie.m)("")),ce(Object(Ie.f)({data:e,tenantId:re.tenantId}))}localStorage.setItem("renderComp",!0),V({type:Q,value:{oldvalue:je,newValue:{type:ue,store:a,date:I.date,time:I.time,interval:I.interval,selectedTime:I.selectedTime,deliveryAddress:null===Y||void 0===Y||null===(l=Y.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(je)),localStorage.setItem("dispositionNew",JSON.stringify({type:ue,store:a,date:I.date,time:I.time,selectedTime:I.selectedTime,interval:I.interval,deliveryAddress:null===Y||void 0===Y||null===(c=Y.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),Object(r.if)();const x={storeID:null===a||void 0===a?void 0:a.id,disposition:ue,postCode:null===a||void 0===a||null===(d=a.addresses[0])||void 0===d||null===(u=d.address)||void 0===u?void 0:u.pinCode};C(x),V({type:z,value:{showSearchStore:!1}}),V({type:Z,value:{isLocalized:!0}}),((t,a)=>{let i=Object(r.Tc)(t,t,null);V({type:J,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),V({type:$,value:i}),ce(Object(xe.a)({...be,localized:!0})),V({type:q,value:{selectedDateTime:a}}),V({type:ee,value:{selectContentTime:"ASAP"}}),V({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(re)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ue),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP");const n=localStorage.getItem(L.gd.SET_LOCATION);setTimeout((()=>{!Y.fromPdpPage&&!n&&e.history.push({pathname:"".concat(X)})}),500)})(a,I)},Oe=(e,t)=>{var a,i,n;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),V({type:Z,value:{isLocalized:!0}}),V({type:K,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),V({type:z,value:{showSearchStore:!1}});const{futureDates:s,scheduled:o={},asap:l}=(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings)||{},{interval:c=0,startEndTime:d={}}=Object(r.db)(null===o||void 0===o||null===(i=o.periods)||void 0===i?void 0:i.length,null===o||void 0===o||null===(n=o.periods)||void 0===n?void 0:n[0])||{},{from:u,to:v}=d,{unavailibilities:b,unavailibilityType:j}=o;Object(Ee.j)(u,v,c,null===l||void 0===l?void 0:l.isAvailable,1===(null===s||void 0===s?void 0:s.length)&&"INDIA"===(null===re||void 0===re?void 0:re.country),b,j),Object(f.k)(),(e=>{let t=Object(r.Tc)(e,e,null);V({type:J,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),V({type:$,value:t})})(t)},he=Object(Se.a)(x),pe=Object(A.jsxs)("div",{className:"store-card ".concat(Object(r.db)(D,!_)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(D&&_)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(A.jsxs)("div",{className:"d-flex",children:[Object(A.jsxs)("div",{className:"store-dist-container ".concat(D&&"map-view"),children:[Object(A.jsx)("div",{className:"store-name-container",children:Object(A.jsx)("span",{className:"card-store-name",children:p})}),Object(A.jsx)("span",{className:"store-distance",children:Ae(l,re)})]}),D&&Object(A.jsx)("span",{className:"store-index",children:"".concat(P+1," of ").concat(F)})]}),Object(A.jsxs)("div",{className:"card-content",children:[Object(A.jsx)("div",{className:"order-items",children:(Ne=se,!!Object(r.Kd)(Ne)&&Ne.map(((e,t)=>{const{PICK_UP:a,TAKE_AWAY:i}=h.a;return Object(A.jsxs)("div",{className:"store-order-options",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Ce,alt:"tick",className:"tick-image"})}),Object(A.jsx)("span",{children:e===a?Object(s.translateWithI18Next)(i):e})]},t)})))}),Object(A.jsxs)("div",{className:"w-100",children:[Object(A.jsx)("span",{className:"store-address",children:Object(r.Wb)(c)}),!D&&Object(A.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>y(),children:Object(A.jsx)(N.a,{className:"card-map-link",children:ie})})]}),Object(A.jsxs)("div",{className:"info-timing ".concat(!d&&"info-timingClosed"),children:[d?"":Object(A.jsx)("span",{children:Object(s.translateWithI18Next)(ae)}),Object(A.jsx)("span",{className:"".concat(!d&&"list-circle"),children:le})]}),Object(A.jsx)("div",{className:"facilities",children:he&&he.map((e=>Object(A.jsx)(g.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(A.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?R&&Object(A.jsx)(g.a,{"data-testid":"favorite-img",srcFile:Te,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(A.jsx)(g.a,{"data-testid":"unfavorite-img",srcFile:fe,alt:"favorite",className:"favorite-img",onClick:()=>k()}):"",G&&d&&Object(A.jsx)(S.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(D&&!_?"cardMapView":null),onClickHandler:e=>me(e,x),children:B}),ve&&Object(A.jsx)(S.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(r.db)(D,!_)?"cardMapView":null),onClickHandler:e=>Oe(e,x),children:U})]})]});var Ne;return I!==h.a.COUNTRY_CODE_INDIA||d?pe:null})),De=a(11),_e=a(4);const{FavoriteUnfillImage:Re,FavoriteFillImage:Le,GreenTickImage:ke}=C.a,{BROWSE_MENU:we,PICK_UP:Me,TAKE_AWAY:Pe,STORE_STATUS_CLOSED_CAPS:Fe,STORE_STATUS_CLOSED:We,INDIA:He}=h.a,Ue=e=>e===Me?Pe:e,Be=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ge=Object(Ne.j)((e=>{var t,a,i,n,o,l,c,d,b,m,h,p;const{key:I="",storeName:x="",storeDistance:E="",orderTypes:C=[],addresses:y={},storeStatus:D={},onClickMapHandler:_,isMapView:R,isMobile:k,isFavoriteStore:w,addToFavoriteHandler:M,removeFromFavoriteHandler:P,map:F,loggedIn:W,storeInfo:H={},centerIndex:U,storeLength:B,onStoreSelectFinish:G}=e,Y=((e,t)=>{var a,i,n,s,o;if((null===e||void 0===e||null===(a=e.timings)||void 0===a||null===(i=a.operatingHours[0])||void 0===i?void 0:i.day)===L.cc)return null===(n=e.timings)||void 0===n||null===(s=n.operatingHours[0])||void 0===s||null===(o=s.availableHours)||void 0===o?void 0:o.from;{var l;const a=null===e||void 0===e||null===(l=e.timings)||void 0===l?void 0:l.operatingHours,i=Object(De.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let n=0,s=[],o=[];var c,d,u,v;return null===a||void 0===a||a.forEach(((e,t)=>{var a;(null===e||void 0===e||null===(a=e.day)||void 0===a?void 0:a.toLowerCase())===i&&(n=t,o.push(e))})),null!==o&&void 0!==o&&o.length&&(null===o||void 0===o||o.forEach((t=>{var a;const i=Object(r.D)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(r.Ze)(null===t||void 0===t||null===(a=t.availableHours)||void 0===a?void 0:a.from)>i&&s.push(t)}))),null!==s&&void 0!==s&&s.length?null===(c=s[0])||void 0===c||null===(d=c.availableHours)||void 0===d?void 0:d.from:null===(u=a[n<(null===a||void 0===a?void 0:a.length)-1?n+1:n])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(D,L.Of),V=Y,K=null===D||void 0===D||null===(t=D.timings)||void 0===t||null===(a=t.scheduled)||void 0===a?void 0:a.unavailibilities,z=null===D||void 0===D||null===(i=D.status)||void 0===i?void 0:i.message,{mapText:J=""}=Object(r.kd)(F),{MENU_URL:q,SEARCH_ORDER_DATA:X,CURRENT_STORE_INFO:Q,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=O.a,{userOrderState:ae,userOrderStateDispatch:ie}=Object(v.useContext)(u.a);let ne=Object(j.c)((e=>e.appStateReducer.userStatus));const se=Object(j.c)((e=>e.tenantReducer)),oe=Object(j.b)(),{futureDates:le,scheduled:ce,asap:de}=Object(r.kd)(null===H||void 0===H||null===(n=H.summary)||void 0===n?void 0:n.timings),{unavailibilities:re,unavailibilityType:ue}=Object(r.kd)(ce),{interval:ve=0,startEndTime:be={}}=Object(r.kd)((null===ce||void 0===ce||null===(o=ce.periods)||void 0===o?void 0:o.length)&&(null===ce||void 0===ce?void 0:ce.periods[0])),{from:je,to:me}=Object(r.kd)(be),{dispositionType:Oe=localStorage.getItem("dispositionType")}=ae.dispositionStateData,he=Object(r.Jd)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,pe=()=>{var e;return Object(Ee.j)(je,me,ve,null===de||void 0===de?void 0:de.isAvailable,1===le.length&&(null===se||void 0===se||null===(e=se.country)||void 0===e?void 0:e.toUpperCase())===He,re,ue)},Ne=(e,t)=>{var a,i,n,s;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),ie({type:$,value:{isLocalized:!0}}),ie({type:X,value:{showSearchStore:!1}}),ie({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:o,scheduled:l,asap:c}=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,{interval:d=0,startEndTime:r={}}=(null===l||void 0===l||null===(i=l.periods)||void 0===i?void 0:i.length)&&(null===l||void 0===l?void 0:l.periods[0]),{from:u,to:v}=r;Object(Ee.j)(u,v,d,null===c||void 0===c?void 0:c.isAvailable,1===o.length&&"INDIA"===(null===se||void 0===se?void 0:se.country),re,ue),Object(f.k)(),(e=>{let t=e||null;ie({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ie({type:Q,value:t})})(t);const b={storeID:null===t||void 0===t?void 0:t.id,disposition:Oe,postCode:null===t||void 0===t||null===(n=t.addresses[0])||void 0===n||null===(s=n.address)||void 0===s?void 0:s.pinCode};G(b)},ge=e=>pe().length?"Today":"Tomorrow",Ie=Object(Se.a)(H);return Object(A.jsxs)("div",{className:"store-card ".concat(R&&!k?"store-card-map-view":"store-card-mobile-view"),style:Be(R,k),"data-testid":"closed-card",id:"map-store-card",children:[Object(A.jsxs)("div",{className:"d-flex",children:[Object(A.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(A.jsx)("div",{className:"store-name-container",children:Object(A.jsx)("span",{className:"card-store-name",children:x})}),Object(A.jsx)("span",{className:"store-distance",children:Ae(E,se)})]}),R&&Object(A.jsx)("span",{className:"store-index",children:"".concat(U+1," of ").concat(B)})]}),Object(A.jsxs)("div",{className:"card-content",children:[Object(A.jsx)("div",{className:"order-items",children:(fe=C,fe.map(((e,t)=>Object(A.jsxs)("div",{className:"store-order-options",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:ke,alt:"tick",className:"tick-image"})}),Object(A.jsx)("span",{children:Ue(e)})]},t))))}),Object(A.jsxs)("div",{className:"w-100",children:[Object(A.jsx)("span",{className:"store-address",children:Object(r.Wb)(y)}),!R&&Object(A.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>_(),children:Object(A.jsx)(N.a,{className:"card-map-link",children:J})})]}),Object(A.jsx)("div",{className:"info-timingClosed",children:Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:Object(r.fb)((null===(l=D.status)||void 0===l?void 0:l.currentStatus)===Fe,0===(null===D||void 0===D||null===(c=D.timings)||void 0===c||null===(d=c.scheduled)||void 0===d||null===(b=d.periods)||void 0===b?void 0:b.length))?Object(A.jsx)("span",{className:"closed-text",children:We}):""}),Object(A.jsx)("li",{children:(null===K||void 0===K?void 0:K.length)>0&&Object(De.R)(null===(m=K[0])||void 0===m?void 0:m.to,"HH MM","HH:MM")<=Object(De.R)(me,"HH MM","HH:MM")?(()=>{var e,t,a,i,n,s;return z===L.Hc?"Open Today ".concat((null===(e=K[0])||void 0===e?void 0:e.from)&&Object(De.R)(null===(t=K[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):z===L.Ic?"Open ".concat(ge(null===(a=D.timings)||void 0===a||null===(i=a.scheduled)||void 0===i||i.date)," ").concat(V&&Object(De.R)(V,"hh mm","hh:mm a")):"Open Today ".concat((null===(n=K[0])||void 0===n?void 0:n.to)&&Object(De.R)(null===(s=K[0])||void 0===s?void 0:s.to,"hh mm","hh:mm a"))})():"Open ".concat(ge(null===(h=D.timings)||void 0===h||null===(p=h.scheduled)||void 0===p||p.date)," ").concat(V&&Object(De.R)(V,"hh mm","hh:mm a"))})]})}),Object(A.jsx)("div",{className:"facilities",children:Ie&&Ie.map((e=>Object(A.jsx)(g.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(A.jsxs)("div",{className:"w-100 d-flex mt-2",children:[W&&(w?Object(A.jsx)(g.a,{"data-testid":"favorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>P()}):Object(A.jsx)(g.a,{"data-testid":"unfavorite-img",srcFile:Re,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===pe().length?Object(A.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,a;const i={storeID:null===H||void 0===H?void 0:H.id,disposition:null===H||void 0===H?void 0:H.service,postCode:null===H||void 0===H||null===(t=H.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(T.y)(i),Object(r.jf)(H,ie,he,Oe),oe(Object(xe.a)({...ne,localized:!0})),Object(r.if)(),ie({type:Z,value:{showDisposition:!1}}),ie({type:X,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(q)})},children:Object(s.translateWithI18Next)(we)}):Object(A.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>Ne(e,H),children:Object(s.translateWithI18Next)(_e.a.SCHEDULE_ORDER_BTN)})]})]})]},I);var fe})),Ye=a(342),Ve=a(55);const{Error:Ke,LocationImage:ze,MapImage:Je,Union:qe,GoogleMapLocationImage:Xe,SuggestionItemSearchPin:Qe,Time_Clock:Ze,SuccessImg:$e}=C.a,et=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",tt=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",at=e=>{var t,a,i;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)>0},it=e=>e?qe:Je,nt=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var st=Object(Ne.j)((e=>{var t;const{formContent:a={},storeData:i=[],eligibleStoreData:n=[],favoriteStoreData:o=[],userPositionHandler:c,singInClickhandler:m,currentMarket:C,storeCardLimit:y=1/0,onStoreSelectFinish:D,handleGoBack:_,noStoresList:k,favoriteStoreHandler:w}=e,{memberText:P="",singInLink:F={},currentLocationText:W="",addressBoxPlaceHolderForSearchStore:H="",mapText:U=""}=a,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:Y,ALREADY_SERACHED_LOCATIONS:V,COUNTRY_CODE:K,SUGGESTION_ACTIVE_COLOR:z,SUGGESTION_ACTIVE_OPACITY:J,BRAND_BLACK:q,STORE_STATUS_OPEN:X,LIST_TEXT:Q,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ae,CTA2_ORDER_TAKEAWAY:ie,TAKEAWAY_UNAVAILABLE_WITH_CTA:ne,DINE_IN_SERVICE:se,DINE_IN:oe,TYPE_DELIVERY:le,TAKE_AWAY:ce}=h.a,{DISPOSITION_METHOD:de}=O.a,{MENU_URL:re,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:be,DISPOSITION_DATA:je,INDIA:me}=O.a,{userOrderState:Oe}=b.a.useContext(u.a),{searchStoreData:he={},dispositionStateData:pe={},scheduleOrderData:Ne={}}=Oe,{dispositionType:Ie=localStorage.getItem("dispositionType")}=pe,[xe,Se]=b.a.useState(""),[fe,Te]=Object(v.useState)({}),[Ce,Ae]=Object(v.useState)({}),[De,_e]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[ke,we]=b.a.useState([]),[Me,Pe]=b.a.useState(!1),[Fe,We]=Object(v.useState)(null),[He,Ue]=Object(v.useState)(Object(r.Ud)(window.innerWidth));let Be=0;const[Je,qe]=Object(v.useState)(0),[et,st]=Object(v.useState)(""),[ct,dt]=b.a.useState(!1),[rt,ut]=b.a.useState([]),[vt,bt]=b.a.useState([]),{userOrderStateDispatch:jt}=Object(v.useContext)(u.a);let mt,Ot=0;const ht=Object(j.b)(),pt=Object(j.c)((e=>e.tenantReducer)),{tenantId:Nt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:gt=!1}}},postalcodeRemoveRegex:It=null,specialCharRemoveRegex:xt=null}=pt||{};let St=0;const[Et,ft]=b.a.useState(!1),Tt=Object(j.c)((e=>e.appStateReducer)),{isLoading:Ct}=Object(j.c)((e=>Object(r.kd)(e.LoaderReducer))),{userStatus:At={}}=Tt,{loggedIn:yt=!1}=At,[Dt,_t]=b.a.useState([]),[Rt,Lt]=b.a.useState(!0),{customerId:kt}=Ve.a.getInstance(),[wt,Mt]=Object(v.useState)(325),[Pt,Ft]=Object(v.useState)(!1),Wt=()=>{const e=Object(r.Ud)(window.innerWidth);Ue(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Wt),()=>{window.removeEventListener("resize",Wt)})),[He]),Object(v.useEffect)((()=>(window.addEventListener("keydown",nt),()=>{window.removeEventListener("keydown",nt)})));const Ht=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ht&&wt!==Ht&&Mt(Ht)}),[Ht]);const Ut=async e=>{const t=await Object(I.geocodeByAddress)(e),a=await Object(I.getLatLng)(t[0]);Te(a),Ae(a),Be=0,Yt(e),Se(e),c({userLat:a.lat,userLong:a.lng}),Pe(!1);const i=Boolean(Object(r.db)(Object(r.id)(xe,e),Object(r.db)(0===Be,0===Ot)));dt(i)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),jt({type:be,value:null}),jt({type:je,value:{showDisposition:!1}}),jt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(re)})},Gt=(e,t,a)=>Object(A.jsx)("div",{className:"store-card",children:Ie.toUpperCase()===Z?Object(A.jsxs)("div",{className:"no-store",children:[Object(A.jsx)("div",{className:"no-store-icon",children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(A.jsx)("div",{className:"no-store-text",children:e()}),Object(A.jsx)(S.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:Kt,children:Object(s.translateWithI18Next)(a)})]}):Object(A.jsxs)("div",{className:"no-store",children:[Object(A.jsx)("div",{className:"no-store-icon",children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(A.jsx)("div",{className:"no-store-text",children:e()}),Object(A.jsx)(S.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:Kt,children:Object(s.translateWithI18Next)(a)}),Object(A.jsx)(S.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),jt({type:de,value:{dispositionType:ce}}),Ut(xe)})(e),children:Object(s.translateWithI18Next)(ie)})]})});Object(v.useEffect)((()=>{if(null!==Ne&&void 0!==Ne&&Ne.changeFlow||null===he||void 0===he||!he.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Se(e),Ut(e)}}else Ut(he.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(xe){let e=n.filter(at);if(e.length>0){let t=e.filter((e=>{var t,a,i,n,s,o;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===X&&(null===(i=e.summary)||void 0===i||null===(n=i.timings)||void 0===n||null===(s=n.scheduled)||void 0===s||null===(o=s.periods)||void 0===o?void 0:o.length)>0}));if(t.length>=y){let e=t.slice(0,y);we(e)}else if(t.length<y){let a=y-t.length,i=e.filter((e=>{var t,a,i,n,s,o;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(n=i.timings)||void 0===n||null===(s=n.scheduled)||void 0===s||null===(o=s.periods)||void 0===o?void 0:o.length)})).slice(0,a),n=t.concat(i);we(n)}}else Be=0,we([])}else we([]),_t([]),ut([]),dt(!1)}),[n,xe]),Object(v.useEffect)((()=>{if(n.length>0){w({userLat:Ce.lat,userLong:Ce.lng});const e=o.sort(((e,t)=>Object(f.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));_t(t)}}),[n,o.length]),Object(v.useEffect)((()=>{if(Me){const e=gt?ve(et,It,xt):et;Se(e),Yt(et),Pe(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==xe&&(we([]),ut([]),We(""),_t([]));let e=Object(r.d)(xe,B);Ft(e)}),[he,xe,Me,et]);const Yt=e=>{Object(r.pe)(e,V)},Vt=e=>{return t=e,Object(r.jd)(JSON.parse(localStorage.getItem(V))).includes(t);var t},Kt=()=>{Se(""),_t([]),we([]),ut([]),dt(!1),We(""),_e(!1)},zt=Object(v.useCallback)((async()=>{const e=await Promise.all(ke.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Te(e)}),[ke]),Jt=Object(v.useCallback)((async()=>{const e=await Promise.all(Dt.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Te(e)}),[Dt]),qt=()=>{Object(f.i)(De,Ie),_e(!De),Le(!De)},Xt=(e,t)=>{We(e),qe(t)},Qt=()=>{zt(),Le(!0),We(Object(r.kd)(ke[Je]))},Zt=async()=>{await Jt(),Le(!0),We(Object(r.kd)(Dt[Je]))};Object(v.useEffect)((()=>{((e,t,a,i)=>{let{TYPE_TAKE_WAY:n,DINE_IN:s,dispositionType:o,callSelectedStore:l,callSelectedFavStore:c}=i;e?t.length&&[n,s].indexOf(o.toUpperCase())>-1&&l():a.length&&[n,s].indexOf(o.toUpperCase())>-1&&c()})(Rt,ke,Dt,{TYPE_TAKE_WAY:Z,DINE_IN:oe,dispositionType:Ie,callSelectedStore:Qt,callSelectedFavStore:Zt});let e=ke.filter((e=>{var t,a,i,n,s,o;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(i=e.summary)||void 0===i||null===(n=i.timings)||void 0===n||null===(s=n.scheduled)||void 0===s||null===(o=s.periods)||void 0===o?void 0:o.length)})),t=ke.filter((e=>{var t,a,i,n,s,o,l,c,d;const r="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(i=a.message)||void 0===i?void 0:i.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(s=n.status)||void 0===s||null===(o=s.message)||void 0===o?void 0:o.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:b,scheduled:j,asap:m}=null===e||void 0===e||null===(l=e.summary)||void 0===l?void 0:l.timings,{unavailibilities:O,unavailibilityType:h}=j,{interval:p=0,startEndTime:N={}}=j&&(null===j||void 0===j||null===(c=j.periods)||void 0===c?void 0:c.length)&&(null===j||void 0===j?void 0:j.periods[0]),{from:g,to:I}=N,x=Object(Ee.j)(g,I,p,null===m||void 0===m?void 0:m.isAvailable,1===b.length&&(null===pt||void 0===pt||null===(d=pt.country)||void 0===d?void 0:d.toUpperCase())===me,O,h);return(!x||0===x.length)&&r&&(u||v)}));ut(e),bt(t)}),[ke,Je,Fe,k,oe,$,Z,Ie,zt,Rt,Dt]);const $t=e=>{We("");let t=e?Je+1:Je-1;qe(t),((e,t,a,i,n)=>{t(!0===e?Object(r.kd)(a[n]):null===i||void 0===i?void 0:i[n])})(Rt,We,ke,Dt,t)},ea=e=>{Lt(e)},ta=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},aa=e=>{ta(),ht(Object(l.w)({data:{storeId:e.id},tenantId:Nt,customerId:kt,dispatch:"dispatch"})),ft(!0)},ia=e=>{ta(),ht(Object(l.x)({tenantId:Nt,customerId:kt,storeId:Object(r.kd)(e.id),dispatch:"dispatch"})),ft(!1)};Object(v.useEffect)((()=>{Et&&ge.b.dark(Object(A.jsxs)("div",{className:"img-text-div",children:[Object(A.jsx)(g.a,{"data-testid":"",srcFile:$e,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:ge.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[o.length]),Object(v.useEffect)((()=>{0!==Be||0!==Ot||!ct||k||Ct||(Ie.toUpperCase()===Z?Object(r.Kb)(Object(s.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(s.translateWithI18Next)(ne)):Object(r.Kb)(Object(s.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(s.translateWithI18Next)(ae)))}),[Be,Ot,ct,k,Ct]);const na=(e,t)=>{var a,n,s,o;const l=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(n=a.status)||void 0===n?void 0:n.currentStatus)===X,c=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:d=[]}=c[0],u="".concat(e.name[0].value,"_").concat(t);return Object(A.jsx)(b.a.Fragment,{children:l?Object(A.jsx)(ye,{"data-testid":t,storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.id)(null===e||void 0===e||null===(s=e.distance)||void 0===s?void 0:s.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:C,isOpen:l,isMapView:!0,onStoreSelectFinish:D,isMobile:He,centerIndex:Je,storeLength:Object(r.Tc)(Rt,null===ke||void 0===ke?void 0:ke.length,null===Dt||void 0===Dt?void 0:Dt.length)},t):Object(A.jsx)(Ge,{orderTypes:d,storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.id)(null===e||void 0===e||null===(o=e.distance)||void 0===o?void 0:o.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:D,isMobile:He,isMapView:!0,storeInfo:e,mapText:U,onClick:()=>{qt(),zt()},...i[0],onPositionChangeHandler:$t,centerIndex:Je,storeLength:Object(r.Tc)(Rt,null===ke||void 0===ke?void 0:ke.length,null===Dt||void 0===Dt?void 0:Dt.length)},u)})},sa=Dt.map(((e,t)=>{var a,n,s,o;if((null===(a=e.summary)||void 0===a||null===(n=a.status)||void 0===n?void 0:n.currentStatus)===X){var l,c;const a=(null===(l=e.summary)||void 0===l||null===(c=l.status)||void 0===c?void 0:c.currentStatus)===X;return a&&St++,Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(ye,{"data-testid":t,storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.md)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:C,isOpen:a,onStoreSelectFinish:D,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}if((null===(s=e.summary)||void 0===s||null===(o=s.status)||void 0===o?void 0:o.currentStatus)===$){St++;const a=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:n=[]}=a[0],s="".concat(e.name[0].value,"_").concat(t);return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(Ge,{storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.md)(e.distance.value),orderTypes:n,addresses:e.addresses,storeStatus:e.summary,mapText:U,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:D,storeInfo:e,...i[0]},s)})}})),oa=ke.map(((e,t)=>{var a,n,s,l;if(xe||we([]),Be>=y||0===(null===(a=e.summary)||void 0===a||null===(n=a.timings)||void 0===n||null===(s=n.scheduled)||void 0===s||null===(l=s.periods)||void 0===l?void 0:l.length))return null;{var c,d;const a=(null===(c=e.summary)||void 0===c||null===(d=c.status)||void 0===d?void 0:d.currentStatus)===X;return a&&Be++,Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(ye,{"data-testid":t,storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.md)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...i[0],storeInfo:e,currentMarket:C,isOpen:a,onStoreSelectFinish:D,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Xt(e,t),qt()},isFavoriteStore:o.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)}},t)})}})),la=()=>{let e=-1!==Ie.toLowerCase().indexOf("dine")?se:Ie;if(mt=Object(f.a)(e,n),mt)return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(R,{errorMsgToShow:mt,onClearTextHandler:Kt,dispositionType:Ie,handleGoBack:_})})},ca=()=>{if(ke.length===vt.length&&vt.length>0){let e=-1!==Ie.toLowerCase().indexOf("dine")?se:Ie,t=Object(f.a)(e,n);return Object(r.Kb)(Object(s.translateWithI18Next)(p.a.contentData.searchStoreHeaderText),Object(s.translateWithI18Next)(t)),la()}if(ke.length===rt.length&&rt.length)return da;{let e=-1!==Ie.toLowerCase().indexOf("dine")?se:Ie;return ke.length&&(mt=Object(f.a)(e,ke),mt)?la():(Be<5&&oa.push(da),oa)}},da=rt.map(((e,t)=>{const a=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:n=[]}=Object(r.jd)(a[0]);if(xe||we([]),Ot>=y-Be)return null;{Ot++;const a="".concat(e.name[0].value,"_").concat(t),s=ke.findIndex((t=>t.id===e.id));return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(Ge,{storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.md)(e.distance),orderTypes:n,addresses:e.addresses,storeStatus:e.summary,mapText:U,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Xt(e,s),qt()},isFavoriteStore:o.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{ia(e)},onStoreSelectFinish:D,storeInfo:e,...i[0]},a)})}})),ra=()=>{switch(Ie.split("-").join(" ").toUpperCase()){case Z:return Object(s.translateWithI18Next)(ne);case oe:return Object(s.translateWithI18Next)(ae);default:return null}},ua=()=>{qe(0),qt(),((e,t,a)=>{!0===e?t():a()})(Rt,zt,Jt)};return Object(A.jsxs)(b.a.Fragment,{children:[Object(A.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"store-count",children:[Object(A.jsx)("span",{className:"member-signin",children:!yt&&Object(A.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(s.translateWithI18Next)(P),Object(A.jsx)("span",{onClick:m,children:Object(A.jsx)(N.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(s.translateWithI18Next)(F.linkText)})})]})}),Object(A.jsx)("span",{children:Object(A.jsxs)(N.a,{onClickHandler:async()=>{if(Object(T.o)(),await d.b.BindLocation(),Object(f.m)(),d.b.coordinates){const{latitude:e,longitude:t}=d.b.coordinates;d.b.addFeedback("Check coordinates ".concat(JSON.stringify(d.b.coordinates))),d.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),d.b.addFeedback("Check address ".concat(d.b.address)),Be=0,Te({lat:e,lng:t}),_e(!1),c({userLat:e,userLong:t}),dt(!0),Se(d.b.address),st(d.b.address),Pe(!0)}Object(M.s)(jt,!d.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(A.jsx)(g.a,{"data-testid":"",srcFile:ze,alt:"location",className:"location-img"}),Object(s.translateWithI18Next)(W)]})})]}),Object(A.jsx)("div",{className:"search-address",children:Object(A.jsx)("div",{className:"input-address",children:Object(A.jsx)(x.a,{"data-testid":"handle-select",value:xe,onChange:e=>{e||Kt(),Se(e),Object(r.kc)(e)<3&&Ft(!1)},onSelect:Ut,searchOptions:{componentRestrictions:{country:K}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:i,loading:n}=e;return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{className:"".concat(mt||0===Be&&0===Ot&&ct&&k&&!ke.length?"search-container-data error-border":"search-container-data"),children:[Object(A.jsx)(g.a,{"data-testid":"",srcFile:Xe,alt:"googleMapLocation",className:"google-location-img"}),Object(A.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(s.translateWithI18Next)(H)})}),xe&&Object(A.jsx)("img",{"data-testid":"clear-text-icon",src:Ye.a,className:"clearTextIcon",onClick:()=>Kt(),alt:"Clear Text Icon"})]}),!!Object(r.db)(Object(r.kc)(a),Pt)&&Object(A.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:a.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>Y.includes(e)))){const a=e.active?{backgroundColor:z,opacity:J}:{backgroundColor:q};return Object(A.jsxs)(b.a.Fragment,{children:[0===t&&Object(A.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(s.translateWithI18Next)(G)}),Object(A.jsx)("div",{style:a,children:Object(A.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...i(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(A.jsxs)("div",{className:"suggested-address-alignment",children:[Object(A.jsx)("div",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Vt(e.description)?Ze:Qe,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(A.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(A.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),ot(xe,De,Q,qt,zt),Object(A.jsxs)("form",{className:"form",children:[Object(A.jsxs)("div",{className:"store-count",children:[!!Be&&Object(A.jsx)("span",{"data-testid":"tab-open-store",className:tt(yt,Rt),onClick:()=>{qe(0),ea(!0)},children:yt?Object(A.jsxs)("span",{children:[" ","".concat(Object(s.translateWithI18Next)("nearYou"))," (",Be+Ot,")"]}):Object(A.jsxs)("span",{children:[Be+Ot," ","".concat(Object(s.translateWithI18Next)("nearYou"))]})}),!!Ot&&ke.length===rt.length&&ke.length!==vt.length&&Object(A.jsx)("span",{"data-testid":"tab-closed-store",className:tt(yt,Rt),onClick:()=>{qe(0),ea(!0)},children:"".concat(Object(s.translateWithI18Next)("nearYou")," (").concat(Ot,")")}),0===Be&&0===Ot&&ct&&k&&Object(A.jsx)("span",{className:"store-count-title",children:"".concat(Object(s.translateWithI18Next)("nearYou")," (").concat(Be,")")}),lt(Be,Ot,yt,St,{firstTab:Rt,setCenterIndex:qe,handleTabChange:ea}),(!!Be||!!Ot)&&ke.length!==vt.length&&Object(A.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ua()},children:Object(A.jsxs)(N.a,{className:"map-link",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:it(De),alt:"map",className:"map-img"})}),De?Object(s.translateWithI18Next)(Q):U]})}),0===Be&&0===Ot&&ct&&k&&Object(A.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ua()},children:Object(A.jsxs)(N.a,{className:"map-link",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:it(De),alt:"map",className:"map-img"})}),De?Object(s.translateWithI18Next)(Q):Object(s.translateWithI18Next)(U)]})})]}),De?Object(A.jsx)("div",{className:"order-button-section",children:0===Be&&0===Ot&&ct&&k&&Object(A.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(A.jsxs)("div",{className:"no-store",children:[Object(A.jsx)("div",{className:"no-store-icon",children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:Ke,alt:"no store"})}),Object(A.jsx)("div",{className:"no-store-text",children:ra()}),Object(A.jsx)(S.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(s.translateWithI18Next)(ee)})]})})}):Object(A.jsxs)(A.Fragment,{children:[Object(r.db)(!Ct,Object(r.db)(Rt,0!==Be||0!==Ot||!ct||k||ke.length?ca():Gt(ra,Bt,te))),yt&&!Rt&&Object(A.jsx)("div",{className:"order-button-section",children:sa})]}),Object(A.jsx)("div",{className:"clearfix"})]})]}),De&&Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"".concat((null===Ie||void 0===Ie?void 0:Ie.toUpperCase())!==le&&"takeawayDineInMap"," delivery-map"),children:[Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(E.a,{latLongValue:fe,loadingElement:Object(A.jsx)("div",{style:{height:"100%"}}),containerElement:Object(A.jsx)("div",{style:{height:"400px"}}),mapElement:Object(A.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Se(e)},isVisible:Ie.toUpperCase()===Z||Ie.toUpperCase()===oe,isMobile:He,centerIndex:Je,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(r.Tc)(Rt,(e=>{const t=ke.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(Je===t&&Qt(),qe(t))}),(e=>{((e,t,a,i,n)=>{const s=e.findIndex((e=>e.location.latitude===i.lat()&&e.location.longitude===i.lng()));s>-1&&(n===s&&t(),a(s))})(Dt,Zt,qe,e,Je)})),storeCardHeight:wt}),Re&&Fe&&He?!mt&&na(Fe,"Selected-Card"):null]}),Re&&Fe&&!He?Object(r.db)(ke.length===rt.length,Rt)&&!mt&&((e,t)=>{const a=e.availableServicesPerChannel&&Object(f.g)(e.availableServicesPerChannel),{services:n=[]}=Object(r.jd)(a[0]),s="".concat(e.name[0].value,"_").concat(t);return Object(A.jsx)(b.a.Fragment,{children:Object(A.jsx)(Ge,{storeName:Object(r.md)(e.name[0].value),storeDistance:Object(r.md)(e.distance),orderTypes:n,addresses:e.addresses,storeStatus:e.summary,mapText:U,isMobile:He,isMapView:!0,onStoreSelectFinish:D,onClick:()=>{qt(),zt()},storeInfo:e,...i[0],centerIndex:Je,storeLength:Object(r.Tc)(Rt,null===ke||void 0===ke?void 0:ke.length,null===Dt||void 0===Dt?void 0:Dt.length)},s)})})(Fe,"Selected-Card")||na(Fe,"Selected-Card"):""]})})]})}));function ot(e,t,a,i,n){return Object(A.jsx)(A.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(A.jsxs)("div",{className:"enter-your-address-section",children:[Object(A.jsx)("span",{className:"search-store-text",children:Object(s.translateWithI18Next)("pleaseEnterLocation")}),Object(A.jsx)("div",{"data-testid":"show-list-map",className:Object(r.Tc)(t,"store-count","show-map-div"),onClick:()=>{t&&i(),n()},children:Object(A.jsxs)(N.a,{className:"map-link",children:[Object(A.jsx)("span",{children:Object(A.jsx)(g.a,{"data-testid":"",srcFile:it(t),alt:"map",className:"map-img"})}),Object(r.Tc)(t,Object(s.translateWithI18Next)(a),Object(s.translateWithI18Next)("map"))]})})]})})}function lt(e,t,a,i,n){let{firstTab:o,setCenterIndex:l,handleTabChange:c}=n;return Object(A.jsx)(A.Fragment,{children:(!!e||!!t)&&a&&Object(A.jsx)("span",{"data-testid":"tab-favorite-store",className:et(o),onClick:()=>{l(0),c(!1)},children:"".concat(Object(s.translateWithI18Next)("savedkfc")," (").concat(i,")")})})}var ct=a(956),dt=a(77),rt=a(915),ut=a(111);const vt=e=>{var t;const{contentData:a={},onStoreSelectFinish:p}=e,{SEARCH_ORDER_DATA:N,DISPOSITION_DATA:g,ANALYTICS_LOCALISATION_SIGNIN:I}=O.a,x=Object(j.b)(),{COUNTRY_CODE:S,STORE_CARD_LIMIT:E,TYPE_TAKE_WAY:T,PICK_UP:y,TENANT_ID:D,TENATNT_SESSION_ID:_,TYPE_DELIVERY:R}=h.a,{userOrderState:k,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:P,searchStoreData:F,showLocationConfirmModal:W}=k,{dispositionType:H=localStorage.getItem("dispositionType")}=Object(r.md)(P),{currentMarket:U=S,storeCardLimit:B=E,storeStatusUrl:G="".concat(Object(n.a)(i.Mb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:Y=D,tenantSessionID:V=_}=F,{searchStoreHeaderText:K="",deliveryHeaderText:z="",searchStoreModalContent:J={}}=a,{formContent:q={},locationsContent:{storeData:X=[]}}=J,[Q,Z]=b.a.useState([]),[$,ee]=b.a.useState({}),[te,ae]=b.a.useState([]),[ie,ne]=b.a.useState([]),{storeSearch:se={},tenantId:oe,componentOptions:le}=Object(j.c)((e=>Object(r.kd)(e.tenantReducer))),{storesWithStatus:ce=[],isStoreStatusLoading:de=!1}=Object(j.c)((e=>Object(r.kd)(e.storesReducer))),{allStores:re=[]}=Object(j.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:je,maxPickupDistanceMtrs:me,geohashprecision:Oe,boundingBoxSizeMeters:he}=se,Ne=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:g,value:{showDisposition:!1}}),w({type:N,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&Ne(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const ge=e=>{e.stopPropagation(),e.preventDefault(),w({type:g,value:{showDisposition:!0}}),w({type:N,value:{showSearchStore:!1}})},Ie=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(I,JSON.stringify(!0)),Object(f.j)(),setTimeout((()=>{Object(dt.b)()}),500)},xe=Object(j.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(w,W)}),[]),Object(v.useEffect)((()=>{Se({userLat:$.userLat,userLong:$.userLong})}),[xe.length]),Object(v.useEffect)((()=>{re.length>0&&Ae(re)}),[re]),Object(v.useEffect)((()=>{ce.length>0&&ke(ce)}),[ce]),Object(v.useEffect)((()=>{(null===H||void 0===H?void 0:H.toUpperCase())===R&&ye(ie)}),[ie]);const Se=e=>{Object(ct.a)(e.userLat,e.userLong,xe,Ee)},Ee=(e,t)=>{const a=Object(r.Tc)((null===H||void 0===H?void 0:H.toUpperCase())===T,y,H),i=G.replace("{channel}",d.b.channel).replace("{service}",a).replace(" ","-"),n=Object(m.a)();Object(f.h)(e,i.toLowerCase(),Y,V||Object(m.a)(),n,fe)},fe=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:a,amenities:i,dname:n,id:s,location:o}=e.storeBasic;return{...e,id:s,location:o,name:n,amenities:i,addresses:a,additionalAttributes:t,storeBasic:{}}}));ae(t)},Te=e=>{x(Object(o.b)()),ee({userLat:e.userLat,userLong:e.userLong}),Q&&Z([]),Ce(e.userLat,e.userLong),setTimeout((()=>{x(Object(o.a)())}),2e3)},Ce=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:he/1e3,geohashprecision:Oe},i=c.a.calculateGH(a);x(Object(l.v)(null===i||void 0===i?void 0:i.length))},Ae=e=>{const t=Object(r.Ib)(H.toUpperCase()),a=e.filter((e=>{var t,a;return Object(r.he)(e.id)&&Object(r.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(r.he)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),i={stores:a,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(r.Tc)(H.toUpperCase()===R,je,me),noOfStores:Object(r.Tc)(H.toUpperCase()===R,2,a.length),channel:d.b.channel},n=c.a.checkAndProceed(i);ne(n),H.toUpperCase()===R?ye(n):Le(n,t)},ye=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,i;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(i=e.location)||void 0===i?void 0:i.longitude})})),Object(ct.b)(t,[{lat:$.userLat,lng:$.userLong}],De)},De=e=>{let{allStoreDistance:t,originAddressText:a}=e;const i=Object(r.Ib)(H.toUpperCase()),n={stores:Re(t,ie),numberOfStores:2,disposition:i,distanceMetrics:ve,driveTime:ue,channel:d.b.channel},s=c.a.getSortedNearbyStores(n);(null===s||void 0===s?void 0:s.length)>0&&Le(s,i)},Re=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),Le=(e,t)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:d.b.channel,service:t}))),store:e,tenantId:oe,setStatusFlag:!1,isFavoritePage:!1};x(Object(l.d)(a,null))},ke=e=>{const t=e.filter((e=>{var t,a,i,n,s,o,l,c,d,r,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(n=i.status)||void 0===n?void 0:n.currentStatus)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(o=s.menu)||void 0===o||null===(l=o.catalogs)||void 0===l?void 0:l.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(d=c.timings)||void 0===d||null===(r=d.operatingHours)||void 0===r?void 0:r.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));Z(t)},we=null===le||void 0===le||null===(t=le.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Me}=L.gd,{configSearchScreen:Pe=localStorage.getItem(Me)}=F,Fe="".concat(null===H||void 0===H?void 0:H.toUpperCase(),"_").concat(Pe),{shouldShowLocationLink:We}={...null===ut.d||void 0===ut.d?void 0:ut.d[Fe],...null===we||void 0===we?void 0:we[Fe]},{Error_Yellow:He}=C.a||{},{LOCATION_BLOCKED_ERROR:Ue,KFC_URL:Be}=_e.a,Ge=Object(r.xe)(W,We),Ye=Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(rt.a,{show:Ge,errorMsg:Object(M.G)(Ue,Be),errImage:He,cssClass:"location-blocked"}),(null===H||void 0===H?void 0:H.toUpperCase())===R?Object(A.jsx)(be,{singInClickhandler:Ie,formContent:q,storeData:X,onStoreSelectFinish:p,eligibleStoreData:Q,storeCardLimit:B,userPositionHandler:Te,currentMarket:U}):Object(A.jsx)(st,{singInClickhandler:Ie,formContent:q,storeData:X,eligibleStoreData:Q,noStoresList:de,storeCardLimit:B,userPositionHandler:Te,currentMarket:U,onStoreSelectFinish:p,handleGoBack:ge,favoriteStoreData:te,favoriteStoreHandler:Se})]});return Object(A.jsx)(pe,{handleClose:Ne,orderModeTypeItem:Ye,showLocationError:Ge,headerText:Object(r.Tc)((null===H||void 0===H?void 0:H.toUpperCase())===R,Object(s.translateWithI18Next)(z),Object(s.translateWithI18Next)(K)),handleGoBack:ge,modalTitleId:"search-store"})};vt.defaultProps=p.a;t.default=vt},875:function(e,t,a){"use strict";a.r(t);var i=a(3),n=a.n(i),s=a(113),o=a(344),l=a(25),c=a(920),d=a(912),r=a(36),u=a(15),v=a(5),b=a(6),j=a(327),m=a(913),O=a(0),h=a(55),p=a(2);var N=e=>{let{currentMenu:t,updateMenu:a,history:n}=e;const s=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)||null})),[o,c]=Object(i.useState)(Object(v.Ud)(window.innerWidth)),d=()=>{localStorage.removeItem(O.gd.ADD_TO_ORDER),localStorage.removeItem(null===O.gd||void 0===O.gd?void 0:O.gd.DISPOSITION_NEW),Object(m.d)(null===s||void 0===s?void 0:s.id),h.a.getInstance().logout(),Object(v.Me)({history:n})},{Strips:N,Arrow:g}=u.a;Object(i.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.Ud)(window.innerWidth);c(e)}))}),[o]);const{ORDER_HISTORY_TAG:I,MY_FAV_MENU:x,ADDRESS:S,ACCOUNT_SETTING:E,SIGN_OUT:f}=j.d;return o?Object(p.jsxs)("div",{className:"account-mobile-container",children:[Object(p.jsx)("div",{className:"account-mobile-header",children:Object(p.jsxs)("div",{className:"account-header-container",children:[Object(p.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"}),Object(p.jsx)("h4",{className:"account-header",children:Object(b.translateWithI18Next)("Good ".concat(Object(v.ac)()," ").concat(s.firstName||s.phone,"!"))}),Object(p.jsx)(r.a,{className:"button transparent-btn white-border sign-out-btn","data-id":O.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"aria-label":"",onClickHandler:d,type:"submit",children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(f)})})]})}),Object(p.jsxs)("div",{className:"account-mobile-menu-option",children:[Object(p.jsx)("section",{"data-testid":"order-history-mobile-testid",onClick:()=>a(I),class:"account-accordian",children:Object(p.jsx)("div",{class:"global-accordian-container",children:Object(p.jsxs)("div",{class:"global-accordian-header-container",children:[Object(p.jsx)("span",{class:"global-accordian-header",children:Object(b.translateWithI18Next)(I)}),Object(p.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"})]})})}),Object(p.jsx)("section",{"data-testid":"fav-menu-mobile-testid",onClick:()=>a(x),class:"account-accordian",children:Object(p.jsx)("div",{class:"global-accordian-container",children:Object(p.jsxs)("div",{class:"global-accordian-header-container",children:[Object(p.jsx)("span",{class:"global-accordian-header",children:Object(b.translateWithI18Next)(x)}),Object(p.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"})]})})}),Object(p.jsx)("section",{"data-testid":"saved-address-mobile-testid",onClick:()=>a(S),class:"account-accordian",children:Object(p.jsx)("div",{class:"global-accordian-container",children:Object(p.jsxs)("div",{class:"global-accordian-header-container",children:[Object(p.jsx)("span",{class:"global-accordian-header",children:Object(b.translateWithI18Next)(S)}),Object(p.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"})]})})}),Object(p.jsx)("section",{"data-testid":"account-settings-mobile-testid",onClick:()=>a(E),class:"account-accordian",children:Object(p.jsx)("div",{class:"global-accordian-container",children:Object(p.jsxs)("div",{class:"global-accordian-header-container",children:[Object(p.jsx)("span",{class:"global-accordian-header",children:Object(b.translateWithI18Next)(E)}),Object(p.jsx)("img",{src:g,className:"account-icon",alt:"Account Icon"})]})})})]})]}):Object(p.jsxs)("div",{className:"account-header-container",children:[Object(p.jsx)("img",{src:N,className:"account-icon",alt:"Account Icon"}),Object(p.jsx)("h4",{className:"account-header account-profile-name","data-testid":"account-profile-name-testid",children:Object(b.translateWithI18Next)("".concat(Object(b.translateWithI18Next)("greetingGood")," ").concat(Object(v.ac)()," ").concat(s.firstName||Object(b.translateWithI18Next)("kfcLover"),"!"))}),Object(p.jsxs)("div",{className:"account-menu-container",children:[Object(p.jsx)("div",{"data-testid":"order-history-testid",className:Object(v.Tc)(t===I,"activeMenu account-menu","account-menu"),onClick:()=>a(I),children:Object(b.translateWithI18Next)(I)}),Object(p.jsx)("div",{className:Object(v.Tc)(t===x,"activeMenu account-menu","account-menu"),onClick:()=>a(x),"data-testid":"fav-menu-link",children:Object(b.translateWithI18Next)(x)}),Object(p.jsx)("div",{"data-testid":"saved-address-testid",className:Object(v.Tc)(t===S,"activeMenu account-menu","account-menu"),onClick:()=>a(S),children:Object(b.translateWithI18Next)(S)}),Object(p.jsx)("div",{"data-testid":"account-settings-testid",className:Object(v.Tc)(t===E,"activeMenu account-menu","account-menu"),onClick:()=>a(E),children:Object(b.translateWithI18Next)(E)})]}),Object(p.jsx)(r.a,{"data-id":O.qb.HEADER_SIGN_IN_ATTR_DATA_ID,className:"button transparent-btn white-border sign-out-btn","aria-label":"",type:"submit",children:Object(p.jsx)("span",{"data-testid":"signout-button-testid",onClick:d,children:Object(b.translateWithI18Next)(f)})})]})},g=a(429),I=a(430),x=a(431),S=a(432),E=a(11),f=a(215);var T=e=>{const{onClickHandler:t,isDarkMode:a=!1,dataTestId:s,cardInfo:o={},title:l,occassionTime:c,onEditOccasionName:d,itemId:r,itemName:m,favouriteOrders:h=[],tenantData:N={}}=e,{ScheduledIcon:T,Reload:C}=u.a,{AT:A,REFUND_INIT:y,SCHEDULE:D,REFUND_INIT_TEXT:_,EDIT_ITEM_TEXT:R,TODAY_AT:L,CANCELLED:k,DELIVERED:w,PICK_UP:M}=j.d,{id:P="",fulfillmentDateTime:F="",service:W="",status:H="",fulfillmentDateTime:U=""}=Object(v.kd)(o),{pastOrderDateformat:B="",pastOrderTimeFormat:G=""}=N;let Y={};Y=h.length>0&&h.find((e=>e.id===P))||{};const V=Object.keys(Y).length>0?Y.name:"".concat("pickup"===W&&M||W," ").concat(Object(b.translateWithI18Next)("order")),K=Object(E.C)(F,B),z=Object(E.C)(U,B),J=("".concat(Object(E.C)(F,B),"  ").concat(Object(b.translateWithI18Next)(A)),Object(E.h)(new Date,B));let q="".concat(z," ").concat(Object(b.translateWithI18Next)(A)," ");Object(E.h)(Object(E.M)(F),G);const X=Object(E.J)(U);z===J&&(q=Object(b.translateWithI18Next)(D)+" for "+Object(b.translateWithI18Next)(L));const[Q,Z]=Object(i.useState)(!1),$=e=>{Z(!Q),t&&!Q&&t(e,P)},ee=X&&(K===J||z===J),te=e=>"".concat(Object(E.C)(e,O.Ne.LL)," ").concat(Object(b.translateWithI18Next)(A)," ").concat(Object(E.C)(e,O.Ne.hh_mm_a));return Object(p.jsxs)("div",{className:"global-accordian-container ".concat(Q?"account-accordian-open":""),children:[Object(p.jsxs)("div",{className:"global-accordian-header-container",children:[Object(p.jsxs)("span",{className:"global-accordian-header",children:[H===y&&!l&&Object(p.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(p.jsx)("img",{src:C,className:"account-icon",alt:"Account Icon"}),Object(p.jsx)("span",{className:"order-status",children:Object(b.translateWithI18Next)(_)})]}),ee&&(ae=H,ae!==k&&ae!==w)?Object(p.jsxs)("div",{className:"order-accordian-heading-section",children:[Object(p.jsx)("img",{src:T,className:"account-icon",alt:"Account Icon"}),Object(p.jsx)("span",{className:"order-status",children:Object(b.translateWithI18Next)(D)})]}):null,l?Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)("span",{className:"order-accordian-heading",children:l}),Object(p.jsx)("span",{className:"edit-occasion-link",onClick:()=>d(r,m),children:Object(b.translateWithI18Next)(R)})]}):Object(p.jsx)("span",{className:"order-accordian-heading",children:V})]}),Object(p.jsxs)("div",{className:"global-accordian-right",children:[Object(f.k)(o.status)?Object(p.jsxs)("span",{className:"order-time red-status",children:[Object(b.translateWithI18Next)("canceled")," : ",te(o.statusUpdatedDate)]}):c?Object(p.jsx)("span",{className:"order-time",children:c}):Object(p.jsx)("span",{className:"order-time",children:te(o.fulfillmentDateTime)}),a?Object(p.jsx)("img",{src:Q&&S.a||x.a,onClick:$,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:"Accordian Handle"}):Object(p.jsx)("img",{src:Q&&I.a||g.a,onClick:$,className:"global-accordian-arrow","data-testid":s,alt:"Global Accordian"})]})]}),Q&&Object(p.jsx)("div",{className:"global-accordian-content",children:e.children})]});var ae},C=a(98),A=a.n(C),y=a(121),D=a(1054),_=a(268),R=a(83);var L=e=>{const t=Object(l.b)(),{onCancel:a,cardInfo:n,tenantData:s}=e,{tenantId:o}=s,[c,d]=Object(i.useState)([]),[u,v]=Object(i.useState)(!1),[m,O]=Object(i.useState)(!1),{customerInfo:h}=Object(l.c)((e=>({customerInfo:e.profileReducer||{}}))),{customerId:N,basic:{phone:g=""}={},favouriteOrders:I=[]}=h||{},{CANCEL:x,SAVE:S,OCCASSOIN_HEADING:E,OREDER_PLACEHOLDER:f,NAME_EXIST:T,OCCASION_NAME_VALIDATION:C}=j.d;Object(i.useEffect)((()=>{const e=[];I.map((t=>{var a;return e.push(null===(a=t.name.toUpperCase())||void 0===a?void 0:a.trim())})),d(e)}),[]);const[A,y]=Object(i.useState)("");return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"InputHeading",children:Object(b.translateWithI18Next)(E)}),Object(p.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(p.jsx)("input",{value:A,type:"tel","data-testid":"occasion-input",className:"occasion-input-box",placeholder:Object(b.translateWithI18Next)(f),maxlength:"11",required:!0,onChange:e=>(e=>{y(e.target.value),O(!1),v(!1)})(e)}),u&&Object(p.jsx)("span",{className:"error-text",children:Object(b.translateWithI18Next)(T)}),m&&Object(p.jsx)("span",{className:"error-text",children:Object(b.translateWithI18Next)(C)})]}),Object(p.jsxs)("div",{className:"buttonItems",children:[Object(p.jsx)(r.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>a(),children:Object(b.translateWithI18Next)(x)}),Object(p.jsx)(r.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>{let e=null===A||void 0===A?void 0:A.trim();const i=c.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),s=R.c.test(A);let l=e.replace(/ /g,"").length;if(!s||0===l||l<=2)O(!0);else if(s&&i>=0)v(!0),O(!1);else{const{id:e}=n;t(Object(_.a)({customerId:N,tenantId:o,phoneNumber:g},{orderId:e,name:A})),a()}},children:Object(b.translateWithI18Next)(S)})]})]})},k=a(1069),w=a(1089),M=a(30),P=a(138),F=a(964),W=a(340),H=a.n(W),U=a(37),B=a.n(U),G=a(22),Y=a(49),V=a(972),K=a(61);var z=e=>{const{isMobile:t,cardInfo:a,tenantData:n,customerId:s,orderItemArray:o,isGetOrdersLoading:c}=e,d=o.find((e=>e.id===a.id)),[m,h]=Object(i.useState)(!1),[N,g]=Object(i.useState)(!1),{REORDER_TEXT:I,ADD_TO_OCCASION:x,VIEW_RECEIPT:S,ACCOUNT_ORDERS:E,TRACK_ORDER:f}=j.d,T=Object(l.c)((e=>e.cartReducer)),C=Object(l.c)((e=>e.tenantReducer)),[A,_]=Object(i.useState)(!1),[R,W]=Object(i.useState)(!1),[U,z]=Object(i.useState)({}),{cartData:J={}}=T,{tenantId:q,currencyConversionFactor:X}=C,Q=Object(l.b)(),Z=Object(K.g)(),$=Object(l.c)((e=>e.appStateReducer.userStatus)),ee={id:"ReceiptModal",role:"dialog",modalTitleId:"ReceiptModal",show:m,classNames:"Base-modal Receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>h(!1),modalTitle:"ORDER RECEIPT",closeDataTestId:"close-recipet-modal",autoFocus:!0},te=Object(p.jsx)(y.a,{...ee,children:Object(p.jsx)("div",{className:"ReceiptModal",children:Object(i.createElement)(D.a,{...e,key:"receipt-".concat(a.id),orderItem:d})})}),ae={id:"OccassionModal",role:"dialog",modalTitleId:"OccassionModal",show:N,classNames:"Base-modal ".concat(Object(v.Tc)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>g(!1),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ie=Object(p.jsx)(y.a,{...ae,children:Object(p.jsx)("div",{className:"OccassionModal",children:Object(p.jsx)(L,{onCancel:()=>g(!1),cardInfo:a,tenantData:n,customerId:s})})}),{foodLines:ne=[]}=Object(v.kd)(J),se=()=>{ne.length>0?_(!0):(Q(Object(M.r)()),W(!0))},oe=e=>{const t=H()(B()(e,"response",{}),{}),{id:a}=Object(v.kd)(d);z(t),Q(Object(P.f)({tenantId:q,orderId:a,customerId:s},se))},{ReorderIcon:le}=u.a;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(p.jsxs)("span",{className:"global-accordian-header mobile-accordian-header",children:[Object(p.jsx)("span",{className:d?"order-receipt-option":"order-receipt-Disable-option","data-testid":"view-receipt",onClick:()=>h(!0),children:Object(b.translateWithI18Next)(S)}),Object(p.jsx)("span",{className:"order-ocasion-option","data-testid":"view-occasion-modal",onClick:()=>g(!0),children:Object(b.translateWithI18Next)(x)})]}),Object(p.jsxs)("div",{className:Object(V.g)(d)||Object(V.i)(d)?"global-accordian-right":"btn-algn global-accordian-right",children:[Object(V.n)(d)&&new Date(1e3*(null===d||void 0===d?void 0:d.fulfillmentDateTime)).getTime()>=(new Date).getTime()&&Object(p.jsxs)(r.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(()=>{const e=Object(v.kd)(d);sessionStorage.setItem(O.gd.ORDER_TRACKING,JSON.stringify(Object(V.w)(q,e))),Object(k.a)((null===e||void 0===e?void 0:e.total)/X),Object(v.Te)({history:Z})})()},"data-testid":"track-order-btn",children:[Object(p.jsx)("img",{alt:"account-icon",src:le,className:"account-icon"}),Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(f)})]}),Object(p.jsxs)(r.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(()=>{if(c)return;(null===$||void 0===$||!$.localized)&&Object(Y.o)();const{store:e={},service:t=""}=Object(v.kd)(d),{storeId:a=""}=Object(v.kd)(e),i=[{storeId:a,channel:G.b.channel,service:t}];Q(Object(F.a)(i,q,oe)),sessionStorage.setItem("reorderClick",!0)})(),localStorage.setItem(O.lb,E)},"data-testid":"re-order-btn",children:[Object(p.jsx)("img",{alt:"account-icon",src:le,className:"account-icon"}),Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(I)})]})]})]}),m&&d&&te,N&&ie,Object(v.id)(A,R)&&Object(p.jsx)(w.a,{storeInfo:U,currentOrderInfo:a,reorderModalOpen:A,setReorderModalOpen:_,isQuickReorderModalOpen:R,setQuickReorderModalOpen:W})]})},J=a(4),q=a(43),X=a(931),Q=a.n(X),Z=a(122);var $=e=>{const t=Object(K.g)(),{cardInfo:a,tenantData:i,orderItemArray:n,favouriteItems:s,customerId:o}=e,{tenantId:c,currencySymbol:d,currencyConversionFactor:j,addHope:m,carryBag:O}=i,{id:h}=a,N=n.find((e=>e.id===h))||{},{foodLines:g=[]}=N;let I=Object(v.Pb)(g,m,O);const{heartIcon_active_red:x,Favourite:S}=u.a,E=Object(l.b)();return Object(p.jsxs)(p.Fragment,{children:[Object(f.k)(a.status)&&Object(p.jsxs)("div",{class:"order-cancelled-msg",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("b",{children:[Object(b.translateWithI18Next)("cashOnDelivery")," "]})," ",Object(b.translateWithI18Next)(J.a.CASH_ON_DELIVERY_MSG)]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("b",{children:Object(b.translateWithI18Next)(J.a.ONLINE_PAYMENT)}),Object(p.jsxs)("span",{children:[" ",Object(b.translateWithI18Next)(J.a.ONLINE_PAYMENT_MSG)]})]}),Object(p.jsx)("div",{class:"order-cancelled-help-button",children:Object(p.jsx)(r.a,{className:"button transparent-btn","aria-label":"",onClickHandler:()=>{t.push("/help")},children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)("getHelp")})})})]}),I.map((e=>{const{item:t}=e,{mdmId:a,unitPrice:n}=t,l=Q()(s,{mdmId:a});return Object(p.jsxs)("div",{className:"global-accordian-header-container order-section",children:[Object(p.jsx)("span",{className:"global-accordian-header mobile-order-details-section",children:Object(p.jsx)(q.a,{className:"order-item-img",defaultPath:Object(v.Xb)(null,i,!0),srcFile:Object(v.Xb)(t.imageName,i)})}),Object(p.jsxs)("span",{className:"product-details-section",children:[Object(p.jsxs)("span",{className:"product-title",children:[t.quantity,"x ",t.name]}),Object(p.jsx)("span",{className:"product-desc",children:(u=t,B()(u,"modGrps",[]).map((e=>e.modifiers)).flat().map((e=>"".concat(e.quantity,"x ").concat(e.name))).join())}),Object(p.jsxs)("span",{className:"product-price",children:[d,(r=n,(r/j).toFixed(2))]})]}),Object(p.jsx)("div",{className:"global-accordian-right","data-testid":"favourite-btn",onClick:()=>((e,t,a)=>{const{mdmId:i,id:n,name:s,imageName:l,longDescription:d,quantity:r,customizable:u,customProperties:v}=e;E(t?Object(Z.b)({customerId:o,tenantId:c,itemId:n}):Object(Z.a)({customerId:o,tenantId:c},{mdmId:i,id:n,name:s,imageName:l,description:d,quantity:r,isCustomized:u,price:(null===a||void 0===a?void 0:a.unitPrice)/j,additionalProperties:v}))})(t,l,e),children:Object(p.jsx)("img",{src:l?x:S,className:"account-icon",alt:"Account Icon"})})]});var r,u}))]})},ee=a(102),te=a(1012),ae=a(428),ie=a(103),ne=a(220),se=a(62),oe=a(277),le=a(336);const{phoneImg:ce,Direction:de}=u.a;let re=0;const ue=(e,t,a)=>{let i={...e},n=i.errorMessage;var s;return i.value=t,t?(s=t,ae.a.EMAIL_REGEX.test(s)?(re=0,i.error=!1,i.errorMessage=""):(i.error=!0,i.errorMessage=Object(b.translateWithI18Next)("invalidYourEmailErrText"),a(!0))):(i.error=!0,i.errorMessage=Object(b.translateWithI18Next)("yourEmailHelpText"),a(!0)),n!==i.errorMessage&&(re=0),i.error&&0===re&&(re=1,Object(v.Kb)("OrderLookup",i.errorMessage)),i},ve=(e,t,a,i)=>{var n,s;return(null===e||void 0===e||null===(n=e.discountLines)||void 0===n?void 0:n.length)>0&&Object(p.jsxs)("div",{className:"priceList",children:[Object(p.jsxs)("span",{className:"fonts",children:[Object(b.translateWithI18Next)(i)," (",null===e||void 0===e||null===(s=e.discountLines[0])||void 0===s?void 0:s.couponCode,")"]}),Object(p.jsxs)("span",{className:"amount",children:[" ","- ",t,a]})]})};var be=e=>{var t,a,n,s;const{isOpen:o=!1,handleClose:c}=e,d=Object(l.b)(),u=Object(l.c)((e=>e.tenantReducer)),{tenantId:j,currencySymbol:m,currencyConversionFactor:O,addHope:h,carryBag:N,showCustomDeliveryFee:g}=u,[I,x]=Object(i.useState)(Object(v.Ud)(window.innerWidth)),[S,f]=Object(i.useState)(""),[T,C]=Object(i.useState)(0),[A,D]=Object(i.useState)([]),[_,R]=Object(i.useState)([]),[L,k]=Object(i.useState)(0),[w,M]=Object(i.useState)(""),[P,F]=Object(i.useState)(""),[W,H]=Object(i.useState)(!1),[U,B]=Object(i.useState)(!1),[G,Y]=Object(i.useState)(!1),[V,K]=Object(i.useState)({}),[z,q]=Object(i.useState)(!0),[X,Q]=Object(i.useState)(""),[Z,$]=Object(i.useState)(""),[re,be]=Object(i.useState)(""),[je,me]=Object(i.useState)(0),[Oe,he]=Object(i.useState)(0),[pe,Ne]=Object(i.useState)([]),[ge,Ie]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[xe,Se]=Object(i.useState)({value:"",errorMessage:"",error:!1}),[Ee,fe]=Object(i.useState)({value:"",errorMessage:"",error:!1}),{PHONE_NUM:Te,ORDER_NUMBER:Ce,CANCEL:Ae,SUBMIT:ye,ORDERHASH:De,YOUR_ORDER:_e,DELIVER_TO:Re,ORDER_FROM:Le,GET_DIRECTION:ke,DISCOUNT:we,TOTAL:Me,COMPLETED:Pe,SUB_TOTAL:Fe,PAYMENT:We,ORDER_LOOKUP:He,EMAIL_ADDRESS:Ue,DELIVERY:Be,SEARCH_IN_CART:Ge,largeCarryBagText:Ye,addHopeText:Ve}=ae.a;Object(i.useEffect)((()=>(window.addEventListener("resize",Ke),()=>{window.removeEventListener("resize",Ke)})),[I]);const Ke=()=>{x(Object(v.Ud)(window.innerWidth))};Object(i.useEffect)((()=>{d(Object(ne.a)({object:Object(se.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(i.useEffect)((()=>{""===ge.value||ge.error||""===xe.value||xe.error||""===Ee.value||Ee.error||q(!1)})),Object(i.useEffect)((()=>{""===Ee.value.trim()&&q(!0)}),[null===Ee||void 0===Ee?void 0:Ee.value]);const{tendersContent:ze}=Object(l.c)((e=>e.paymentsContentReducer)),{items:Je}=ze,qe=e=>(e/O).toFixed(2);Object(i.useEffect)((()=>d(Object(ee.a)({emailId:ge.value,phoneNo:xe.value,orderNo:Ee.value}))),[]);const Xe=Object(l.c)((e=>e.orderReducer)),{pastOrderResponse:Qe=[{}]}=Xe,Ze=Qe[0];Object(i.useEffect)((()=>{Object(v.db)(null===Je||void 0===Je?void 0:Je.length,null===Ze||void 0===Ze?void 0:Ze.paymentReferences)&&Je.forEach((e=>{e.fields.title===Ze.paymentReferences[0].paymentType&&K(e)}))}),[Ze]),Object(i.useEffect)((()=>{if(null!==Ze&&void 0!==Ze&&Ze.id){H(!1),Y(!0);const e=Ze.fulfillmentDateTime,t=Object(E.h)(Object(E.M)(e),"ll"),a=Object(E.h)(Object(E.M)(e),"h:mm A");if(f(t+" at "+a),D(Ze.taxLines),R(Ze.additionalChargeLines),k(qe(Ze.discountTotal)),F(function(e){e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Ze.store.phoneNumber)),C(qe(Ze.subTotal)),M(qe(Ze.total)),Q(Ze.service),Object(v.db)(h,N)){((e,t,a,i,n,s,o)=>{const{setAddHopeDataExistsId:l,setAddHopeDataPrice:c}=n,{setCarryBagDataExistsId:d,setCarryBagDataPrice:r}=s,{currencyConversionFactor:u}=o;let b=e.foodLines.length?Object(v.bb)(e.foodLines,t,u,i):{},j=Object(v.md)(null===b||void 0===b?void 0:b.id);if(l(j),j){let t=e.foodLines.find((e=>e.id===j));c(Object(oe.a)(t.amount,o))}let m=e.foodLines.length?Object(v.nb)(e.foodLines,a,u,i):{},O=Object(v.md)(null===m||void 0===m?void 0:m.id);if(d(O),O){let t=e.foodLines.find((e=>e.id===O));r(Object(oe.a)(t.amount,o))}})(Ze,h,N,Ge,{setAddHopeDataExistsId:be,setAddHopeDataPrice:me},{setCarryBagDataExistsId:$,setCarryBagDataPrice:he},u);let e=((e,t,a)=>e.filter((e=>{var i,n;return(null===e||void 0===e||null===(i=e.item)||void 0===i?void 0:i.name)!==t&&(null===(n=e.item)||void 0===n?void 0:n.name)!==a})))(Ze.foodLines,h,N);Ne(e)}}else Ze||(Y(!1),H(!0),Object(v.Kb)("OrderLookup",Object(b.translateWithI18Next)("invaidInputs")),q(!0))}),[Qe]);const $e=I?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:o,classNames:Object(v.Tc)(G,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:c,autoFocus:!0,modalTitle:Object(b.translateWithI18Next)(He),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:o,classNames:Object(v.Tc)(G,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:c,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};const et=(e,t)=>{H(!1);let a=e.target.value;if(Object(v.we)(a,t)){let e=a.replace(/\+|-/gi,"");Se({...Object(v.vf)(xe,e,q)})}t===Ue&&Ie({...ue(ge,a,q)}),t===Ce&&fe({...Object(v.wf)(Ee,a,q)})},tt=Object(p.jsxs)("div",{className:"priceList",children:[Object(p.jsx)("span",{className:"fonts",children:"GST"}),Object(p.jsxs)("span",{className:"amount",children:[m,qe(null===Ze||void 0===Ze?void 0:Ze.inclusiveTaxTotal)," "]})]}),at=null===_||void 0===_||null===(t=_.filter((e=>"in-delivery-charge"!==e.chargeType)))||void 0===t?void 0:t.map((function(e,t){return Object(p.jsxs)("div",{className:"priceList",children:[Object(p.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(p.jsxs)("span",{className:"amount",children:[m,qe.call(this,e.amount)," "]})]},t)})),it=Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"InputArea",children:[Object(p.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(p.jsxs)("div",{className:"inputLookUpNumbox",children:[!I&&Object(p.jsx)("p",{className:"lookup-mandatory-note",children:Object(b.translateWithI18Next)("mandatorynote")}),Object(p.jsx)(ie.a,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:xe.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(b.translateWithI18Next)(Te),onChange:e=>et(e,Te),helperText:xe.errorMessage,error:xe.error}),Object(p.jsx)(ie.a,{"data-testid":"user-orderId",autoComplete:"off",value:Ee.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(b.translateWithI18Next)(Ce),onChange:e=>et(e,Ce),helperText:Ee.errorMessage,error:Ee.error}),Object(p.jsx)(ie.a,{"data-testid":"user-email",autoComplete:"on",value:ge.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(b.translateWithI18Next)(Ue),onChange:e=>et(e,Ue),helperText:ge.errorMessage,error:ge.error})]}),W&&Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"exMark",children:"!"}),Object(p.jsx)("span",{className:"errorMessage",children:Object(b.translateWithI18Next)("invaidInputs")})]})]}),Object(p.jsxs)("div",{className:"buttonItems",children:[Object(p.jsx)(r.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>st(),children:Ae}),Object(p.jsx)(r.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:e=>nt(e),disabled:z,children:ye})]})]}),nt=e=>{""!==Object(v.db)(ge.value,Object(v.db)(xe.value,Ee.value))&&d(Object(ee.d)({emailId:ge.value,phoneNo:xe.value,orderNo:Ee.value,tenantId:j}))},st=()=>{Y(!1),c(),d(Object(ee.a)({emailId:ge.value,phoneNo:xe.value,orderNo:Ee.value}))};const ot="tel:"+(null===Ze||void 0===Ze||null===(a=Ze.store)||void 0===a?void 0:a.phoneNumber);return Object(p.jsxs)("div",{children:[o&&!G&&Object(p.jsx)(y.a,{...$e,children:Object(p.jsx)("div",{className:"LookUpmodalContants",children:it})}),o&&G&&Ze&&Object(p.jsx)(y.a,{...$e,children:Object(p.jsx)("div",{className:"LookUpmodalContants",children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"orderLookUpData",children:[Object(p.jsxs)("div",{className:"Orderheading",children:[Object(p.jsx)("span",{className:"yourOrder",children:_e}),Object(p.jsxs)("span",{className:"idNumber",children:[De,Ze.posOrderId]})]}),Object(p.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(p.jsx)("span",{className:"completed",children:Pe}),Object(p.jsx)("span",{className:"dateCompleted",children:S})]}),Object(v.ef)(null===Ze||void 0===Ze?void 0:Ze.service)===Be&&null!==(null===Ze||void 0===Ze?void 0:Ze.deliveryAddress)&&Object(p.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(p.jsx)("span",{className:"completed",children:Re}),Object(p.jsx)("span",{className:"dateCompleted",children:Object(v.a)(null===Ze||void 0===Ze?void 0:Ze.deliveryAddress)})]}),Object(p.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(p.jsx)("span",{className:"completed",children:We}),Object(p.jsx)("span",{className:"dateCompleted",children:"Only image"===V.fields.displayFormat?Object(p.jsx)("img",{src:V.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(p.jsx)("span",{className:"dateCompleted",children:V.fields.displayName})})]}),Object(p.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(p.jsxs)("span",{className:"completed",children:[" ",Le]}),null!==Ze.store&&void 0!==Ze.store&&Object(p.jsxs)("span",{className:"dateCompleted",children:[Ze.store.name,Object(p.jsx)("br",{}),null===Ze||void 0===Ze||null===(n=Ze.store)||void 0===n||null===(s=n.address)||void 0===s?void 0:s.addressLines]})]}),Object(p.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(p.jsx)("span",{children:" "}),Object(p.jsxs)("span",{className:"callAndDirection",children:[Object(p.jsxs)("span",{className:"KfcphoneNums",children:[Object(p.jsx)("img",{src:ce,alt:"phone",className:"KfcphoneIcon"}),Object(p.jsx)("a",{href:ot,className:"anchorTags",children:P})]}),Object(p.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>{B(!0)},children:[Object(p.jsx)("img",{src:de,alt:"phone",className:"KfcDirectionIcon"}),Object(b.translateWithI18Next)(ke)]})]})]}),Object(p.jsx)("div",{className:"detailsAccordian",children:Object(le.d)(pe,m,O)}),Object(p.jsxs)("div",{className:"price",children:[Object(p.jsx)("span",{className:"fonts",children:Object(b.translateWithI18Next)(Fe)}),Object(p.jsxs)("span",{className:"amount",children:[m,T]})]}),A&&Object(p.jsx)("div",{children:tt}),g&&_&&(e=>{var t;return null===e||void 0===e||null===(t=e.filter((e=>"in-delivery-charge"!==(null===e||void 0===e?void 0:e.chargeType))))||void 0===t?void 0:t.map(((e,t)=>Object(p.jsxs)("div",{className:"priceList",children:[Object(p.jsx)("span",{className:"fonts",children:Object(b.translateWithI18Next)(null===J.a||void 0===J.a?void 0:J.a.DELIVERY_FEE)}),Object(p.jsxs)("span",{className:"amount",children:[m,qe.call(void 0,e.amount)," "]})]},t)))})(_),g&&_&&(e=>{const t=null===e||void 0===e?void 0:e.find((e=>"in-delivery-charge"===(null===e||void 0===e?void 0:e.chargeType)));if((null===t||void 0===t?void 0:t.amount)>0)return Object(p.jsxs)("div",{className:"priceList",children:[Object(p.jsx)("span",{className:"fonts",children:Object(b.translateWithI18Next)(null===J.a||void 0===J.a?void 0:J.a.IN_DELIVERY_FEE)}),Object(p.jsxs)("span",{className:"amount","data-testid":"custom-delivery-fee-amount",children:[m,qe.call(void 0,t.amount)," "]})]})})(_),!g&&_&&Object(p.jsx)("div",{children:at}),ve(Ze,m,L,we),"PICKUP"===X.toUpperCase()&&Z&&Object(p.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(p.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(b.translateWithI18Next)(Ye)}),Object(p.jsx)("span",{className:"amount",id:"amountStyle",children:Oe})]}),Boolean(re)&&Object(p.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(p.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(b.translateWithI18Next)(Ve)}),Object(p.jsx)("span",{className:"amount",id:"amountStyle",children:je})]}),w&&Object(p.jsxs)("div",{className:"totalAmount",children:[Object(p.jsx)("span",{className:"total",children:Me}),Object(p.jsxs)("span",{className:"total",children:[m,w]})]})]}),Object(p.jsxs)("div",{className:"buttonItemsDone",children:[Object(p.jsx)(r.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:e=>{Y(!1)},children:Object(b.translateWithI18Next)("backButton")}),Object(p.jsx)(r.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:e=>st(),children:Object(b.translateWithI18Next)("popoverDoneButton")})]})]})})}),U&&Object(p.jsx)("div",{children:Object(p.jsx)(te.a,{"data-testid":"map-modal",isOpen:U,handleClose:()=>B(!1),OrderReducerData:Ze})})]})};var je=e=>{let{renderSwitch:t,updateMenu:a}=e;const n=Object(K.g)(),{NO_ORDER_MSG:s,REFUND_MSG:o,HAVE_A_QUESTION:c,CONNECT_WITH_SPECIALIST:d,YOUR_PAST_ORDER:m,LOOKING_FOR_OFFER:O,ORDER_HISTORY_TAG:h,REFUND_INIT:N,GET_HELP:g,LOAD_MORE:I,VIEWED:x,OF:S,ORDER_LOOKUP:E,VIEW_MENU:f}=j.d,{Arrow:C}=u.a,{tenantData:y,orderHistoryInfo:D,orderInfo:R,customerInfo:L}=Object(l.c)((e=>({tenantData:e.tenantReducer||{},orderHistoryInfo:e.orderHistoryReducer||{},orderInfo:e.orderReducer||{},customerInfo:e.profileReducer||{}}))),[k,w]=Object(i.useState)(Object(v.Ud)(window.innerWidth));Object(i.useEffect)((()=>()=>{localStorage.removeItem("LoadMoreOrderHistory")}),[]),Object(i.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.Ud)(window.innerWidth);w(e)}))}),[k]);const M=Object(l.b)(),{tenantId:P}=y,{orderHistory:F}=D,{favouriteItems:W,customerId:H,favouriteOrders:U=[]}=L,{response:B,isGetOrdersLoading:G}=R,[Y,V]=Object(i.useState)([]),[J,q]=Object(i.useState)([]),[X,Q]=Object(i.useState)(!1),Z=()=>{const e=(e=>{const t=["01","02","03","04","05","06","07","08","09","10","11","12"],a=[],i=new Date,n=i.getMonth()+1;let s,o;for(let l=e;l>0;l-=1){s=new Date(i.getFullYear(),n-l,1),o=t[s.getMonth()];let e=i.getFullYear();o>n&&(e-=1),a.push({yearMonth:"".concat(e,"-").concat(o)})}return a})(12);M(Object(_.d)({customerId:H,tenantId:P},e))};Object(i.useEffect)((()=>{P&&Z()}),[P,H]),Object(i.useEffect)((()=>{const e=J.find((e=>e.id===B.id))||{};Object(v.Kd)(e)||q([...J,B])}),[B]),Object(i.useEffect)((()=>{te(10)}),[F]);const te=e=>{if(F&&A()(F)){const t=null===F||void 0===F?void 0:F.sort(((e,t)=>t.orderDateTimeInEpoch-e.orderDateTimeInEpoch));V([...t].splice(0,e))}else V([])},ae=(e,t)=>{const a=J.find((e=>e.id===t))||{};Object(v.Kd)(a)||M(Object(ee.c)({orderId:t,tenantId:P}));const i=e.target.parentElement.parentElement.parentElement;i.classList.contains("account-accordian-open")?i.classList.remove("account-accordian-open"):i.classList.add("account-accordian-open")},ie=()=>{n.push("/help")},ne=Object(p.jsxs)("div",{className:"global-accordian-header-container mobile-refund-section",children:[Object(p.jsx)("span",{className:"global-accordian-header",children:Object(p.jsx)("span",{className:"order-refund-msg",children:Object(b.translateWithI18Next)(o)})}),Object(p.jsx)("div",{className:"global-accordian-right",children:Object(p.jsx)(r.a,{className:"button transparent-btn","aria-label":"","data-testid":"get-Help-Btn",type:"submit",onClickHandler:ie,children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(g)})})})]}),se=Object(p.jsxs)("div",{className:"pageFooter",children:[Y.length>0&&F.length>Y.length&&F.length>10&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"load-more",children:Object(p.jsx)(r.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":"",onClickHandler:()=>te(F.length),children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(I)})})}),Object(p.jsx)("div",{className:"view-order-count",children:Object(p.jsx)("span",{children:"".concat(Object(b.translateWithI18Next)(x)," ").concat(Y.length," ").concat(Object(b.translateWithI18Next)(S)," ").concat(F.length)})})]}),Object(p.jsx)("hr",{className:"horizontal-bar"}),Object(p.jsxs)("div",{className:"get-help-section",children:[Object(p.jsxs)("div",{className:"footer-bootm-left",children:[Object(p.jsx)("span",{className:"have-a-question",children:Object(b.translateWithI18Next)(c)}),Object(p.jsx)("span",{className:"connect-specialist",children:Object(b.translateWithI18Next)(d)})]}),Object(p.jsx)("div",{children:Object(p.jsx)(r.a,{className:"button transparent-btn footer-btn","aria-label":"",onClickHandler:ie,children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(g)})})})]})]});return Object(p.jsxs)(p.Fragment,{children:[k&&Object(p.jsxs)("div",{className:"order-history-header",children:[Object(p.jsx)("img",{src:C,className:"back-icon",alt:"Back Icon","data-testid":"order-history-back-btn",data:!0,onClick:()=>{t(),a("")}}),Object(p.jsx)("span",{className:"page-heading",children:Object(b.translateWithI18Next)(h)})]}),Object(p.jsxs)("div",{className:"account-order-desktop",children:[Object(p.jsxs)("div",{className:"page-header",children:[Object(p.jsx)("span",{className:"page-heading",children:Object(b.translateWithI18Next)(h)}),Object(p.jsxs)("div",{className:"headingItemsRight",children:[Object(p.jsx)("span",{className:"heading-item-text",children:Object(b.translateWithI18Next)(O)}),Object(p.jsx)(r.a,{className:"button transparent-btn order-lookup","data-testid":"order-lookup-order-history",type:"submit",onClickHandler:()=>{M(Object(ee.a)({})),Q(!0)},children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(E)})})]})]}),Y.length>0&&Object(p.jsxs)("div",{className:"sub-section",children:[Object(p.jsxs)("span",{className:"sub-heading-text",children:[Object(b.translateWithI18Next)(m)," (",F.length,")"]}),Object(p.jsx)("section",{children:Y.map(((e,t)=>Object(p.jsx)("section",{className:"account-accordian",children:Object(p.jsxs)(T,{onClickHandler:ae,cardInfo:e,dataTestId:"order-details-".concat(t),favouriteOrders:U,tenantData:y,children:[e.status===N&&ne,Object(p.jsxs)("section",{className:"account-accordian-details-section",children:[Object(p.jsx)("div",{className:"option-section",children:Object(p.jsx)($,{cardInfo:e,tenantData:y,orderItemArray:J,favouriteItems:W,customerId:H},t)}),Object(p.jsx)(z,{isMobile:k,orderItemArray:J,cardInfo:e,tenantData:y,customerId:H,isGetOrdersLoading:G},"Reorder-".concat(t))]})]})})))})]}),0===Y.length&&Object(p.jsx)("div",{className:"sub-section sub-section-no-order",children:Object(p.jsxs)("div",{className:"no-order",children:[Object(p.jsx)("span",{className:"no-order-msg",children:Object(b.translateWithI18Next)(s)}),Object(p.jsx)("div",{children:Object(p.jsx)(r.a,{className:"button transparent-btn view-menu-btn","aria-label":"","data-testid":"goto-menu-page-btn",onClickHandler:()=>{n.push("/menu")},children:Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(f)})})})]})}),se,X&&Object(p.jsx)(be,{isOpen:!0,handleClose:()=>Q(!1),tenantReducerData:y})]})]})},me=a(57);var Oe=e=>{var t,a;let{communicationPreferences:n,basicData:s,tenantId:o}=e;const{SAVE:c}=j.b,d=Object(l.c)((e=>e.marketConfigReducer.response||null)),[u,v]=Object(i.useState)([]),O=Object(l.b)();Object(i.useEffect)((()=>{var e,t,a;let i=[];null===d||void 0===d||null===(e=d.headerData)||void 0===e||null===(t=e.communicationPreferences)||void 0===t||t.forEach((e=>{var t,a,s;i.push({mainText:null===(t=e.fields)||void 0===t?void 0:t.value,subText:null===(a=e.fields)||void 0===a?void 0:a.subValue,checked:!(null===n||void 0===n||!n.find((t=>{var a;return t===(null===(a=e.fields)||void 0===a?void 0:a.code)}))),code:null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.code})})),(null===s||void 0===s||null===(a=s.marketingPreferences)||void 0===a?void 0:a.length)>0?v(i.map((e=>s.marketingPreferences.find((t=>t===e.code))?{...e,checked:!0}:e))):v(i)}),[null===d||void 0===d||null===(t=d.headerData)||void 0===t||null===(a=t.communicationPreferences)||void 0===a?void 0:a.length]);const h=e=>{const t=u.map((t=>t.code===e.target.value?{...t,checked:!t.checked}:t));v(t)};return Object(p.jsxs)("div",{className:"preferences-card",children:[Object(p.jsx)("div",{className:"preferences-card-left-side",children:Object(b.translateWithI18Next)(J.a.PREFERENCES_COMMUNICATION_PREFERENCES)}),Object(p.jsxs)("div",{className:"preferences-card-right-side",children:[Object(p.jsx)("p",{children:"Colonels Club"}),Object(p.jsx)("p",{children:"(member since 2016)"}),Object(p.jsx)("div",{className:"horizontal-line-club"}),Object(p.jsx)("div",{className:"preferences-container",children:Object(p.jsx)("ul",{className:"preferences-item",children:null===u||void 0===u?void 0:u.map((e=>Object(p.jsxs)("li",{className:"preferences-item-list",children:[Object(p.jsx)("input",{id:e.code,type:"checkbox",value:e.code,checked:e.checked,"data-testid":"communication-preferences-".concat(e.mainText,"-test"),onChange:h}),Object(p.jsxs)("div",{className:"preferences-text",children:[Object(p.jsx)("label",{htmlFor:e.mainText,children:e.mainText}),""!==e.subText&&Object(p.jsx)("span",{className:"preference-subText",children:e.subText})]})]},e.code)))})}),Object(p.jsx)(r.a,{className:"save-account-button","data-testid":"save-communication-preferences",onClickHandler:()=>{let e=[];u.forEach((t=>{if(t.checked)return e.push(t.code)})),Object(m.e)(e),O(Object(me.g)({tenantId:o,customerId:null===s||void 0===s?void 0:s.id,phoneNumber:null===s||void 0===s?void 0:s.phone,body:{marketingPreferences:e}}))},children:Object(b.translateWithI18Next)(c)})]})]})},he=a(212),pe=a(990),Ne=a(69);const ge=e=>{var t,a,s,o,c;let{handleClose:d,customerData:u,updateCustomerData:v,isLoading:m}=e;const{EDIT_PERSONAL_INFO:O,emailHelpText:h,phoneHelpText:N,firstNameHelpText:g,lastNameHelpText:I,SAVE:x,CANCEL:S,FIRST_NAME_TEXT:E,LAST_NAME_TEXT:f,EMAIL_TEXT:T,PHONE_NUMBER_TEXT:C}=j.a,A=Object(l.c)((e=>{var t,a,i;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t||null===(a=t.cartData)||void 0===a||null===(i=a.deliveryAddress)||void 0===i?void 0:i.pinCode})),[D,_]=Object(i.useState)({firstName:null===u||void 0===u?void 0:u.firstName,lastName:null===u||void 0===u?void 0:u.lastName,emailId:null===u||void 0===u?void 0:u.email,phoneNumber:null===u||void 0===u?void 0:u.phone,postalCode:A,user_id:u.id}),R=e=>{"phoneNumber"===e.target.name&&e.target.value.length>10||_({...D,[e.target.name]:e.target.value})};return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsx)(y.a,{classNames:"personal-information-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:d,modalTitleRequired:!0,modalTitle:Object(b.translateWithI18Next)(O),children:Object(p.jsxs)("div",{className:"personal-information-card",children:[Object(p.jsx)("p",{className:"personal-information-text",children:"PERSONAL INFORMATION"}),Object(p.jsx)(ie.a,{name:"firstName",placeholder:Object(b.translateWithI18Next)(E),value:null===D||void 0===D?void 0:D.firstName,inputClassName:"edit-info-input-class",onChange:R,error:(null===D||void 0===D||null===(t=D.firstName)||void 0===t?void 0:t.length)>0&&!Object(pe.g)(null===D||void 0===D?void 0:D.firstName),helperText:Object(b.translateWithI18Next)(g),helperTextClassName:"error-text",maxlength:"20"}),Object(p.jsx)(ie.a,{name:"lastName",placeholder:Object(b.translateWithI18Next)(f),value:null===D||void 0===D?void 0:D.lastName,inputClassName:"edit-info-input-class",onChange:R,error:(null===D||void 0===D||null===(a=D.lastName)||void 0===a?void 0:a.length)>0&&!Object(pe.g)(null===D||void 0===D?void 0:D.lastName),helperText:Object(b.translateWithI18Next)(I),helperTextClassName:"error-text",maxlength:"20"}),Object(p.jsx)(ie.a,{name:"emailId",type:"email",placeholder:Object(b.translateWithI18Next)(T),value:null===D||void 0===D?void 0:D.emailId,inputClassName:"edit-info-input-class",onChange:R,error:(null===D||void 0===D||null===(s=D.emailId)||void 0===s?void 0:s.length)>0&&!Object(pe.f)(D.emailId),helperText:Object(b.translateWithI18Next)(h),helperTextClassName:"error-text",maxlength:"320"}),Object(p.jsx)(ie.a,{readOnly:(null===u||void 0===u||null===(o=u.phone)||void 0===o?void 0:o.length)>0,name:"phoneNumber","data-testid":"phone-number-testid",placeholder:Object(b.translateWithI18Next)(C),value:null===D||void 0===D?void 0:D.phoneNumber,inputClassName:"edit-info-input-class",onChange:R,error:(null===D||void 0===D||null===(c=D.phoneNumber)||void 0===c?void 0:c.length)>0&&!Object(pe.i)(null===D||void 0===D?void 0:D.phoneNumber),helperText:Object(b.translateWithI18Next)(N),helperTextClassName:"error-text"}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)(r.a,{className:"buttons-group cancel",onClickHandler:d,children:Object(b.translateWithI18Next)(S)}),Object(p.jsx)(r.a,{className:"buttons-group save",disabled:m||!Object(pe.c)({firstNameText:D.firstName,lastNameText:D.lastName,phoneNoText:D.phoneNumber,emailText:D.emailId}),"data-testid":"update-account-button-testid",onClickHandler:()=>v(D),children:Object(b.translateWithI18Next)(x)})]})]})})})};var Ie=e=>{let{basicData:t,isLoading:a}=e;const{PERSONAL_INFO_TEXT:n,EDIT:s}=j.a,[o,c]=Object(i.useState)(!1),d=Object(l.c)((e=>e.tenantReducer)),r=Object(l.c)((e=>e.profileReducer.customerId)),u=Object(l.c)(Ne.b),O=()=>{c(!0)},h=Object(l.b)();return Object(i.useEffect)((()=>(null!==u&&void 0!==u&&u.accoundSetting&&O(),()=>{(null===u||void 0===u?void 0:u.accoundSetting)&&h(Object(Ne.c)({key:null===J.a||void 0===J.a?void 0:J.a.ACCOUNT_SETTING}))})),[]),Object(p.jsxs)("div",{className:"personal-info-card",children:[Object(p.jsx)("div",{className:"personal-card-left-side",children:Object(b.translateWithI18Next)(n)}),Object(p.jsxs)("div",{className:"personal-card-right-side",children:[Object(p.jsx)("div",{className:"edit-input",children:Object(p.jsx)(he.a,{"data-testid":"edit-account-button-testid",onClickHandler:O,children:Object(b.translateWithI18Next)(s)})}),Object(p.jsxs)("p",{children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]}),Object(p.jsx)("p",{children:t.email}),Object(p.jsx)("p",{children:Object(v.Y)(null===t||void 0===t?void 0:t.phone)})]}),o&&Object(p.jsx)(ge,{handleClose:()=>{c(!1)},isLoading:a,customerData:t,updateCustomerData:e=>{var t,a;Object(m.c)(e,null===d||void 0===d||null===(t=d.componentOptions)||void 0===t||null===(a=t.phoneNumberConstants)||void 0===a?void 0:a.phoneRegexPattern);const i={birthYear:null,birthDay:null,birthMonth:null,postalCode:(null===e||void 0===e?void 0:e.postalCode)||null};e.attributes=i,h(Object(me.i)({sucessCallback:()=>{return t=e,void h(Object(me.d)(t));var t},tenantId:null===d||void 0===d?void 0:d.tenantId,customerId:r,body:e})),c(!1)}})]})},xe=a(78);const Se=e=>{let{handleClose:t,deleteAccountCallback:a}=e;const{DELETE_ACCOUNT_TEXT:i,DELETE_ACCOUNT_MESSAGE:s,CANCEL:o,CONFIRM:l}=j.a;return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsx)(y.a,{classNames:"confirm-delete-account-modal",id:"alertPop",role:"dialog",show:!0,closeDataTestId:"handler-close",autoFocus:!0,showCloseBtn:!0,closeButtonHandler:t,modalTitleRequired:!1,children:Object(p.jsxs)("div",{className:"confirm-delete-account-content",children:[Object(p.jsx)("p",{className:"main-heading",children:Object(b.translateWithI18Next)(i)}),Object(p.jsx)("p",{className:"delete-account-text",children:Object(b.translateWithI18Next)(s)}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)(r.a,{className:"buttons-group cancel",onClickHandler:t,children:Object(b.translateWithI18Next)(o)}),Object(p.jsx)(r.a,{className:"buttons-group save",onClickHandler:a,"data-testid":"delete-account-confirm",children:Object(b.translateWithI18Next)(l)})]})]})})})};var Ee=e=>{let{updateMenu:t,history:a}=e;const{ACCOUNT_SETTINGS_TEXT:n,DELETE_ACCOUNT_TEXT:s}=j.a,{SingleArrowback:o}=u.a,[c,d]=Object(i.useState)(!1),O=Object(l.c)((e=>e.profileReducer||null)),N=Object(l.c)((e=>e.tenantReducer));return Object(p.jsxs)("div",{className:"account-settings-container",children:[Object(p.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(p.jsx)("img",{className:"backArrow-account-setting",onClick:()=>t(""),src:o,alt:"Back Arrow"}),Object(p.jsx)("span",{className:"account-setting-text-header",children:Object(b.translateWithI18Next)(n)})]}),Object(p.jsx)("p",{className:"account-setting-text-heading",children:Object(b.translateWithI18Next)(n)}),Object(p.jsx)(Ie,{basicData:null===O||void 0===O?void 0:O.basic,isLoading:null===O||void 0===O?void 0:O.isLoading}),Object(p.jsx)(Oe,{tenantId:null===N||void 0===N?void 0:N.tenantId,communicationPreferences:null===O||void 0===O?void 0:O.marketingPreferences,basicData:null===O||void 0===O?void 0:O.basic}),Object(p.jsx)(r.a,{"data-testid":"delete-button-testid",className:"delete-account-button",onClickHandler:()=>{d(!0),Object(xe.c)({popupTitle:Object(b.translateWithI18Next)(s)})},children:Object(b.translateWithI18Next)(s)}),c&&Object(p.jsx)(Se,{handleClose:()=>{d(!1)},deleteAccountCallback:()=>{Object(m.b)(null===O||void 0===O?void 0:O.customerId),h.a.getInstance().deleteAccount(),d(!1),Object(v.Me)({history:a})}})]})},fe=a(52),Te=a(76);var Ce=e=>{var t;const{occassionOrder:a,checkProductAvailabity:s,additemToUnfavourite:o,addItemToFavourite:c,availableProductPrice:d,getPrice:r}=e,b=Object(l.c)((e=>e.tenantReducer||null)),{tenantId:j,currencySymbol:m,addHope:O,carryBag:h,currencyConversionFactor:N,componentOptions:{web:{global:{showPriceWithTax:g=!1}={}}={}}={}}=b,I=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||null})),x=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.basic.id)||null})),{flatResponse:{itemMapById:S={}}={}}=null!==(t=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[E,f]=Object(i.useState)([]),{heartIcon_inactive_red:T,heartIcon_activeFavourite:C,Error:A}=u.a,{items:y}=a;return Object(i.useEffect)((()=>{let e=y.filter((e=>(null===e||void 0===e?void 0:e.name)!==O&&(null===e||void 0===e?void 0:e.name)!==h));f(e)}),[a]),Object(p.jsx)(n.a.Fragment,{children:E.map(((e,t)=>{var a;const i=s(e.id),n=null===S||void 0===S?void 0:S[e.id],l=r(d(e.id)),u=r(e.priceWithTax)-l,O=Object(v.Cc)(null===n||void 0===n?void 0:n.availability[0].price,null===n||void 0===n?void 0:n.additionalProperties,N,g);return Object(p.jsx)("section",{className:i?"account-accordian-details-section":"account-accordian-details-section product-unavailable",children:Object(p.jsxs)("div",{className:"option-section option-section-fav-menu",children:[Object(p.jsx)(q.a,{className:"favourite-order-img",srcFile:Object(v.Xb)(e.imageName,b),alt:"No-Image",defaultPath:Object(v.Xb)(null,b,!0)}),Object(p.jsxs)("div",{className:"favourite-order-details",children:[Object(p.jsx)("span",{className:"order-item-name",children:e.name}),Object(p.jsx)("div",{className:"fav-order-details",children:e.modGroups&&e.modGroups.map((e=>Object(p.jsx)("span",{children:e&&e.modifiersDetails.map((e=>Object(p.jsxs)("span",{children:[" ",e.quantity,"x ",e.name]})))})))}),i&&Object(p.jsx)("div",{className:"occasion-item-price",children:0!==u?Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"prev-price",children:[m,null===(a=r(e.price))||void 0===a?void 0:a.toFixed(2)]}),"  ",Object(p.jsxs)("span",{className:"new-current-price",children:[m,O]})]}):Object(p.jsxs)("span",{className:"current-price",children:[m,O]})}),!i&&Object(p.jsxs)("div",{className:"occasion-item-price-unavailable",children:[Object(p.jsx)("img",{src:A,alt:"Item Unavailable"})," ","Unavailable"]})]}),Object(p.jsx)("div",{className:"occasion-fav-item",children:Object(p.jsx)("img",{src:Array.isArray(I)&&I.find((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))?C:T,alt:"",className:"pdp-product-save","data-testid":"save-product-handler-".concat(t),onClick:()=>Array.isArray(I)&&I.find((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)))?o(j,x,e.id):c(j,e,null===e||void 0===e?void 0:e.availability,x)})})]})})}))})},Ae=a(919);const ye=e=>{const{isOpen:t,handleClose:a,occasionName:s,onSaveOccassion:o,onChangeOccasionName:l,occasionNameResponse:c,handleClearEditInput:d}=e,[v,m]=Object(i.useState)(!1),{CANCEL:O,SAVE:h,EDIT_OCCASSION_DIALOG_TITLE:N,OCCASSION_LABEL:g,SAME_OCCASSIONNAME_ERROR:I,EMPTY_OCCASSION_FIELD_ERROR:x}=j.d,{ClearIconDark:S}=u.a;return Object(p.jsx)(n.a.Fragment,{children:t&&Object(p.jsxs)(y.a,{show:t,showCloseBtn:!0,closeButtonHandler:()=>{a(),m(!1)},classNames:"edit-occasion-modal",autoFocus:!0,children:[Object(p.jsx)("h1",{children:Object(b.translateWithI18Next)(N)}),Object(p.jsxs)("div",{className:"edit-occassion-input-container",children:[Object(p.jsx)("label",{for:"occasion-name",children:Object(b.translateWithI18Next)(g)}),Object(p.jsx)("input",{type:"text",id:"occasion-name","data-testid":"occasion-input",name:"occasion-name",value:s,onChange:e=>{l(e),m(!0)}}),Object(p.jsx)("img",{src:S,alt:"Clear Icon",className:"edit-input-clear-icon",onClick:d})]}),v&&s===c&&Object(p.jsx)("div",{className:"errorMessageEditOccasion",children:Object(b.translateWithI18Next)(I)}),0===s.length&&Object(p.jsx)("div",{className:"errorMessageEditOccasion",children:Object(b.translateWithI18Next)(x)}),Object(p.jsxs)("div",{className:"buttonItems",children:[Object(p.jsx)(r.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:a,children:Object(b.translateWithI18Next)(O)}),Object(p.jsx)(r.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",disabled:s===c||0===s.length,onClick:o,children:Object(b.translateWithI18Next)(h)})]})]})})};ye.defaultProps={isOpen:!1};var De=ye,_e=a(101),Re=a(320),Le=a(903),ke=a(938),we=a(899),Me=a(54),Pe=a(328),Fe=a(907),We=a(926),He=a(14),Ue=a(322);const Be=(e,t)=>e?"cardwithQuantity "+t:"cardwithNoquantity",{heartIcon_activeFavourite:Ge,heartIcon_active:Ye,Non_veg_dot_Icon:Ve,Veg_dot_Icon:Ke}=u.a,ze=(e,t)=>e?Object(p.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(v.Tc)(!(null!==t&&void 0!==t&&t.veg),Ve,Ke)}):!(null!==t&&void 0!==t&&t.veg)&&Object(b.translateWithI18Next)(Re.o.MENU_CARD.NON_VEG)||Object(b.translateWithI18Next)(Re.o.MENU_CARD.VEG);var Je=e=>{var t,a,s,o;const{isProductAvailable:c,catalogueData:d,maxItemCountPerLineItem:r,product:u,customerId:m,differencePrice:h,currencySymbol:N,additionalProperties:g,addItemToUnFavouriteFunction:I,addToCartFunction:x,userParams:S,getPrice:E,storeClosedData:f}=e,{RESET_MODGROUP_IDS_UPDATE:T}=Ue.a,{MINI_PDP_DATA:C,FROMFLAGEDIT:A,EDIT_CLICKED:y}=He.a,[D,_]=Object(i.useState)(Object(v.Ud)(window.innerWidth)),{ITEM_UNAVAILABLE:R}=j.d,{ITEM_QUANTITY:L}=we.a,{QUANTITY_ACTION:k}=Me.a,w=Object(l.c)((e=>e.cartReducer)),{cartData:P={}}=Object(v.kd)(w),[F,W]=Object(i.useState)(0),[H,U]=Object(i.useState)(null),[B,G]=Object(i.useState)(0),[Y,V]=Object(i.useState)(0),[K,z]=Object(i.useState)(!1),[J,X]=Object(i.useState)([]),[Q,$]=Object(i.useState)(""),{flatResponse:{productMapById:ee={}}={}}=Object(v.Lb)(Object(l.c)((e=>{let{menuReducer:t}=e;return t}))),[te,ae]=Object(i.useState)(!1),{userOrderStateDispatch:ie}=Object(i.useContext)(Te.a),ne=Object(v.Tc)(S.loggedIn,O.Zf,""),se=Object(l.b)(),{tenantReducer:oe}=Object(l.c)((e=>e)),{tenantId:le,currencyConversionFactor:ce,componentOptions:de}=oe,{web:{global:{showPriceWithTax:re=!1}={}}={}}=null!==de&&void 0!==de?de:{},ue=e=>{if(null!==P&&void 0!==P&&P.id){let t=null===P||void 0===P?void 0:P.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));X(t)}$(e),z(!0)},ve=(e,t)=>{const a=Number((Y/ce).toFixed(2));let i={foodName:null===d||void 0===d?void 0:d.name,foodItemId:null===d||void 0===d?void 0:d.mdmId,cartPrice:a,modifiers:[],quantity:F,foodLineId:H};const{itemQuantityHandler:n}=Object(Pe.a)({cartId:P.id},le,void 0,ee,ie,se,void 0);t===k.Increase?u.isCustomized?ue(null===i||void 0===i?void 0:i.foodItemId):n(i,k.Increase):B>1?ue(null===i||void 0===i?void 0:i.foodItemId):n(i,k.Decrease)},be=()=>{_(Object(v.Ud)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",be)}),[D]),Object(i.useEffect)((()=>{const e=Object(v.Kd)(P)?Object(v.hc)(u.id,P):{},t=Object(v.Tc)(Object(v.Kd)(e),e.count,0),a=Object(v.Tc)(Object(v.Kd)(e),e.matchedItemFoodLineId,""),i=Object(v.Tc)(Object(v.Kd)(e),e.entriesCount,0),n=Object(v.Tc)(Object(v.Kd)(e),e.itemUnitPrice,"");W(t),U(a),G(i),V(n)}),[P,u.id]);const je=e=>Object(p.jsxs)("div",{className:"medium-menu-vegOrNonVeg",children:[ze(D,e),(null===e||void 0===e?void 0:e.servings)&&Object(p.jsx)("div",{className:"Dot"}),Re.o.MENU_CARD.SERVES,null===e||void 0===e?void 0:e.servings]}),me=(e,t)=>{var a;const i=Object(v.zc)(null===t||void 0===t?void 0:t.availability[0],null===t||void 0===t||null===(a=t.additionalPropertyMap)||void 0===a?void 0:a.pricewithouttax,ce,re);return Object(p.jsx)("div",{className:"medium-menu-product-price",children:e?Object(p.jsx)("span",{className:"price-difference-container",children:Object(v.Tc)(0!==h,Object(p.jsxs)("span",{className:"prev-price",children:[N,u.price]})-Object(p.jsxs)("span",{className:"new-current-price",children:[N,i]}),Object(p.jsxs)("span",{className:"current-price",children:[N,i]}))}):""})},Oe=()=>{1===F?(ie({type:C,value:{id:null===d||void 0===d?void 0:d.mdmId,flag:A,foodLineId:H}}),ie({type:T}),ie({type:y,value:{cartEditClicked:!1}}),se(Object(Z.c)({tenantId:le,catalogName:null===P||void 0===P?void 0:P.catalog,itemId:null===d||void 0===d?void 0:d.mdmId})),se(Object(M.v)({showProductListingModal:!0,categorySelected:u.id.split("-")[0]}))):(u.isCustomized&&ue(null===d||void 0===d?void 0:d.mdmId),ae(!0),z(!0))};return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsxs)("div",{className:c?"medium-menu-container medium-menu-container-fav-menu":"medium-menu-container medium-menu-container-fav-menu medium-menu-container-fav-menu-disabled",children:[Object(p.jsx)("div",{className:"product-container",children:Object(p.jsxs)("div",{className:"medium-menu-product-card product-card-active","data-testid":"",children:[c?Object(p.jsx)(q.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(v.Xb)(null===d||void 0===d?void 0:d.imageName,oe),alt:"No-Image",defaultPath:Object(v.Xb)(null,oe,!0)}):Object(p.jsx)(q.a,{className:"medium-menu-product-image medium-menu-product-image-fav",srcFile:Object(v.Xb)(u.imageName,oe),alt:"No-Image",defaultPath:Object(v.Xb)(null,oe,!0)}),Object(p.jsx)("div",{className:"discount-product-ribbon"}),Object(p.jsx)("span",{className:"discount-ribbon-text"}),Object(p.jsx)("img",{src:Ye,alt:"favourite menu product",className:"menu-product-save","data-testid":"on-image-fav",onClick:()=>I(le,m,u.id)}),Object(p.jsxs)("div",{className:"menu-card-content menu-card-content-fav","data-testid":"menu-card-content-pdp-nav",children:[Object(p.jsx)("div",{className:"medium-menu-product-header",children:Object(v.Tc)(c,null===d||void 0===d?void 0:d.name,u.name)}),D?Object(p.jsxs)("div",{className:"product-details-mobile-view",children:[Object(p.jsxs)("div",{className:"medium-menu-product-description",id:"longDescription",children:[Object(v.Tc)(c,null===d||void 0===d||null===(s=d.longDescription[0])||void 0===s?void 0:s.value,null===(o=u.description[0])||void 0===o?void 0:o.value)," "]}),Object(p.jsxs)("div",{className:"price-veg-nonveg",children:[me(c,d),je(g),Object(p.jsx)("div",{className:"heart-icon",children:c&&Object(p.jsx)("img",{src:Ge,alt:"favourite menu product",className:"mobile-fav-menu-style","data-testid":"mobile-view-fav",onClick:()=>I(le,m,u.id)})||Object(p.jsx)("img",{src:Ge,alt:"un-favourite menu product",className:"mobile-fav-menu-style-unavailable","data-testid":"unavailable-fav",onClick:()=>I(le,m,u.id)})})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("img",{className:"menu-vegOrNonVeg-icon",src:!(null!==g&&void 0!==g&&g.veg)&&Ve||Ke,alt:"favourite menu product-vegOrNonVeg-icon"}),je(g),me(c,d),Object(p.jsx)("div",{className:"medium-menu-product-description",id:"longDescription",children:Object(v.Tc)(c,null===d||void 0===d||null===(t=d.longDescription[0])||void 0===t?void 0:t.value,null===(a=u.description[0])||void 0===a?void 0:a.value)})]})]}),Object(p.jsxs)("div",{className:"quantityAddtocart ".concat(Be(F,ne)),children:[!!F&&(he=F,pe=ve,Ne=r,Object(p.jsx)(Le.a,{itemCount:he,itemQuantity:L,updateItemQuantity:pe,quantityAction:k,item:void 0,maxItemCountPerLineItem:Ne,cartItemCount:1})),c&&Object(p.jsx)("div",{className:"cart-btn-container",children:Object(p.jsx)("div",{className:Object(ke.a)(F,ne),children:F<1?Object(p.jsxs)("button",{disabled:Object(Fe.m)(f),onClick:e=>x(e,u,{productName:null===d||void 0===d?void 0:d.dname,productImage:null===d||void 0===d?void 0:d.imageName,productPrice:E(null===d||void 0===d?void 0:d.availability[0].price)}),className:"button activeBtn redButton medium-menu-cart-button ","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-fav-menu",children:[Object(Fe.f)(f).btnText,Object(v.H)(f.isStoreClosed)]}):u.isCustomized&&Object(p.jsx)("span",{className:"edit-selection","data-testid":"edit-section-fav-menu",onClick:()=>Oe(),children:Object(b.translateWithI18Next)(Re.o.EDIT_SELECTIONS)})})}),!c&&Object(p.jsx)("div",{className:"cart-btn-container",children:Object(p.jsx)("div",{className:"cardButtonOnly",children:Object(p.jsx)("button",{disabled:!0,className:"button activeBtn redButton medium-menu-cart-button medium-menu-cart-button-disabled","aria-label":"Add to Cart",tabindex:"0","data-testid":"add-to-cart-L-402983",children:Object(b.translateWithI18Next)(R)})})})]})]})}),K&&Object(p.jsx)(We.a,{isFavouriteMenu:!0,handleClose:()=>{z(!1),ae(!1)},filteredPreviousData:J,updateItemQuantity:ve,tenantData:oe,dname:null===d||void 0===d?void 0:d.dname,clickHandler:x,cardId:u.id,itemCount:F,availability:null===d||void 0===d?void 0:d.availability,imageName:null===d||void 0===d?void 0:d.imageName,itemFoodlineId:H,customizable:u.isCustomized,setOpenCostomizedModal:z,openCostomizedModal:K,cartData:P,product:u,foodId:Q,isEditSelection:te,headerText:te?Object(b.translateWithI18Next)(Re.o.EDIT_QUANTITY):Object(b.translateWithI18Next)(Re.o.SELECT_QUANTITY),categoryId:u.id.split("-")[0]})]})});var he,pe,Ne},qe=a(905);const Xe=e=>"False"!==e&&e;var Qe=e=>{var t,a,s;const{limitSize:o,checkProductAvailabity:c,availableProductPrice:d,getPrice:r}=e,{userOrderState:u}=Object(i.useContext)(Te.a),[b,j]=Object(i.useState)(!1),m=Object(i.useMemo)((()=>Object(v.Jd)(u.currentStoreInfo)?Object(v.b)(localStorage.getItem("currentStoreInfo")):u.currentStoreInfo),[u.currentStoreInfo]),{futureDates:O,scheduled:h,asap:N}=Object(v.kd)(null===m||void 0===m||null===(t=m.summary)||void 0===t?void 0:t.timings),{unavailibilities:g}=Object(v.kd)(h),{interval:I=0,startEndTime:x={}}=Object(v.kd)((null===h||void 0===h||null===(a=h.periods)||void 0===a?void 0:a.length)&&(null===h||void 0===h?void 0:h.periods[0])),{from:S,to:E}=x,f=Object(i.useCallback)((()=>{if(Object(v.Kd)(m)){var e,t;let a=null===(e=m.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,i=Object(_e.j)(S,E,I,null===N||void 0===N?void 0:N.isAvailable,1===(null===O||void 0===O?void 0:O.length)&&(null===T||void 0===T?void 0:T.toUpperCase())===qe.a.INDIA,g);"CLOSED"!==a||i.length?j(!1):j(!0)}else j(!1)}),[m]);Object(i.useEffect)((()=>{f()}),[f]);const{country:T="",currencySymbol:C,maxItemCountPerLineItem:A}=Object(l.c)((e=>e.tenantReducer||{})),y=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),D=Object(l.c)((e=>{var t,a;return(null===(t=e.profileReducer)||void 0===t||null===(a=t.basic)||void 0===a?void 0:a.id)||""})),{flatResponse:{itemMapById:_={}}={}}=null!==(s=Object(l.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==s?s:{};return Object(p.jsx)(n.a.Fragment,{children:y.slice(0,o).map((t=>{var a;const i=null===_||void 0===_?void 0:_[t.id],n=c(t.id),s=null!==(a=null===i||void 0===i?void 0:i.additionalProperties)&&void 0!==a?a:null===t||void 0===t?void 0:t.additionalProperties,o=r(d(t.id)),l=t.price-o,u=null===s||void 0===s?void 0:s.reduce(((e,t)=>{let{key:a,value:i}=t;return{...e,[a]:"True"===i||Xe(i)}}),{});return Object(p.jsx)(Je,{isProductAvailable:n,catalogueData:i,maxItemCountPerLineItem:A,product:t,customerId:D,differencePrice:l,currencySymbol:C,additionalProperties:u,...e,"data-testid":"favourite-menu-card-".concat(t.id),storeClosedData:{isStoreClosed:b}})}))})},Ze=a(190),$e=a(963),et=a(450),tt=a(1002),at=a(19),it=a(9);const nt=(e,t,a)=>{const i=null!==e&&void 0!==e&&e.items?e.items:e,{ACCOUNT_FAV_PAGE:n}=j.d,s=[];null===i||void 0===i||i.forEach(((i,o)=>{var l;const c=null!==e&&void 0!==e&&e.items?Object(v.fb)(Number(((null===i||void 0===i?void 0:i.price)/a).toFixed(O.dg)),0):Object(v.fb)(null===i||void 0===i?void 0:i.price,0),d=null!==e&&void 0!==e&&e.items?Object(v.fb)((null===e||void 0===e?void 0:e.discountTotal)/a,0):Object(v.fb)(null===e||void 0===e?void 0:e.discountTotal,0),{categoryId:r="NA",categoryName:u="NA"}=null!==(l=null===t||void 0===t?void 0:t[null===i||void 0===i?void 0:i.id])&&void 0!==l?l:{};s.push({item_name:null===i||void 0===i?void 0:i.name,item_id:null===i||void 0===i?void 0:i.id,price:c,item_category:u,item_list_name:n,item_list_id:r,index:o,quantity:null===i||void 0===i?void 0:i.quantity,coupon:Object(v.fb)(null===e||void 0===e?void 0:e.couponCode,"NA"),discount:d,currency:O.p.INR})})),(async e=>{var t,a,i;await at.a.registerEvent(null===it.a||void 0===it.a||null===(t=it.a.accountViewFavItemList)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_name,items:e}}},v.xb)})(s)};var st=e=>{var t,a,n,s,o,c,d;const{isMobile:N,updateMenu:g,currentMenu:I}=e,x=Object(l.b)(),S=Object(K.g)(),{LOAD_MORE:f,ADD_ITEM_TO_CART_TEXT:C}=j.d,{RESET_MODGROUP_IDS_UPDATE:A}=Ze.a,{MINI_PDP_DATA:y,FROMFLAGPLP:D,EDIT_CLICKED:R,ADD_TO_CART_CLICK:L}=He.a,{userOrderState:k,userOrderStateDispatch:W}=Object(i.useContext)(Te.a),[U,V]=Object(i.useState)(""),[z,J]=Object(i.useState)(9),[X,Q]=Object(i.useState)(""),[$,ee]=Object(i.useState)(""),te=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),ae=Object(l.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)||[]})),{id:ie,phone:ne}=Object(l.c)((e=>{var t;return Object(v.kd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:se,currencyConversionFactor:oe}=Object(l.c)((e=>e.tenantReducer||{})),le=Object(l.c)((e=>e.tenantReducer)),ce=Object(l.c)((e=>e.cartReducer)),{flatResponse:{productMapById:de={},itemMapById:re={},categoryMapById:ue={}}={}}=Object(v.Lb)(Object(l.c)((e=>{let{menuReducer:t}=e;return t}))),ve=Object(l.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),be=Object(l.c)((e=>e.appStateReducer.userStatus)),[je,Oe]=Object(i.useState)(!1),{ORDER_HISTORY_TAG:he,VIEW_ORDER_HISTORY_BTN:pe,MY_OCCASSION_TEXT:Ne,MY_OCCASSION_UNAVAILABLE_TITLE:ge,DELETE_OCCASSION_TEXT:Ie,REORDER_TEXT:xe,MY_FAVOURITE_MENU_TITLE_TEXT:Se,MY_FAVOURITE_NO_ITEMS_TEXT:Ee,MY_FAVOURITE_BROWSE_MENU:ye,MY_FAV_MENU:_e,UNFAVOURITE_ITEM_MESSAGE:Re}=j.d,Le=Object(v.Lb)(B()(ce,"cartData",{})),[ke,we]=Object(i.useState)(!1),[Me,Pe]=Object(i.useState)(!1),[Fe,We]=Object(i.useState)({}),[Ue,Be]=Object(i.useState)({}),{tickWhiteToast:Ge,SingleArrowback:Ye,ReorderIcon:Ve}=u.a,Ke=e=>e/oe,ze=Object(v.Jd)(k.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):k.dispositionNew,Je=Object(i.useMemo)((()=>{var e;return{tenantReducer:Object(v.Kd)(le)?le:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:ze?ze.store:{},dispositionType:null!==ze&&void 0!==ze&&ze.type?Object(v.Ib)(ze.type):Object(v.Ib)(null===(e=le.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[ze,le,k]),qe=(null===Je||void 0===Je||null===(t=Je.storeInfo)||void 0===t||null===(a=t.summary)||void 0===a||null===(n=a.menu)||void 0===n||null===(s=n.catalogs)||void 0===s?void 0:s.length)&&(null===Je||void 0===Je||null===(o=Je.storeInfo)||void 0===o||null===(c=o.summary)||void 0===c||null===(d=c.menu)||void 0===d?void 0:d.catalogs[0])||Object(v.md)(null===le||void 0===le?void 0:le.genericMenuName),Xe=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;((e,t,a)=>{x(Object(Z.a)({tenantId:e,customerId:a},t))})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,{mdmId:e.mdmId,id:e.id,name:e.name,imageName:e.imageName,description:e.description,quantity:1,isCustomized:e.customizable,price:e.priceWithTax/oe,additionalProperties:e.additionalProperties},t)},at=(e,t,a)=>{x(Object(Z.b)({tenantId:e,customerId:t,itemId:a}));let i=Object(p.jsx)(q.a,{srcFile:et.a});setTimeout((()=>{Object(v.qf)(Object(b.translateWithI18Next)(Re),i)}),2e3),setTimeout((()=>{fe.b.dismiss()}),4e3)},it=e=>{var t,a,i,n;const s=Object(E.p)(),o=Object(v.Lb)(null===re||void 0===re?void 0:re[e]),l=null===o||void 0===o||null===(t=o.availability)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.availableHours.startTime.time,c=null===o||void 0===o||null===(i=o.availability)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.availableHours.endTime.time;return Object(E.f)(s,l,c)},st=e=>{if(it(e)){var t,a;const i=Object(v.Lb)(null===re||void 0===re?void 0:re[e]);return null===i||void 0===i||null===(t=i.availability)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.price}return 0},ot=(e,t)=>{e&&(V(e),Q(t),ee(t))},lt=()=>{V("")},ct=()=>{Q("")},dt=()=>{const{phoneNumber:e}=h.a.getInstance(),t={tenantId:se,customerId:ie,phoneNumber:e},a={orderId:U,name:X};x(Object(_.a)(t,a)),V("")},rt=e=>{Q(e.target.value)},ut=Object(i.useCallback)((()=>{let e=0;if(e=z+9,e>ae.length){const e=ae.length-z;J(z+e)}else J(e)}),[z,ae]);Object(i.useEffect)((()=>{ae.length<z&&J(ae.length)}),[x,ae,z]),Object(i.useEffect)((()=>{((e,t,a,i)=>{if(e){const n={customerId:t,tenantId:e,phoneNumber:a,updateUserData:!0};i(Object(me.d)(n))}})(se,ie,ne,x)}),[x,se,ie,ne]),Object(i.useEffect)((()=>{ve&&k.minipdpData.itemId===ve.id&&k.cartEditClicked&&x(Object(M.v)({showProductListingModal:!0,categorySelected:""}))}),[ve,k.minipdpData.itemId,k.cartEditClicked]),Object(i.useEffect)((()=>{null!==ce&&void 0!==ce&&ce.isItemAdded&&(fe.b.dark(Object(p.jsxs)("div",{className:"img-text-div",children:[Object(p.jsx)(q.a,{srcFile:Ge})," ",Object(p.jsx)("span",{className:"text",children:Object(b.translateWithI18Next)(C)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:fe.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{fe.b.dismiss()}),3e3))}),[null===ce||void 0===ce?void 0:ce.isItemAdded]),Object(i.useEffect)((()=>{Oe(!1)})),Object(i.useEffect)((()=>{I===_e&&null!==ae&&void 0!==ae&&ae.length&&nt(ae,de,oe)}),[I]);const{foodLines:vt=[]}=Le,bt=()=>{vt.length>0?we(!0):(x(Object(M.r)()),Pe(!0))};return Object(p.jsxs)("div",{className:"account-order-desktop",children:[Object(p.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(p.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>g(""),src:Ye,alt:"back button"}),Object(p.jsx)("span",{className:"account-setting-text-header",children:Object(b.translateWithI18Next)(_e)})]}),Object(p.jsx)("div",{className:"page-header page-header-favourite-occasion",children:Object(p.jsxs)("span",{className:"page-heading",children:[Object(b.translateWithI18Next)(Ne)," ",te.length>0?"(".concat(te.length,")"):""]})}),0===te.length&&Object(p.jsxs)("div",{className:"no-occasion-container",children:[Object(p.jsx)("p",{children:Object(b.translateWithI18Next)(ge)}),Object(p.jsx)(r.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:()=>g(he),children:Object(b.translateWithI18Next)(pe)})]}),null===te||void 0===te?void 0:te.map(((e,t)=>Object(p.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(p.jsxs)("section",{children:[Object(p.jsx)("section",{className:"account-accordian",children:Object(p.jsxs)(T,{title:e.name,occassionTime:N?"".concat(Object(E.C)(e.fulfillmentDateTime,"ll")):"".concat(Object(E.C)(e.fulfillmentDateTime,"ll")," at ").concat(Object(E.C)(e.fulfillmentDateTime,"hh:mm a")),onClickHandler:t=>((e,t)=>{var a,i,n;const s=null===(a=e.target)||void 0===a||null===(i=a.parentElement)||void 0===i||null===(n=i.parentElement)||void 0===n?void 0:n.parentElement;null!==s&&void 0!==s&&s.classList.contains("account-accordian-open")?null===s||void 0===s||s.classList.remove("account-accordian-open"):null===s||void 0===s||s.classList.add("account-accordian-open");const o=null===te||void 0===te?void 0:te.find((e=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)));nt(o,de,oe)})(t,e),onEditOccasionName:ot,itemId:e.id,itemName:e.name,"data-testid":"order-details",children:[Object(p.jsx)(Ce,{occassionOrder:e,checkProductAvailabity:it,addItemToFavourite:Xe,additemToUnfavourite:at,availableProductPrice:st,getPrice:Ke,"data-testid":"occasion-component"}),Object(p.jsx)("section",{className:"fav-menu-event",children:Object(p.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(p.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(p.jsx)("span",{className:"order-receipt-option","data-testid":"delete-occassion",onClick:()=>{return t=se,a=ie,i=e.id,void x(null===_.b||void 0===_.b?void 0:Object(_.b)({tenantId:t,customerId:a,itemId:i}));var t,a,i},children:Object(b.translateWithI18Next)(Ie)})}),Object(p.jsx)("div",{className:"global-accordian-right",children:Object(p.jsxs)(r.a,{className:"button re-order-btn redButton","aria-label":"",type:"submit",onClickHandler:()=>{(e=>{(null===e||void 0===e||!e.localized)&&Object(Y.o)(),localStorage.setItem(O.lb,tt.ACCOUNT_FAVORDERS)})(be),(e=>{const t=B()(e,"store",{}),a=B()(e,"service",""),i=[{storeId:B()(t,"storeId",""),channel:G.b.channel,service:a}];x(Object(F.a)(i,se,(t=>{const a=H()(B()(t,"response",{}),{}),{id:i}=e;We(a),x(Object(P.f)({tenantId:se,orderId:i,customerId:ie},bt))}))),Be(e),sessionStorage.setItem("reorderClick",!0)})(e)},"data-testid":"re-order-btn",children:[Object(p.jsx)("img",{src:Ve,className:"account-icon",alt:"Account Icon"}),Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(xe)})]})})]})})]})}),Object(p.jsx)(De,{isOpen:e.id===U,handleClose:lt,occasionName:X,onSaveOccassion:dt,onChangeOccasionName:rt,occasionNameResponse:$,handleClearEditInput:ct})]})}))),Object(p.jsx)("div",{className:"page-header page-header-favourite",children:Object(p.jsxs)("span",{className:"page-heading",children:[Object(b.translateWithI18Next)(Se)," ",ae.length>0?"(".concat(ae.length,")"):""]})}),(null===ce||void 0===ce?void 0:ce.showProductListingModal)&&Object(p.jsx)(Ae.a,{}),Object(p.jsxs)("div",{className:"favorite-items-container",children:[0===ae.length&&Object(p.jsxs)("div",{className:"no-occasion-container",children:[Object(p.jsx)("p",{children:Object(b.translateWithI18Next)(Ee)}),Object(p.jsx)(r.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClick:()=>{S.push({pathname:"/menu"})},children:Object(b.translateWithI18Next)(ye)})]}),Object(p.jsx)(Qe,{limitSize:z,checkProductAvailabity:it,addItemToUnFavouriteFunction:at,addToCartFunction:(e,t,a)=>{var i,n;null===e||void 0===e||e.stopPropagation();const{categoryId:s=""}=null!==(i=null===de||void 0===de?void 0:de[t.id])&&void 0!==i?i:{},{id:o="",name:l="",url:c=""}=null!==(n=null===ue||void 0===ue?void 0:ue[s])&&void 0!==n?n:{},d={categoryId:o,categoryName:l,categoryUrl:c},{id:r,isCustomized:u}=t;var b;be.localized?u?(W({type:y,value:{id:r,flag:D,foodLineId:""}}),W({type:A}),W({type:R,value:{cartEditClicked:!0}}),x(Object(Z.c)({tenantId:se,catalogName:qe,itemId:r}))):(((e,t,a,i)=>{const{categoryId:n,categoryName:s,categoryUrl:o}=i;x(Object(M.a)({params:{basketId:a},tenantId:e},[{Id:t,categoryId:n,quantity:1,modGrps:[],categoryName:s,categoryUrl:o}]))})(se,r,null===ce||void 0===ce||null===(b=ce.cartData)||void 0===b?void 0:b.id,d),x(Object(M.u)(new Date)),Object(m.a)({item_name:Object(v.id)(t.name,"NA"),item_id:Object(v.id)(t.id,"NA"),item_category:l,price:Object(v.id)(t.price,"NA"),item_variant:"NA",item_list_name:l,item_list_id:o,index:1,quantity:Object(v.id)(t.quantity||1)})):(Oe(!0),W({type:L,value:{addToCart:!0,productItemId:r,categoryId:o,oldProduct:a,customizable:u,catalogs:qe,fromPdpPage:!1}}))},availableProductPrice:st,getPrice:Ke,"data-testid":"favourite-menu",userParams:be})]}),ae.length>9&&Object(p.jsxs)("div",{className:"load-more-button-container",children:[Object(p.jsx)(r.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"load-more-favourite-items",onClick:ut,children:Object(b.translateWithI18Next)(f)}),Object(p.jsx)("div",{className:"load-more-text",children:Object(b.translateWithI18Next)("Viewed ".concat(z," of ").concat(ae.length))})]}),je&&Object(p.jsx)($e.a,{}),(ke||Me)&&Object(p.jsx)(w.a,{storeInfo:Fe,currentOrderInfo:Ue,reorderModalOpen:ke,setReorderModalOpen:we,isQuickReorderModalOpen:Me,setQuickReorderModalOpen:Pe})]})},ot=a(1038),lt=a(921),ct=a(97),dt=a(928),rt=a(323),ut=a(128);var vt=e=>{const{favouriteStores:t,removeFromFavoriteHandler:a,history:s,isMobile:o}=e,c=Object(l.b)(),[d,j]=Object(i.useState)(!1),[m,O]=Object(i.useState)(!1),[h,N]=Object(i.useState)({}),[g,I]=Object(i.useState)(0),[x]=Object(i.useState)(325),[S,f]=Object(i.useState)(null),{userOrderState:T,userOrderStateDispatch:C}=Object(i.useContext)(Te.a),{FavoriteFillImage:A,Union:y,GreenTickImage:D}=u.a,_=Object(v.Jd)(T.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):T.dispositionNew,{BROWSE_MENU:R,STORE_STATUS_CLOSED:L,PICK_UP:k,TAKE_AWAY:w,LIST_TEXT:P,STORE_STATUS_CLOSED_CAPS:F}=ut.a,{SCHEDULE_ORDER_DATA:W,SEARCH_ORDER_DATA:H,SELECTED_TILE_DATA:U,MENU_URL:B,SET_DISPOSITION:G,USER_LOCALIZED:V,DISPOSITION_DATA:K,SCHEDULE_ORDER_TIME_DATA:z,CURRENT_STORE_INFO:J}=He.a,{DEFAULT_DISPOSITION_TAKEWAY:X,mapText:Q}=ot.a;let Z=Object(l.c)((e=>e.appStateReducer.userStatus));const $=Object(l.c)((e=>e.profileReducer)),ee=Object(l.c)((e=>e.tenantReducer)),{componentOptions:te={}}=ee,{allowScheduleOrder:ae}=Object(v.id)(null===te||void 0===te?void 0:te.ScheduledDeliveryComponent,!0),ie=e=>{var t;const a=e.summary,{operatingHours:i=[]}=Object(v.Tc)(null===a||void 0===a||null===(t=a.timings)||void 0===t?void 0:t.operatingHours,null===a||void 0===a?void 0:a.timings,[]);return Object(rt.c)(e.isOpen,i)},ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e&&Object(rt.g)(e),{services:a=[]}=Object(v.id)(null===t||void 0===t?void 0:t[0],[]);return a.map(((e,t)=>Object(p.jsxs)("div",{className:"store-order-options",children:[Object(p.jsx)("span",{children:Object(p.jsx)(q.a,{"data-testid":"",srcFile:D,alt:"tick",className:"tick-image"})}),Object(p.jsx)("span",{children:Object(v.Tc)(e===k,Object(b.translateWithI18Next)(w),e)})]},t)))},se=()=>{c(Object(ct.a)({...Z,localized:!0}))},oe=()=>{C({type:H,value:{showSearchStore:!1}})},le=e=>(e.additionalProperties=e.storeBasic.additionalProperties,e.addresses=e.storeBasic.address,e.amenities=e.storeBasic.amenities,e.name=e.storeBasic.dname,e.id=e.storeBasic.id,e.location=e.storeBasic.location,e.service=e.storeBasic.service,e),ce=e=>{C({type:J,value:e})},de=(e,t)=>{var a,i,n,s;e.preventDefault(),e.stopPropagation(),localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),localStorage.setItem("dispositionType",X),t=le(t),je(),C({type:W,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,isAddressFlow:!0}}),C({type:H,value:{showSearchStore:!1}});const o={storeID:null===(a=t)||void 0===a?void 0:a.id,disposition:X,postCode:null===(i=t)||void 0===i||null===(n=i.addresses[0])||void 0===n||null===(s=n.address)||void 0===s?void 0:s.pinCode};Object(rt.k)(),ue(t),Object(Y.y)(o)},re=()=>{C({type:U,value:{selectedData:{}}})},ue=e=>{let t=e;re(),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),ce(t)},ve=e=>{var t,a;const{futureDates:i,scheduled:n,asap:s}=Object(v.kd)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.timings),{interval:o=0,startEndTime:l={}}=Object(v.kd)((null===n||void 0===n?void 0:n.periods.length)&&n.periods[0]),{from:c,to:d}=Object(v.kd)(l),{unavailibilities:r}=Object(v.kd)(n);return Object(_e.j)(c,d,o,null===s||void 0===s?void 0:s.isAvailable,Object(v.db)(1===(null===i||void 0===i?void 0:i.length),"INDIA"===(null===ee||void 0===ee||null===(a=ee.country)||void 0===a?void 0:a.toUpperCase())),r)},be=async(t,a)=>{var i,n,s,o,l,d,r,u,b,j,m,O;t.preventDefault(),t.stopPropagation(),Object(rt.l)();const{futureDates:h,scheduled:p,asap:N}=(null===(i=a)||void 0===i||null===(n=i.summary)||void 0===n?void 0:n.timings)||{},{interval:g=0,startEndTime:I={}}=(null===p||void 0===p?void 0:p.periods.length)&&p.periods[0]||{},{from:x,to:S}=I;Object(_e.j)(x,S,g,null===N||void 0===N?void 0:N.isAvailable,Object(v.db)(1===h.length,"INDIA"===(null===ee||void 0===ee?void 0:ee.country)));let E={time:"ASAP",interval:null===(s=a)||void 0===s||null===(o=s.summary)||void 0===o||null===(l=o.timings.scheduled.periods[0])||void 0===l?void 0:l.interval,date:new Date,selectedTime:"ASAP"};if(a=le(a),null===_||_.type!==X||_.store.id!==a.id||_.deliveryAddress!==(null===T||void 0===T||null===(d=T.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress)){let e=await Object(v.z)(a,Object(v.Ib)(X),$.customerId,E);c(Object(M.m)("")),c(Object(M.f)({data:e,tenantId:ee.tenantId}))}((t,a)=>{let i=t;re(),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),ce(i),se(),C({type:z,value:{selectedDateTime:a}}),localStorage.setItem("tenantReducer",JSON.stringify(ee)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",X),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),e.history.push({pathname:"".concat(B)})})(a,E),C({type:G,value:{oldvalue:_,newValue:{type:X,store:a,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===T||void 0===T||null===(r=T.scheduleOrderData)||void 0===r?void 0:r.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(_)),localStorage.setItem("dispositionNew",JSON.stringify({type:X,store:a,date:E.date,time:E.time,interval:E.interval,selectedTime:E.selectedTime,deliveryAddress:null===T||void 0===T||null===(u=T.scheduleOrderData)||void 0===u?void 0:u.deliveryAddress}));const f={storeID:null===(b=a)||void 0===b?void 0:b.id,disposition:X,postCode:null===(j=a)||void 0===j||null===(m=j.addresses[0])||void 0===m||null===(O=m.address)||void 0===O?void 0:O.pinCode};Object(Y.y)(f),oe(),je()},je=()=>{C({type:V,value:{isLocalized:!0}})},me=()=>{j(!d),O(!d)};Object(i.useEffect)((()=>{O(!0),Oe()}),[g,S]);const Oe=()=>{const e=t.map((e=>({lat:e.storeBasic.location.latitude,lng:e.storeBasic.location.longitude})));N(e)},pe=e=>{const t=ve(e).length;return Object(v.Tc)(t,"Today","Tomorrow")},Ne=(e,i,o)=>{var l,c,u,j,m,O,h,N,x,S,T,y,D,k,w,M,P,W,H,U,V,z,J,Z,$,ee,te,re,ue,je,Ne,ge,Ie;return Object(p.jsx)(n.a.Fragment,{children:Object(p.jsxs)("div",{className:"bgv-set store-card d-flex flex-dir ".concat(o),children:[Object(p.jsxs)("div",{className:"address-block d-flex",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"card-store-name",children:Object(v.Lc)(null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.dname)}),Object(p.jsx)("span",{className:"store-distance",children:null===e||void 0===e||null===(c=e.distance)||void 0===c?void 0:c.text}),d&&Object(p.jsx)("span",{className:"store-index fl-rgt",children:"".concat(g+1," of ").concat(t.length)})]}),Object(p.jsxs)("div",{className:"card-content",children:[Object(p.jsx)("div",{className:"order-items",children:ne(null===e||void 0===e?void 0:e.availableServicesPerChannel)}),Object(p.jsxs)("div",{className:"w-100",children:[Object(p.jsx)("span",{className:"store-address",children:Object(v.Wb)(null===e||void 0===e||null===(u=e.storeBasic)||void 0===u?void 0:u.address)}),!d&&Object(p.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>{((e,t)=>{f(e),I(t)})(e,i),me(),Oe()},children:Object(p.jsx)(he.a,{className:"card-map-link",children:Object(b.translateWithI18Next)(Q)})})]}),(null===e||void 0===e?void 0:e.summary)&&(null===e||void 0===e?void 0:e.isOpen)&&Object(p.jsxs)("div",{className:"info-timing ".concat(!(null!==e&&void 0!==e&&e.isOpen)&&"info-timingClosed"),children:[null!==e&&void 0!==e&&e.isOpen?"":Object(p.jsx)("span",{children:Object(b.translateWithI18Next)(L)}),Object(p.jsx)("span",{className:"".concat(!(null!==e&&void 0!==e&&e.isOpen)&&ie(e)&&"list-circle"),children:ie(e)})]}),(null===e||void 0===e?void 0:e.summary)&&!(null!==e&&void 0!==e&&e.isOpen)&&Object(p.jsx)("div",{className:"info-timingClosed",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:(null===(j=e.summary.status)||void 0===j?void 0:j.currentStatus)===F?Object(p.jsx)("span",{className:"closed-text",children:L}):""}),Object(p.jsx)("li",{children:(null===(m=e.summary)||void 0===m||null===(O=m.timings)||void 0===O||null===(h=O.scheduled)||void 0===h||null===(N=h.unavailibilities)||void 0===N?void 0:N.length)>0&&Object(E.R)(null===(x=e.summary)||void 0===x||null===(S=x.timings)||void 0===S||null===(T=S.scheduled)||void 0===T||null===(y=T.unavailibilities[0])||void 0===y?void 0:y.to,"HH MM","HH:MM")<=Object(E.R)(null===(D=e.summary)||void 0===D||null===(k=D.timings)||void 0===k||null===(w=k.operatingHours[0])||void 0===w||null===(M=w.availableHours)||void 0===M?void 0:M.to,"HH MM","HH:MM")?"Open Today ".concat((null===(P=e.summary)||void 0===P||null===(W=P.timings)||void 0===W||null===(H=W.scheduled)||void 0===H||null===(U=H.unavailibilities[0])||void 0===U?void 0:U.to)&&Object(E.R)(null===(V=e.summary)||void 0===V||null===(z=V.timings)||void 0===z||null===(J=z.scheduled)||void 0===J||null===(Z=J.unavailibilities[0])||void 0===Z?void 0:Z.to,"hh mm","hh:mm a")):"Open ".concat(pe(e)," ").concat((null===($=e.summary)||void 0===$||null===(ee=$.timings)||void 0===ee||null===(te=ee.operatingHours[0])||void 0===te||null===(re=te.availableHours)||void 0===re?void 0:re.from)&&Object(E.R)(null===(ue=e.summary)||void 0===ue||null===(je=ue.timings)||void 0===je||null===(Ne=je.operatingHours[0])||void 0===Ne||null===(ge=Ne.availableHours)||void 0===ge?void 0:ge.from,"hh mm","hh:mm a"))})]})}),Object(p.jsx)("div",{className:"facilities",children:(null===(Ie=Object(lt.a)(null===e||void 0===e?void 0:e.storeBasic))||void 0===Ie?void 0:Ie.length)>0&&Object(lt.a)(null===e||void 0===e?void 0:e.storeBasic).map((e=>Object(p.jsx)(q.a,{"data-testid":"",srcFile:e.image,alt:Object(v.id)(e.label,""),className:"facility-img",title:e.label},e.key)))})]})]}),!d&&Object(p.jsx)("div",{className:"d-flex flex-dir mt5 flex-dir-pos",children:Object(p.jsx)(q.a,{"data-testid":"favorite-img",srcFile:A,alt:"favorite",className:"favorite-img",onClick:()=>{var t;return a(null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id)}})})]}),Object(p.jsxs)("div",{className:"button-block align-center d-flex mt-2",children:[(null===e||void 0===e?void 0:e.isOpen)&&ae&&Object(p.jsx)(r.a,{"data-testid":"schedule-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:t=>de(t,e),children:Object(b.translateWithI18Next)("scheduleOrder")}),(null===e||void 0===e?void 0:e.isOpen)&&Object(p.jsx)(r.a,{"data-testid":"order-now",className:"padding-set wdth-set order-pad ml5 button redButton search-store-card-btn",onClickHandler:t=>be(t,e),children:"Order Now"}),bt(e,ve,de),Object(v.db)(!(null!==e&&void 0!==e&&e.isOpen),!ve(e).length)&&Object(p.jsx)(r.a,{className:"padding-set wdth-set browse-pad ml5 ml-0 font-bold button whiteButton blkBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>(e=>{var t,a;let i=le(e);const n={storeID:null===i||void 0===i?void 0:i.id,disposition:X,postCode:null===i||void 0===i||null===(t=i.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(Y.y)(n),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),ce(),se(),C({type:G,value:{oldvalue:_,newValue:{type:X,store:i,date:"",time:"",interval:"",deliveryAddress:""}}}),localStorage.setItem("dispositionOld",JSON.stringify(_)),localStorage.setItem("dispositionNew",JSON.stringify({type:X,store:i,date:"",time:"",interval:"",deliveryAddress:""})),C({type:K,value:{showDisposition:!1}}),oe(),s.push({pathname:"".concat(B)})})(e),children:Object(b.translateWithI18Next)(R)})]})]})})},ge=(Ie=t,Ie.sort((function(e,t){var a,i,n,s;return Object(v.Lc)(null===(a=e.storeBasic)||void 0===a?void 0:a.dname)<Object(v.Lc)(null===(i=t.storeBasic)||void 0===i?void 0:i.dname)?-1:Object(v.Lc)(null===(n=e.storeBasic)||void 0===n?void 0:n.dname)>Object(v.Lc)(null===(s=t.storeBasic)||void 0===s?void 0:s.dname)?1:0}))).map(((e,t)=>Ne(e,t)));var Ie;return Object(p.jsxs)("div",{className:"favorite-stores-section",children:[t.length>0&&Object(p.jsxs)("div",{className:"header-text",children:["My Favorite Stores (",t.length,")",d&&Object(p.jsx)("span",{"data-testid":"list-handler",onClick:()=>{me(),Oe()},children:Object(p.jsxs)(he.a,{className:"map-link-list",children:[Object(p.jsx)("span",{children:Object(p.jsx)(q.a,{"data-testid":"",srcFile:y,alt:"map",className:"map-img"})}),Object(b.translateWithI18Next)(P)]})})]}),t.length>0&&!d>0&&ge,d&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"takeawayDineInMap delivery-map",children:[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(dt.a,{"data-testid":"mymap-id",latLongValue:h,loadingElement:Object(p.jsx)("div",{style:{height:"100%"}}),containerElement:Object(p.jsx)("div",{style:{height:"400px"}}),mapElement:Object(p.jsx)("div",{style:{height:"100%"}}),isVisible:!0,isMobile:o,centerIndex:g,onPositionChangeHandler:e=>{let a=e?g+1:g-1;I(a),f(Object(v.kd)(t[a]))},setShowCard:O,setStoreMarker:e=>{const a=t.findIndex((t=>t.storeBasic.location.latitude===e.lat()&&t.storeBasic.location.longitude===e.lng()));a>-1&&(I(a),f(Object(v.kd)(t[a])))},storeCardHeight:x}),m&&S&&o?Ne(S,"","Selected-mobile-Card"):null]}),m&&S&&!o?Ne(S,"","Selected-desktop-Card"):null]})})]})};function bt(e,t,a){return Object(p.jsx)(p.Fragment,{children:Object(v.db)(!(null!==e&&void 0!==e&&e.isOpen),t(e).length>0)&&Object(p.jsx)(r.a,{"data-testid":"closed-order",className:"padding-set wdth-set schedule-pad margin-adjust button ml5 font-bold whiteButton blkBorder search-store-card-btn schedule-order-btn",onClickHandler:t=>a(t,e),children:Object(b.translateWithI18Next)("scheduleOrder")})})}var jt=a(155),mt=a(63),Ot=a(1057);const{SuggestionItemSearchPin:ht}=u.a,pt=(e,t,a)=>(null===t||void 0===t?void 0:t.toUpperCase())===ot.a.OK&&e.map((e=>{var t;const{place_id:i,structured_formatting:{main_text:n,secondary_text:s}}=e;return Object(p.jsx)(p.Fragment,{children:(null===(t=e.terms.filter((e=>e.value===ot.a.INDIA)))||void 0===t?void 0:t.length)>0&&Object(p.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:a(e),children:[Object(p.jsx)(q.a,{srcFile:ht,alt:"googleMapLocation",className:"suggetion-pin"}),Object(p.jsxs)("span",{className:"address-text",children:[Object(p.jsx)("strong",{children:n})," ",s]})]},i)})}));var Nt=e=>{const t=Object(l.b)(),{isOpen:a,modalType:n,handleClose:s,storeSearch:o,tenantId:c,allStores:d}=e,{ADD_NEW_ADDRESS:u,EDIT_DELIVERY_ADDRESS:b,HIDDEN:j,DELIVERY_SERVICE:m,CHANNEL:O,NOT_SERVICEABLE:N,INITIAL_STATE:g}=ot.a,I=Object(v.Kd)(e.address)?e.address:g,[x,S]=Object(i.useState)(I),[E,f]=Object(i.useState)(!1),T=null===o||void 0===o?void 0:o.geohashprecision,C=(null===o||void 0===o?void 0:o.boundingBoxSizeMeters)/1e3,{ready:A,value:D,suggestions:{status:_,data:R},setValue:L,clearSuggestions:k}=Object(Ot.a)({requestOptions:{componentRestrictions:{country:"in"}},debounce:300}),w=Object(i.useRef)(null);Object(i.useEffect)((()=>{var e,t;n&&jt.a.calculateGH({lat:parseFloat((null===x||void 0===x||null===(e=x.location)||void 0===e?void 0:e.latitude)||(null===x||void 0===x?void 0:x.latitude)),lon:parseFloat((null===x||void 0===x||null===(t=x.location)||void 0===t?void 0:t.longitude)||(null===x||void 0===x?void 0:x.longitude)),distanceFromCurrentLoc:C,geoHashPrecision:T});document.querySelector("body").style.overflow=j}),[]),Object(i.useEffect)((()=>(document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)})));const M=e=>{w.current&&!w.current.contains(e.target)&&k()},P=e=>{let{target:t}=e;const{name:a,value:i}=t;if("floor"!==a)"checkbox"!==t.type?S({...x,[a]:i}):S({...x,[a]:"true"!==i});else{S({...x,[a]:i});const e=[i,null===x||void 0===x?void 0:x.addressLines[1]];S({...x,addressLines:e})}},F=e=>{const t=e.address_components.reduce(((e,t)=>{let{long_name:a,types:i}=t;return i.forEach((t=>e[t]=a)),e}),{}),a=(e=>{let t=[];return Object.entries(e).forEach((e=>{switch(e[0]){case"route":case"street_address":case"neighborhood":case"sublocality_level_1":case"sublocality_level_2":case"sublocality_level_3":t.push(e[1])}t.length||"sublocality"!==e[0]&&"administrative_area_level_2"!==e[0]||t.push(e[1])})),t=t.join(","),t})(t);let i=[(null===t||void 0===t?void 0:t.street_number)||"",a];L(a),S((e=>({...e,country:null===t||void 0===t?void 0:t.country,addressLines:i,city:(null===t||void 0===t?void 0:t.administrative_area_level_2)||(null===t||void 0===t?void 0:t.locality),state:(null===t||void 0===t?void 0:t.administrative_area_level_1)||"",pinCode:(null===t||void 0===t?void 0:t.postal_code)||""}))),W(),setTimeout((()=>{k()}),800)},W=()=>{var e,t,a,i;return(null===x||void 0===x?void 0:x.addressLines[1].length)&&(null===x||void 0===x||null===(e=x.name)||void 0===e?void 0:e.length)&&(null===x||void 0===x||null===(t=x.city)||void 0===t?void 0:t.length)&&(null===x||void 0===x||null===(a=x.pinCode)||void 0===a?void 0:a.length)&&(null===x||void 0===x||null===(i=x.state)||void 0===i?void 0:i.length)},H=e=>{var t,a,i;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(i=e.availableServicesPerChannel)||void 0===i?void 0:i.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===O&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===m})))},U={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:a,classNames:"address-module-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:s,modalTitle:n?b:u,autoFocus:!0},B=e=>(e.preventDefault(),!1);return Object(p.jsxs)(y.a,{...U,"data-testid":"address-modal-landing-page",children:[Object(p.jsx)("div",{className:"address-form-section",children:Object(p.jsxs)("div",{className:"form-container",children:[E&&Object(p.jsx)("div",{className:"error-service-msg",children:N}),Object(p.jsx)("div",{className:"form-header",children:"Address"}),Object(p.jsxs)("form",{autocomplete:"off",children:[Object(p.jsxs)("div",{className:"input-container",children:[Object(p.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===x||void 0===x?void 0:x.name,onChange:P}),Object(p.jsx)("label",{children:"Address Nickname*"})]}),Object(p.jsxs)("div",{className:"input-container",children:[Object(p.jsx)("input",{"data-testid":"search-input-address",value:D||(null===x||void 0===x?void 0:x.addressLines[1]),onChange:e=>{L(e.target.value);const t=[null===x||void 0===x?void 0:x.addressLines[0],e.target.value];S({...x,addressLines:t})},disabled:!A,name:"addressName",onFocus:()=>{L(D)},required:!0,type:"text"}),Object(p.jsx)("label",{children:"Address*"}),Object(p.jsx)("ul",{ref:w,className:"address-list",children:pt(R,_,(e=>{let{description:a,structured_formatting:{main_text:i,secondary_text:n}}=e;return()=>{f(!1),k(),t(Object(mt.u)()),Object(Ot.b)({address:a,componentRestrictions:{country:"in"}}).then((e=>(F(e[0]),Object(Ot.c)(e[0])))).then((e=>{jt.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:C,geoHashPrecision:T}),S((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng})))})).catch((e=>{console.log("Error: ",e)}))}}))})]}),Object(p.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(p.jsxs)("div",{className:"input-container",children:[Object(p.jsx)("input",{required:!0,type:"text",name:"floor",value:(null===x||void 0===x?void 0:x.floor)||(null===x||void 0===x?void 0:x.addressLines[0]),onChange:P}),Object(p.jsx)("label",{children:"Apt / Suite / Floor"})]}),Object(p.jsxs)("div",{className:"input-container ml5",children:[Object(p.jsx)("input",{className:"p-none",required:!0,type:"text",name:"pinCode",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===x||void 0===x?void 0:x.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:P}),Object(p.jsx)("label",{children:"Postal Code*"})]})]}),Object(p.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(p.jsxs)("div",{className:"input-container",children:[Object(p.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===x||void 0===x?void 0:x.city,"data-testid":"city-id",onChange:P}),Object(p.jsx)("label",{children:"City / Town*"})]}),Object(p.jsxs)("div",{className:"input-container ml5",children:[Object(p.jsx)("input",{className:"p-none",required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>B(e),onKeyPress:e=>B(e),value:null===x||void 0===x?void 0:x.state,"data-testid":"state-id",onChange:P}),Object(p.jsx)("label",{children:"State*"})]})]}),Object(p.jsxs)("div",{className:"default-address-section",children:[Object(p.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===x||void 0===x?void 0:x.isPrimary,checked:null===x||void 0===x?void 0:x.isPrimary,onChange:P}),Object(p.jsx)("div",{className:"default-label-text",children:Object(p.jsx)("label",{htmlFor:"default-address",children:"Make this my default address"})})]})]})]})}),Object(p.jsxs)("div",{className:"input-container text-center",children:[Object(p.jsx)(r.a,{onClick:s,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:"Cancel"}),Object(p.jsx)(r.a,{disabled:!W(),className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{const e=(e=>{var t,a;let i={},n=["",""];return n[1]=e.addressLines[1],n[0]=(null===e||void 0===e?void 0:e.floor)||e.addressLines[0],i={addressId:(null===e||void 0===e?void 0:e.id)||"",addressName:e.name||"",city:e.city,postalCode:e.pinCode,state:e.state,country:e.country||"",isPrimary:e.isPrimary||!1,location:{latitude:(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)||(null===e||void 0===e?void 0:e.latitude),longitude:(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)||(null===e||void 0===e?void 0:e.longitude)},addressLines:n},i})(x),a=null===d||void 0===d?void 0:d.filter(H),i=null===o||void 0===o?void 0:o.maxDriveTimeMins,n=jt.a.checkAndProceed({stores:a,disposition:m,distanceMetrics:null===o||void 0===o?void 0:o.distanceMetrics,driveTime:i});if(null!==n&&void 0!==n&&n.length){const{phoneNumber:a,customerId:i}=h.a.getInstance();t(Object(me.a)({customerId:i,phoneNumber:a,tenantId:c,data:e})),s()}else f(!0)},children:"Save"})]})]})};var gt=e=>{const t=Object(l.b)(),{savedAddresses:a,storeSearch:s,tenantId:o,allStores:c,driveTime:d}=e,[u,v]=Object(i.useState)(!1),[j,m]=Object(i.useState)(!1),[O,N]=Object(i.useState)({}),{MYDELIVERYADDRESSES:g}=ot.a,I=function(e){const t="edit"===e;N(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),v(!0),m(t)},x=(S=a,S.sort(((e,t)=>t.isPrimary-e.isPrimary))).map((e=>Object(p.jsx)(n.a.Fragment,{children:Object(p.jsxs)("div",{className:"delivery-card bgv-set d-flex",children:[Object(p.jsxs)("div",{className:"address-description d-flex",children:[Object(p.jsxs)("p",{className:"address-mode",children:[Object(p.jsx)("span",{className:"text-transform-capitalize",children:null===e||void 0===e?void 0:e.name})," ",null!==e&&void 0!==e&&e.isPrimary?"(Default)":""]}),Object(p.jsx)("div",{className:"delivery-details",children:Object(p.jsxs)("div",{children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(p.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[1],", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(p.jsxs)("span",{children:[null===e||void 0===e?void 0:e.addressLines[0],", "]}),(null===e||void 0===e?void 0:e.city)&&Object(p.jsxs)("span",{children:[null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(p.jsxs)("span",{children:[null===e||void 0===e?void 0:e.state,", "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(p.jsxs)("span",{children:[null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(p.jsx)("span",{children:null===e||void 0===e?void 0:e.country})]})})]}),Object(p.jsxs)("div",{className:"action-btn d-flex",children:[Object(p.jsx)("div",{onClick:()=>I("edit",e),"data-testid":"edit-testid",className:"anchor-info edit-adjust",children:"Edit"}),Object(p.jsx)("div",{onClick:()=>(e=>{const{phoneNumber:a,customerId:i}=h.a.getInstance();t(Object(me.b)({customerId:i,phoneNumber:a,tenantId:o,addressId:e}))})(null===e||void 0===e?void 0:e.id),"data-testid":"delete-testid",className:"anchor-info del-adjust",children:"Delete"})]})]})})));var S;return Object(p.jsxs)("div",{className:"delivery-address-section",children:[Object(p.jsxs)("div",{className:"header-text",children:[Object(b.translateWithI18Next)(g)," ",(null===a||void 0===a?void 0:a.length)>0&&"(".concat(a.length,")")]}),(null===a||void 0===a?void 0:a.length)>0&&x,Object(p.jsx)("div",{className:"add-address",children:Object(p.jsx)(r.c,{"data-testid":"add-testid",onClickHandler:()=>I("add"),variant:r.b.tertiary,className:"mt-10",children:"Add New Address"})}),u&&Object(p.jsx)(Nt,{"data-testid":"address-modal",isOpen:u,modalType:j,storeSearch:s,address:O,tenantId:o,driveTime:d,allStores:c,handleClose:()=>(document.querySelector("body").style.overflow="",v(!1),void t(Object(mt.u)()))})]})};var It=e=>{var t;const{KM:a,ADDRESS:n}=ot.a,{STORE_STATUS_OPEN:s}=ut.a,{REMOVED_MSG:o}=J.a,{SingleArrowback:c,tickWhiteToast:d}=u.a,r=Object(l.b)(),{userOrderState:j}=Object(i.useContext)(Te.a),{storesWithStatus:m}=Object(l.c)((e=>e.storesReducer)),{allStores:O=[]}=Object(l.c)((e=>e.allStoresReducer)),{favouriteStores:N,savedAddresses:g}=Object(l.c)((e=>e.profileReducer)),{localized:I=!1}=Object(l.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),x=Object(l.c)((e=>e.tenantReducer)),{tenantId:S="",storeSearch:E={},driveTime:f}=x,[T,C]=Object(i.useState)([]),[A,y]=Object(i.useState)(!1),D=Object(v.Jd)(j.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):j.dispositionNew,_=D&&D.type?Object(v.Ib)(D.type):Object(v.Ib)(null===(t=x.authoredContent)||void 0===t?void 0:t.defaultdisposition);Object(i.useEffect)((()=>{if(null!==T&&void 0!==T&&T.length&&S){const e=[];T.forEach((t=>{e.push({storeId:t.storeBasic.id,channel:G.b.channel,service:_})}));const t=!0;localStorage.getItem("setFav")||r(Object(mt.d)({data:e,tenantId:S,isFavoritePage:t}))}}),[S,null===T||void 0===T?void 0:T.length]),Object(i.useEffect)((()=>(window.scrollTo(0,0),r(Object(mt.u)()),()=>{r(Object(mt.u)())})),[]),Object(i.useEffect)((()=>{null!==T&&void 0!==T&&T.length&&null!==m&&void 0!==m&&m.length&&(T.forEach((e=>{const t=m.find((t=>t.storeId===e.storeBasic.id));t&&(e.summary=t.summary,e.isOpen=t.summary.status.currentStatus===s)})),C(T.filter((e=>e.summary))))}),[null===m||void 0===m?void 0:m.length,null===T||void 0===T?void 0:T.length]),Object(i.useEffect)((()=>{localStorage.getItem("renderComp")&&localStorage.getItem("setFav")&&(localStorage.removeItem("renderComp"),localStorage.removeItem("setFav"),r(Object(mt.u)()),R())})),Object(i.useEffect)((()=>{R(),A&&(fe.b.dark(Object(p.jsxs)("div",{className:"img-text-div",children:[Object(p.jsx)(q.a,{srcFile:d})," ",Object(p.jsx)("span",{className:"text",children:Object(b.translateWithI18Next)(o)})]}),{className:"coupon-toast-position",bodyClassName:"success-coupon-toast",hideProgressBar:!0,position:fe.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{fe.b.dismiss()}),3e3))}),[N.length,A]);const R=()=>{const e=JSON.parse(localStorage.getItem("storeInfo")),t=null!==g&&void 0!==g&&g.length?g.filter((e=>e.isPrimary)):[],i=e&&I?e:(null===t||void 0===t?void 0:t.length)&&t[0];if(i){let e=null===E||void 0===E?void 0:E.distanceMetrics;e=e!==a?window.google.maps.UnitSystem.IMPERIAL:window.google.maps.UnitSystem.METRIC;const t=N.map((e=>{var t;const{latitude:a,longitude:i}=(null===(t=e.storeBasic)||void 0===t?void 0:t.location)||{};return{lat:a,lng:i}}));var n,s;if(null!==N&&void 0!==N&&N.length)L([{lat:null===i||void 0===i||null===(n=i.location)||void 0===n?void 0:n.latitude,lng:null===i||void 0===i||null===(s=i.location)||void 0===s?void 0:s.longitude}],t,e);else C([]),y(!1)}else C(N),y(!1)},L=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:a,avoidHighways:!1,avoidTolls:!1},k)},k=(e,t)=>{let a=[],i=[];i=(null===e||void 0===e?void 0:e.rows)&&e.rows[0].elements.map((e=>e)),a=N.map(((e,t)=>({...e,...i[t]}))),C(a),y(!1)};return Object(p.jsxs)("div",{className:"addresses-and-stores-container",children:[Object(p.jsxs)("div",{className:"my-delivery-addresses-header-mobile",children:[Object(p.jsx)("img",{className:"backArrow-account-setting",onClick:()=>e.updateMenu(""),src:c,alt:"Back Arrow"}),Object(p.jsx)("span",{className:"account-setting-text-header",children:Object(b.translateWithI18Next)(n)})]}),((null===T||void 0===T?void 0:T.length)>0||(null===m||void 0===m?void 0:m.length)>0)&&Object(p.jsx)(vt,{"data-testid":"favStore-list",removeFromFavoriteHandler:e=>{const{customerId:t}=h.a.getInstance();r(Object(mt.x)({tenantId:S,customerId:t,storeId:e,dispatch:"dispatch"})),y(!0)},localized:I,history:e.history,storesReducer:m,favouriteStores:T,isMobile:e.isMobile}),Object(p.jsx)(gt,{storeSearch:E,savedAddresses:g,isMobile:e.isMobile,tenantId:S,driveTime:f,allStores:O,updateMenu:e.updateMenu})]})},xt=a(902),St=a(110);var Et=e=>{let{history:t,setShowKfcHeader:a}=e;const{ACCOUNT_SETTING:n,ORDER_HISTORY_TAG:s,ADDRESS:o,MY_FAV_MENU:l}=j.d,[c,d]=Object(i.useState)(Object(v.Ud)(window.innerWidth)),[r,u]=Object(i.useState)(""),{userOrderState:b}=Object(i.useContext)(Te.a),m=Object(St.b)(Ne.b);Object(i.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(v.Ud)(window.innerWidth);d(e)}))}),[c]),Object(i.useEffect)((()=>("GoToOrderHistory"!==localStorage.getItem("LoadMoreOrderHistory")&&!0!==t.location.isNavigatingFromReorder||u(s),()=>{localStorage.removeItem("LoadMoreOrderHistory")})),[]),Object(i.useEffect)((()=>{null!==m&&void 0!==m&&m.accoundSetting&&u(n)}),[]);const O=e=>{switch(e){case n:return a(!1),Object(p.jsx)(Ee,{updateMenu:e=>u(e),history:t});case s:return a(!1),Object(p.jsx)(je,{isMobile:c,renderSwitch:O,updateMenu:e=>u(e)});case o:return a(!1),Object(p.jsx)(It,{history:t,isMobile:c,updateMenu:e=>u(e)});case l:return a(!1),Object(p.jsx)(st,{isMobile:c,updateMenu:e=>u(e),currentMenu:r});default:return a(!0),c?Object(p.jsx)(N,{isMobile:c,currentMenu:r,updateMenu:e=>u(e),history:t}):Object(p.jsx)(je,{isMobile:c,renderSwitch:O,updateMenu:e=>u(e)})}};return c?Object(p.jsxs)("div",{className:"mobile-order-history",children:[O(r),b.showCartClearAlert?Object(p.jsx)(xt.a,{}):null]}):Object(p.jsxs)("div",{className:"account-desktop-container mt-5 grid-container",children:[Object(p.jsx)("div",{className:"account-section-left",children:Object(p.jsx)(N,{isMobile:c,currentMenu:r,updateMenu:e=>u(e),history:t})}),Object(p.jsx)("div",{className:"account-section-right",children:O(r)}),b.showCartClearAlert?Object(p.jsx)(xt.a,{}):null]})},ft=a(811),Tt=a(932);var Ct={HEADER_LOGO:"HEADER LOGO",MENU_LINK:"MENU LINK",DEALS_LINK:"DEALS LINK",CATERING_LINK:"CATERING LINK",SIGN_IN_LINK:"SIGN IN LINK",CART_ICON:"CART ICON",LANGUAGE_SELECTOR:"LANGUAGE SELECTOR",SUPPORT_LINK:"SUPPORT SECTION",GUEST_USER_SINGIN_TEXT:"signInSignUp",LOGGEDIN_USER_SINGIN_TEXT:"account",CART_ICON_100_PERCENT:"CART ICON ANIMATION_100%",CART_ICON_120_PERCENT:"CART ICON ANIMATION_120%",BACK_TO_CART:"backToCart",USER_SINGIN_TEXT:"Sign In",Go_TO_HOME_PAGE:"GoToHomePage",ZERO:0,CART_ALT_TEXT:"Cart",NEED_HELP:"needHelp",LANGUAGE_SELECTOR_TYPE:"Language Selector"},At=a(992);t.default=e=>{var t,a,r,u,b,j;const{DISPOSITION:m}=ft.default,[O,h]=Object(i.useState)(!0),N=Object(l.b)();let g=Object(l.c)((e=>e.appStateReducer.userStatus)),I=null,x=null,S=null;const{userOrderState:E,userOrderStateDispatch:f}=Object(i.useContext)(Te.a),T=Object(l.c)((e=>{var t;return{marketPageContent:e.marketConfigReducer.response||null,tenantData:e.tenantReducer||null,userParams:e.appStateReducer.userStatus||null,homePageContent:Object(v.od)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),tenantReducerContent:Object(v.od)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(Object(i.useEffect)((()=>{f({type:Ct.SET_HIDE_NAV_BARS,value:{flag:!O}})}),[O,f]),Object(i.useEffect)((()=>{var e;N(Object(o.a)({object:Object(se.a)(),contentFull:{content_type:"marketConfig","fields.location":null===T||void 0===T||null===(e=T.tenantData)||void 0===e?void 0:e.country,"fields.channel":G.b.channel,include:5}}))}),[null===T||void 0===T||null===(t=T.tenantData)||void 0===t?void 0:t.country,N]),Object(i.useEffect)((()=>{N(Object(s.c)({object:Object(se.a)(),contentFull:{content_type:"landingPage","fields.pageType":"HomePage","fields.channel":G.b.channel,include:"5"},userParams:T.userParams}))}),[T.userParams,N]),T.marketPageContent&&T.tenantData&&T.homePageContent){const{header:e,footer:t}=T.marketPageContent.headerData;I=Object(v.cc)(e),x=Object(v.bc)(T.homePageContent),S=Object(v.Sb)(t)}return Object(p.jsxs)(n.a.Fragment,{children:[Object(v.Kd)(I)&&(!Object(v.Ud)(window.innerWidth)||O)&&Object(p.jsx)(d.a,{contentData:I,tenantReducerData:T.tenantData,userParams:T.userParams})||null,Object(p.jsx)(Tt.a,{contentData:{segmentedHomePageData:null!==(a=null===(r=x)||void 0===r?void 0:r[m])&&void 0!==a?a:{},contentDispositionData:null!==(u=null===(b=x)||void 0===b?void 0:b[m])&&void 0!==u?u:{}},userParams:g,showHeader:!Object(v.Ud)(window.innerWidth)||O}),Object(p.jsx)(Et,{history:e.history,setShowKfcHeader:e=>h(e)}),Object(v.Kd)(S)&&Object(p.jsx)(c.a,{history:e.history,contentData:S,tenantReducerData:T.tenantData})||null,(null===(j=E.cartAlertData)||void 0===j?void 0:j.showCartAlert)&&Object(p.jsx)(At.a,{}),E.showCartClearAlert?Object(p.jsx)(xt.a,{}):null]})}},902:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var i=a(3),n=a(25),s=a(84),o=a(92),l=a(76);const c={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var d=a(14),r=a(6),u=a(5),v=a(30),b=a(15),j=a(0),m=a(69),O=a(2);const h=e=>{const t=Object(n.c)((e=>e.cartReducer)),{cartData:a={}}=t||{},h=Object(n.c)((e=>e.tenantReducer)),{tenantId:p=""}=h||{},{userOrderState:N,userOrderStateDispatch:g}=Object(i.useContext)(l.a),{modalToOpenOnConfirm:I,modalOpenFrom:x,confirmCallBack:S}=N,{CartError:E}=b.a,f=Object(n.b)(),{CLEAR_ALL_MSG:T,CLEAR_ALL:C,CANCEL:A,TO_CHANGE_LANGUAGE:y}=c;((e,t,a)=>{e.langSelector?t.MSGTXT3=a:t.MSGTXT3})(e,T,y);const{SHOW_CLEAR_CART_ALERT:D,DISPOSITION_DATA:_,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:k,orderTypeAlertTitle:w,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:P,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:W}=d.a,H=Object(u.Jd)(N.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):N.dispositionNew,U=()=>{g({type:F,value:{}}),g({type:j.Le,value:{selectedLanguage:""}}),g({type:D,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),x===k&&g({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(O.jsx)(o.a,{handleClose:U,classNames:"clear-cart-modal",CartAlertForm:Object(O.jsx)(s.a,{splitTitle:T,imageSrc:E,altText:"cart-error",confirmButtonText:Object(r.translateWithI18Next)(C),cancelButtonText:Object(r.translateWithI18Next)(A),cancelHandler:U,confirmHandler:()=>{if(a.discountLines.length>0){let e=a.discountLines.map((e=>e.id));f(Object(v.n)({params:{basketId:a.id},tenantId:p,shouldClearCart:!0},e))}else f(Object(v.o)({basketId:a.id,tenantId:p}));f(Object(m.c)({key:j.gd.VIEW_PRODUCT})),localStorage.removeItem(j.gd.ADD_TO_ORDER),f(Object(v.u)(new Date)),g({type:D,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),S&&S(),I===w?(g({type:P}),g({type:_,value:{showDisposition:!0}}),g({type:L,value:{showScheduleOrderCatering:!1}}),g({type:R,value:{showSearchStore:!1}}),g({type:W,value:{orderCapacityDataUpdated:!1}}),g({type:F,value:{}})):I===M&&g({type:R,value:{showSearchStore:!0}})}})})}},907:function(e,t,a){"use strict";a.d(t,"g",(function(){return j})),a.d(t,"j",(function(){return m})),a.d(t,"l",(function(){return O})),a.d(t,"k",(function(){return h})),a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return N})),a.d(t,"n",(function(){return I})),a.d(t,"e",(function(){return x})),a.d(t,"d",(function(){return S})),a.d(t,"m",(function(){return E})),a.d(t,"f",(function(){return f})),a.d(t,"h",(function(){return T})),a.d(t,"i",(function(){return C})),a.d(t,"a",(function(){return A}));var i=a(19),n=a(5),s=a(9),o=a(123),l=a(6),c=a(327),d=a(320),r=a(18),u=a.n(r),v=a(0),b=a(2);const j=async(e,t)=>{var a;await i.a.registerEvent(null===s.a||void 0===s.a||null===(a=s.a.menuNavigation)||void 0===a?void 0:a.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},n.xb)},m=async(e,t)=>{const a=[];a.push({event:e.eventType,[t]:e.selectedData}),await i.a.registerEvent("suggestedSearchClick",{data:a[0]},n.xb)},O=async(e,t,a)=>{const s=[];s.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a]}),await i.a.registerEvent(e.eventType,{data:s[0]},n.xb)},h=async(e,t,a,s)=>{const o=[];o.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a],[s]:e.selectedData[s]}),await i.a.registerEvent(void 0,{data:o[0]},n.xb)},p=(e,t)=>{const a=JSON.parse(JSON.stringify(e));let i=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===a||void 0===a?void 0:a.find((t=>{let{isHidden:a=!1,items:i}=t;return!a&&(null===i||void 0===i?void 0:i.length)&&i[0].id===e.id}));t&&i.push(t)})),i},N=(e,t,a,i,n,s)=>{var o;let l=[];return l=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(o=e.products)||void 0===o?void 0:o.length)&&0===Object.keys(t).length?g(e.categories[0],a,i,n):Object.keys(t).length>0?g(t,a,i,n):g(e,a,i,n),l},g=(e,t,a,i)=>{var s;let o={},l=[];return l=null===e||void 0===e||null===(s=e.products)||void 0===s?void 0:s.map((e=>(e.items.forEach(((e,s)=>{let l=e.additionalProperties.find((e=>e.key.toLowerCase()===d.o.PRICE_WITHOUT_TAX.toLowerCase())),c=Object(n.Dc)(l.value,i).toFixed(2);c=c?parseFloat(c):"NA",o={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:c,item_category:t,item_list_name:t,item_list_id:a,index:s,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),o))),l},I=async e=>{var t,a,o;await i.a.registerEvent(null===s.a||void 0===s.a||null===(t=s.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_name,items:e}}},n.xb)},x=(e,t)=>{let a={},i=e.find((e=>{var a;return(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.trim())===t}))||{};return 0===Object.keys(i).length&&(i=e.find((e=>{var i;if((null===(i=e.categories)||void 0===i?void 0:i.length)>0)for(const n in e.categories)if(e.categories[n].id===t)return a=e.categories[n],!0;return!1}))),{selectedCategory:i,selectedSubcategory:a}},S=function(e,t,a,i){let n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return i(!1),!1;const s=(c=t,null===(l=e)||void 0===l?void 0:l.find((e=>{let{url:t,isHidden:a,categories:i}=e,n=!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase());return n||(n=i.find((e=>{let{url:t,isHidden:a}=e;return!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase())}))),n})));var l,c,d;if(u()(s)){if(t&&(a("category"),i(!0)),!u()(e)){var r;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&o.scroller.scrollTo(null===t||void 0===t||null===(r=t.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:n?-140:-100})}}else o.scroller.scrollTo(null===s||void 0===s||null===(d=s.name)||void 0===d?void 0:d.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:n?-150:-100});return!u()(s)},E=e=>null===e||void 0===e?void 0:e.isStoreClosed,f=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:a}=c.d;let i=Object(l.translateWithI18Next)(t),n=Object(l.translateWithI18Next)(a);return null!==e&&void 0!==e&&e.isStoreClosed&&(i=n),{btnText:i}},T=(e,t)=>{0===e.length&&Object(n.Kb)(document.title,Object(l.translateWithI18Next)(d.w)+" \u201c".concat(t,"\u201d ")+Object(l.translateWithI18Next)(d.s))},C=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let a=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:i=[]}=e;a.push(null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.name)})),a},A=e=>{const{searchMode:t,filterList:a,dietaryList:i,products:n,viewUp:s,tenantData:o,getCardCount:l,catalogs:c,storeClosedData:d,setShowTopScrollBtn:r,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:j}=e;return(t.isSearchedMode||[...a,...i].length)&&null!==n&&void 0!==n&&n.length?Object(b.jsx)("div",{className:s?"small-menu-container":"medium-menu-container",children:Object(b.jsx)(v,{productList:n,cardType:s?"small":"medium",tenantData:o,cardCount:l,catalogs:c,storeClosedData:d,setShowTopScrollBtn:r,categoryId:j})}):t.isSearchedMode&&u()}},912:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var i=a(171),n=a(2);const s=e=>Object(n.jsx)(i.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),o=e=>Object(n.jsx)(i.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},915:function(e,t,a){"use strict";var i=a(3),n=a.n(i),s=a(43),o=a(2);const l=e=>{const{show:t,errorMsg:a="",cssClass:i="",errImage:n}=e;return t?Object(o.jsxs)("div",{className:"inline-error-container ".concat(i),children:[Object(o.jsx)(s.a,{srcFile:n}),Object(o.jsx)("div",{className:"error-message",children:a})]}):null},c=n.a.memo(l);t.a=c},921:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var i=a(17),n=a(6),s=a(15),o=a(4);const l=[{key:i.d.roundTheClock,image:s.a.RoundTheClockDark,label:Object(n.translateWithI18Next)(o.a.ROUND_THE_CLOCK)},{key:i.d.birthday,image:s.a.BirthdayDark,label:Object(n.translateWithI18Next)(o.a.BIRTHDAY)},{key:i.d.breakfast,image:s.a.BreakfastDark,label:Object(n.translateWithI18Next)(o.a.BREAKFAST)},{key:i.d.contactless,image:s.a.ContactlessDark,label:Object(n.translateWithI18Next)(o.a.CONTACTLESS)},{key:i.d.driveThru,image:s.a.DrivethruDark,label:Object(n.translateWithI18Next)(o.a.DRIVETHRU)},{key:i.d.driveThruOnly,image:s.a.DrivethruDark,label:Object(n.translateWithI18Next)(o.a.DRIVETHRU)},{key:i.d.foodCourt,image:s.a.FoodCourtDark,label:Object(n.translateWithI18Next)(o.a.FOODCOURT)},{key:i.d.wifi,image:s.a.WifiDark,label:Object(n.translateWithI18Next)(o.a.FREE_WIFI)},{key:i.d.wifiOnly,image:s.a.WifiDark,label:Object(n.translateWithI18Next)(o.a.WIFI)},{key:i.d.kiosks,image:s.a.KiosksDark,label:Object(n.translateWithI18Next)(o.a.KIOSKS)},{key:i.d.parking,image:s.a.ParkingDark,label:Object(n.translateWithI18Next)(o.a.PARKING)},{key:i.d.playground,image:s.a.PlaygroundDark,label:Object(n.translateWithI18Next)(o.a.PLAYGROUND)},{key:i.d.refill,image:s.a.RefillDark,label:Object(n.translateWithI18Next)(o.a.REFILL)},{key:i.d.terraces,image:s.a.TerracesDark,label:Object(n.translateWithI18Next)(o.a.TERRACES)},{key:i.d.phc,image:s.a.AccessibilityDark,label:Object(n.translateWithI18Next)(o.a.ACCESSIBILTY)},{key:i.d.accessibility,image:s.a.AccessibilityDark,label:Object(n.translateWithI18Next)(o.a.ACCESSIBILTY)},{key:i.d.restroom,image:s.a.RestRoomDark,label:Object(n.translateWithI18Next)(o.a.RESTROOM)},{key:i.d.cateringType,image:s.a.BirthdayDark,label:Object(n.translateWithI18Next)(o.a.CATERING_TEXT)}],c=(e,t)=>l.filter((t=>{var a,i;return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(i=e.amenities)||void 0===i?void 0:i.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},928:function(e,t,a){"use strict";var i=a(3),n=a.n(i),s=a(128),o=a(325),l=a(6),c=a(5),d=a(76),r=a(0),u=a(15),v=a(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:a,isMobile:b,onPositionChangeHandler:j,centerIndex:m,isVisible:O,setShowCard:h,locationAlert:p,setStoreMarker:N=c.L,passAddress:g,storeCardHeight:I,latLongValue:x}=e,{PLACE_PIN:S}=s.a,{userOrderState:E}=n.a.useContext(d.a),{dispositionStateData:f={}}=E,{dispositionType:T=localStorage.getItem("dispositionType")}=f;let C,A,y=n.a.createRef();const[D,_]=Object(i.useState)(x),[R,L]=Object(i.useState)(!1),{RedMarker:k,RedMarkerNoText:w,BlackMarker:M,ArrowIcon:P}=u.a;Object(i.useEffect)((()=>{C=F(D),A=W(D)}),[]),Object(i.useEffect)((()=>{_(x),L(!1)}),[x]),Object(i.useEffect)((()=>{F(D),A=W(D)}),[D,m,R]);const F=e=>new window.google.maps.Map(y.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[m]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!b,gestureHandling:"greedy"}),W=e=>{const t=new window.google.maps.Geocoder;let a=e;C=F(a),O?R||(C.addListener("zoom_changed",(()=>{h(!1),L(!0)})),C.addListener("drag",(()=>{h(!1),L(!0)}))):(C.addListener("drag",(()=>{a={lat:C.getCenter().lat(),lng:C.getCenter().lng()},A.setPosition(a)})),window.google.maps.event.addListener(C,"dragend",(function(){!function(e,t,a){e.geocode({location:a},((e,t)=>{"OK"===t&&e[0]&&g(e[0].formatted_address)}))}(t,0,a)})));let i=Object(c.Tc)(Array.isArray(a)&&a.length>0,a,[a]).map(((e,t)=>{let a=new window.google.maps.Marker({position:e,map:C,visible:!0,icon:Object(c.id)(!O,!R&&O&&t===m)?(null===T||void 0===T?void 0:T.toUpperCase())===r.Af?w:k:M});return a.addListener("click",(function(e){N(e.latLng)})),a}));return Object(c.Tc)(Array.isArray(a),i,i[0])};return Object(v.jsxs)(n.a.Fragment,{children:[!t&&((null===T||void 0===T?void 0:T.toUpperCase())!==r.Af||""!==a&&a?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.Tc)(p,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(l.translateWithI18Next)(S)})})),b&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(I+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.db)(0===m,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.Tc)(0===m,e.preventDefault(),j(0)),children:Object(v.jsx)(o.a,{srcFile:P,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(m===D.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>m===D.length-1?e.preventDefault():j(1),children:Object(v.jsx)(o.a,{srcFile:P,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:y})]})}},931:function(e,t,a){var i=a(941)(a(343));e.exports=i},936:function(e,t,a){"use strict";a.d(t,"b",(function(){return q}));var i=a(3),n=a.n(i),s=a(975),o=a.n(s),l=a(317),c=a(326),d=a(212),r=a(76),u=a(14),v=a(101),b=a(25),j=a(63),m=a(11),O=a(5),h=a(61),p=a(97),N=a(128),g=a(43),I=a(6),x=a(4),S=a(30),E=a(22),f=a(93),T=a(0),C=a(318),A=a(335),y=(a(974),a(15)),D=a(49),_=a(2);const{ORDER_TYPE:R,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:k,EDIT:w,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:P,TIME:F,CONFIRM_BTN_TEXT:W,DELIVERY_UNAVAILABLE_ERROR:H,SWITCH_TO_TAKEAWAY_TEXT:U,ERROR_MESSAGE_IN_ACTIVE:B,DELIVERY_PICKUP_MESSAGE:G,ERROR_MESSAGE_CLOSED:Y,SCHEDULE_ORDER:V,CHANGE_ORDER_TITLE:K,ASAP_SERVES_Warning_Message:z}=x.a,J=(e,t,a)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(a)),q=e=>"ASAP"!==e&&"-"!==e?e:Object(m.R)(Object(m.o)(),N.a.HHMM,N.a.LT),X=(e,t)=>{let a={};return"-"!==e&&"ASAP"!==e?a={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(a={isForNow:!0,futureDateTime:0}),a},Q=(e,t,a)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(O.Gb)(i.type):t?T.Mb.PICKUP:Object(O.Gb)(a)};function Z(e,t,a){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||a(null===(i=e[0])||void 0===i?void 0:i.timestr):a("-")}t.a=Object(h.j)((e=>{var t,a,s,h,x,ee,te,ae,ie,ne,se,oe,le,ce,de,re,ue;const{SingleArrow:ve,Calendar:be,Error:je}=y.a,me=Object(i.useRef)(null),Oe=Object(i.useRef)(null),{location:he,onStoreSelectFinish:pe}=e,{SEARCH_ORDER_DATA:Ne,SCHEDULE_ORDER_DATA:ge,DISPOSITION_DATA:Ie,SCHEDULE_ORDER_TIME_DATA:xe,CLOSED:Se,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Ee,MENU_URL:fe,PDP_URL:Te,SELECTED_TILE_DATA:Ce,DISPOSITION_METHOD:Ae,SET_DISPOSITION:ye,USER_LOCALIZED:De,SHOW_CLEAR_CART_ALERT:_e,CLEAR_CART_CONFIRM_CANCEL_MODAL:Re,clearCartChangeFlag:Le,orderTypeAlertTitle:ke,searchStoreAlertTitle:we,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:Pe}=u.a,Fe=Object(b.c)((e=>e.profileReducer)),{userOrderState:We,userOrderStateDispatch:He}=Object(i.useContext)(r.a),{dispositionStateData:Ue={},scheduleOrderData:Be={}}=We,{changeFlow:Ge=!1,isAddressFlow:Ye=!1}=Be,Ve=Be&&Object(O.Kd)(Be.storeInfo)?Be.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:Ke=""}=Ue,ze=Ke||localStorage.getItem("dispositionType"),{value:Je=""}=(null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:qe=""}=Be&&(null===(a=Be.selectedDateTimeInfo)||void 0===a||null===(s=a.date)||void 0===s?void 0:s.length)>0?Be.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Xe=Be&&(null===(h=Be.selectContentData)||void 0===h||null===(x=h.savedTime)||void 0===x?void 0:x.length)>0?null===(ee=Be.selectContentData)||void 0===ee?void 0:ee.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Qe,scheduled:Ze={},asap:$e}=(null===(te=Be.storeInfo)||void 0===te||null===(ae=te.summary)||void 0===ae?void 0:ae.timings)||{},et=Object(O.Jd)(We.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):We.dispositionNew,{unavailibilities:tt,unavailibilityType:at}=Ze,{interval:it=0,startEndTime:nt={}}=Ze&&(null===Ze||void 0===Ze||null===(ie=Ze.periods)||void 0===ie?void 0:ie.length)&&(null===Ze||void 0===Ze?void 0:Ze.periods[0])||{},{from:st,to:ot}=nt;let lt=Object(b.c)((e=>e.appStateReducer.userStatus));const ct=Object(b.b)(),dt=Object(b.c)((e=>e.tenantReducer)),rt=Object(b.c)((e=>e.storesReducer)),ut=Object(b.c)((e=>e.cartReducer)),{cartData:vt}=ut,{storesAvilableTimeSlots:bt,storesTimeSlots:jt}=rt,[mt,Ot]=Object(i.useState)(!1),[ht,pt]=Object(i.useState)({error:!1,errormessage:""}),[Nt,gt]=Object(i.useState)({from:st,to:ot,interval:it}),[It,xt]=Object(i.useState)({error:!1,openStoreTime:""}),St=(null===(ne=Be.storeInfo)||void 0===ne||null===(se=ne.summary)||void 0===se||null===(oe=se.status)||void 0===oe?void 0:oe.currentStatus)===Se,Et=()=>{var e;return Ge?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===N.a.TYPE_DELIVERY:!Ye&&(null===ze||void 0===ze?void 0:ze.toUpperCase())===N.a.TYPE_DELIVERY},[ft,Tt]=Object(i.useState)(Ze&&Ze.date?new Date(Ze.date.toString()):new Date),[Ct,At]=Object(i.useState)($e&&$e.isAvailable?"ASAP":Object(m.R)(null===nt||void 0===nt?void 0:nt.from,"hh:mm","LT")),[yt,Dt]=Object(i.useState)([]),[_t,Rt]=Object(i.useState)(!1),[Lt,kt]=Object(i.useState)(!1),[wt,Mt]=Object(i.useState)(Object(O.Ud)(window.innerWidth)),Pt=()=>{Mt(Object(O.Ud)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Pt)}),[wt]),Object(i.useEffect)((()=>{if(1===(null===Qe||void 0===Qe?void 0:Qe.length)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country)){var e;const t={storeid:null===Be||void 0===Be||null===(e=Be.storeInfo)||void 0===e?void 0:e.id,channel:E.b.channel,service:Object(O.Ib)(Zt()).toString().toLowerCase(),date:""};ct(Object(j.c)({data:t,tenantId:dt.tenantId}))}let t=Object(v.j)(st,ot,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===(null===Qe||void 0===Qe?void 0:Qe.length)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,at);return Dt(t),()=>{ct(Object(j.a)())}}),[]);const Ft=e=>{var t,a;if("INDIA"===(null===dt||void 0===dt?void 0:dt.country))return;const i=Object(m.h)(e,"YYYY-MM-DD");if(Ze.date===i){let t=Object(v.j)(st,ot,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===Qe.length&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,at);return Dt(t),At(t[0].timestr),gt({from:st,to:ot,interval:it}),Tt(e),pt({...ht,error:!1,errormessage:""}),Rt(!1),void kt(!1)}const n={storeid:null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.id,channel:E.b.channel,service:Object(O.Ib)(Zt()).toString().toLowerCase(),dateVal:i};if(ct(Object(j.c)({data:n,tenantId:dt.tenantId})),Tt(e),(null===bt||void 0===bt||null===(a=bt.periods)||void 0===a?void 0:a.length)>0){const{startEndTime:e,interval:t}=bt.periods[0],{from:a,to:i}=e;let n=Object(v.j)(a,i,t,null===$e||void 0===$e?void 0:$e.isAvailable,1===Qe.length&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,at);gt({from:a,to:i,interval:t}),Dt(n)}pt({...ht,error:!1,errormessage:""})},Wt=e=>{const t=new Date,a=new Date(e.split("T")[0]);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},Ht=e=>{var t;At("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let a=Object(v.f)(st,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Wt(qe)?"Today":"Tomorrow"});Tt(a),Rt(!1),kt(!1),pt({...ht,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=Xe;qe&&Ft(new Date(qe)),((e,t,a,i,n,s)=>{if(e&&t){const e=Object(m.R)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===a||void 0===a?void 0:a.split(":")[0]),Number(null===a||void 0===a?void 0:a.split(":")[1]),0)?s(n):s(t)}})(Ge,e,st,qe,Xe,Ht),((e,t,a,i,n)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var s;const e={storeid:null===t||void 0===t||null===(s=t.storeInfo)||void 0===s?void 0:s.id,channel:E.b.channel,service:Object(O.Ib)(a()).toString().toLowerCase(),date:""};i(Object(j.c)({data:e,tenantId:null===n||void 0===n?void 0:n.tenantId}))}})(Qe,Be,Zt,ct,dt)}),[]),Object(i.useEffect)((()=>{let e=Object(O.Tc)(Ge,Object(I.translateWithI18Next)(K),Object(I.translateWithI18Next)(V));var t;if(Object(O.Kd)(jt)&&mt)if((null===jt||void 0===jt||null===(t=jt.status)||void 0===t?void 0:t.currentStatus)===Se)pt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(Y)}),Object(O.Kb)(e,Object(I.translateWithI18Next)(Y));else{let t=new Date;if(new Date(ft).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(m.o)().add($e.promiseTime,"minutes").format("LT");Object(m.c)(t,Ct,"h:mm A")?(pt({...ht,error:!0,errormessage:Object(I.translateWithI18Next)(B)}),Object(O.Kb)(e,Object(I.translateWithI18Next)(B))):J(he,fe,Te)?Ut():Bt()}else J(he,fe,Te)?Ut():Bt()}}),[jt,Fe]);const Ut=()=>{He({type:Ce,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(dt)),localStorage.setItem("selectedTile",JSON.stringify({})),Bt(),setTimeout((()=>{e.history.push({pathname:"".concat(fe)})}),500)},Bt=async()=>{He({type:ge,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Be||void 0===Be?void 0:Be.storeInfo,changeFlow:!0}}),He({type:Ae,value:{dispositionType:ze}}),localStorage.setItem("dispositionType",Zt()),localStorage.setItem("storeInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),He({type:Me,value:Object(O.kd)(null===Be||void 0===Be?void 0:Be.storeInfo)}),He({type:Ne,value:{showSearchStore:!1}});let e="",t="";"ASAP"===Ct||"-"===Ct?(e="ASAP",t="ASAP"):(e=Ct,t=Ct),He({type:Pe,value:{forceReload:!0}});let a=q(Ct);const i=Object(m.A)(Object(m.h)(ft,"YYYY-MM-DD")+" "+a,"YYYY-MM-DD hh:mm A");let n={time:e,interval:Nt.interval,date:ft,epochTime:i,selectedTime:Ct},s=(null===Be||void 0===Be?void 0:Be.deliveryAddress)||(null===et||void 0===et?void 0:et.deliveryAddress);if(null===et||et.type!==Zt()||et.store.id!==Ve.id||et.deliveryAddress!==Be.deliveryAddress){let e=await Object(O.z)(Ve,Object(O.Ib)(ze),null===Fe||void 0===Fe?void 0:Fe.customerId,n,s,null===Be||void 0===Be?void 0:Be.deliveryAddressLine);ct(Object(S.m)("")),ct(Object(S.f)({data:e,tenantId:dt.tenantId}))}ct(Object(p.a)({...lt,localized:!0})),He({type:ye,value:{oldvalue:et,newValue:{type:Zt(),store:Ve,date:n.date,time:n.time,epochTime:n.epochTime,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:s}}}),localStorage.setItem("dispositionOld",JSON.stringify(et)),localStorage.setItem("dispositionNew",JSON.stringify({type:Zt(),store:Ve,date:n.date,time:n.time,epochTime:n.epochTime,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:s})),Object(O.if)(),He({type:xe,value:{selectedDateTime:n}}),He({type:Ee,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(n)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,a={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(bt||{}).length){var i,n,s;const{startEndTime:e,interval:l}=Object(O.id)(null===(i=bt[0])||void 0===i?void 0:i.periods[0],a),{startEndTime:c}=Object(O.id)(null===(n=bt[1])||void 0===n?void 0:n.periods[0],a),{from:d}=e,{to:r}=c;var o;if(t=Object(v.j)(d,r,l,null===$e||void 0===$e?void 0:$e.isAvailable,1===Qe.length&&new Date(null===(s=bt[0])||void 0===s?void 0:s.date).setHours(0,0,0,0)<new Date(null===Qe||void 0===Qe?void 0:Qe[0]).setHours(0,0,0,0)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,at),gt({from:d,to:r,interval:l}),Dt(t),Z(t,Xe,Ht),!bt.find((e=>e.date===qe.split("T")[0])))Tt(new Date(null===(o=bt[0])||void 0===o?void 0:o.date))}else if(Object.keys(bt||{}).length){var l,c;const{startEndTime:e,interval:i}=Object(O.id)(null===(l=bt[0])||void 0===l?void 0:l.periods[0],a),{from:n,to:s}=e;var d;if(t=Object(v.j)(n,s,i,null===$e||void 0===$e?void 0:$e.isAvailable,"INDIA"===(null===dt||void 0===dt?void 0:dt.country)&&1===(null===Qe||void 0===Qe?void 0:Qe.length)&&new Date(null===(c=bt[0])||void 0===c?void 0:c.date).setHours(0,0,0,0)<new Date(null===Qe||void 0===Qe?void 0:Qe[0]).setHours(0,0,0,0),tt,at),gt({from:n,to:s,interval:i}),Dt(t),Z(t,Xe,Ht),!bt.find((e=>e.date===qe.split("T")[0])))Tt(new Date(null===(d=bt[0])||void 0===d?void 0:d.date))}const r=localStorage.getItem("modalSource");var u;null!==dt&&void 0!==dt&&dt.showASAPServiceWarningMessage&&(null===$e||void 0===$e||!$e.isAvailable)&&St&&"fromChangeStoreButton"!==r&&(null===(e=t)||void 0===e?void 0:e.length)>0&&xt({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(bt)]);const Gt=e=>{var t,a;null!==me&&void 0!==me&&null!==(t=me.current)&&void 0!==t&&t.contains(e.target)||null!==Oe&&void 0!==Oe&&null!==(a=Oe.current)&&void 0!==a&&a.contains(e.target)||(Rt(!1),kt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Gt),()=>{document.removeEventListener("mousedown",Gt)})),[]);const Yt=()=>{He({type:Ne,value:{showSearchStore:!0}}),He({type:ge,value:{showDisposition:!1}}),He({type:Ae,value:{dispositionType:"Pickup"}})},Vt=null===Be||void 0===Be||null===(le=Be.storeInfo)||void 0===le||null===(ce=le.availableServicesPerChannel)||void 0===ce||null===(de=ce.find((e=>"web"===e.channel)))||void 0===de?void 0:de.services,Kt=null===Vt||void 0===Vt?void 0:Vt.includes("delivery"),zt=Object(O.db)(Et(),!Kt),Jt=()=>{let e=Object(I.translateWithI18Next)(G),t=!1;return Kt&&(e=Object(I.translateWithI18Next)(H),t=!0),{showTakeWayButton:t,message:e}},{message:qt}=Jt();Object(i.useEffect)((()=>{Object(f.g)(Ge,qt)}),[qt]);const Xt=()=>{const{message:e,showTakeWayButton:t}=Jt();return Object(_.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(_.jsx)(g.a,{srcFile:je,className:"location-alert-icon"}),Object(_.jsx)("div",{className:"location-error-message",children:e}),Object(_.jsx)("div",{className:"location-error-button-section",children:t&&Object(_.jsx)(l.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Yt,children:Object(I.translateWithI18Next)(U)})})]})},Qt=e=>{var t;let{orderType:a}=e,i=Object(I.translateWithI18Next)(z),n=null===i||void 0===i?void 0:i.replace("%time%",It.openStoreTime);return n=null===(t=n)||void 0===t?void 0:t.replace("%servesName%",a),Object(_.jsxs)("div",{className:"asap-warning-container",children:[Object(_.jsx)("span",{className:"error-img"}),n]})},Zt=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ge&&e?e.type:Ye?"Pickup":ze},$t=Ge?null===(re=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===re?void 0:re.deliveryAddress:Be.deliveryAddress;return Object(_.jsxs)("div",{className:"scheduleOrder-form",children:[Object(_.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(R)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(c.a,{value:Q(Ge,Ye,ze),className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Object(_.jsx)(d.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:ke};Object(O.ue)(He,e,_e,Re)}else He({type:Ie,value:{showDisposition:!0}});He({type:ge,value:{showScheduleOrderCatering:!1}}),He({type:Ne,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(I.translateWithI18Next)(w)})})]}),ht&&ht.error&&Object(_.jsxs)("div",{className:"error-container",children:[Object(_.jsx)("span",{className:"error-img"}),ht.errormessage]}),wt&&zt&&Object(_.jsx)(Xt,{}),Object(_.jsx)("h3",{className:"order-type",children:Et()?Object(I.translateWithI18Next)(k):Object(I.translateWithI18Next)(L)}),Object(_.jsxs)("div",{className:"ordertype-input-div",children:[Object(_.jsx)(c.a,{value:Et()?$t:Je||"",className:"w-100"}),Object(_.jsx)("div",{className:"edit-input",children:Et()?Object(_.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(He({type:Ae,value:{dispositionType:Ge?JSON.parse(localStorage.getItem("dispositionNew")).type:ze}}),vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:we};Object(O.ue)(He,e,_e,Re)}else He({type:Ne,value:{showSearchStore:!0}});He({type:ge,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(I.translateWithI18Next)(w)}):Object(_.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:we};Object(O.ue)(He,e,_e,Re)}else{let e=Object(O.jd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ye)He({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:Be.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];He({type:Ne,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}He({type:ge,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ge)}}),He({type:Ae,value:{dispositionType:Zt()}})},"data-testid":"edit-store-test",children:Object(I.translateWithI18Next)(w)})})]}),!wt&&zt&&Object(_.jsx)(Xt,{}),(null===It||void 0===It?void 0:It.error)&&Object(_.jsx)(Qt,{orderType:Q(Ge,Ye,ze)}),Object(_.jsx)("h3",{className:"order-type",children:Object(I.translateWithI18Next)(M)}),Object(_.jsxs)("div",{className:"schedule-date-time",children:[Object(_.jsxs)("div",{className:"schedule-date",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker",children:Object(I.translateWithI18Next)(P)}),Qe&&Qe.length>0&&Ze&&Ze.date&&"INDIA"!==(null===dt||void 0===dt?void 0:dt.country)?Object(_.jsxs)(n.a.Fragment,{children:[Object(_.jsxs)("div",{ref:me,onClick:()=>kt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(_.jsx)(o.a,{selected:ft,showPopperArrow:!1,onChange:e=>Ft(e),minDate:new Date(Ze.date.toString()),maxDate:new Date(Qe[Qe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(_.jsx)("img",{src:be,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(_.jsx)("span",{className:"dropdown-img"})]}):Object(_.jsx)(n.a.Fragment,{children:Object(_.jsx)("div",{className:"time-input time-input-container",children:Object(m.h)(ft,"YYYYMMDD")===Object(m.e)("YYYYMMDD")&&Object(I.translateWithI18Next)("today")||Object(I.translateWithI18Next)("tomorrow")})})]}),Object(_.jsxs)("div",{className:"schedule-time",children:[Object(_.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(I.translateWithI18Next)(F)}),Object(_.jsxs)("div",{className:$(yt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==Ze.periods.length&&Rt(!_t),onClick:()=>0!==Ze.periods.length&&Rt(!_t),children:[Object(_.jsx)("div",{className:"time-input asap-default",children:Ct}),Object(_.jsx)("img",{src:ve,alt:" ",className:"downarrow-time-list"})]}),_t&&Object(_.jsx)("div",{ref:Oe,className:"schedule-time-list-container",children:Object(_.jsx)("ul",{children:!(null===yt||void 0===yt||!yt.length)&&(null===yt||void 0===yt?void 0:yt.map((e=>Object(_.jsx)("li",{tabIndex:"0",onClick:()=>{xt((e=>({...e,error:!1}))),Ht(e)},onKeyPress:()=>Ht(e),children:e.timestr}))))})})]})]}),Object(_.jsx)("div",{className:"text-center schedule-btn-div",children:Object(_.jsx)(l.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(I.translateWithI18Next)(W),onClickHandler:e=>{var t,a,i,n,s;Object(D.D)(),e.stopPropagation(),e.preventDefault();const o={storeID:null===Ve||void 0===Ve?void 0:Ve.id,disposition:ze,postCode:null===Ve||void 0===Ve||null===(t=Ve.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};pe(o),Object(C.J)(o,Ct),Object(A.a)(Be),Ot(!0);let l=q(Ct);const c=Object(m.A)(Object(m.h)(ft,"YYYY-MM-DD")+" "+l,"YYYY-MM-DD hh:mm A"),d={storeid:null===Be||void 0===Be||null===(i=Be.storeInfo)||void 0===i?void 0:i.id,channel:E.b.channel,service:null===(n=Object(O.Ib)(Zt()))||void 0===n||null===(s=n.toString())||void 0===s?void 0:s.toLowerCase(),futureDateTimeInEpochFormat:c,asap:Ct===T.s};ct(Object(j.n)({data:d,tenantId:dt.tenantId})),null!==vt&&void 0!==vt&&vt.id&&ct(Object(j.q)({params:{basketId:null===vt||void 0===vt?void 0:vt.id},tenantId:dt.tenantId,postBody:X(Ct,c)})),He({type:De,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===Ze||void 0===Ze||null===(ue=Ze.periods)||void 0===ue?void 0:ue.length),children:Object(I.translateWithI18Next)(W)})})]})}));const $=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},938:function(e,t,a){"use strict";a.d(t,"a",(function(){return W}));var i=a(3),n=a(25),s=a(320),o=a(5),l=a(899),c=a(54),d=a(328),r=a(6),u=a(30),v=a(317),b=a(43),j=a(213),m=a(903),O=a(907),h=a(926),p=a(0),N=a(15),g=a(122),I=a(76),x=a(14),S=a(190),E=a(2);const f=(e,t,a,i,n)=>Object(o.Tc)(e||t||a||i||n,N.a.ribbonRedOutlined,null);var T=function(e){var t,a,d;const{getCardTypeName:T,cardType:C,allowClickOnProductCard:A,discount:y,specials:D,exclusive:_,timer:R,cardId:L,customizable:k,getProductImageClassName:w,tenantData:M,imageName:P,onCardClickHandler:F,categoryId:W,categoryName:H,categoryUrl:U,dname:B,availability:G=[],newitem:Y,topseller:V,customlabelfield:K,getSpecificRibbonBanner:z,userParams:J,favouriteItems:q,item:X,classFavouriteIconActive:Q,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ae,veg:ie,servingCount:ne,getVegNonvegClassName:se,menuProductPriceClassName:oe,checkForBasePriceInMenu:le,baseprice:ce,cardCat:de,displayPrice:re,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:be,updateItemQuantity:je,configureOptions:me,storeClosedData:Oe,classesCardButton:he,classEnableAddToCart:pe,enableAddToCartButton:Ne,checkLoading:ge,menuCardBtnText:Ie,clickHandler:xe,itemFoodlineId:Se,openCostomizedModal:Ee,setOpenCostomizedModal:fe,filteredPreviousData:Te,cartData:Ce,CARD_TYPE:Ae,setShowTopScrollBtn:ye,pricewithouttax:De}=e,_e=Object(n.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=S.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:ke,EDIT_CLICKED:we}=x.a,{userOrderStateDispatch:Me}=Object(i.useContext)(I.a),[Pe,Fe]=Object(i.useState)(!1),[We,He]=Object(i.useState)(Object(o.Ud)(window.innerWidth)),{ITEM_QUANTITY:Ue}=l.a,{QUANTITY_ACTION:Be}=c.a,Ge=Object(o.Tc)(null===J||void 0===J?void 0:J.loggedIn,p.Zf,""),{allowAddToCartButton:Ye=!0}=me,{web:{global:{showPriceWithTax:Ve=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:Ke,Veg_dot_Icon:ze,Product_Card_Icon:Je,TimerIcon:qe,FavoriteInActiveWhite:Xe,heartIcon_active:Qe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=N.a;Object(i.useEffect)((()=>{window.addEventListener(p.we,et)}),[We]);const et=()=>{He(Object(o.Ud)(window.innerWidth))},tt=()=>Object(E.jsxs)("div",{className:oe(C),children:[Object(o.db)(le(ce,de),re(ce,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(E.jsxs)("span",{className:ue(ce,de),children:[s.o.MENU_CARD.CURRENCY,Object(o.zc)(G[0],De,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve).toFixed(2)]})]}),at=()=>Object(E.jsxs)("div",{className:se(C),children:[Object(o.db)(We,Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(o.Tc)(!ie,Ke,ze)})),Object(o.db)(!We,Object(o.Tc)(!ie,Object(r.translateWithI18Next)(s.o.MENU_CARD.NON_VEG),Object(r.translateWithI18Next)(s.o.MENU_CARD.VEG))),Object(o.db)(ne,Object(E.jsx)("div",{className:"Dot"})),s.o.MENU_CARD.SERVES,ne]}),it=()=>{if(null!==J&&void 0!==J&&J.loggedIn)return Object(E.jsxs)("picture",{children:[Object(E.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(o.Tc)("small-menu-product-card"===Z,Object(o.Tc)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Q(C),te(C)),Object(o.Tc)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(E.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(o.Tc)(Array.isArray(q)&&q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))),Qe,Xe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(E.jsx)("img",{src:Object(o.db)(Array.isArray(q),null===q||void 0===q?void 0:q.find((e=>(null===e||void 0===e?void 0:e.id)===(null===X||void 0===X?void 0:X.id))))?Qe:Xe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},nt=()=>Object(E.jsx)(b.a,{"data-testid":"product-image",className:w(C),defaultPath:Object(o.Xb)(null,M,!0),srcFile:Object(o.Xb)(P,M),onClick:e=>Object(o.zf)(A,F,[e,L,k,W,{productName:B,productImage:P,productPrice:Object(o.zc)(G[0],De,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}]),alt:""}),st={productId:L,productInfo:{productName:B,productImage:P,productPrice:Object(o.zc)(G[0],De,null===M||void 0===M?void 0:M.currencyConversionFactor,Ve)}},ot={catId:W,catName:H,catUrl:U},lt={id:L,itemCount:ee,product:{productName:B,productImage:P,productPrice:Object(o.yc)(G[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:Se};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:T(C,A,y,D,_,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(o.Qd)()&&k&&Object(E.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),C!==Ae.SMALL&&nt(),Object(E.jsx)(j.a,{src:Object(o.Tc)(D,Je,f(K,y,_,Y,V)),className:Object(o.Tc)(D,"specials-product-ribbon",Object(o.Tc)(Object(o.fb)(_,K),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(E.jsx)("span",{className:Object(o.Tc)(D,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(E.jsxs)("div",{children:[Object(E.jsx)(j.a,{src:qe,className:"product-timer"}),Object(E.jsx)("span",{className:"product-timer-text",children:Object(r.translateWithI18Next)(s.o.MENU_CARD.TIMER)})]}):z(D,y,_,Y,V,K)}),Object(o.db)(!We,it()),Object(E.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{A&&F(e,st,k,ot)},children:[Object(E.jsx)("div",{className:ae(C,y,D,_,{timer:R,newitem:Y,topseller:V,customlabelfield:K}),children:null===B||void 0===B?void 0:B[0].value}),We?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"description-and-image",children:[Object(E.jsx)("div",{className:ve(C),id:"longDescription",children:be[0].value}),C===Ae.SMALL&&nt()]}),Object(E.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),at(),Object(E.jsx)("div",{className:"hearticonDiv",children:it()})]})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(o.Tc)(!ie,Ke,ze)}),at(),tt(),Object(E.jsx)("div",{className:ve(C),id:"longDescription",children:be[0].value})]})]}),Object(E.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(ct=ee,dt=je,rt=null===B||void 0===B?void 0:B[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(E.jsx)(m.a,{itemCount:ct,itemQuantity:Ue,updateItemQuantity:dt,quantityAction:Be,item:void 0,itemName:rt,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ye&&Oe&&Object(E.jsx)("div",{className:he(ee,Ge),children:ee<1?Object(E.jsxs)(v.a,{tabIndex:"0",className:pe(Ne,C,ge,Oe),"data-testid":"add-to-cart-".concat(L),disabled:Object(O.m)(Oe),onClickHandler:e=>{var t;null!==(t=Ie(Oe))&&void 0!==t&&t.enabled&&ee<=0&&xe(e,k,ot,lt)},"aria-label":(null===(a=Ie(Oe))||void 0===a?void 0:a.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(d=Ie(Oe))||void 0===d?void 0:d.btnText,Object(o.H)(Oe.isStoreClosed)]}):k&&Object(E.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Le,value:{id:null===X||void 0===X?void 0:X.mdmId,flag:ke,foodLineId:Se}}),Me({type:Re}),Me({type:we,value:{cartEditClicked:!1}}),_e(Object(g.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===Ce||void 0===Ce?void 0:Ce.catalog,itemId:null===X||void 0===X?void 0:X.mdmId})),_e(Object(u.v)({showProductListingModal:!0,categorySelected:W}))):(Fe(!0),fe(!0))},children:Object(r.translateWithI18Next)(s.o.EDIT_SELECTIONS)})})]})]}),Object(E.jsx)("div",{children:Ee&&(()=>{var t;return Object(E.jsx)(h.a,{handleClose:()=>{fe(!1),Fe(!1)},filteredPreviousData:Te,updateItemQuantity:je,tenantData:M,dname:B,clickHandler:xe,cardId:L,categoryId:W,categoryName:H,categoryUrl:U,itemCount:ee,availability:G,pricewithouttax:De,imageName:P,itemFoodlineId:Se,customizable:k,setOpenCostomizedModal:fe,openCostomizedModal:Ee,cartData:Ce,setShowTopScrollBtn:ye,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:Pe,headerText:Object(o.Tc)(Pe,Object(r.translateWithI18Next)(s.o.EDIT_QUANTITY),Object(r.translateWithI18Next)(s.o.SELECT_QUANTITY))})})()})]});var ct,dt,rt,ut};const{CARD_TYPE:C}=s.o,{FavoriteInActiveWhite:A,heartIcon_active:y,heartIcon_activeFavourite:D,heartIcon_inactive_red:_}=N.a,R=(e,t,a,i,n,s)=>e===C.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===C.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===C.SMALL?((e,t,a,i,n)=>e&&(t||a||i||n)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||i||n)?"small-menu-product-card product-card-active":!e&&(t||a||i||n)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,i,n,s):e===C.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===C.LARGE?"menu-product-image":e===C.MEDIUM?"medium-menu-product-image":e===C.SMALL?"small-menu-product-image":e===C.CAROUSAL?"carousal-menu-product-image":void 0,k=(e,t,a,i,n)=>{let{timer:s,newitem:o,topseller:l,customlabelfield:c}=n;return e===C.LARGE?"menu-product-header":e===C.MEDIUM?"medium-menu-product-header":e===C.SMALL?t||a||i||s||o||l||c?"small-menu-product-header-shift":"small-menu-product-header":e===C.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===C.LARGE?"menu-vegOrNonVeg":e===C.MEDIUM?"medium-menu-vegOrNonVeg":e===C.SMALL?"small-menu-vegOrNonVeg":e===C.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===C.LARGE?"menu-product-price":e===C.MEDIUM?"medium-menu-product-price":e===C.SMALL?"small-menu-product-price":e===C.CAROUSAL?"carousal-menu-product-price":"",P=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===C.LARGE?"menu-product-description":e===C.MEDIUM?"medium-menu-product-description":e===C.SMALL?"small-menu-product-description":e===C.CAROUSAL?"carousal-menu-product-description":"",W=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=l.a;let a=Object(r.translateWithI18Next)(t),i="",n=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",i="no-store-selected",n=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",i="store-closed",n=!1),{btnText:a,className:i,enabled:n}},U=(e,t,a,i)=>e?"".concat(((e,t)=>{let a,i="button activeBtn";switch(i+=t?" blackButton":" redButton",e){case C.LARGE:a="menu-cart-button";break;case C.MEDIUM:a="medium-menu-cart-button";break;case C.SMALL:a="small-menu-cart-button";break;case C.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(i," ").concat(a)})(t,a)," ").concat(H(i).className):"button btn-black medium-menu-cart-button",B=(e,t,a,i,n,l)=>{let c;return c=l?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:l}):e||(t||(a?Object(E.jsx)("span",{"data-testid":"exclusive-id",children:Object(r.translateWithI18Next)(s.o.MENU_CARD.EXCLUSIVE_DEAL)}):i?Object(E.jsx)("span",{"data-testid":"new-id",children:Object(r.translateWithI18Next)(s.o.MENU_CARD.NEW)}):Object(o.Tc)(n,Object(E.jsx)("span",{"data-testid":"topseller-id",children:Object(r.translateWithI18Next)(s.o.MENU_CARD.TOP_SELLER)}),null))),c},G=e=>e===C.CAROUSAL?y:D,Y=e=>e===C.CAROUSAL?A:_,V=(e,t)=>Boolean(e)&&"recommended"!==t,K=(e,t)=>{let a;return a=Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{className:"price-display",children:"old price"}),Object(E.jsxs)("span",{className:"base-price-menu",children:[s.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.b=e=>{var t,a;const{cardId:s,cardType:l,discount:r,specials:v,exclusive:b,timer:j,availability:m=[],tenantData:h,customizable:p,categoryId:N,activeId:g,addFavourite:I,removeFavourite:x,item:S,isHidden:f,cardFor:A,setShowTopScrollBtn:y,userParams:D}=e,{QUANTITY_ACTION:_}=c.a,z=Object(n.b)(),J=null===h||void 0===h?void 0:h.tenantId,{componentOptions:q={}}=h,{PlpProductCard:X={}}=q,{allowClickOnProductCard:Q=!1}=X,Z=Object(n.c)((e=>e.cartReducer)),$=Object(n.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(o.kd)(Z),[ae,ie]=Object(i.useState)(0),[ne,se]=Object(i.useState)(null),[oe,le]=Object(i.useState)(0),ce=null===$||void 0===$?void 0:$.id,de=Object(n.c)((e=>{var t;return Object(o.od)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[re,ue]=Object(i.useState)(!0),[ve,be]=Object(i.useState)("product"),{flatResponse:{productMapById:je={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[me,Oe]=Object(i.useState)(""),[he,pe]=Object(i.useState)(0),[Ne,ge]=Object(i.useState)([]),[Ie,xe]=Object(i.useState)(!1),[Se,Ee]=Object(i.useState)(""),{couponCode:fe="",amount:Te=0}=(null===ee||void 0===ee||null===(a=ee.discountLines)||void 0===a?void 0:a[0])||{},{foodLines:Ce,total:Ae}=ee,ye=Number((Ae/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2)),De=[{couponCode:fe,amount:Number((Te/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2))}];Object(i.useEffect)((()=>{A&&be(A)}),[A]),Object(i.useEffect)((()=>{const e=Object(o.Kd)(ee)?Object(o.hc)(s,ee):{},t=Object(o.Tc)(Object(o.Kd)(e),e.count,0),a=Object(o.Tc)(Object(o.Kd)(e),e.matchedItemFoodLineId,""),i=Object(o.Tc)(Object(o.Kd)(e),e.entriesCount,0),n=Object(o.Tc)(Object(o.Kd)(e),e.itemUnitPrice,"");ie(t),se(a),le(i),pe(n)}),[ee,s]);const _e=Object(i.useCallback)((()=>{Oe(R(l,Q,r,v,b,j))}));Object(i.useEffect)((()=>{_e()}),[_e]);Object(i.useEffect)((()=>{ue(!0)}),[ae]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));ge(t)}Ee(e),xe(!0)},Le=Object(o.db)(te,g===s);return!f&&Object(E.jsx)(T,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:Q,getProductImageClassName:L,getSpecificRibbonBanner:B,favouriteItems:de,classFavouriteIconActive:G,getCardName:me,favouriteButtonClickHandler:()=>{Object(o.db)(Array.isArray(de),null===de||void 0===de?void 0:de.find((e=>(null===e||void 0===e?void 0:e.id)===(null===S||void 0===S?void 0:S.id))))?x(J,ce,S.id):((e,t,a,i)=>{var n;const s=Object(o.ld)(null===(n=a[0])||void 0===n?void 0:n.price),l={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:s/(null===h||void 0===h?void 0:h.currencyConversionFactor),additionalProperties:t.additionalProperties};I(e,l,i),z(Object(u.v)({showProductListingModal:!1,categorySelected:N}))})(J,S,m,ce)},itemCount:ae,classFavouriteIconInActive:Y,getMenuProductHeader:k,getVegNonvegClassName:w,menuProductPriceClassName:M,checkForBasePriceInMenu:V,cardCat:ve,displayPrice:K,getPriceClassName:P,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(D.localized){const e=Number((he/(null===h||void 0===h?void 0:h.currencyConversionFactor)).toFixed(2));let a={foodName:null===S||void 0===S?void 0:S.name,foodItemId:null===S||void 0===S?void 0:S.mdmId,cartPrice:e,modifiers:Object(O.i)(S),customizable:null===S||void 0===S?void 0:S.customizable,quantity:ae,foodLineId:ne};const{itemQuantityHandler:i}=Object(d.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:De,foodLines:Ce,totalAmount:ye},null===h||void 0===h?void 0:h.tenantId,void 0,je,void 0,z,void 0);t===_.Increase?p&&ae>=1?Re(null===a||void 0===a?void 0:a.foodItemId):(!p&&ue(!1),i(a,_.Increase)):oe>1?Re(null===a||void 0===a?void 0:a.foodItemId):(ue(!1),i(a,_.Decrease))}},classesCardButton:W,classEnableAddToCart:U,enableAddToCartButton:re,checkLoading:Le,menuCardBtnText:H,itemFoodlineId:ne,openCostomizedModal:Ie,filteredPreviousData:Ne,setOpenCostomizedModal:xe,cartData:ee,CARD_TYPE:C,setShowTopScrollBtn:y,FoodId:Se})}},941:function(e,t,a){var i=a(270),n=a(178),s=a(272);e.exports=function(e){return function(t,a,o){var l=Object(t);if(!n(t)){var c=i(a,3);t=s(t),a=function(e){return c(l[e],e,l)}}var d=e(t,a,o);return d>-1?l[c?t[d]:d]:void 0}}},945:function(e,t,a){"use strict";var i=a(813);a.d(t,"a",(function(){return i.default}))},946:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},951:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return o}));const i=20,n=5e3,s=15e3,o=18e4},956:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return v}));var i=a(128);let n,s,o,l,c=[],d="";const r=(e,t,a,i)=>{if(n=e,s=t,c=a,l=i,c.length>0){let a=c.map((e=>{const{latitude:t,longitude:a}=e&&e.storeBasic.location;return{lat:t,lng:a}})),i=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...i].slice(0,24),destinations:[...a].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else l([],"")},u=(e,t)=>{let a=[],i=[];i=e&&e.rows&&e.rows[0].elements.map((e=>e));let n=e&&e.originAddresses&&e.originAddresses[0]||"";a=c.map(((e,t)=>({...e,...i[t]}))),l(a,n)},v=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},b),o=a},b=(e,t)=>{if(t===i.a.OK_STATUS){let t=[],a=e&&e.rows&&e.rows.map((e=>e));t=null===a||void 0===a?void 0:a.map((e=>e.elements[0])),d=e&&e.originAddresses||[],o({allStoreDistance:t,originAddressText:d})}}},963:function(e,t,a){"use strict";var i=a(3),n=a.n(i),s=a(25),o=a(944),l=a(814),c=a(49),d=a(14),r=a(76),u=a(945),v=a(2);var b=e=>{const{DISPOSITION_DATA:t=""}=d.a,{userOrderState:a,userOrderStateDispatch:s}=Object(i.useContext)(r.a)||{};return Object(i.useEffect)((()=>{s({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(n.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(v.jsx)(o.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(v.jsx)(l.default,{onStoreSelectFinish:c.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:c.y})]})})},j=a(5),m=a(946);t.a=()=>{var e,t,a,i;const{DISPOSITION:n}=m.a;let o=null,l=null,c=Object(s.c)((e=>e.appStateReducer.userStatus));const d=Object(s.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(d.marketPageContent&&d.tenantReducerContent&&d.homePageContent){const{tenant:e=[]}=d.marketPageContent.headerData||{};o=Object(j.bc)(d.homePageContent)||null,l=Object(j.Rc)(e)}return Object(v.jsx)(b,{contentData:{segmentedHomePageData:null!==(e=null===(t=o)||void 0===t?void 0:t[n])&&void 0!==e?e:{},dispositionData:l,contentDispositionData:null!==(a=null===(i=o)||void 0===i?void 0:i[n])&&void 0!==a?a:{}},userParams:c,tenantReducerData:d.tenantReducerContent})}},964:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s}));var i=a(1);function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.ik,payload:{data:e,tenantId:t},successCallback:a,errorCallback:n}}function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i.dk,menuPayload:e,exclusionPayload:t,successCallback:a}}},972:function(e,t,a){"use strict";a.d(t,"p",(function(){return u})),a.d(t,"o",(function(){return v})),a.d(t,"l",(function(){return b})),a.d(t,"f",(function(){return j})),a.d(t,"m",(function(){return m})),a.d(t,"n",(function(){return O})),a.d(t,"h",(function(){return h})),a.d(t,"j",(function(){return p})),a.d(t,"i",(function(){return N})),a.d(t,"g",(function(){return g})),a.d(t,"k",(function(){return I})),a.d(t,"r",(function(){return S})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return T})),a.d(t,"d",(function(){return C})),a.d(t,"c",(function(){return A})),a.d(t,"s",(function(){return y})),a.d(t,"v",(function(){return D})),a.d(t,"q",(function(){return _})),a.d(t,"u",(function(){return R})),a.d(t,"w",(function(){return L})),a.d(t,"e",(function(){return k})),a.d(t,"t",(function(){return w}));var i=a(138),n=a(102),s=a(30),o=a(5),l=a(0),c=a(951),d=a(22),r=a(42);const u=e=>x(e)===l.Od.STAGED_ACCEPTED,v=e=>x(e)===l.Od.PICKUP_DELIVERY_DINE_IN,b=e=>Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY&&v(e),j=e=>Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY&&(b(e)||h(e)||p(e)||N(e)),m=e=>j(e)&&(null===e||void 0===e?void 0:e.deliveryPartner),O=e=>j(e)&&!N(e)&&!g(e),h=e=>x(e)===l.Od.DELIVERY_DISTA_CREATE_ASSIGN,p=e=>x(e)===l.Od.DELIVERY_DISTA,N=e=>x(e)===l.Od.DELIVERY_DISTA_DELIVERED,g=e=>x(e)===l.Od.CANCELLED,I=e=>p(e)||g(e)||N(e),x=e=>{switch(Object(o.ef)(null===e||void 0===e?void 0:e.status)){case l.Qd.STAGED:case l.Qd.ACCEPTED:return d.b.shouldGoogleSpotIgnoreOloFailure?l.Od.PICKUP_DELIVERY_DINE_IN:l.Od.STAGED_ACCEPTED;case l.Qd.SENT_TO_POS_COMPLETED:if(Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.PICKUP||Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DINE_IN||Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY||Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.CHRISTMAS_ORDERING)return l.Od.PICKUP_DELIVERY_DINE_IN;break;case l.Qd.CREATED:case l.Qd.ASSIGNED:return l.Od.DELIVERY_DISTA_CREATE_ASSIGN;case l.Qd.PICKED_UP:case l.Qd.OUT_FOR_DELIVERY:case l.Qd.ARRIVED:return l.Od.DELIVERY_DISTA;case l.Qd.DELIVERED:return l.Od.DELIVERY_DISTA_DELIVERED;case l.Qd.CANCELLED:case l.Qd.CANCEL:return Object(o.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY?l.Od.CANCELLED:l.Od.FAILED;case l.Qd.SENT_TO_POS_FAILED:case l.Qd.PAYMENT_FAILED:return l.Od.FAILED}},S=(e,t,a)=>{if(null!==e&&void 0!==e&&e.orderAcceptedLoading)return Promise.resolve(!1);switch(x(e)){case l.Od.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case l.Od.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case l.Od.DELIVERY_DISTA_CREATE_ASSIGN:case l.Od.DELIVERY_DISTA:case l.Od.DELIVERY_DISTA_DELIVERED:case l.Od.CANCELLED:return t(!1),Promise.resolve(!1);case l.Od.FAILED:return localStorage.setItem(l.Td.STATUS_TEXT,l.Td.FAILED),Object(o.Se)(a),Promise.resolve(!1)}},E=e=>{let{dispatch:t,orderDetails:a,orderAccepted:i,cartData:n,userOrderState:c,appStateReducer:r,isBasketLoading:u,status:v,qrCodeScanTime:b}=e;if(v){const e=r.userStatus,v=d.b.shouldGoogleSpotIgnoreOloFailure||Object(o.ef)(null===i||void 0===i?void 0:i.status)===l.Qd.SENT_TO_POS_COMPLETED;Object(o.l)(v,!u,null===n||void 0===n?void 0:n.id,e.localized,null===a||void 0===a?void 0:a.tenantId)&&Object(o.G)(t,s.f,null===a||void 0===a?void 0:a.tenantId,c,b)}},f=(e,t,a)=>{t&&(a=setTimeout((()=>{t(e),a&&clearTimeout(a)}),c.c))},T=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},o=a+1;e(Object(n.d)(s,(()=>f(o,i,null))))},C=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const s={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:null===t||void 0===t?void 0:t.customerId},o=a+1;e(Object(i.f)(s,(()=>f(o,n,null))))},A=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!==t&&void 0!==t&&t.isExternalTrackOrder?T(e,t,a,i):C(e,t,a,i)},y=(e,t,a,i,n,s)=>{null!==t&&void 0!==t&&t.orderId?0===a||u(i)&&a<c.a?A(e,t,a,n):u(i)&&a>=c.a&&(localStorage.setItem("paymentStatus",l.Td.FAILED),Object(o.Se)(s)):Object(o.Me)(s)},D=(e,t,a,i,n)=>{i&&b(e)?Object(o.Se)(n):null!==e&&void 0!==e&&e.status&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?a({...t,status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}):a({...t,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1})},_=(e,t,a)=>{if(b(e)&&!t){const e=setTimeout((()=>{e&&clearTimeout(e)}),c.d)}},R=(e,t,a,i)=>{var n,s;return{...L(e,t,!1,a),orderAcceptedLoading:(null===t||void 0===t?void 0:t.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:null===i||void 0===i||null===(n=i.store)||void 0===n||null===(s=n.summary)||void 0===s?void 0:s.timings}},L=function(e,t){var a,i,n,s,o,l,c,d;let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const b={orderId:(null===t||void 0===t?void 0:t.id)||(null===u||void 0===u?void 0:u.id),customerId:(null===t||void 0===t||null===(a=t.customer)||void 0===a?void 0:a.id)||(null===u||void 0===u||null===(i=u.customer)||void 0===i?void 0:i.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===u||void 0===u?void 0:u.service),status:(null===t||void 0===t?void 0:t.status)||(null===u||void 0===u?void 0:u.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===u||void 0===u?void 0:u.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===u||void 0===u?void 0:u.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===u||void 0===u?void 0:u.posOrderId),userEmail:(null===t||void 0===t||null===(n=t.customer)||void 0===n?void 0:n.email)||(null===u||void 0===u||null===(s=u.customer)||void 0===s?void 0:s.email),userPhone:(null===t||void 0===t||null===(o=t.customer)||void 0===o?void 0:o.phoneNumber)||(null===t||void 0===t||null===(l=t.customer)||void 0===l?void 0:l.phone)||(null===u||void 0===u||null===(c=u.customer)||void 0===c?void 0:c.phoneNumber),postOrderDetails:t,isExternalTrackOrder:r};var j,m,O;null!==v&&void 0!==v&&null!==(d=v.storesWithStatus)&&void 0!==d&&d.length&&(b.operatingTime=null===v||void 0===v||null===(j=v.storesWithStatus)||void 0===j||null===(m=j[0])||void 0===m||null===(O=m.summary)||void 0===O?void 0:O.timings);return b},k=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=(e=>{var t;return null!==e&&void 0!==e&&e.orderAccepted&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&null!==e&&void 0!==e&&null!==(t=e.orderAccepted)&&void 0!==t&&t.id?null===e||void 0===e?void 0:e.orderAccepted:null})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return null===i&&(i=(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.pastOrderResponse)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&e.pastOrderResponse[0].id?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null})(e),a&&null===i&&(i=t&&Object.keys(null===t||void 0===t?void 0:t.postOrderDetails).length?null===t||void 0===t?void 0:t.postOrderDetails:{})),i||{}},w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(localStorage.getItem(l.gd.PAYMENT_STATUS)!==l.Td.FAILED){var a,s,o,c;if(t&&(null===(a=window)||void 0===a||null===(s=a.location)||void 0===s?void 0:s.pathname)===(null===l.Ae||void 0===l.Ae?void 0:l.Ae.PAYMENT_SUCCESS)||(null===(o=window)||void 0===o||null===(c=o.location)||void 0===c?void 0:c.pathname)===(null===l.Ae||void 0===l.Ae?void 0:l.Ae.CHECKOUT))return!1;(e=>{e(Object(i.h)())})(e),(e=>{e(Object(n.e)())})(e)}(e=>{e(Object(r.z)())})(e),(e=>{e(Object(n.a)({value:[]}))})(e),sessionStorage.removeItem(l.gd.ORDER_TRACKING)}},976:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const i={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},n={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},s="subpremise"},990:function(e,t,a){"use strict";a.d(t,"h",(function(){return c})),a.d(t,"g",(function(){return d})),a.d(t,"f",(function(){return r})),a.d(t,"i",(function(){return u})),a.d(t,"d",(function(){return b})),a.d(t,"c",(function(){return j})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return O})),a.d(t,"e",(function(){return h}));var i=a(5),n=a(976),s=a(0),o=a(130),l=a(11);const c=e=>s.wd.test(String(e).toLowerCase()),d=e=>s.uc.test(String(e).toLowerCase()),r=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),a=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+a}},b=(e,t)=>{const{wantToKnowText:a,selectedLetUsKnow:n,firstNameText:s,lastNameText:o,phoneNoText:l,emailText:v}=e;return!(0===(null===a||void 0===a?void 0:a.length)||(null===a||void 0===a?void 0:a.length)>200)&&(!!c(s)&&(!!c(o)&&(!!d("".concat(s).concat(o))&&(!!u(l)&&(!!r(v)&&(!!Object(i.Kd)(n)&&!!t))))))},j=e=>{const{firstNameText:t,lastNameText:a,phoneNoText:i,emailText:n}=e;return!!d(t)&&(!!d(a)&&(!!u(i)&&!!r(n)))},m=(e,t,a)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:a}],attachments:[]}}),O=(e,t)=>{var a;var i;return{tenantId:t,payload:{data:[{key:n.b.FIRSTNAME,value:e.fullname},{key:n.b.CALLNATURE,value:e.helpDDOptions},{key:n.b.CATEGORY,value:e.enquiryDDOptions},{key:n.b.SUBCODE,value:e.specificDDOptions},{key:n.b.DESCRIPTION,value:e.detailsArea},{key:n.b.LASTNAME,value:e.publicationdetails},{key:n.b.PHONE,value:e.phonenumber},{key:n.b.EMAIL,value:e.emailaddress},{key:n.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:n.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:n.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:n.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:n.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:n.b.VISITTIME,value:null!==(i=e.visitedTime,a=!!i&&Object(l.d)(i.getHours(),i.getMinutes(),s.sb.hh_mm_A))&&void 0!==a?a:""},{key:n.b.LANGUAGE,value:"en-US"}],attachments:[]}}},h=(e,t,a,i,l,c,d,r,u,v)=>{let b=JSON.parse(localStorage.getItem(s.nf));""===(null===b||void 0===b?void 0:b.addressLine0)&&b&&(b.addressLine0=n.c);const{addressLines:j=[],country:m="",city:O="",pinCode:h="",state:p="",placeId:N=""}=Object(o.b)(t.address_components,b);var g;e===s.rc?(g=h,s.Id.test(String(g).toLowerCase())?(d(!1),r(!1),a(h)):d(!0),c({...u,sugPinCode:h})):(a(null===j||void 0===j?void 0:j[1]),c()),i((e=>({...e,country:m,addressLines:j,city:O,state:p,pinCode:h,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{l()}),800)}},992:function(e,t,a){"use strict";var i=a(3),n=a(73),s=a.n(n),o=a(76),l=a(61),c=a(25),d=a(328),r=a(6),u=a(84),v=a(92),b=a(905),j=a(2);t.a=()=>{const{ALERT_TEXT:e,ALERT_CONFIRM_TEXT:t,ALERT_CANCEL_TEXT:a}=b.a,{userOrderStateDispatch:n}=Object(i.useContext)(o.a),m=Object(l.g)(),O=Object(c.b)(),{showCartAlert:h}=Object(d.a)(void 0,void 0,void 0,void 0,n,O,void 0),p=Object(j.jsx)(v.a,{handleClose:()=>h(!1),classNames:"",CartAlertForm:Object(j.jsx)(u.a,{title:Object(r.translateWithI18Next)(e),confirmButtonText:Object(r.translateWithI18Next)(t),cancelButtonText:Object(r.translateWithI18Next)(a),cancelHandler:()=>h(!1),confirmHandler:()=>(h(!1),m.push({pathname:"/cart"}),void window.scrollTo(0,0))})});return s.a.createPortal(p,document.getElementById("modal-popups"))}}}]);