(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[81],{1033:function(e,t,l){"use strict";l.d(t,"b",(function(){return i})),l.d(t,"a",(function(){return n}));const i="outOfService",n="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1046:function(e,t,l){"use strict";l.d(t,"c",(function(){return c})),l.d(t,"a",(function(){return u})),l.d(t,"b",(function(){return v}));var i=l(11),n=l(1033),o=l(6),a=l(5),s=l(101),d=l(19),r=l(0);const c=e=>{var t,l,i,n,o,a,s,d;const{url:r=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(l=t.fields)||void 0===l||null===(i=l.desktopImage)||void 0===i||null===(n=i.fields)||void 0===n?void 0:n.file)||{},{title:c=""}=e.headline&&(null===e||void 0===e||null===(o=e.headline[0])||void 0===o||null===(a=o.fields)||void 0===a||null===(s=a.desktopImage)||void 0===s?void 0:s.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(d=e.headline[1])||void 0===d?void 0:d.fields)||{},{supportedDispositions:O=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:O.map((e=>e.fields)),src:r,alt:c}},u=(e,t,l)=>{var d,r,c,u,v;const O=(null===t||void 0===t||null===(d=t.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)||n.a,{futureDates:T,scheduled:E,asap:m}=Object(a.kd)(null===t||void 0===t||null===(c=t.summary)||void 0===c?void 0:c.timings),{unavailibilities:b}=Object(a.kd)(E),{interval:S=0,startEndTime:N={}}=Object(a.kd)((null===E||void 0===E||null===(u=E.periods)||void 0===u?void 0:u.length)&&(null===E||void 0===E?void 0:E.periods[0])),{from:I,to:j}=Object(a.kd)(N);let _=Object(s.j)(I,j,S,null===m||void 0===m?void 0:m.isAvailable,1===(null===T||void 0===T?void 0:T.length)&&"INDIA"===(null===l||void 0===l||null===(v=l.country)||void 0===v?void 0:v.toUpperCase()),b);if(O===n.a&&!_.length||null===e||void 0===e||!e.time)return Object(o.translateWithI18Next)(n.b);const h=e.time,p=e.interval,R="object"==typeof e.date?e.date:new Date(e.date),D=Object(i.Q)(Object(i.h)(R,"YYYY-MM-DD")+" "+h,"YYYY-MM-DD hh:mm A"),g=Object(i.a)(D,p,"minutes"),A=Object(i.k)(g,"LT");return"ASAP"===h?"".concat(h):"".concat(h," - ").concat(A)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await d.a.registerEvent(void 0,{data:t[0]},a.xb)},{ORDER_TYPE_STORE_INFO_FROM:O,ORDER_TYPE_STORE_INFO_TO:T,ORDER_TYPE_STORE_INFO_AT:E}=n.c,{DELIVERY:m,DINE_IN:b,PICKUP:S}=r.Jb||{}},862:function(e,t,l){"use strict";l.r(t);var i=l(3),n=l.n(i),o=l(61),a=l(25),s=l(36),d=l(43),r=l(76),c=l(5),u=l(1033),v=l(1046),O=l(935),T=l(15),E=l(6),m=l(4),b=l(2);t.default=e=>{var t;const{contentData:l={},clickHandler:S=null,dispositionChange:N,activeDisposition:I,selectedInfo:j={},showBlackStripeContent:_=!0,headerTrackOrder:h}=e,{GoogleMapLocationImage:p,Clock:R}=T.a,{headline:D="",subHeadline:g=null,supportedDispositionsData:A=[],src:f="",alt:y,ariaLabel:x=""}=l;let C=Object(a.c)((e=>e.tenantReducer));const L=Object(o.h)(),{userOrderState:M}=Object(i.useContext)(r.a),{ORDER_TYPE_STORE_INFO_FROM:P,ORDER_TYPE_STORE_INFO_TO:H,ORDER_TYPE_STORE_INFO_AT:F,HOMEPATHSELECT:Y,HOMEPATH:W}=u.c,k=Object(c.Jd)(j.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):j.dispositionNew,w=k?k.type:"",B=k?k.store:{},G=k?k.date:"",U=k?k.time:"",J=k?k.interval:0,K=Object(c.kd)(null===k||void 0===k?void 0:k.store),V={date:G,time:U,interval:J},[z,Q]=Object(i.useState)(!1),X="Delivery"===w?H:"Pickup"===w&&P||F;return Object(i.useEffect)((()=>{(null===L||void 0===L?void 0:L.pathname)===W||(null===L||void 0===L?void 0:L.pathname)===Y?Q(!0):Q(!1)}),[L,W,Y]),Object(b.jsxs)(n.a.Fragment,{children:[Object(c.Kd)(B)&&_&&Object(b.jsx)("div",{className:"headerBottom content-ribbon","data-testid":"select-start-order-items",children:Object(b.jsxs)("div",{className:"headBottomParent content-parent",children:[Object(b.jsxs)("div",{className:"headBottomTxt content-text",children:[Object(b.jsxs)("div",{className:"store-location",children:[Object(b.jsx)("div",{children:Object(b.jsx)(d.a,{srcFile:p,alt:y||"location-icon",className:"content-location-img"})}),Object(b.jsx)("div",{className:"content-stroe-wrap",children:Object(b.jsxs)("span",{className:"content-store address",children:[Object(c.Gb)(w)," ",X,":"," ","delivery"===w.toLowerCase()?null===k||void 0===k?void 0:k.deliveryAddress:null===B||void 0===B||null===(t=B.summary)||void 0===t?void 0:t.name]})})]}),Object(b.jsxs)("div",{className:"content-time",children:[Object(b.jsx)("span",{children:Object(b.jsx)(d.a,{srcFile:R,alt:y||"location-icon",className:"content-clock-img"})}),Object(b.jsxs)("span",{className:"content-store",children:[" ",V&&Object(v.a)(V,K,C)]})]})]}),Object(b.jsx)(s.a,{className:"button transparent-btn white-border change-store-btn","aria-label":x||Object(E.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.CHANGE),onClickHandler:e=>{localStorage.setItem("modalSource","fromChangeStoreButton"),S(e,B)},id:"changeOrderItemButton","data-testid":"changeOrderItemButton",type:"submit",children:Object(b.jsx)("span",{children:Object(E.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.CHANGE)})})]})}),h&&h(),M.showLocationBlockBanner&&Object(O.e)(),z?Object(b.jsxs)("div",{className:"select-content-disposition",children:[Object(b.jsx)("div",{className:"stripes",children:Object(b.jsx)(d.a,{srcFile:f,alt:y||""})}),Object(b.jsx)("div",{className:"disposition-headline",children:D}),Object(b.jsx)("div",{role:"alert",className:"disposition-info-text",children:Object(b.jsx)("span",{children:g})}),Object(b.jsx)("div",{className:"disposition-btns mb-2",children:A.map((e=>{var t;return Object(b.jsx)(s.a,{className:I===(null===e||void 0===e||null===(t=e.dispositionType)||void 0===t?void 0:t.toUpperCase())?"button grayButton active-disposition":"button grayButton","data-testid":"disposition-change-btn",onClickHandler:t=>{var l;N(t,null===e||void 0===e||null===(l=e.dispositionType)||void 0===l?void 0:l.toUpperCase())},"aria-label":e.buttonText,children:e.buttonText},e.buttonText)}))})]}):null]})}},935:function(e,t,l){"use strict";l.d(t,"b",(function(){return w})),l.d(t,"f",(function(){return B})),l.d(t,"i",(function(){return G})),l.d(t,"c",(function(){return U})),l.d(t,"j",(function(){return J})),l.d(t,"h",(function(){return z})),l.d(t,"d",(function(){return X})),l.d(t,"e",(function(){return Z})),l.d(t,"g",(function(){return $})),l.d(t,"a",(function(){return q}));var i=l(14),n=l(92),o=l(84),a=l(217),s=l(6),d=l(43),r=l(22),c=l(0),u=l(5),v=l(15),O=l(2);const{Location_Error:T,errorIcon:E}=v.a,{TAKEAWAY_TITLE:m,TAKEAWAY_CONTENT:b,TAKEAWAY_TOAST_MSG:S,DINEIN_TITLE:N,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:j,NOSTORE_TITLE:_,NOSTORE_CONTENT:h,NOSTORE_TOAST_MSG:p,CLOSED_STORE_TITLE:R,CLOSED_STORE_CONTENT:D,LOCATION_ALERT_MSG:g,CLOSED_STORE_TOAST_MSG:A}=a.b,{DINE_IN:f,DISTANCE_20000MR:y,START_ORDER_BUTTON:x,BROWSE_MENU_BUTTON:C}=a.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:M="",SCHEDULE_ORDER_TIME_DATA:P="",SET_DISPOSITION:H,USER_LOCALIZED:F,CURRENT_STORE_INFO:Y,SCHEDULE_ORDER_TIME_PRESERVE_TIME:W,SET_FORCERELOAD:k}=i.a,w=(e,t,l,i,n,o)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?o(e):n(e,t):null!==e&&void 0!==e&&e.length||i(t,l)},B=(e,t,l,i,n,o,a,s,d,r,u,v)=>{const O=e.filter((e=>{var t,l,i,n,o,a,s,d,r,c,u,v,O,T;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)&&(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(n=i.status)||void 0===n?void 0:n.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(a=o.status)||void 0===a?void 0:a.currentStatus)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(d=s.menu)||void 0===d||null===(r=d.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(u=c.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(T=O.timings)||void 0===T?void 0:T.asap)}));if((null===O||void 0===O?void 0:O.length)>0)if(s){var T=JSON.parse(localStorage.getItem(c.Hb));T&&(O[0].id!==T.store.id||O[0].service!==T.type?(d(!0),l(!1),u(O[0])):l(!1))}else t(O[0]);else v(!0),r(o,n)},G=(e,t,l,i,n,o)=>{var a,s;t({type:H,value:{oldvalue:e,newValue:{type:i,store:n,date:o.date,time:o.time,interval:o.interval,selectedTime:o.selectedTime,deliveryAddress:null===l||void 0===l||null===(a=l.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress}}}),localStorage.setItem(c.Ib,JSON.stringify(e)),localStorage.setItem(c.Hb,JSON.stringify({type:i,store:n,date:o.date,time:o.time,selectedTime:o.selectedTime,interval:o.interval,deliveryAddress:null===l||void 0===l||null===(s=l.scheduleOrderData)||void 0===s?void 0:s.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:F,value:{isLocalized:!0}})},U=(e,t,l,n)=>{const{SCHEDULE_ORDER_DATA:o,DISPOSITION_METHOD:a}=i.a,{DISPOSITION_TYPE:s,DISPOSITION_NEW:d,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:O,SAVED_TIME_ORDER:T}=c.gd;let E={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:H,value:{oldvalue:E,newValue:E}}),localStorage.removeItem(v),localStorage.removeItem(d),e({type:P,value:{selectedDateTime:{}}}),e({type:W,value:{}}),localStorage.removeItem(O),localStorage.removeItem(T),l(t({...n,localized:!1})),e({type:F,value:{isLocalized:!1}}),e({type:o,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:a,value:{dispositionType:""}}),localStorage.removeItem(s),localStorage.removeItem(u),localStorage.removeItem(r),e({type:Y,value:{}})},J=(e,t,l,i,n)=>{e({type:M,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(i)),e({type:Y,value:i}),e({type:P,value:{selectedDateTime:l}}),e({type:W,value:{selectContentTime:"ASAP"}}),e({type:k,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(n)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(i)),localStorage.setItem("dateTimeOrder",JSON.stringify(l)),localStorage.setItem("savedTimeOrder","ASAP")},K=(e,t,l,i)=>{let n="";return e?n=i===f?Object(s.translateWithI18Next)(N):Object(s.translateWithI18Next)(m):l?n=Object(s.translateWithI18Next)(_):t&&(n=Object(s.translateWithI18Next)(R)),n},V=(e,t,l,i)=>{let n="";return e?n=i===f?Object(s.translateWithI18Next)(I):Object(s.translateWithI18Next)(b):l?n=Object(s.translateWithI18Next)(h):t&&(n=Object(s.translateWithI18Next)(D)),n},z=(e,t,l,i,n,o,a,d)=>{let r="";return e?(o(!1),r=i===f?Object(s.translateWithI18Next)(j):Object(s.translateWithI18Next)(S)):l?(a(!1),r=Object(s.translateWithI18Next)(p)):t&&(d(!1),r="".concat(Object(s.translateWithI18Next)(A)," ").concat(Q(null===n||void 0===n?void 0:n.from)," to ").concat(Q(null===n||void 0===n?void 0:n.to))),r},Q=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function X(e,t,l,i,a,s,d,r,c,u,v){const E={HEADER_MSG:{MSGTXT1:K(l,i,a,s)},CONTENT_MSG:V(l,i,a,s)};return(l||i||a)&&Object(O.jsx)(n.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(O.jsx)(o.a,{splitTitle:E.HEADER_MSG,contentMsg:E.CONTENT_MSG,imageSrc:T,altText:"location-error",confirmButtonText:C,cancelButtonText:l?x:null,cancelHandler:l?t:null,confirmHandler:()=>{e(i,a)}})})}const Z=()=>Object(O.jsx)("div",{className:"location-notification col-6",children:Object(O.jsxs)("div",{className:"notify-alert",children:[Object(O.jsx)(d.a,{srcFile:E,className:"location-alert-icon"}),Object(O.jsx)("span",{children:Object(s.translateWithI18Next)(g)})]})}),$=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),q=e=>e.filter((e=>{var t,l;return Object(u.he)(e.id)&&Object(u.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.he)(null===e||void 0===e||null===(l=e.location)||void 0===l?void 0:l.longitude)}))}}]);