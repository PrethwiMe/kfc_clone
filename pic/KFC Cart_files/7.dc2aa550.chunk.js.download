(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[7,140],{1018:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var l=o(1);function i(e){return{type:l.fe,payload:e}}},1023:function(e,t,o){"use strict";o.d(t,"d",(function(){return D})),o.d(t,"e",(function(){return R})),o.d(t,"c",(function(){return _})),o.d(t,"g",(function(){return w})),o.d(t,"b",(function(){return k})),o.d(t,"a",(function(){return L})),o.d(t,"f",(function(){return M}));var l=o(6),i=(o(268),o(175)),d=(o(326),o(36),o(171)),r=o(4),n=o(121),a=o(825),s=o(1081),c=(o(43),o(15),o(1004)),u=o(0),v=o(154),O=o(1058),m=o(5),b=o(12),p=o(13),j=o(215),h=o(1059),g=o(331),S=o(11),C=o(2);const D=e=>{var t,o,l,i;const{orderDetails:r,updateSetOrderDetails:a}=e,{deliveryAddress:s={},store:c,isOpenOrderSummaryDirectionMap:u=!0,isMobileView:v=!1}=r,O={role:"dialog",modalTitleId:"direction-map-modal",show:!0,classNames:"map-modal",showCloseBtn:u,closeButtonHandler:()=>{a({isOpenOrderSummaryDirectionMap:!1})},modalTitle:"",showBackBtn:v,closeDataTestId:"close-direction-map-modal",id:"directionMapModal",autoFocus:!0},m=[null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.latitude,null===c||void 0===c||null===(o=c.location)||void 0===o?void 0:o.longitude],b=[null===s||void 0===s||null===(l=s.location)||void 0===l?void 0:l.latitude,null===s||void 0===s||null===(i=s.location)||void 0===i?void 0:i.longitude];return u&&Object(C.jsx)(n.a,{...O,children:(p={storeLatLng:m,customerLatLng:b},Object(C.jsx)(d.a,{...p,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0}))});var p},f=(e,t)=>{const o=Object(l.translateWithI18Next)(e),d=Object(l.translateWithI18Next)(t),n=(e=>{const{FAVORITE_ORDERS:t}=r.a;return"<a href='".concat(u.Ae.ACCOUNT,"#").concat(t,"' className='favorites-hyperlink-style'><u>").concat(e,"</u></a>")})(d),a=null===o||void 0===o?void 0:o.replace(d,n);return Object(i.a)(String(a))},T=e=>{var t;const{orderDetails:o,updateSetOrderDetails:l}=e,{orderId:i,isOpenOrderSummarySaveYourOrderCheckoutFaster:d}=o,{ORDER_ADDED_TO_FAVOURITE:n,FAVOURITES:a}=r.a,s=f(n,a);return d&&Object(C.jsx)(c.a,{showOccassionModal:d,updateSetOrderDetails:l,setOccassionModalOpen:()=>{l({isOpenOrderSummarySaveYourOrderCheckoutFaster:!1})},occasionName:"",setOccasionName:e=>console.log(e),cardInfo:{id:i},toastmessage:s,isAddFavOrderBox:!0,userParams:null===o||void 0===o?void 0:o.userStatus,currencyShortName:null===o||void 0===o?void 0:o.currencyShortName,currencyConversionFactor:null===o||void 0===o?void 0:o.currencyConversionFactor,productMapById:null===o||void 0===o||null===(t=o.flatResponse)||void 0===t?void 0:t.productMapById,orderDetail:o})},y=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:l,deliveryAddress:i,scheduleOrderDateFormat:d}=t,r=(e=>{var t,o;let l={},i=["",""];return i[1]=null===e||void 0===e?void 0:e.addressLines[1],i[0]=null===e||void 0===e?void 0:e.addressLines[0],l={id:(null===e||void 0===e?void 0:e.id)||"",addressName:(null===e||void 0===e?void 0:e.name)||"",city:null===e||void 0===e?void 0:e.city,pinCode:null===e||void 0===e?void 0:e.pinCode,state:null===e||void 0===e?void 0:e.state,country:(null===e||void 0===e?void 0:e.country)||"",location:{latitude:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,longitude:null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude},addressLines:i,deliveryInstruction:(null===e||void 0===e?void 0:e.deliveryInstructions)||"",deliveryOptions:(null===e||void 0===e?void 0:e.deliveryOptions)||""},l})(i),{EDIT:n}=v.b;return l&&!d&&Object(C.jsx)("div",{className:"addresses-and-stores-container",children:Object(C.jsx)(s.a,{"data-testid":"address-modal",address:r,isOpen:l,updateSetOrderDetails:o,toggleModal:()=>{o({isOpenSaveDeliveryAddressModal:!1})},isAddressFromOrderProcessing:!0,modalType:n,deliveryInstration:null===t||void 0===t?void 0:t.instruction})})},I=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isOpenSaveDeliveryAddressModal:l,deliveryAddress:i,scheduleOrderDateFormat:d,deliverySearchType:r}=t,n=Object(g.c)()[null!==i&&void 0!==i&&i.pinCode?1:0],s=!0;return l&&d&&Object(C.jsx)("div",{className:"addresses-and-stores-container",children:Object(C.jsx)(a.default,{"data-testid":"new-address-modal",deliverySearchType:r||n,setDeliverySearchType:e=>{o({deliverySearchType:e})},prefectureAddressScreen:s,handleClose:l,updateSetOrderDetails:o,modalType:s,address:i,isAddressFromOrderProcessing:s})})},N=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCancelModal:l,isShowStoreClosePickupOrderCancelModal:i}=t,d=()=>{o({isShowPickupOrderCancelModal:!1,isShowStoreClosePickupOrderCancelModal:!1})},r={id:"pickupCancelOrderModal",role:"dialog",modalTitleId:"pickupCancelOrderModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:d,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return l||i?Object(C.jsx)(n.a,{...r,children:Object(O.c)({...e,closeModalHandler:d})}):null},E=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{isShowPickupOrderCheckReadyToPrepareModal:l}=t,i=()=>{o({isShowPickupOrderCheckReadyToPrepareModal:!1})},d={id:"pickupGeoLocationVerifyModal",role:"dialog",modalTitleId:"pickupGeoLocationVerifyModal",show:!0,classNames:"Base-modal pickupCancelOrderBaseModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:i,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return l?Object(C.jsx)(n.a,{...d,children:Object(O.d)({...e,closeModalHandler:i})}):null},A=e=>{var t;const{orderDetails:o}=e,{pickupClosedInfoModal:l,buffertimepmpickup:i=30,isPostorderStoreShutdownPopupModal:d,useTradingHoursForStoreCloseCalculation:r}=o,a={...null===o||void 0===o?void 0:o.store,status:{currentStatus:u.Nd,message:u.Nd}},s=Object(m.u)(a,i);return Object(j.w)(o)||(!l||null===s||void 0===s||!s.timingFlag||r&&Object(m.je)(null===a||void 0===a||null===(t=a.timings)||void 0===t?void 0:t.storeTradingHours,i))&&!d?null:Object(C.jsx)(n.a,{id:"pickupClosedInfoModal",role:"dialog",modalTitleId:"pickupClosedInfoModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.g)({...e})})},x=e=>{const{orderDetails:t}=e,{isShowCurbsidePlateNumberInputModal:o}=t,l={id:"curbsidePlateNumberInputModal",role:"dialog",modalTitleId:"curbsidePlateNumberInputModal",show:!0,classNames:"Base-modal pickupClosedInfoModalBaseModal",showCloseBtn:!0,closeButtonHandler:()=>(e=>{const{updateSetOrderDetails:t}=e;t({isShowCurbsidePlateNumberInputModal:!1})})(e),showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return!Object(j.w)(t)&&o?Object(C.jsx)(n.a,{...l,children:Object(O.b)({...e})}):null},P=e=>{const{orderDetails:t}=e,{pickupClosingSoonModal:o}=t,l={...null===t||void 0===t?void 0:t.store,status:{currentStatus:u.Nd,message:u.Nd}},i=Object(m.u)(l,Object(p.a)(b.Ib));return!Object(j.w)(t)&&o&&null!==i&&void 0!==i&&i.timingFlag?Object(C.jsx)(n.a,{id:"pickupClosingSoonModal",role:"dialog",modalTitleId:"pickupClosingSoonModal",show:!0,classNames:"Base-modal pickupClosingSoonModalBaseModal",showCloseBtn:!0,showBackBtn:!1,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0,children:Object(O.h)({...e,lastCheckIn:null===i||void 0===i?void 0:i.lastCheckInTime})}):null},R=e=>Object(C.jsxs)(C.Fragment,{children:[D(e),T(e),y(e),I(e),N(e),E(e),A(e),P(e),x(e)]}),_=(e,t)=>Object(C.jsx)(h.a,{isOpen:e,checkoutHeader:!1,showOrderSummaryHeader:!0,handleClose:()=>(e=>{e({openCallSupportModal:!1})})(t)}),w=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;o.enableCancelOrderCallsupportModal?t({isShowPickupOrderCancelModal:!1,openCallSupportModal:!0,pickupCancelOrder:!(null!==o&&void 0!==o&&o.enableCancelOrderCallsupportModal)}):t({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!0})},k=e=>{const t=[];for(const l of e){const e=l.codePointAt(0);t.push(e)}const o=t.join("%");return btoa(o)},L=(e,t)=>{if(e){const o=Object(S.I)(e,t),l=Object(S.F)(t),i=o.date(),d=l.date(),r=o.isBefore(l);return i===d||r}return!1},M=(e,t,o)=>{if(e){const l=Object(S.I)(e,o),i=Object(S.F)(o),d=l.subtract(t,"minutes"),r=l.add(t,"minutes");let n=0,a=0;return i.isBefore(d)?(n=d.diff(i,"millisecond"),a=r.diff(i,"millisecond")):i.isAfter(d)&&i.isBefore(r)&&(a=r.diff(i,"millisecond")),{timeToEnable:n,timeToDisable:a}}return{timeToEnable:0,timeToDisable:0}}},1051:function(e,t,o){var l=o(517),i=o(512),d=o(519),r=4294967295,n=Math.min;e.exports=function(e,t){if((e=d(e))<1||e>9007199254740991)return[];var o=r,a=n(e,r);t=i(t),e-=r;for(var s=l(a,t);++o<e;)t(o);return s}},1057:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return a}));var l=o(3);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},i.apply(this,arguments)}var d=function(e){var t=Object(l.useRef)(e);return t.current=e,t},r=function(e){var t=void 0===e?{}:e,o=t.requestOptions,r=t.debounce,n=void 0===r?200:r,a=t.cache,s=void 0===a?86400:a,c=t.cacheKey,u=t.googleMaps,v=t.callbackName,O=t.defaultValue,m=void 0===O?"":O,b=t.initOnMount,p=void 0===b||b,j=Object(l.useState)(!1),h=j[0],g=j[1],S=Object(l.useState)(m),C=S[0],D=S[1],f=Object(l.useState)({loading:!1,status:"",data:[]}),T=f[0],y=f[1],I=Object(l.useRef)(null),N=d(o),E=d(u),A=c?"upa-"+c:"upa",x=Object(l.useCallback)((function(){var e;if(!I.current){var t=window.google,o=E.current,l=(null==o?void 0:o.places)||(null==t||null==(e=t.maps)?void 0:e.places);l?(I.current=new l.AutocompleteService,g(!0)):console.error("\ud83d\udca1 use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library")}}),[]),P=Object(l.useCallback)((function(){y({loading:!1,status:"",data:[]})}),[]),R=Object(l.useCallback)((function(){try{sessionStorage.removeItem(A)}catch(e){}}),[]),_=Object(l.useCallback)(function(e,t){var o;return function(){for(var l=this,i=arguments.length,d=new Array(i),r=0;r<i;r++)d[r]=arguments[r];null!==o&&(clearTimeout(o),o=null),o=setTimeout((function(){return e.apply(l,d)}),t)}}((function(e){if(e){y((function(e){return i({},e,{loading:!0})}));var t={};try{t=JSON.parse(sessionStorage.getItem(A)||"{}")}catch(o){}s&&(t=Object.keys(t).reduce((function(e,o){return t[o].maxAge-Date.now()>=0&&(e[o]=t[o]),e}),{}))[e]?y({loading:!1,status:"OK",data:t[e].data}):I.current.getPlacePredictions(i({},N.current,{input:e}),(function(l,i){if(y({loading:!1,status:i,data:l||[]}),s&&"OK"===i){t[e]={data:l,maxAge:Date.now()+1e3*s};try{sessionStorage.setItem(A,JSON.stringify(t))}catch(o){}}}))}else P()}),n),[n,P]),w=Object(l.useCallback)((function(e,t){void 0===t&&(t=!0),D(e),I.current&&t&&_(e)}),[_]);return Object(l.useEffect)((function(){if(!p)return function(){return null};var e=window.google;return E.current||null!=e&&e.maps||!v?x():window[v]=x,function(){window[v]&&delete window[v]}}),[v,x]),{ready:h,value:C,suggestions:T,setValue:w,clearSuggestions:P,clearCache:R,init:x}},n=function(e){var t=new window.google.maps.Geocoder;return new Promise((function(o,l){t.geocode(e,(function(t,i){"OK"!==i&&l(i),!e.address&&e.componentRestrictions&&(console.error("\ud83d\udca1 use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions."),o(t)),o(t)}))}))},a=function(e){return new Promise((function(t,o){try{var l=e.geometry.location,i=l.lat,d=l.lng;t({lat:i(),lng:d()})}catch(r){o(r)}}))}},1058:function(e,t,o){"use strict";o.d(t,"a",(function(){return P})),o.d(t,"b",(function(){return w})),o.d(t,"g",(function(){return k})),o.d(t,"h",(function(){return L})),o.d(t,"f",(function(){return M})),o.d(t,"e",(function(){return F})),o.d(t,"c",(function(){return B})),o.d(t,"d",(function(){return U}));var l=o(6),i=o(4),d=o(15),r=o(215),n=o(1023),a=o(0),s=o(36),c=o(22),u=o(824),v=o(958),O=o(5),m=o(513),b=o(103),p=o(18),j=o.n(p),h=o(63),g=o(939),S=o(2);const C=e=>{var t;const{orderDetails:o}=e,{storeName:d,displayOrderId:r,showOrderSummaryOnSentToPosFailed:n=!1}=o;return Object(S.jsxs)(S.Fragment,{children:[!n&&Object(S.jsx)("div",{className:"pickup-store-order",children:d}),r&&Object(S.jsx)("div",{className:"pickup-store-order red",children:(null===(t=Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+r})]})},D=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:d,enableRetryCountForPickupOrderTracking:n,pickupOrderEstimatedOrCollectAtTime:a}=t,s=n?a:d;return!Object(r.r)(t)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.COLLECTED_AT)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:s})]})},f=e=>{var t,o,l,i;const{orderDetails:n}=e,{orderStatus:a,orderSummarycontentData:s}=n,c=null!==(t=null===s||void 0===s||null===(o=s.icon)||void 0===o||null===(l=o.fields)||void 0===l||null===(i=l.file)||void 0===i?void 0:i.url)&&void 0!==t?t:Object(r.ib)(n)?null===d.a||void 0===d.a?void 0:d.a.TakeawayCompleted:Object(r.fb)(n)?null===d.a||void 0===d.a?void 0:d.a.CartError:Object(r.gb)(n)?null===d.a||void 0===d.a?void 0:d.a.ConfirmedImg:"";return""!==c&&Object(S.jsx)("img",{src:c,className:"statusIcon",alt:a})},T=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{enablePickupMethodChangePostOrder:l,buffertimepmpickup:i=30,postorderStoreShutdownPopup:d}=t;if(Object(g.p)(t),l){const e={...null===t||void 0===t?void 0:t.store,status:{currentStatus:a.Nd,message:a.Nd}},l=Object(O.u)(e,i);null!==l&&void 0!==l&&l.timingFlag||o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0})}else o({isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!0});d&&(o({isPickupOrderUserConfirmedToCheckIn:!1}),y(e))},y=e=>{var t;const{orderDetails:o,updateSetOrderDetails:l}=e,{postorderStoreShutdownPopup:i,dispatch:d}=o,r={storeid:null===o||void 0===o||null===(t=o.store)||void 0===t?void 0:t.storeId,channel:null===c.b||void 0===c.b?void 0:c.b.channel,service:null===o||void 0===o?void 0:o.service};d(Object(h.n)({data:r,tenantId:null===o||void 0===o?void 0:o.tenantId},(e=>((e,t,o)=>{var l,i,d,r,n,s;t&&(null===(l=e[0])||void 0===l||null===(i=l.summary)||void 0===i||null===(d=i.status)||void 0===d?void 0:d.currentStatus)===a.Y?o({isPickupOrderUserConfirmedToCheckIn:!1,isPostorderStoreShutdownPopupModal:!0,pickupClosedInfoModal:!1}):t&&(null===(r=e[0])||void 0===r||null===(n=r.summary)||void 0===n||null===(s=n.status)||void 0===s?void 0:s.currentStatus)===a.Nd&&o({isPickupOrderUserConfirmedToCheckIn:!0,isPostorderStoreShutdownPopupModal:!1})})(e,i,l))))},I=e=>{var t;const{orderDetails:o,isCheckinLoading:d,activateCheckinLimitedWindow:v,mintsBeforePickupCheckinEnabled:O}=e,{collectionPoint:m={},enablePickupMethodChangePostOrder:b,isShowCurbsidePlateNumberInputModal:p=!1,requestedDateTime:j={},selectedPickupOrderCollectionMethod:h,store:g={},hidePostOrderCollectionForAsap:C,orderSummarycontentData:D,fulfillmentDateTime:f}=o,{futureDateTime:y,isForNow:I}=j,{timeZoneIANA:N=""}=g,E=!p&&h===a.de.CURB_SIDE&&(null===m||void 0===m?void 0:m.carNumber)&&(b||!I&&C),A=()=>{switch(h){case null===a.de||void 0===a.de?void 0:a.de.DRIVE_THRU:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.I_AM_AT_DRIVE_THRU_QUEUE);case(null===a.de||void 0===a.de?void 0:a.de.IN_STORE)||(null===a.de||void 0===a.de?void 0:a.de.DINE_IN):return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.I_AM_INSIDE_RESTAURANT);case null===a.de||void 0===a.de?void 0:a.de.CURB_SIDE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.I_AM_AT_CURB_SIDE);default:return""}};let x;if(v){const{timeToEnable:e,timeToDisable:t}=Object(n.f)(f,O,N);x=b&&!C&&!((e,t)=>0===e&&t>0)(e,t)}else x=d||b&&!C&&!Object(n.a)(y,N);return Object(r.ib)(o)&&(null===o||void 0===o?void 0:o.selectedPickupOrderCollectionMethod)&&(!C||!I)&&Object(S.jsxs)("div",{className:"pickup-collection-method-ready-to-prepare",children:[Object(S.jsx)("div",{className:"linebreak col-12"}),E?Object(S.jsx)("div",{className:"car-number-plate",children:C?null===D||void 0===D||null===(t=D.subHeadline)||void 0===t?void 0:t.replace(a.L,m.carNumber):"".concat(Object(l.translateWithI18Next)(i.a.CAR_NUMBER_PLATE_LABEL)," ").concat(m.carNumber)}):Object(S.jsx)("div",{children:C?null===D||void 0===D?void 0:D.subHeadline:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.READY_TO_PREPARE_MEAL)}),Object(S.jsx)(s.c,{"data-testid":"pickup-collection-method-ready-to-prepare-btn",variant:s.b.primary,style:{marginTop:"2rem"},inactive:x,loading:d,onClick:()=>(async e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{store:l,geoLocationCheckForCheckin:i}=t;if(i&&await c.b.BindLocation(),Object(r.gb)(t)&&o({isShowPickupOrderAlreadyCheckInModal:!0}),c.b.coordinates&&i){var d,n,s,v,O;const{latitude:t,longitude:i}=(null===l||void 0===l?void 0:l.location)||{},r=await Object(u.getDistanceByLatLong)({destinations:{latitude:t,longitude:i},origins:(null===c.b||void 0===c.b?void 0:c.b.coordinates)||{}});(null===r||void 0===r||null===(d=r[0])||void 0===d||null===(n=d.status)||void 0===n?void 0:n.toLowerCase())===(null===a.Ne||void 0===a.Ne||null===(s=a.Ne.ZERO_RESULTS)||void 0===s?void 0:s.toLowerCase())||(null===r||void 0===r||null===(v=r[0])||void 0===v||null===(O=v.distance)||void 0===O?void 0:O.value)>300?o({isShowPickupOrderCheckReadyToPrepareModal:!0}):T(e)}else T(e)})(e),ariaLable:A(),children:C?null===D||void 0===D?void 0:D.buttonText:A()})]})},N=e=>{const{orderDetails:t}=e,{selectedPickupOrderCollectionMethod:o,hidePostOrderCollectionForAsap:d}=t;return o&&!d&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&Object(S.jsx)("div",{className:"change-collection-method",children:Object(S.jsx)(s.c,{className:"change-collection-method-btn","data-testid":"change-collection-method-btn",variant:s.b.tertiary,onClick:()=>(e=>{const{updateSetOrderDetails:t}=e;t({selectedPickupOrderCollectionMethod:null,pickupClosedInfoModal:!1})})(e),ariaLable:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHANGE_COLLECTION_METHOD),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHANGE_COLLECTION_METHOD)})})},E=e=>{const{orderDetails:t}=e,{orderStatus:o,service:d,selectedPickupOrderCollectionMethod:n,enableRetryCountForPickupOrderTracking:s,enablePickupMethodChangePostOrder:c,hidePostOrderCollectionForAsap:u,requestedDateTime:O}=t,m=!s||c&&!u?(e=>{var t;const{hideCustomerName:o}=e,d=o?" ":", "+(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."));if(Object(r.ib)(e))switch(null===e||void 0===e?void 0:e.selectedPickupOrderCollectionMethod){case null===a.de||void 0===a.de?void 0:a.de.DRIVE_THRU:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHECIN_AT_DRIVE_THRU);case null===a.de||void 0===a.de?void 0:a.de.IN_STORE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHECIN_AT_IN_STORE);case null===a.de||void 0===a.de?void 0:a.de.CURB_SIDE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHECIN_AT_CURB_SIDE);default:return"".concat(Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_RECEIVED)).concat(d)}else{if(Object(r.fb)(e))return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_ORDER);if(Object(r.gb)(e))return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ENJOY_MEAL)}return""})(t):Object(v.g)(t),b=Object(r.r)(t)||Object(r.fb)(t)?Object(v.c)(t):Object(v.h)(t);return Object(S.jsxs)("div",{children:[""!==m&&Object(S.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(d," ").concat(n," col-12 ").concat(Object(r.hb)(t)?"":"p-0px-imp"),children:[Object(S.jsx)("div",{className:"col-12 statusMessage",children:m}),I(e),c&&N(e)]}),""!==b&&!Object(r.u)(t)&&(!u||!((null===O||void 0===O||!O.isForNow)&&Object(r.nb)(t)))&&Object(S.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:b}})]})},A=e=>{const{orderDetails:t}=e,{orderSummarycontentData:o,enableClickCollectScheduleOrder:l,allowScheduleOrderForDispositions:i,service:d}=t;return l&&(null===i||void 0===i?void 0:i.includes(d))?""!==(null===o||void 0===o?void 0:o.confirmationEmailSubHeadline)&&!Object(r.u)(t)&&Object(S.jsx)("div",{className:"emailconfirmation-container",children:Object(S.jsx)("span",{className:"emailconfirmation-msg",children:null===o||void 0===o?void 0:o.confirmationEmailSubHeadline})}):null},x=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:d}=t,n=(null===o||void 0===o?void 0:o.otp)||(null===d||void 0===d?void 0:d.otp);return!Object(r.hb)(t)&&n&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ASK_FOR_OTP)}),Object(S.jsx)("div",{className:"idAndTime time-delivery",children:Object(S.jsx)("div",{className:"red otp",children:n})})]})},P=e=>Object(S.jsxs)(S.Fragment,{children:[!Object(r.hb)(null===e||void 0===e?void 0:e.orderDetails)&&C(e),Object(r.gb)(null===e||void 0===e?void 0:e.orderDetails)&&D(e),f(e),E(e),A(e),x(e)]}),R=e=>{switch(e){case null===a.de||void 0===a.de?void 0:a.de.DRIVE_THRU:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.DRIVE_THRU);case null===a.de||void 0===a.de?void 0:a.de.IN_STORE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.IN_STORE);case null===a.de||void 0===a.de?void 0:a.de.CURB_SIDE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CURB_SIDE)}return""},_=e=>{switch(e){case null===a.de||void 0===a.de?void 0:a.de.DRIVE_THRU:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.PICKUP_FROM_WINDOW);case null===a.de||void 0===a.de?void 0:a.de.IN_STORE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.PICKUP_INSIDE_RESTAURANT);case null===a.de||void 0===a.de?void 0:a.de.CURB_SIDE:return Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.PICKUP_FROM_CURB_SIDE)}return""},w=e=>{var t;const{updateSetOrderDetails:o,orderDetails:d}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper curbside-plate-number",children:[Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"vehicle-details-title",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.VEHICAL_DETAILS)}),Object(S.jsx)(b.a,{id:"curbside-plate-number-input",name:"curbside-plate-number-input",className:"curbside-plate-number-input",placeholder:Object(l.translateWithI18Next)(i.a.CAR_NUMBER_PLATE),isMandatory:!0,maxLength:10,value:null===(t=d.collectionPoint)||void 0===t?void 0:t.carNumber,onChange:e=>{const t=Object(m.a)(e.target.value);o({collectionPoint:{name:a.de.CURB_SIDE,carNumber:t}})},onKeyPress:e=>{Object(m.c)(e.key)||e.preventDefault()}})]}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{id:"confirm-car-number-btn",className:"button blackButton blackBorder save-button",onClick:()=>{d.collectionPoint.carNumber&&o({selectedPickupOrderCollectionMethod:a.de.CURB_SIDE,pickupClosedInfoModal:!0,isShowCurbsidePlateNumberInputModal:!1})},children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CONFIRM)})})]})},k=e=>{var t;const{updateSetOrderDetails:o,orderDetails:r}=e,{postorderStoreShutdownPopup:n}=r;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.CartError,alt:"closedOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===r||void 0===r||null===(t=r.store)||void 0===t?void 0:t.name}),Object(S.jsx)("div",{children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.HAS_NOW_CLOSED)})]}),Object(S.jsx)("div",{className:"message-refund closing-msg "+(n&&"postorderStoreShutdownPopup-msg"),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>o({pickupClosedInfoModal:!1,isPostorderStoreShutdownPopupModal:!1}),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.OK)})})]})},L=e=>{var t,o;const{updateSetOrderDetails:r,orderDetails:n,lastCheckIn:a}=e;return Object(S.jsxs)("div",{className:"closingsoon-wrapper",children:[Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.Timeout,alt:"closingsoonOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel last-checkin",children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===n||void 0===n||null===(t=n.store)||void 0===t?void 0:t.name}),Object(S.jsxs)("div",{children:[Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.LAST_ORDER_CHECKIN_AT),Object(S.jsx)("span",{className:"selected-store-name",children:a})]})]}),Object(S.jsxs)("div",{className:"message-refund closing-msg",children:[null===n||void 0===n||null===(o=n.store)||void 0===o?void 0:o.name," ",Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.IS_CLOSING_SOON)]}),Object(S.jsx)("div",{className:"message-refund ahead-time",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHECK_IN_AHEADTIME)}),Object(S.jsx)("div",{className:"buttonItems",children:Object(S.jsx)(s.a,{"data-testid":"pickup-store-close-soon-btn",className:"button blackButton blackBorder save-button",onClick:()=>r({pickupClosingSoonModal:!1}),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.OK)})})]})},M=e=>{var t,o;const{orderDetails:n,updateSetOrderDetails:s}=e,{collectionPoint:c,postOrderDetails:u={},pickupOrderAvailableCollectionPoints:v,enablePickupMethodChangePostOrder:O,hidePostOrderCollectionForAsap:m,allowedPickupCollectionMethods:b}=n,p=e=>-1!==(null===v||void 0===v?void 0:v.findIndex((t=>t.collectionPointName===e)));var h;if(!j()(null===u||void 0===u||null===(t=u.collectionPoint)||void 0===t?void 0:t.name)&&p(null===u||void 0===u||null===(o=u.collectionPoint)||void 0===o?void 0:o.name)&&j()(c)&&(O||m))return s({collectionPoint:null===u||void 0===u?void 0:u.collectionPoint,selectedPickupOrderCollectionMethod:null===u||void 0===u||null===(h=u.collectionPoint)||void 0===h?void 0:h.name,pickupClosedInfoModal:!0}),null;const g=Object(r.e)(v,a.de);return Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-container",children:[Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method-header",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.SELECT_PICK_UP_METHOD)}),Object(S.jsx)("div",{className:"col-12 pickupOrder-collection-method",children:null===g||void 0===g?void 0:g.map((e=>{const t=null===a.de||void 0===a.de?void 0:a.de[e],o=t===a.de.CURB_SIDE,r=p(null===a.de||void 0===a.de?void 0:a.de[e]);return!O&&o?null:Object(S.jsxs)("div",{className:"col-12 pickupOrder-collection-method-node","data-testid":"PickupCollectionMethod_"+t,onClick:()=>{r&&s(o?{isShowCurbsidePlateNumberInputModal:!0}:{collectionPoint:{name:t,carNumber:null},selectedPickupOrderCollectionMethod:t,pickupClosedInfoModal:!0})},children:[Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.TakeAwayImg,className:"methodIcon",alt:""}),Object(S.jsxs)("div",{className:"methodDetails",children:[Object(S.jsxs)("div",{className:"methodTitle",children:[R(t),!r&&Object(S.jsx)("div",{className:"methodTitle-Unavailable",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.UNAVAILABLE)})]}),Object(S.jsx)("span",{className:"methodMessage",children:_(t)})]}),r&&Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.Arrow,className:"arrowIcon",alt:""})]},e)}))})]})},F=e=>{const{updateSetOrderDetails:t,orderDetails:o}=e;return Object(S.jsxs)("div",{className:"col-12 pickupOrderCancelPanel",children:[Object(S.jsx)("span",{children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CHANGED_YOUR_MIND)}),null!==o&&void 0!==o&&o.showCancelOrderNumber?Object(S.jsx)("span",{children:Object(S.jsx)("a",{className:"pickupOrderCancelPanelBtn","data-testid":"pickupOrderCancelBtn",href:(null===a.oc||void 0===a.oc?void 0:a.oc.TEL)+Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CONTACTUS_NUMBER),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CONTACTUS_DISPLAYTEXT)})}):Object(S.jsx)("span",{"data-testid":"pickupOrderCancelPanelBtn",tabIndex:"0",className:"pickupOrderCancelPanelBtn",onClick:()=>t({isShowPickupOrderCancelModal:!0}),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_ORDER_BUTTON_TEXT)})]})},B=e=>{var t,o,r,c,u;const{closeModalHandler:v,orderDetails:m}=e,{isShowPickupOrderCancelModal:b,isShowStoreClosePickupOrderCancelModal:p}=m,j=null===m||void 0===m||null===(t=m.store)||void 0===t?void 0:t.phoneNumber,h=null===m||void 0===m||null===(o=m.paymentReferences)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.paymentType;return Object(S.jsxs)("div",{className:"pickupCancelOrderModal",children:[Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.CartError,alt:"pickupCancelOrderModal"}),Object(S.jsxs)("div",{className:"message-cancel",children:[b&&Object(O.Ad)(null===m||void 0===m?void 0:m.service)?Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_DELIVERY_ORDER):Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_PICKUP_ORDER),p&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"selected-store-name",children:null===m||void 0===m||null===(c=m.store)||void 0===c?void 0:c.name}),Object(S.jsx)("div",{children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.HAS_NOW_CLOSED)})]})]}),b&&Object(S.jsx)("div",{className:"message-refund",children:null===(u=Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.FULL_PAYMENT_REFUND))||void 0===u?void 0:u.replace("{{storePhoneNumber}}",j)}),h!==(null===a.Ud||void 0===a.Ud?void 0:a.Ud.PAY_BY_CASH)&&p&&Object(S.jsx)("div",{className:"message-refund",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_NO_LONGER_CHECKEDIN)}),Object(S.jsxs)("div",{className:"buttonItems",children:[b&&Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:v,children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.KEEP_ORDER)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>Object(n.g)(e),children:m.enableCancelOrderCallsupportModal?Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CALL_SUPPORT_ORDER_BUTTON_TEXT):Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_ORDER_BUTTON_TEXT)})]})]})},U=e=>{const{closeModalHandler:t}=e;return Object(S.jsxs)("div",{className:"pickupGeoLocationVerifyModal",children:[Object(S.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.LocationError,alt:"pickupGeoLocationVerifyModal"}),Object(S.jsx)("div",{className:"message-cancel",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.READY_TO_START_COOKING)}),Object(S.jsx)("div",{className:"message-refund",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CONFIRM_YOU_ARE_HERE_TEXT)}),Object(S.jsxs)("div",{className:"buttonItems",children:[Object(S.jsx)(s.a,{"data-testid":"coupon-button-one",className:"button whiteButton blackBorder closebtn-cls",onClick:t,children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.I_AM_ELSE_WHERE_TEXT)}),Object(S.jsx)(s.a,{"data-testid":"coupon-button-two",className:"button blackButton blackBorder save-button",onClick:()=>T(e),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.I_AM_HERE_TEXT)})]})]})}},1059:function(e,t,o){"use strict";var l=o(3),i=o(25),d=o(5),r=o(76),n=o(0),a=o(1060),s=o(61),c=o(939);t.a=e=>{var t,o,u,v,O,m;const b=Object(s.g)(),{isOpen:p,handleClose:j,isModalView:h=!0,showOrderSummaryHeader:g=!1,orderHistoryPage:S=!1}=e,C=Object(i.b)(),{userOrderState:D}=Object(l.useContext)(r.a),f=Object(d.Jd)(D.dispositionNew)?JSON.parse(localStorage.getItem(n.gd.DISPOSITION_NEW)):D.dispositionNew,{type:T,store:y,orderDetails:I={}}=Object(d.Kd)(f)?f:{},{helpReducer:N,orderReducer:E,postOrderReducer:A,tenantReducer:x}=Object(i.c)((e=>e)),P=Object(d.ec)(N.helpResponse||null),R=S?void 0:(null===E||void 0===E||null===(t=E.response)||void 0===t||null===(o=t.order)||void 0===o?void 0:o.deliveryPartners)||(null===A||void 0===A||null===(u=A.orderAccepted)||void 0===u?void 0:u.deliveryPartners),[_,w]=Object(l.useState)(R);return Object(l.useEffect)((()=>{Object(c.d)(C),w(R)}),[]),Object(d.Kd)(P)&&Object(a.e)({contentData:P,service:g?null===I||void 0===I?void 0:I.type:T,store:g?null===I||void 0===I?void 0:I.store:y,isOpen:p,handleClose:j,isModalView:h,history:b,deliveryPartner:_,NeedHelpSectionDisplayFlag:null===x||void 0===x||null===(v=x.componentOptions)||void 0===v||null===(O=v.web)||void 0===O||null===(m=O.orderPages)||void 0===m?void 0:m.getDeliveryOrderStatusMessageFlag})}},1060:function(e,t,o){"use strict";o.d(t,"e",(function(){return v})),o.d(t,"b",(function(){return m})),o.d(t,"d",(function(){return b})),o.d(t,"a",(function(){return j})),o.d(t,"c",(function(){return g}));var l=o(6),i=o(171),d=o(4),r=o(0),n=o(5),a=o(121),s=o(2);const c=e=>Object(s.jsx)(i.a,{...e,testId:"need_help_view",importPath:"NEED_HELP_VIEW"}),u=e=>{switch(null===e||void 0===e?void 0:e.toUpperCase()){case r.Jb.DELIVERY:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.DELIVERY_TITLE);case r.Jb.PICKUP:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.PICKUP_TITLE)}return""},v=e=>null!==e&&void 0!==e&&e.isModalView?O(e):c(e),O=e=>{const{service:t,handleClose:o,isOpen:l}=e,i={role:"dialog",modalTitleId:"need-help-modal",show:!0,classNames:"need-help-modal",showCloseBtn:!0,closeButtonHandler:o,modalTitle:u(t),showBackBtn:!1,closeDataTestId:"close-need-help-modal",id:"NeedHelpModal",autoFocus:!0};return l&&Object(s.jsx)(a.a,{...i,children:c(e)})},m=e=>{var t;const{service:o,contentData:l,store:i,deliveryPartner:d}=e,{helpSectionCallDetails:n}=l;switch(null===o||void 0===o?void 0:o.toUpperCase()){case r.Jb.PICKUP:return(null===i||void 0===i?void 0:i.phoneNumber)||(null===i||void 0===i||null===(t=i.contacts.find((e=>e.key===r.Yd)))||void 0===t?void 0:t.value);case r.Jb.DELIVERY:default:return p(d,n)}},b=(e,t)=>{e.preventDefault();const{contentData:o,history:l,handleClose:i}=t,{helpSectionContactDetails:d}=o;i(),l.push({pathname:null===d||void 0===d?void 0:d.url})||l.push({pathname:null===d||void 0===d?void 0:d.internalURL})},p=(e,t)=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case r.Ab.SKEDADEL:return"".concat(null===t||void 0===t?void 0:t.skedadelContactNo);case r.Ab.UBERDIRECT:return"".concat(null===t||void 0===t?void 0:t.uberDirectContactNo);case r.Ab.KFC_GENERIC_MSG:return"".concat(null===t||void 0===t?void 0:t.kfcGenericContactNo);default:return"".concat(null===t||void 0===t?void 0:t.contactNo)}},j=e=>{const{service:t,contentData:o,deliveryPartner:i}=e,{helpSectionCallDetails:n}=o;switch(null===t||void 0===t?void 0:t.toUpperCase()){case r.Jb.PICKUP:case r.Jb.CATERING:return Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CALL_KFC_STORE);case r.Jb.DELIVERY:default:return"".concat(null===n||void 0===n?void 0:n.buttonText," ").concat(p(i,n))}},h=e=>{var t;return e&&Array.isArray(e)?null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.value:e},g=e=>{var t,o;const{service:l,contentData:i,store:d,deliveryPartner:a}=e,{helpSectionCallDetails:c,callsupportcontent:u=[]}=i;switch(null===l||void 0===l?void 0:l.toUpperCase()){case r.Jb.PICKUP:return Object(s.jsxs)("div",{children:[!u.length&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"bold-text",children:h(null===d||void 0===d?void 0:d.name)}),Object(s.jsx)("br",{}),Object(n.Wb)((null===d||void 0===d?void 0:d.address)||(null===d||void 0===d?void 0:d.addresses))]}),u.length&&Object(s.jsx)("span",{children:null===(t=u[0])||void 0===t||null===(o=t.fields)||void 0===o?void 0:o.description})]});case r.Jb.CATERING:return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:"bold-text",children:h(null===d||void 0===d?void 0:d.name)}),Object(s.jsx)("br",{}),Object(n.Wb)((null===d||void 0===d?void 0:d.address)||(null===d||void 0===d?void 0:d.addresses))]});case r.Jb.DELIVERY:default:return((e,t)=>{const o=(e,o,l)=>Object(s.jsxs)("span",{children:[null===t||void 0===t?void 0:t[e]," ",Object(s.jsxs)("span",{className:"bold-text",children:[null===t||void 0===t?void 0:t[o]," "]}),null===t||void 0===t?void 0:t[l]]});switch(null===e||void 0===e?void 0:e.toLowerCase()){case r.Ab.SKEDADEL:return o("skededal1","skededal2","skededal3");case r.Ab.UBERDIRECT:return o("uberDirect1","uberDirect2","uberDirect3");case r.Ab.KFC_GENERIC_MSG:return o("kfcGenericMsg1","kfcGenericMsg2","kfcGenericMsg3");default:return o("val1","val2","val3")}})(a,c)}}},1070:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var l=o(28),i=o(3),d=o(0),r=o(2);var n=e=>{const{tabIndex:t,ariaLable:o,className:n,options:a,onChange:s,testid:c="",selectedValue:u,name:v,...O}=e;return Object(i.useEffect)((()=>{u&&(null===s||void 0===s||s({target:{value:u,name:v}}))}),[u,v]),Object(r.jsx)("select",{className:n,tabIndex:t,"aria-label":o,onChange:s,onKeyPress:e=>{const{SPACE:t,ENTER:o}=d.Xf.KEY_CHAR_CODE;!s||e.charCode!==t&&e.charCode!==o||s()},"data-testid":c,defaultValue:u,name:v,...O,children:null===a||void 0===a?void 0:a.map(((e,t)=>((e,t)=>{const o=u===e?{selected:"selected"}:"";return Object(r.jsx)("option",{value:e,"data-testid":"".concat(c).concat(t),defaultValue:u===e,...o,children:Object(l.translateWithI18Next)(e)},e)})(e,t)))})};const a=e=>{const{tabIndex:t,ariaLable:o,className:l,options:i,onChange:n,testid:a="",selectedValue:s,...c}=e;return Object(r.jsxs)("select",{className:l,tabIndex:t,"aria-label":o,onChange:n,onKeyPress:e=>{const{SPACE:t,ENTER:o}=d.Xf.KEY_CHAR_CODE;!n||e.charCode!==t&&e.charCode!==o||n()},"data-testid":a,defaultValue:s,...c,children:[Object(r.jsx)("option",{children:d.Xf.DROPDOWN_DEFAULT_VALUE}),Object.keys(i).map(((e,t)=>{return Object(r.jsx)("optgroup",{label:e,"data-testid":"sort-visit-group",children:(o=i[e],o.map((e=>Object(r.jsx)("option",{value:e.value,title:e.category,"data-testid":"sort-visit-option",children:e.value},e.value))))},t);var o}))]})}},1073:function(e,t,o){"use strict";o.d(t,"a",(function(){return h})),o.d(t,"b",(function(){return I})),o.d(t,"c",(function(){return N})),o.d(t,"e",(function(){return E})),o.d(t,"d",(function(){return A}));var l=o(1051),i=o.n(l),d=o(6),r=o(171),n=o(4),a=o(15),s=o(1088),c=o(215),u=(o(3),o(2));var v=e=>(e=>Object(u.jsx)(r.a,{...e,testId:"order_summary_raider_details_view",importPath:"ORDER_SUMMARY_RAIDER_DETAILS_VIEW"}))(e),O=o(0),m=o(5),b=o(958),p=o(331);const j=e=>{const{orderDetails:t,arrivalTime:o,showDeliveryEstimatedTime:l,pastOrderTimeFormat:i}=e,{orderStatus:d,deliveryOrEstimatedOrCollectAtTime:r}=t;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(d,"-delivery"),children:l&&null==o?"":C(t)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:l?f({orderDetails:t,arrivalTime:o,pastOrderTimeFormat:i}):D(t)})]})},h=e=>{var t;const{orderSummarycontentData:o,total:l,currencySymbol:i,currencyConversionFactor:d}=e,r=null===o||void 0===o||null===(t=o.payOnArrivalSubheadline)||void 0===t?void 0:t.replace(O.tf,'<span class="red">'.concat(Object(m.I)(l,{currencySymbol:i,currencyConversionFactor:d}),"</span>")),n="<div class='subheadline-content'>".concat(r,"</div>");return Object(c.B)(e)?n:null===o||void 0===o?void 0:o.payOnArrivalSubheadline},g=e=>{var t,o;const{orderDetails:l,isUberServiceableEnabled:d}=e,r=null!==l&&void 0!==l&&null!==(t=l.requestedDateTime)&&void 0!==t&&t.isForNow||d&&Object(p.e)(null===l||void 0===l||null===(o=l.deliveryDetails)||void 0===o?void 0:o.partnerName)?null===l||void 0===l?void 0:l.orderTrackingProgressBarCount:null===l||void 0===l?void 0:l.orderTrackingProgressBarScheduleOrdersCount;let n=[];const a=Object(b.d)(l);return 0!==a&&i()(r,(e=>{n.push(Object(u.jsx)("div",{className:"ProgressDelivery Bar",children:Object(u.jsx)("div",{className:"subProgressDelivery ".concat(e<a?e===a-1?"play":"full":"none")},e)},e))})),a>0&&a<=r&&Object(u.jsx)("div",{className:"progress-bar-list col-12",children:n})},S=e=>{var t,o,l;const{orderDetails:i}=e,{orderStatus:d,orderSummarycontentData:r,enableRetryCountForPickupOrderTracking:n,enableClickCollectScheduleOrder:s}=i,{ConfirmedImg:v,TakeAwayImg:O,DeliveryTracker:m,DeliveryCart:b,CartError:p,TakeawayCompleted:j}=a.a,h=n&&!s?null===r||void 0===r||null===(t=r.icon)||void 0===t||null===(o=t.fields)||void 0===o||null===(l=o.file)||void 0===l?void 0:l.url:Object(c.O)(i)?v:Object(c.J)(i)?O:Object(c.G)(i)||Object(c.R)(i)?j:Object(c.P)(i)||Object(c.N)(i)||Object(c.F)(i)?m:Object(c.K)(i)?b:Object(c.I)(i)?p:v;return""!==h&&Object(u.jsx)("img",{src:h,alt:d})},C=e=>{const{orderSummarycontentData:t}=e,o=null===t||void 0===t?void 0:t.mainHeadingOne;if(null!==o&&void 0!==o&&o.includes(O.df))return null===e||void 0===e?void 0:e.storeName;if(null!==o&&void 0!==o&&o.includes(O.tb)){const l={...t,subHeadline:o};return Object(u.jsx)("div",{className:"substatusmsgDelivered",dangerouslySetInnerHTML:{__html:Object(b.p)(l,e)}})}return Object(d.translateWithI18Next)(null===t||void 0===t?void 0:t.mainHeadingOne)},D=e=>{const{orderSummarycontentData:t,deliveryOrEstimatedOrCollectAtTime:o}=e,l=null===t||void 0===t?void 0:t.mainHeadingTwo;return null!==l&&void 0!==l&&l.includes(O.Pd)?Object(s.d)(e):l?o:void 0},f=e=>{var t;const{arrivalTime:o,orderDetails:l,pastOrderTimeFormat:i}=e;return Object(c.D)(l)?"".concat(Object(m.Uc)(null===l||void 0===l||null===(t=l.deliveryDetails)||void 0===t?void 0:t.actualDeliveryTime,i)):o},T=e=>{var t;const{orderDetails:o,isUberServiceableEnabled:l}=e,{orderStatus:i,enableRetryCountForPickupOrderTracking:r,enableClickCollectScheduleOrder:a,orderSummarycontentData:s,showPinCode:v,deliveryPinDetails:O}=o,m=Object(p.e)(null===o||void 0===o||null===(t=o.deliveryDetails)||void 0===t?void 0:t.partnerName)&&l,j=!r&&!m||a?Object(c.a)(o):Object(b.g)(o),h=!Object(c.r)(o)&&!Object(c.I)(o)||a?Object(b.h)(o):Object(b.c)(o);return Object(u.jsxs)("div",{children:[""!==j&&Object(u.jsx)("div",{className:"allSet allset-delivery ".concat(i,"-delivery-allSet col-12 ").concat(Object(c.L)(o)?"":"p-0px-imp"," ").concat(l?"allSet-smaller-font":""),children:Object(u.jsx)("span",{children:Object(d.translateWithI18Next)(j)})}),""!==h&&!Object(c.A)(o)&&Object(u.jsx)("div",{className:"substatusmsg",dangerouslySetInnerHTML:{__html:h}}),(null===s||void 0===s?void 0:s.description)&&Object(u.jsxs)("div",{className:"emailConfirmTxt",children:[" ",Object(d.translateWithI18Next)(null===s||void 0===s?void 0:s.description)]}),v&&O&&(null===O||void 0===O?void 0:O.isPinEnabled)&&!Object(c.L)(o)&&Object(u.jsxs)("div",{className:"row pincode-section",children:[Object(u.jsxs)("span",{children:[Object(d.translateWithI18Next)(n.a.PIN_CODE),":"]}),Object(u.jsx)("span",{children:O.pin})]})]})},y=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t,i=(null===o||void 0===o?void 0:o.otp)||(null===l||void 0===l?void 0:l.otp);return!Object(c.O)(t)&&i&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(d.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ASK_FOR_OTP)}),Object(u.jsx)("div",{className:"idAndTime time-delivery",children:Object(u.jsx)("div",{className:"red otp",children:i})})]})},I=e=>Object(u.jsxs)(u.Fragment,{children:[!Object(b.k)(null===e||void 0===e?void 0:e.orderDetails)&&!Object(c.I)(null===e||void 0===e?void 0:e.orderDetails)&&j(e),S(e),!Object(b.l)(null===e||void 0===e?void 0:e.orderDetails)&&g(e),T(e),y(e)]}),N=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:l}=t;return Object(u.jsx)("iframe",{sandbox:"allow-same-origin allow-scripts",className:"iframe-ordertrackingmaps",title:Object(d.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.TRACK_ORDER),src:(()=>{const e=(null===o||void 0===o?void 0:o.tracking_url)||(null===l||void 0===l?void 0:l.deliveryTrackingUrl);return(e&&-1===e.indexOf(O.Lc)?O.Lc:"")+e})()})},E=e=>{const{deliveryAddress:t,store:o,deliveryDetails:l}=null===e||void 0===e?void 0:e.orderDetails;if(Object(m.ge)(o)&&Object(m.ge)(t)){var i,d,n,a;const s=[null===o||void 0===o||null===(i=o.location)||void 0===i?void 0:i.latitude,null===o||void 0===o||null===(d=o.location)||void 0===d?void 0:d.longitude],c=[null===t||void 0===t||null===(n=t.location)||void 0===n?void 0:n.latitude,null===t||void 0===t||null===(a=t.location)||void 0===a?void 0:a.longitude];return(e=>Object(u.jsx)(r.a,{...e,testId:"appGoogleMap",importPath:"APP_GOOGLE_MAP",orderTracking:!0,storeLatLng:s,customerLatLng:c,raiderCurrentLatLng:null===l||void 0===l?void 0:l.riderLocation,stylers:x}))(e)}},A=e=>{const{orderDetails:t}=e;return(Object(c.y)(t)||Object(c.eb)(t))&&Object(u.jsx)(v,{...e})},x=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#202124"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"off"},{color:"#202124"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#e3e3e3"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:20}]},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e3e3e3"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.4}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{lightness:17}]}]},1080:function(e,t,o){"use strict";o(3);var l=o(171),i=o(2);t.a=e=>(e=>Object(i.jsx)(l.a,{...e,testId:"order_summary_info_details_view",importPath:"ORDER_SUMMARY_INFO_DETAILS_VIEW"}))(e)},1081:function(e,t,o){"use strict";(function(e){var l=o(3),i=o.n(l),d=o(25),r=o(1057),n=o(57),a=o(63),s=o(155),c=o(6),u=o(5),v=o(154),O=o(1103),m=o(0),b=o(4),p=o(55),j=o(990),h=o(216),g=o(269),S=o(2);t.a=t=>{var o,C,D,f,T,y,I,N,E,A,x,P,R,_,w,k,L;const M=Object(d.b)(),{modalType:F,toggleModal:B,updateSetOrderDetails:U}=t,{HIDDEN:W,DELIVERY_SERVICE:H,CHANNEL:G,INITIAL_STATE:K,MAX_DELIVERY_DISTANCE:V,NO_OF_STORE_FOR_DELIVERY:Y}=v.b,{FIELD_NAME:q,PIN_CODE:J}=v.d,{ADDRESS_UPDATED:Z,ADDRESS_SAVED:X}=b.a,{allStores:z=[]}=Object(d.c)((e=>e.allStoresReducer)),{savedAddresses:Q}=Object(d.c)((e=>e.profileReducer)),$=Object(d.c)((e=>e.tenantReducer)),{tenantId:ee="",storeSearch:te={},country:oe,countryNameInDefaultLang:le,componentOptions:ie}=$,de=null===ie||void 0===ie||null===(o=ie.web)||void 0===o||null===(C=o.dispositionConfig)||void 0===C||null===(D=C.deliveryStores)||void 0===D?void 0:D.shouldEnableConfirmButton,re=Object(u.Tc)(Object(u.Kd)(null===t||void 0===t?void 0:t.address),null===t||void 0===t?void 0:t.address,K),[ne,ae]=Object(l.useState)(re),[se,ce]=Object(l.useState)(!1),[ue,ve]=Object(l.useState)(!0),Oe=null===te||void 0===te?void 0:te.geohashprecision,me=(null===te||void 0===te?void 0:te.boundingBoxSizeMeters)/1e3,[be,pe]=Object(l.useState)(!1),[je,he]=Object(l.useState)(!1),ge=null===$||void 0===$||null===(f=$.componentOptions)||void 0===f||null===(T=f.web)||void 0===T||null===(y=T.accountPage)||void 0===y?void 0:y.filterConditions,Se=null===$||void 0===$||null===(I=$.componentOptions)||void 0===I||null===(N=I.web)||void 0===N||null===(E=N.accountPage)||void 0===E?void 0:E.showAddressMapView,Ce=null===$||void 0===$||null===(A=$.componentOptions)||void 0===A||null===(x=A.web)||void 0===x?void 0:x.address,De=null===$||void 0===$?void 0:$.addressRegex,[fe,Te]=Object(l.useState)(),[ye,Ie]=i.a.useState([]),[Ne,Ee]=i.a.useState(!1),[Ae,xe]=i.a.useState(!1),{ready:Pe,value:Re,suggestions:_e,setValue:we,clearSuggestions:ke}=Object(r.a)({requestOptions:{componentRestrictions:{country:null===(P=e)||void 0===P||null===(R=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===R?void 0:R.REACT_APP_TENANT_CODE},types:null===$||void 0===$||null===(_=$.componentOptions)||void 0===_||null===(w=_.web)||void 0===w||null===(k=w.dispositionConfig)||void 0===k||null===(L=k.DELIVERY_FORM)||void 0===L?void 0:L.filteredTypes},debounce:300}),Le={..._e,data:Object(h.d)(null===_e||void 0===_e?void 0:_e.data,ge)},Me=Object(l.useRef)(null),Fe=()=>{document.querySelector("body").style.overflow="",B(!1),M(Object(a.u)())};Object(l.useEffect)((()=>{var e,t;F&&s.a.calculateGH({lat:parseFloat(Object(u.fb)(null===ne||void 0===ne||null===(e=ne.location)||void 0===e?void 0:e.latitude,null===ne||void 0===ne?void 0:ne.latitude)),lon:parseFloat(Object(u.fb)(null===ne||void 0===ne||null===(t=ne.location)||void 0===t?void 0:t.longitude,null===ne||void 0===ne?void 0:ne.longitude)),distanceFromCurrentLoc:me,geoHashPrecision:Oe});document.querySelector("body").style.overflow=W}),[]),Object(l.useEffect)((()=>(document.addEventListener("mousedown",Be),()=>{document.removeEventListener("mousedown",Be)}))),Object(l.useEffect)((()=>{ae(F?e=>({...e,isAddressSelected:!0}):e=>({...e,isAddressSelected:!1}))}),[F]);const Be=e=>{Me.current&&!Me.current.contains(e.target)&&ke()},Ue=()=>{var e,t,o,l,i,d,r,n;return(null===ne||void 0===ne||null===(e=ne.addressLines)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.length)&&(null===ne||void 0===ne||null===(o=ne.city)||void 0===o?void 0:o.length)&&(null===ne||void 0===ne||null===(l=ne.pinCode)||void 0===l?void 0:l.length)&&(null===ne||void 0===ne||null===(i=ne.state)||void 0===i?void 0:i.length)&&(null===ne||void 0===ne||null===(d=ne.deliveryOptions)||void 0===d?void 0:d.length)&&(!de||(null===ne||void 0===ne||null===(r=ne.addressLines)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.length))&&!be&&!je},We=e=>{var t,o,l;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(l=e.availableServicesPerChannel)||void 0===l?void 0:l.filter((e=>{var t;return(null===e||void 0===e?void 0:e.channel)===G&&(null===e||void 0===e||null===(t=e.services)||void 0===t?void 0:t.disposition)===H})))},He=()=>{let e="".concat(Object(c.translateWithI18Next)("Address")," 1");const t=[...Q.map((e=>e.name))].filter((e=>e.indexOf(Object(c.translateWithI18Next)("Address"))>-1));return Ge(t,e)},Ge=(e,t)=>{let o=t;return e.includes(o)?(o=o.replace(/(\d+)+/g,((e,t)=>parseInt(t)+1)),Ge(e,o)):o},Ke=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:10,geohashprecision:Oe},l=s.a.calculateGH(o);M(Object(a.v)(null===l||void 0===l?void 0:l.length))};return Object(S.jsx)(O.a,{...t,dataTestId:"addressModalTest",setValue:we,value:Re,error:se,addresses:ne,handleChange:e=>{let{target:t}=e;const{name:o,value:l}=t,i=Object(u.Tc)(o===q.NAME,l,ne.name);if(o===J){var d;if(!(null===(d=/^\d+$/)||void 0===d?void 0:d.test(l))&&""!==l)return;ae({...ne,[o]:l})}if(o===q.DELIVERY_OPTION)return void ae({...ne,[o]:l!==m.zb[0]?l:""});const r={addressRegex:De,valueInfo:l,setSaveAddress:ae,addresses:ne,name:o};if(i){const e=(e=>!!Object(u.Tc)(!F,Q,Q.filter((e=>(null===e||void 0===e?void 0:e.id)!==(null===re||void 0===re?void 0:re.id)))).find((t=>{var o,l;return(null===t||void 0===t||null===(o=t.name.toUpperCase())||void 0===o?void 0:o.trim())===(null===e||void 0===e||null===(l=e.toUpperCase())||void 0===l?void 0:l.trim())})))(i);(null===De||void 0===De?void 0:De.test(i))?e?(pe(!0),he(!1)):(he(!1),pe(!1)):(pe(!1),he(!0))}else he(!1),pe(!1);if(o!==q.FLOOR)if(t.type!==q.CHECKBOX)ae({...ne,[o]:l});else{Q.find((e=>e.isPrimary&&e.id===ne.id))||ae({...ne,[o]:"true"!==l})}else(e=>{const{addressRegex:t,valueInfo:o,setSaveAddress:l,addresses:i,name:d}=e;if(null===t||void 0===t?void 0:t.test(o)){const e=[o,null===i||void 0===i?void 0:i.addressLines[1]];l({...i,[d]:o,addressLines:e,isFlatNumberSelected:!1})}})(r)},handleInput:e=>{if(null===ne||void 0===ne||!ne.isAddressSelected){we(e.target.value);const t=[null===ne||void 0===ne?void 0:ne.addressLines[0],e.target.value];ae({...ne,addressLines:t})}ve(!0)},ready:Pe,suggestionRef:Me,suggestions:Le,handleSelect:t=>{let{description:o,structured_formatting:{main_text:l,secondary_text:i}}=t;return()=>{var t,l;ve(!1),ce(!1),ke(),M(Object(a.u)()),Object(r.b)({address:o,componentRestrictions:{country:null===(t=e)||void 0===t||null===(l=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===l?void 0:l.REACT_APP_TENANT_CODE}}).then((e=>(Object(j.e)(m.Hd,e[0],we,ae,ke,Ue),Te(null===ne||void 0===ne?void 0:ne.addressLines[1]),Object(r.c)(e[0])))).then((e=>{s.a.calculateGH({lat:parseFloat(null===e||void 0===e?void 0:e.lat),lon:parseFloat(null===e||void 0===e?void 0:e.lng),distanceFromCurrentLoc:me,geoHashPrecision:Oe}),ae((t=>({...t,latitude:null===e||void 0===e?void 0:e.lat,longitude:null===e||void 0===e?void 0:e.lng,isAddressSelected:!0,isFlatNumberSelected:!0})))})).catch((e=>{console.log("Error: ",e)}))}},checkFormValidation:Se?()=>{var e,t,o,l;return(null===ne||void 0===ne||null===(e=ne.addressLines[1])||void 0===e?void 0:e.length)&&(null===ne||void 0===ne||null===(t=ne.city)||void 0===t?void 0:t.length)&&(null===ne||void 0===ne||null===(o=ne.pinCode)||void 0===o?void 0:o.length)&&(null===ne||void 0===ne||null===(l=ne.state)||void 0===l?void 0:l.length)&&!be&&!je}:Ue,handleSubmit:e=>{const t=(e=>{var t,o;let l={},i=["",""];return i[1]=e.addressLines[1],i[0]=Object(u.fb)(null===e||void 0===e?void 0:e.floor,e.addressLines[0]),l={addressId:Object(u.md)(null===e||void 0===e?void 0:e.id),addressName:Object(u.fb)(e.name,He()),city:e.city,postalCode:null===e||void 0===e?void 0:e.pinCode,state:e.state,country:Object(u.md)(e.country),isPrimary:Object(u.ob)(e.isPrimary,Q.length<1,!1),location:{latitude:Object(u.fb)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude,null===e||void 0===e?void 0:e.latitude),longitude:Object(u.fb)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude,null===e||void 0===e?void 0:e.longitude)},addressLines:i,deliveryInstructions:null===e||void 0===e?void 0:e.deliveryInstructions,deliveryOptions:null===e||void 0===e?void 0:e.deliveryOptions,placeId:null===e||void 0===e?void 0:e.placeId},l})(ne),o=null===z||void 0===z?void 0:z.filter(We),l=null===te||void 0===te?void 0:te.maxDriveTimeMins,i=Object(u.fb)(null===te||void 0===te?void 0:te.maxDeliveryDistanceMtrs,V),d=s.a.checkAndProceed({stores:o,disposition:H,distanceMetrics:null===te||void 0===te?void 0:te.distanceMetrics,driveTime:l,distanceInMtrs:i,noOfStores:Y});if(e&&U({savedAddressSucess:!0}),null!==d&&void 0!==d&&d.length||e){const{customerId:e,phoneNumber:o}=p.a.getInstance();M(Object(n.a)({customerId:e,phoneNumber:o,tenantId:ee,data:t})),Fe();const l=Object(u.Tc)(F,Object(c.translateWithI18Next)(Z),Object(c.translateWithI18Next)(X));Object(u.pf)(l,"","favorites-added-toast")}else ce(!0)},isNameExist:be,isInvalidName:je,handleClose:Fe,savedAddresses:Q,showSuggestions:ue,country:oe,countryNameInDefaultLang:le,setSaveAddress:ae,nonFormattedAddress:fe,setNonFormattedAddress:Te,addressFormConditions:Ce,seteligibleStoreData:Ie,showStores:Ne,setShowStores:Ee,showMapBasedField:Ae,setShowMapBasedFiled:xe,clearSuggestions:ke,showAddressMapView:Se,allStores:z,getUserLatLong:e=>{M(Object(g.b)()),M(Object(a.u)()),Ke(e.userLat,e.userLong),setTimeout((()=>{M(Object(g.a)())}),2e3)},dispatch:M,setError:ce})}}).call(this,o(112))},1088:function(e,t,o){"use strict";o.d(t,"a",(function(){return A})),o.d(t,"e",(function(){return x})),o.d(t,"f",(function(){return P})),o.d(t,"c",(function(){return R})),o.d(t,"d",(function(){return _})),o.d(t,"b",(function(){return w}));var l=o(6),i=o(4),d=o(15),r=o(215),n=o(1080),a=o(5),s=o(36),c=o(43),u=o(901),v=o(0),O=o(77),m=o(1023),b=o(2);const p=e=>Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.REORDER_FAVORITES)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"create-kfc-account-btn",className:"button transparent-btn black-border",onClick:()=>(e=>{const{orderDetails:t}=e,{total:o,currencyConversionFactor:l,customer:i}=t,{firstName:d,lastName:r,email:n,phoneNumber:s,id:c}=i;Object(u.a)(),sessionStorage.setItem(v.Ke.ORDER_TRACKING_CLICK_KFC_ACCOUNT,c);const b=sessionStorage.getItem(v.Ke.MARKETING_OPT_VAL),p="&userEmail=".concat(n?Object(m.b)(n):void 0);let j="userFirstName=".concat(Object(m.b)(d),"&userLastName=").concat(r?Object(m.b)(r):void 0).concat(p,"&userPhoneNumber=").concat(Object(m.b)(s));if(b){const e=JSON.parse(b),{Email:t,Phone:o}=e;j=t?"".concat(j,"&emailSubscription=").concat(t):j,j=o?"".concat(j,"&phoneSubscription=").concat(o):j}Object(O.a)(j),Object(u.d)({orderValue:Object(a.g)(o/l)})})(e),ariaLable:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CREATE_KFC_ACCOUNT),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CREATE_KFC_ACCOUNT)})})]}),j=e=>{var t;const{orderDetails:o,savedAddresses:d}=e,n=null===o||void 0===o||null===(t=o.deliveryAddress)||void 0===t?void 0:t.location,a=null===d||void 0===d?void 0:d.find((e=>{var t,o;const l=parseFloat(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)===parseFloat(null===n||void 0===n?void 0:n.latitude),i=parseFloat(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)===parseFloat(null===n||void 0===n?void 0:n.longitude);return l&&i})),{orderSummarySaveYourOrderCompleted:u,userStatus:v,savedAddressSucess:O,saveFavoriteSummarySucess:m,hideCreateAccountPanel:j}=o;return Object(b.jsx)("div",{className:"saveYourOrdersAndCreateKFCAccountContainer col-12",children:Object(r.I)(o)||Object(r.fb)(o)?(e=>{const{orderDetails:t}=e,{helpContantData:o}=t,{helpSectionCallDetails:d}=o;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.HERE_TO_HELP)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)("a",{tabIndex:"-1",href:"tel:"+(null===d||void 0===d?void 0:d.contactNo),className:"anchorTags",children:Object(b.jsxs)(s.a,{ariaLable:"contact us","data-testid":"contact-us-btn",className:"button transparent-btn black-border",children:[Object(b.jsx)(c.a,{srcFile:null===d||void 0===d?void 0:d.icon,alt:" ",className:"Messageimage"}),"".concat(null===d||void 0===d?void 0:d.buttonText," ").concat(null===d||void 0===d?void 0:d.contactNo)]})})})]})})(e):u&&null!==o&&void 0!==o&&o.deliveryAddress&&!a?(e=>{const{updateSetOrderDetails:t}=e;return Object(b.jsxs)("div",{className:"savingdivDelivery",children:[Object(b.jsx)("span",{className:"savingText",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.SAVE_ADDRESS_BOOK)}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-delivery-address",className:"button transparent-btn black-border",onClick:()=>t({isOpenSaveDeliveryAddressModal:!0}),ariaLable:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.SAVE_DELIVERY_ADDRESS),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.SAVE_DELIVERY_ADDRESS)})})]})})(e):null===v||void 0===v||!v.loggedIn||O||m?O||m||j?void 0:p(e):(e=>{var t,o;const{orderDetails:d,updateSetOrderDetails:r,saveOrderDescriptionText:n=(null===i.a||void 0===i.a?void 0:i.a.SAVE_YOUR_ORDERS_AND_CHECKOUT_FASTER),saveOrderButtonLabel:a=(null===i.a||void 0===i.a?void 0:i.a.SAVE_THIS_ORDER)}=e;return void 0===(null===d||void 0===d||null===(t=d.favouriteOrders)||void 0===t?void 0:t.find((e=>e.id===(null===d||void 0===d?void 0:d.orderId))))&&Object(b.jsxs)("div",{className:"savingdiv",children:[Object(b.jsx)("span",{className:"saving",children:null===(o=Object(l.translateWithI18Next)(n))||void 0===o?void 0:o.toUpperCase()}),Object(b.jsx)("span",{className:"saveButton",children:Object(b.jsx)(s.a,{"data-testid":"save-logged-order",className:"button transparent-btn black-border",onClick:()=>r({isOpenOrderSummarySaveYourOrderCheckoutFaster:!(null!==d&&void 0!==d&&d.isOpenOrderSummarySaveYourOrderCheckoutFaster)}),ariaLable:Object(l.translateWithI18Next)(a),children:Object(l.translateWithI18Next)(a)})})]})})(e)})};var h=o(1073),g=o(1058);const S=e=>{var t;const{orderDetails:o}=e,{storeName:d,displayOrderId:r}=o;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"catering-store-order",children:d}),r&&Object(b.jsx)("div",{className:"catering-store-order red",children:(null===(t=Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_HASH))||void 0===t?void 0:t.toUpperCase())+r})]})},C=e=>{const{orderDetails:t}=e,{orderStatus:o,deliveryOrEstimatedOrCollectAtTime:d}=t;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund ".concat(o,"-delivery"),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.COLLECTED_AT)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:d})]})},D=e=>{const{orderDetails:t}=e,{orderStatus:o}=t,l=Object(r.m)(t)?null===d.a||void 0===d.a?void 0:d.a.CartError:Object(r.n)(t)?null===d.a||void 0===d.a?void 0:d.a.ConfirmedImg:null===d.a||void 0===d.a?void 0:d.a.clockFeature;return""!==l&&Object(b.jsx)("img",{src:l,className:"statusIcon",alt:o})},f=e=>{const{orderDetails:t}=e,{orderStatus:o,service:d,selectedCateringOrderCollectionMethod:n,deliveryOrEstimatedOrCollectAtMonthDate:a,deliveryOrEstimatedOrCollectAtTime:s}=t,c=(e=>{var t;return Object(r.m)(e)?Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CANCEL_ORDER):Object(r.n)(e)?Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ENJOY_MEAL):"".concat(Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.THANK_YOU),", ").concat(null===e||void 0===e||null===(t=e.customer)||void 0===t?void 0:t.firstName.replace(/(.{7})..+/,"$1..."))})(t);return""!==c&&Object(b.jsxs)("div",{className:"allSet ".concat(o,"-allSet ").concat(d," ").concat(n," col-12 ").concat(Object(r.o)(t)?"":"p-0px-imp"),children:[Object(b.jsx)("div",{className:"statusMessage",children:c}),!Object(r.o)(t)&&Object(b.jsxs)("div",{className:"catering-order-deliver-details",children:["".concat(Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.YOUR_CATERING))," ",Object(b.jsx)("span",{className:"red",children:a})," ",Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.AT)," ",Object(b.jsx)("span",{className:"red",children:s})]}),!Object(r.o)(t)&&Object(b.jsx)("div",{className:"catering-confirmation-email-details",children:"".concat(Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.CATERING_CONFIRMATION_EMAIL))})]})},T=e=>{const{orderDetails:t}=e,{deliveryPartner:o,deliveryDetails:d}=t,n=(null===o||void 0===o?void 0:o.otp)||(null===d||void 0===d?void 0:d.otp);return!Object(r.o)(t)&&n&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"estimated-arrival estimated-arrival-refund driver-msg col-12",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ASK_FOR_OTP)}),Object(b.jsx)("div",{className:"idAndTime time-delivery",children:Object(b.jsx)("div",{className:"red otp",children:n})})]})},y=e=>Object(b.jsxs)(b.Fragment,{children:[!Object(r.o)(null===e||void 0===e?void 0:e.orderDetails)&&S(e),Object(r.n)(null===e||void 0===e?void 0:e.orderDetails)&&C(e),D(e),f(e),T(e)]}),I=e=>Object(b.jsx)(n.a,{...e}),N=()=>Object(b.jsx)("div",{className:"linebreak col-12"}),E=e=>{const t=null===e||void 0===e?void 0:e.hideCreateAccountSection,o={saveOrderDescriptionText:null===i.a||void 0===i.a?void 0:i.a.RECKON_TEXT,saveOrderButtonLabel:null===i.a||void 0===i.a?void 0:i.a.SAVE_TO_FAVOURITE_ORDER};if(!t)return Object(b.jsxs)("div",{className:"col-12 bottomPanel","data-testid":"bottomPanel",children:[N(),j({...e,...o})]})},A=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel ".concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(r.o)(t)?"redCard":"","  ").concat(o),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(o),children:y(e)})})}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&E(e)]})},x=e=>{var t;const{orderDetails:o}=e,{service:l,isMobileView:i,hideCancelOrderPanel:d,hidePickupCheckin:n}=o;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(l),children:[(Object(r.fb)(o)&&(null===o||void 0===o?void 0:o.enableRetryCountForPickupOrderTracking)||!Object(r.fb)(o))&&Object(b.jsxs)("div",{className:"col-12 col-lg-8 leftPanel ".concat(l),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 ".concat(Object(r.hb)(o)?"redCard":"","  ").concat(l),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12  ".concat(l),children:Object(g.a)(e)})}),Object(r.ib)(o)&&!(null!==o&&void 0!==o&&o.selectedPickupOrderCollectionMethod)&&(null===o||void 0===o||null===(t=o.pickupOrderAvailableCollectionPoints)||void 0===t?void 0:t.length)>0&&n&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.f)(e)]}),Object(b.jsxs)("div",{className:"col-12 col-lg-6 rightPanel ".concat(l),children:[I(e),!d&&!Object(r.hb)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&Object(g.e)(e)]}),!Object(r.mb)(o)&&!(null!==o&&void 0!==o&&o.disableTrackingFields)&&E(e),!d&&i&&!Object(r.hb)(o)&&Object(b.jsx)("div",{className:"col-12 ".concat(l," p-0px-imp"),children:N()})]})},P=e=>{const{orderDetails:t}=e,{service:o}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),E(e)]})},R=e=>Object(b.jsx)("div",{className:"orderSummaryContainer row giftcardorder",children:Object(b.jsx)("div",{className:"col-12 col-lg-8 leftPanel",children:Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 redCard",children:Object(b.jsxs)("div",{className:"giftcard-content",children:[Object(b.jsx)("div",{className:"giftcard-success",children:Object(b.jsx)("img",{src:null===d.a||void 0===d.a?void 0:d.a.ConfirmedImg,className:"statusIcon",alt:"tex"})}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_ONE)}),Object(b.jsx)("div",{className:"giftcard-success-msg",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.GIFT_CARD_PURCHASE_ORDER_SUCCESS_MESSAGE_PART_TWO)}),Object(b.jsx)("div",{className:"giftcard-success-status",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.GIFT_CARD_PURCHASE_MSG)}),Object(b.jsx)("div",{className:"gift-card-button",children:Object(b.jsx)("button",{"data-testid":"gift-card-button",className:"button giftcard-button",onClick:()=>Object(a.Ke)({history:e},!1,!0),children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.RETURN_TO_GIFT_CARD)})})]})})})}),_=e=>{const{displayOrderId:t}=e;return Object(b.jsxs)("div",{className:"orderNumber",children:[Object(b.jsx)("span",{className:"",children:Object(l.translateWithI18Next)(null===i.a||void 0===i.a?void 0:i.a.ORDER_HASH)}),t]})},w=e=>{const{orderDetails:t}=e,{service:o,isMobileView:l,enableCancelOrderCallsupportModal:i,showDeliveryTrackingMap:d,showDeliveryOrderRaiderDetailsView:n,showDeliveryDriverDetails:a,showOrderSummaryInfoDetails:s,orderStatusFlag:c}=t;return Object(b.jsxs)("div",{className:"orderSummaryContainer row ".concat(o),children:[Object(b.jsxs)("div",{className:"col-12 ".concat(!Object(r.K)(t)||s||c?"col-lg-6":"col-lg-8 m-auto"," leftPanel ").concat(o),children:[Object(b.jsx)("div",{className:"orderSummaryStatusContainer col-12 mb-1 ".concat(Object(r.L)(t)?"redCard":""," ").concat(Object(r.O)(t)||Object(r.C)(t)?Object(r.d)(t):"dasher-dropoff-updated"," "),children:Object(b.jsx)("div",{className:"orderSummaryStatusPanel col-12",children:Object(h.b)(e)})}),d&&l&&(Object(r.Q)(t)||Object(r.rb)(t))&&Object(b.jsx)("div",{className:"mt-20px",children:k(e)}),(a||n)&&Object(h.d)(e),!l&&(Object(r.Q)(t)||Object(r.rb)(t))&&Object(b.jsx)(b.Fragment,{children:I(e)})]}),Object(r.K)(t)&&s&&Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:I(e)}),Object(b.jsx)("div",{className:"col-12 col-lg-6 rightPanel ".concat(o),children:(!Object(r.K)(t)||c)&&(d&&!l&&(Object(r.Q)(t)||Object(r.rb)(t))?k(e):Object(b.jsxs)(b.Fragment,{children:[I(e),i&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&(Object(r.nb)(t)||Object(r.C)(t))&&Object(g.e)(e)]}))}),!Object(r.mb)(t)&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&E(e)]})},k=e=>{const{orderDetails:t}=e;return null!==t&&void 0!==t&&t.showOrderTrackingIFrame?Object(h.c)(e):Object(h.e)(e)}},1103:function(e,t,o){"use strict";(function(e){var l=o(3),i=o(6),d=o(36),r=o(43),n=o(121),a=o(154),s=o(1070),c=o(15),u=o(0),v=o(4),O=o(5),m=o(342),b=o(318),p=o(25),j=o(1104),h=o(990),g=o(351),S=o(63),C=o(18),D=o.n(C),f=o(2);const T=e=>{let{isNameExist:t,isInvalidName:o,SPECIAL_CHAR_ERROR:l,NAME_EXIST_ERROR:d}=e;return(t||o)&&Object(f.jsxs)("div",{className:"error-text-container",children:[Object(f.jsx)(r.a,{srcFile:c.a.Error}),Object(f.jsx)("span",{className:"error-text",children:Object(i.translateWithI18Next)(o?l:d)})]})},y=e=>{const{data:t,status:o,handleSelect:l,countryNameInDefaultLang:d}=e;return(null===o||void 0===o?void 0:o.toUpperCase())===a.b.OK?null===t||void 0===t?void 0:t.map((e=>{const{place_id:t,structured_formatting:{main_text:o,secondary_text:i}}=e;return Object(f.jsx)(f.Fragment,{children:e&&Object(f.jsxs)("li",{"data-testid":"address-suggestion-id",className:"address-suggestion-text",onClick:l(e),children:[Object(f.jsx)(r.a,{srcFile:c.a.SuggestionItemSearchPin,alt:"googleMapLocation",className:"suggetion-pin"}),Object(f.jsxs)("span",{className:"address-text",children:[o," ",i]})]},t)})})):(e=>(null===e||void 0===e?void 0:e.toUpperCase())===a.b.ZERO_RESULTS?Object(f.jsx)("div",{className:"noAddressText",children:Object(i.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.NO_ADDRESS_FOUND)}):null)(o)},I=(e,t)=>{const{floor:o,addressLines:l,isFlatNumberSelected:i}=e;return t&&(null===u.jf||void 0===u.jf?void 0:u.jf.some((e=>t.includes(e))))&&i?Object(b.y)(t):o||l[0]},N=(e,t,o)=>{const{addressLines:l}=e;return null!==u.jf&&void 0!==u.jf&&u.jf.some((e=>null===o||void 0===o?void 0:o.includes(e)))?o:t||(null===l||void 0===l?void 0:l[1])},E=(e,t,o)=>{((e,t,o)=>{(null===o||void 0===o?void 0:o.isAddressSelected)&&!t||e.preventDefault()})(e,t,o)};t.a=t=>{var o,C,A;const x=Object(p.c)((e=>e.tenantReducer)),P=null===x||void 0===x?void 0:x.addressValidRemove,R=null===x||void 0===x||null===(o=x.componentOptions)||void 0===o||null===(C=o.web)||void 0===C||null===(A=C.address)||void 0===A?void 0:A.addressNickNameCharacterLimit,{setValue:_,value:w,isOpen:k,handleClose:L,modalType:M,error:F,addresses:B,handleChange:U,handleInput:W,showSuggestions:H,ready:G,suggestionRef:K,suggestions:V,handleSelect:Y,checkFormValidation:q,handleSubmit:J,isNameExist:Z,isInvalidName:X,savedAddresses:z=[],isAddressFromOrderProcessing:Q=!1,countryNameInDefaultLang:$,setSaveAddress:ee,nonFormattedAddress:te,setNonFormattedAddress:oe,addressFormConditions:le,seteligibleStoreData:ie,showStores:de,setShowStores:re,showMapBasedField:ne,setShowMapBasedFiled:ae,clearSuggestions:se,showAddressMapView:ce,getUserLatLong:ue,dispatch:ve,allStores:Oe,setError:me,deliveryInstration:be=""}=t,{data:pe,status:je}=V,{ADD_NEW_ADDRESS:he,EDIT_DELIVERY_ADDRESS:ge,NOT_SERVICEABLE:Se,SPECIAL_CHAR_ERROR:Ce,NAME_EXIST_ERROR:De,ADDRESS_ERROR_MSG:fe,INITIAL_STATE:Te}=a.b,{CANCEL:ye,SAVE:Ie,ADDRESS_NICK_NAME:Ne,HAND_IT_TO_ME:Ee,LEAVE_AT_MY_DOOR:Ae,PLEASE_FILL_OUT_THIS_FIELD:xe,DELIVERY_OPTIONS_TOOL_TIP:Pe}=v.a,{ADDRESS:Re,APT_SUITE_FLOOR:_e,POSTAL_CODE:we,CITY_TOWN:ke,MAKE_THIS_DEFAULT_ADD:Le,STATE:Me,DELIVERY_OPTION:Fe,DELIVERY_INSTRUCTION:Be}=a.d,{disableCityTownField:Ue,disablePostalCodeField:We,disableStateField:He}=le,Ge=[Ee,Ae],Ke=[Object(i.translateWithI18Next)(Ee),Object(i.translateWithI18Next)(Ae)],Ve={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:k,classNames:"address-module-modal edit-addr-model",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:L,modalTitle:M?ge:he,autoFocus:!0};Object(l.useEffect)((()=>{te&&(null===u.jf||void 0===u.jf?void 0:u.jf.some((e=>te.includes(e))))&&te&&ee({...B,addressLines:[Object(b.y)(te),te]})}),[te]),Object(l.useEffect)((()=>{ce&&ve(Object(S.u)())}),[]),Object(l.useEffect)((()=>{var e;ne&&null!==B&&void 0!==B&&null!==(e=B.results)&&void 0!==e&&e.length&&Object(h.e)("",null===B||void 0===B?void 0:B.results[0],_,ee,se,q,"","","",ne)}),[null===B||void 0===B?void 0:B.results,ne]);const Ye=()=>Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"address-form-section",children:Object(f.jsxs)("div",{className:"form-container",children:[F&&Object(f.jsx)("div",{className:"error-service-msg",children:Object(i.translateWithI18Next)(Se)}),Object(f.jsxs)("form",{autocomplete:"off",children:[!ne&&Object(f.jsxs)("div",{className:"input-container",children:[(w||(null===B||void 0===B?void 0:B.addressLines[1]))&&Object(f.jsx)("div",{className:"remove-container",onClick:()=>(ee({...B,addressLines:[null===B||void 0===B?void 0:B.addressLines[0],""],isAddressSelected:!1,isFlatNumberSelected:!1}),_(""),I(Te),void oe("")),"data-testid":"clear-text-icon",children:Object(f.jsx)("img",{alt:"",src:m.a})}),Object(f.jsx)("input",{"data-testid":"search-input-address",value:N(B,w,te),onChange:W,disabled:!G,name:"addressLine",onFocus:()=>_(w),required:!0,type:"text",title:Object(i.translateWithI18Next)(xe)}),Object(f.jsxs)("label",{children:[Object(i.translateWithI18Next)(Re),"*"]}),H&&Object(f.jsx)("ul",{ref:K,className:"address-list",children:y({data:pe,status:je,handleSelect:Y,countryNameInDefaultLang:$})})]}),Object(f.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(f.jsxs)("div",{className:"input-container",children:[Object(f.jsx)("input",{required:!0,type:"text",name:"floor",value:I(B,te),onChange:U,"data-testid":"floor-test-id",maxLength:ce&&40,title:Object(i.translateWithI18Next)(xe)}),Object(f.jsx)("label",{children:Object(i.translateWithI18Next)(_e)})]}),Object(f.jsxs)("div",{className:"input-container ml5",children:[Object(f.jsx)("input",{required:!0,type:"text",name:"pinCode",onKeyDown:e=>E(e,We,B),onKeyPress:e=>E(e,We,B),value:null===B||void 0===B?void 0:B.pinCode,tabIndex:"-1","data-testid":"pincode-id",onChange:U,title:Object(i.translateWithI18Next)(xe),maxLength:ce&&5}),Object(f.jsxs)("label",{children:[Object(i.translateWithI18Next)(we),"*"]})]})]}),Object(f.jsxs)("div",{className:"d-flex adjust-width flex-dir",children:[Object(f.jsxs)("div",{className:"input-container",children:[Object(f.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"city",onKeyDown:e=>E(e,Ue,B),onKeyPress:e=>E(e,Ue,B),value:null===B||void 0===B?void 0:B.city,"data-testid":"city-id",onChange:U,title:Object(i.translateWithI18Next)(xe)}),Object(f.jsxs)("label",{children:[Object(i.translateWithI18Next)(ke),"*"]})]}),Object(f.jsxs)("div",{className:"input-container ml5",children:[Object(f.jsx)("input",{required:!0,type:"text",tabIndex:"-1",name:"state",onKeyDown:e=>E(e,He,B),onKeyPress:e=>E(e,He,B),value:null===B||void 0===B?void 0:B.state,"data-testid":"state-id",onChange:U,title:Object(i.translateWithI18Next)(xe)}),Object(f.jsxs)("label",{children:[Object(i.translateWithI18Next)(Me),"*"]})]})]}),Object(f.jsxs)("div",{className:ce?"col-12 delivery-option-select":"d-flex adjust-width flex-dir",children:[!ce&&Object(f.jsxs)("div",{className:"input-container",children:[Object(f.jsx)(s.b,{options:Ke,selectClassName:"select-deliveryOptions-selection",optionContainerClassName:"select-deliveryOptions-option-conatiner",optionClassName:"select-deliveryOptions-option",onChange:U,testid:"select-deliveryOptions",name:"deliveryOptions",required:!0,selectedValue:(null===B||void 0===B?void 0:B.deliveryOptions)||Object(i.translateWithI18Next)(null===Ge||void 0===Ge?void 0:Ge[0]),title:Object(i.translateWithI18Next)(Pe)}),Object(f.jsxs)("label",{children:[Object(i.translateWithI18Next)(Fe),"*"]})]}),Object(f.jsxs)("div",{className:"input-container ".concat(!ce&&"ml-5"),children:[Object(f.jsx)("input",{required:!0,type:"text",name:"deliveryInstructions",value:(null===B||void 0===B?void 0:B.deliveryInstructions)||be,"data-testid":"deliveryInstruction-id",onChange:U,maxlength:P?a.b.TH_DELIVERY_MAX_LENGTH:a.b.DELIVERY_MAX_LENGTH,title:Object(i.translateWithI18Next)(xe)}),Object(f.jsx)("label",{children:Object(i.translateWithI18Next)(Be)})]})]}),Object(f.jsxs)("div",{className:ce?"col-12 default-address-section default-address-sectionth default-selection":"default-address-section",children:[Object(f.jsx)("input",{type:"checkbox",name:"isPrimary","data-testid":"default-testid",id:"default-address",value:null===B||void 0===B?void 0:B.isPrimary,checked:Object(O.fb)(null===B||void 0===B?void 0:B.isPrimary,z.length<1||M&&z.length<=1),onChange:U,disabled:z.length<1||M&&z.length<=1,title:Object(i.translateWithI18Next)(xe)}),Object(f.jsx)("div",{className:"default-label-text",children:Object(f.jsx)("label",{htmlFor:"default-address",children:Object(i.translateWithI18Next)(Le)})})]})]})]})}),Object(f.jsxs)("div",{className:"text-center input-container",children:[Object(f.jsx)(d.a,{onClick:L,"data-testid":"close-testid",className:"mt-10 button font-bold whiteButton blackBorder",children:Object(i.translateWithI18Next)(ye)}),Object(f.jsx)(d.a,{disabled:!q()||F,className:"mt-10 button font-bold whiteButton blkColor ml5","data-testid":"submit-testid",onClick:()=>{J(Q)},children:Object(i.translateWithI18Next)(Ie)})]})]});return Object(f.jsx)("div",{className:"".concat(ce&&"map-modal-view"),children:Object(f.jsxs)(n.a,{...Ve,"data-testid":"address-modal-landing-page",children:[Object(f.jsx)(f.Fragment,{children:Z&&Object(f.jsx)("div",{className:"addr-error-container",children:Object(f.jsxs)("div",{className:"error-sub-container",children:[Object(f.jsx)(r.a,{srcFile:c.a.Error,className:"mr-1 location-alert-icon"}),Object(f.jsx)("div",{className:"error-msg",children:Object(i.translateWithI18Next)(fe)})]})})}),(()=>{return Object(f.jsx)("div",{className:"address-form-section",children:Object(f.jsx)("div",{className:"form-container",children:Object(f.jsx)("form",{autocomplete:"off",children:Object(f.jsxs)("div",{className:"input-container ".concat((Z||X)&&"error-input-container"),children:[Object(f.jsx)("input",{required:!0,type:"text","data-testid":"name-testid",name:"name",value:null===B||void 0===B?void 0:B.name,maxLength:R,onChange:U,title:Object(i.translateWithI18Next)(xe),className:(e=Z,t=X,e||t?"error-input":"")}),Object(f.jsx)("label",{children:Object(i.translateWithI18Next)(Ne)}),T({isNameExist:Z,isInvalidName:X,SPECIAL_CHAR_ERROR:Ce,NAME_EXIST_ERROR:De})]})})})});var e,t})(),ce&&(()=>{var t,o,l,i,d;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(j.a,{formContent:null===g.a||void 0===g.a||null===(t=g.a.contentData)||void 0===t||null===(o=t.searchStoreModalContent)||void 0===o?void 0:o.formContent,storeData:[],eligibleStoreData:[],currentMarket:null===(l=e)||void 0===l||null===(i=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===i||null===(d=i.REACT_APP_TENANT_CODE)||void 0===d?void 0:d.toUpperCase(),dispositionType:null===u.Jb||void 0===u.Jb?void 0:u.Jb.DELIVERY,seteligibleStoreData:ie,storeSelection:{signInLink:!0,useMyLocation:!0,placesSearchInput:!0},eligibleFavoriteStoreData:[],findAKFC:!1,finAKFCContentData:{},isMobile:!1,setShowStores:re,showStores:de,setShowMapBasedFiled:ae,addresses:B,setSaveAddress:ee,userPositionHandler:ue,allStores:Oe,setError:me}),D()(null===B||void 0===B?void 0:B.locationErrorObj)&&(null===B||void 0===B?void 0:B.isConfirmButtonClicked)&&ne&&Ye()]})})(),(Q||!ce)&&Ye()]})})}}).call(this,o(112))},1104:function(e,t,o){"use strict";var l=o(3),i=o(25),d=o(38),r=o(76),n=o(1006),a=o(216),s=o(5),c=o(266),u=o(0),v=o(6),O=o(318),m=o(111),b=o(61),p=o(4),j=o(22),h=o(1008),g=o(15),S=o(915),C=o(980),D=o(1007),f=o(18),T=o.n(f),y=o(2);const{MIN_SEARCH_CHARACTER_LIMIT:I,TYPE_DELIVERY:N}=d.a,{LOCATION_BLOCKED_ERROR:E,KFC_URL:A}=p.a,{KEY_CHAR_CODE:x}=u.Xf||{},{ENTER:P}=x||{},{Error_Yellow:R}=g.a;t.a=e=>{var t,o;const{userPositionHandler:d,dispositionType:u,storeSelection:g,setShowMapBasedFiled:f,addresses:N,setSaveAddress:x,formContent:_,allStores:w,setError:k}=e,L=Object(l.useRef)(null),M=Object(b.g)(),{userOrderState:F,userOrderStateDispatch:B}=Object(l.useContext)(r.a),{showLocationConfirmModal:U}=F,[W,H]=Object(l.useState)(!1),[G,K]=Object(l.useState)(!1),[V,Y]=Object(l.useState)(!1),[q,J]=Object(l.useState)(!1),[Z,X]=Object(l.useState)([]),[z,Q]=Object(l.useState)(""),[$,ee]=Object(l.useState)(!1),[te,oe]=Object(l.useState)(!1),le=Object(i.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[ie,de]=Object(l.useState)({}),re=Object(i.c)((e=>e.appStateReducer.userStatus)),{loggedIn:ne}=Object(s.kd)(re),{componentOptions:ae}=Object(i.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),se=null===ae||void 0===ae||null===(t=ae.web)||void 0===t?void 0:t.dispositionConfig,ce="DELIVERY_FORM",{shouldHandleKeyPress:ue,shouldPopulateFirstSuggestion:ve,filteredTypes:Oe,filterConditions:me,shouldShowLocationLink:be}={...null===m.d||void 0===m.d?void 0:m.d[ce],...null===se||void 0===se?void 0:se[ce]},pe=Object(s.xe)(U,be),[je,he]=Object(l.useState)(!1),{RETRY_BTN_TEXT:ge,ADDRESS_NOT_FOUND_ERROR:Se,VIEW_MAP_BTN_TEXT:Ce,SEARCH:De}=p.a,fe=Object(s.Ud)(window.innerWidth);Object(l.useEffect)((()=>{null!==N&&void 0!==N&&N.isLocationButtonClicked&&(null===w||void 0===w?void 0:w.length)>0?(x({...N,locationErrorObj:{}}),K(!0)):null===N||void 0===N||!N.isLocationButtonClicked||null!==w&&void 0!==w&&w.length||x({...N,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),firstBtnCTA:ye}})}),[w]),Object(l.useEffect)((()=>{var e,t,o;null!==N&&void 0!==N&&N.location&&(de({lat:parseFloat(null===N||void 0===N||null===(e=N.location)||void 0===e?void 0:e.latitude),lng:parseFloat(null===N||void 0===N||null===(t=N.location)||void 0===t?void 0:t.longitude)}),K(!0),Q(null===N||void 0===N||null===(o=N.addressLines)||void 0===o?void 0:o[1]),x({...N,isConfirmButtonClicked:!0,locationErrorObj:{}}),f(!0),oe(!0))}),[null===N||void 0===N?void 0:N.id]);const Te=()=>{x({...N,locationErrorObj:{}}),K(!0),H(!1)},ye=()=>{var e;!fe&&(null===L||void 0===L||null===(e=L.current)||void 0===e||e.select()),K(!1),H(!1),x({...N,name:null===N||void 0===N?void 0:N.name,locationErrorObj:{}}),he(!1)};Object(l.useEffect)((()=>{!T()(ie)&&x({...N,location:{latitude:null===ie||void 0===ie?void 0:ie.lat,longitude:null===ie||void 0===ie?void 0:ie.lng}})}),[ie]),Object(l.useEffect)((()=>{Object(O.f)(B,U)}),[B]);const Ie=Object(l.useCallback)((e=>{Object(O.I)(ue,(null===e||void 0===e?void 0:e.keyCode)===P,L,B),Object(O.K)(ve,(null===e||void 0===e?void 0:e.keyCode)===P,Z,Q,z)}),[ue,null===Z||void 0===Z?void 0:Z.length]),Ne=Object(l.useCallback)((async e=>{if(x({...N}),null===e||void 0===e||e.preventDefault(),K(!0),H(!1),f(!0),oe(!0),null!==N&&void 0!==N&&N.isLocationButtonClicked)x({...N,isConfirmButtonClicked:!0});else{const e=await Object(c.geocodeByAddress)(z);x({...N,results:e,isConfirmButtonClicked:!0})}}),[ue,Z,d,q,V]),Ee=Object(l.useCallback)((async(e,t)=>{const o=Object(O.o)(t,ue,Z,e,u);Y(o),J(e),H(!0),f(!1),Q(e),(async(e,t)=>{const o=await Object(c.geocodeByAddress)(e);(null===N||void 0===N?void 0:N.isLocationButtonClicked)&&x({...N,results:o});const l=await Object(c.getLatLng)(o[0]);(null===N||void 0===N||!N.isLocationButtonClicked)&&d({userLat:l.lat,userLong:l.lng}),de(l)})(o),K(!0),he(!1)}),[ue,Z,V,q]),Ae=document.getElementsByClassName("suggestion-list")[0];Object(l.useEffect)((()=>{Ae||!je||null!==N&&void 0!==N&&N.isLocationButtonClicked?x({...N,locationErrorObj:{},isConfirmButtonClicked:!(null===N||void 0===N||!N.id)}):x({...N,locationErrorObj:{showError:!0,errMsg:Object(v.translateWithI18Next)(Se),errDesc:null,firstBtnText:Object(v.translateWithI18Next)(ge),secondBtnText:Object(v.translateWithI18Next)(Ce),firstBtnCTA:ye,secondBtnCTA:Te}})}),[Ae,je]);const xe=()=>{var e;k(!1),Q(""),H(!1),K(!1),!fe&&(null===L||void 0===L||null===(e=L.current)||void 0===e||e.focus()),f(!1),x({addressId:"",city:"",pinCode:"",name:null===N||void 0===N?void 0:N.name,state:"",country:"",isPrimary:null===N||void 0===N?void 0:N.isPrimary,location:{latitude:"",longitude:""},addressLines:["",""],isSelectedAddress:!1,isFlatNumberSelected:!1,deliveryInstructions:"",isLocationButtonClicked:!1,results:[],id:null===N||void 0===N?void 0:N.id}),oe(!1),de({}),Y(""),J(""),he(!1)},Pe=Object(l.useCallback)(((e,t)=>{var o;e.length>2&&he(!0),H(!1),oe(!1),f(!1),null!==e&&void 0!==e&&e.trim()&&(J(e),Y(e)),e.trim()?Q(e):xe(),t&&G&&fe&&(null===L||void 0===L||null===(o=L.current)||void 0===o||o.blur())}),[xe]),{handleSelectAddress:Re}=Object(a.a)({handleSelectAddressGlobal:Ee}),_e=Object(l.useCallback)((async()=>{const e=await Object(a.b)(B,le),t=e&&await Object(c.geocodeByAddress)(j.b.address);if(e){K(!1),H(!0),x({...N,isLocationButtonClicked:!0,results:[null===t||void 0===t?void 0:t[0]],isConfirmButtonClicked:!1,locationErrorObj:{}}),Q(j.b.address),X([{description:j.b.address}]);const{longitude:e,latitude:o}=j.b.coordinates;d({userLat:o,userLong:e}),de({lat:o,lng:e}),k(!1),oe(!1)}Object(O.s)(B,!e)}),[B,d,u]);Object(l.useEffect)((()=>{const e=Object(s.d)(z,I);ee(e)}),[z]);return Object(y.jsx)("div",{className:"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(y.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(y.jsxs)("div",{id:"search-store-global-content",className:Object(O.u)(U),children:[Object(y.jsx)(S.a,{show:pe,errorMsg:Object(O.G)(E,A),errImage:R,cssClass:"location-blocked"}),Object(y.jsxs)("div",{className:"selectkfc-search-store-container",children:[Object(y.jsx)(D.a,{loggedIn:ne,formContent:_,storeSelection:g,useCurrentLocation:_e,hideLocationLink:!1,showLocationConfirmModal:U}),Object(y.jsx)(n.a,{...e,dataTestId:"ConfirmSearchAddress",storeSelection:g,history:M,inputOnChange:Pe,address:z,showAutoSuggestion:$,setSuggestedAddress:X,handleSelectAddress:Re,alreadySearched:a.c,onClearTextHandler:xe,keyPress:Ie,inputRef:L,placeholder:Object(v.translateWithI18Next)(De),filteredTypes:Oe,filterConditions:me,showConfirmBtn:!0,onClickHandler:Ne,confirm:W}),(null===N||void 0===N?void 0:N.locationErrorObj)&&Object(y.jsx)(C.a,{show:null===N||void 0===N||null===(o=N.locationErrorObj)||void 0===o?void 0:o.showError,dataTestId:"locationSearchError",errorObj:null===N||void 0===N?void 0:N.locationErrorObj})]})]}),G?Object(y.jsx)(h.a,{dataTestId:"SearchErrors",eligibleStores:[],defaultStoreId:"",loggedIn:ne,selectedCoords:ie,passAddress:(e,t)=>{const o=Object(s.Ud)(window.innerWidth);var l;(Pe(e,!0),X([{description:e}]),de(t),d({userLat:t.lat,userLong:t.lng}),o)||(null===L||void 0===L||null===(l=L.current)||void 0===l||l.focus());G&&(e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)})(L)},configSearchKey:ce,useCurrentLocation:_e,showLocationConfirmModal:!1,findAKFC:!1,disableUseLocationIcon:!0,disableMapSelection:te,markerDragValue:!0}):null]})})}},824:function(e,t,o){"use strict";o.r(t),o.d(t,"getDistanceByLatLong",(function(){return O})),o.d(t,"getGeoCodeByAddress",(function(){return m})),o.d(t,"getGeoLatLngByGeoCode",(function(){return b})),o.d(t,"getGeoLatLngByAddress",(function(){return p})),o.d(t,"GoogleMap",(function(){return T}));var l,i,d,r,n=o(3),a=o.n(n),s=o(15),c=o(43),u=o(22),v=o(2);const O=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.DistanceMatrixService;return new Promise(((o,l)=>{t.getDistanceMatrix({origins:[g(null===e||void 0===e?void 0:e.origins)],destinations:[g(null===e||void 0===e?void 0:e.destinations)],travelMode:(null===e||void 0===e?void 0:e.travelMode)||window.google.maps.TravelMode.DRIVING,unitSystem:(null===e||void 0===e?void 0:e.unitSystem)||window.google.maps.UnitSystem.METRIC,avoidHighways:(null===e||void 0===e?void 0:e.avoidHighways)||!1,avoidTolls:(null===e||void 0===e?void 0:e.avoidTolls)||!1},((e,t)=>{var i,d,r,n;t!==(null===(i=window)||void 0===i||null===(d=i.google)||void 0===d||null===(r=d.maps)||void 0===r||null===(n=r.GeocoderStatus)||void 0===n?void 0:n.OK)&&l(t),console.debug(e);const a=[];null===e||void 0===e||e.rows.forEach(((t,o)=>{var l,i,d,r,n;return a.push({destinationAddresses:null===e||void 0===e||null===(l=e.destinationAddresses)||void 0===l?void 0:l[o],originAddresses:null===e||void 0===e||null===(i=e.originAddresses)||void 0===i?void 0:i[o],distance:null===t||void 0===t||null===(d=t.elements)||void 0===d?void 0:d[0].distance,duration:null===t||void 0===t||null===(r=t.elements)||void 0===r?void 0:r[0].duration,status:null===t||void 0===t||null===(n=t.elements)||void 0===n?void 0:n[0].status})})),o(a)}))}))}},m=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps){const t=new window.google.maps.Geocoder;return new Promise(((o,l)=>{t.geocode({address:e},((e,t)=>{var i,d,r,n;t!==(null===(i=window)||void 0===i||null===(d=i.google)||void 0===d||null===(r=d.maps)||void 0===r||null===(n=r.GeocoderStatus)||void 0===n?void 0:n.OK)&&l(t),o(e)}))}))}return null},b=e=>{var t,o;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e?new Promise(((t,o)=>{try{var l;const o=Array.isArray(e)?e[0]:e;t(null===o||void 0===o||null===(l=o.geometry)||void 0===l?void 0:l.location)}catch(i){o(i)}})):null},p=async e=>{const t=await m(e);return await b(t)},j=e=>{var t,o,l,i;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(l=e.gMapDetails)||void 0===l||null===(i=l.gMapInstance)||void 0===i||i.setCenter(new window.google.maps.LatLng(null===e||void 0===e?void 0:e.latLng)))},h=(e,t)=>{var o;return null===(o=g(e))||void 0===o?void 0:o.equals(g(t))},g=e=>{var t,o;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&e){const t="string"===typeof e?null===e||void 0===e?void 0:e.split(","):e;if(null!==Array&&void 0!==Array&&Array.isArray(t))return new window.google.maps.LatLng(t[0],t[1]);if("object"===typeof t)return null!==t&&void 0!==t&&t.latitude&&null!==t&&void 0!==t&&t.longitude?new window.google.maps.LatLng(null===t||void 0===t?void 0:t.latitude,null===t||void 0===t?void 0:t.longitude):new window.google.maps.LatLng(t)}return e},S=e=>{var t,o,l,i,d,r;const{gMapDetails:n,directionsPolyline:a,origin:s,destination:c,isRaiderTracker:u}=e,{raiderDirectionsService:v}=n;null===v||void 0===v||null===(t=v.route({origin:s,destination:c,travelMode:null===(l=window)||void 0===l||null===(i=l.google)||void 0===i||null===(d=i.maps)||void 0===d||null===(r=d.TravelMode)||void 0===r?void 0:r.DRIVING}))||void 0===t||null===(o=t.then((e=>{var t,o,l,i,d,r;null!==e&&void 0!==e&&null!==(t=e.routes)&&void 0!==t&&t[0]&&(null===a||void 0===a||a.setPath(null===e||void 0===e||null===(o=e.routes)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.overview_path),u&&(null===n||void 0===n||null===(i=n.gMapInstance)||void 0===i||i.fitBounds(null===e||void 0===e||null===(d=e.routes)||void 0===d||null===(r=d[0])||void 0===r?void 0:r.bounds)))})))||void 0===o||o.catch((e=>console.debug("Directions request failed due to "+e)))},C=e=>{var t,o;const{gMapDetails:l,animation:i=null,position:d,icon:r,zIndex:n=1}=e,{gMapInstance:a,isMarkerVisible:s}=l;return null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&a?new window.google.maps.Marker({animation:i,position:d,map:a,visible:s,icon:r,zIndex:n}):null},D=e=>{var t,o;const{gMapDetails:l,updateGMapDetails:i}=e,{gMapInstance:d,orderTracking:r,customerLatLng:n,storeLatLng:a,raiderCurrentLatLng:c,raiderCurrentMarker:u,raiderDirectionsPolyline:v,raiderLatLngList:O}=l;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&d&&r&&n&&a&&c){var m,b,p,j;if(i({raiderLatLngList:[...O,c]}),h(a,c)||(e=>{var t,o;const{gMapInstance:l,orderTracking:i,raiderPastCurrentLatLng:d,raiderCurrentLatLng:r,raiderPastStrokeColor:n,raiderPastStrokeWeight:a,raiderPastStrokeOpacity:s}=null===e||void 0===e?void 0:e.gMapDetails;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&l&&i){const t=new window.google.maps.Polyline({strokeColor:n,strokeWeight:a,strokeOpacity:s,map:l});S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:d,destination:r})}})({gMapDetails:l,updateGMapDetails:i}),S({gMapDetails:l,directionsPolyline:v,origin:c,destination:n,isRaiderTracker:!0}),null!==u)null===u||void 0===u||u.setPosition(c);else i({raiderCurrentMarker:C({gMapDetails:l,position:c,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerRaider,zIndex:5,animation:null===(m=window)||void 0===m||null===(b=m.google)||void 0===b||null===(p=b.maps)||void 0===p||null===(j=p.Animation)||void 0===j?void 0:j.DROP})});i({raiderPastCurrentLatLng:c})}},f=async e=>{if(await(async()=>(await u.b.BindLocation(),u.b.address&&u.b.coordinates))()){const{longitude:t,latitude:o}=u.b.coordinates;j({gMapDetails:e,latLng:{lat:o,lng:t}})}},T=e=>{var t,o;const l=a.a.createRef(),[i,d]=Object(n.useState)(y),r=Object(n.useCallback)((e=>{d&&d((t=>({...t,...e})))}),[]);return Object(n.useEffect)((()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.google)&&void 0!==t&&t.maps&&l&&(null===i||void 0===i||!i.gMapInstance)){var o,d,n,a;console.debug("GoogleMap - useEffect Map => ");const e=(e=>{var t,o;const{gMapContainerRef:l,gMapDetails:i}=e;if(null!==(t=window)&&void 0!==t&&null!==(o=t.google)&&void 0!==o&&o.maps&&l){const{center:e,disableDefaultUI:t,fullscreenControl:o,zoomControl:d,gestureHandling:r,zoom:n,minZoom:a,maxZoom:s,mapTypeId:c,panControl:u,rotateControl:v,scaleControl:O,stylers:m}=i;return new window.google.maps.Map(null===l||void 0===l?void 0:l.current,{mapTypeId:c,center:e,disableDefaultUI:t,fullscreenControl:o,zoom:n,zoomControl:d,gestureHandling:r,minZoom:a,maxZoom:s,panControl:u,rotateControl:v,scaleControl:O,styles:m})}})({gMapContainerRef:l,gMapDetails:i});null===(o=window)||void 0===o||null===(d=o.google)||void 0===d||null===(n=d.maps)||void 0===n||null===(a=n.event)||void 0===a||a.addListenerOnce(e,"tilesloaded",(()=>{console.debug("GoogleMap - useEffect Map => tilesloaded"),r({mapRenderCompleted:!0,gMapInstance:e,raiderDirectionsService:new window.google.maps.DirectionsService})}))}}),[null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect gMapInstance => "),(null===i||void 0===i?void 0:i.gMapInstance)&&(async(e,t)=>{const{orderTracking:o=!1,storeAddress:l=null,storeLatLng:i=null,customerAddress:d=null,customerLatLng:r=null}=e;let n={orderTracking:o};if(l){const e=await p(l);n={...n,storeLatLng:e,raiderPastCurrentLatLng:e,storeAddress:l}}if(i&&(n={...n,storeLatLng:g(i),raiderPastCurrentLatLng:g(i),storeAddress:l}),d){const e=await p(d);n={...n,customerLatLng:e,customerAddress:d}}r&&(n={...n,customerLatLng:g(r),customerAddress:d}),t(n)})(e,r)}),[null===i||void 0===i?void 0:i.gMapInstance]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect mapTypeId => "),(null===i||void 0===i?void 0:i.gMapInstance)&&(e=>{var t,o,l,i,d,r,n;(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===e||void 0===e||null===(l=e.gMapInstance)||void 0===l||l.setMapTypeId(null===(i=window)||void 0===i||null===(d=i.google)||void 0===d||null===(r=d.maps)||void 0===r||null===(n=r.MapTypeId)||void 0===n?void 0:n[null===e||void 0===e?void 0:e.mapTypeId]))})(i)}),[null===i||void 0===i?void 0:i.mapTypeId]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect props mapTypeId => "),r({mapTypeId:null===e||void 0===e?void 0:e.mapTypeId})}),[null===e||void 0===e?void 0:e.mapTypeId]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,mapRenderCompleted:l}=i;e&&t&&o&&l&&(console.debug("GoogleMap - useEffect customer LatLng => "),C({gMapDetails:i,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerCustomer}),j({gMapDetails:i,latLng:o}))}),[null===i||void 0===i?void 0:i.customerLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,storeLatLng:o,mapRenderCompleted:l}=i;e&&t&&o&&l&&(console.debug("GoogleMap - useEffect store LatLng => "),C({gMapDetails:i,position:o,icon:null===s.a||void 0===s.a?void 0:s.a.MarkerKFC}),j({gMapDetails:i,latLng:o}))}),[null===i||void 0===i?void 0:i.storeLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:e,orderTracking:t,customerLatLng:o,storeLatLng:l,mapRenderCompleted:d}=i;console.debug("GoogleMap - useEffect store & customer LatLng => "),e&&t&&o&&l&&d&&(e=>{var t,o,l,i;const{gMapInstance:d,orderTracking:r,customerLatLng:n,storeLatLng:a,raiderStrokeColor:s,raiderStrokeWeight:c,raiderStrokeOpacity:u}=null===e||void 0===e?void 0:e.gMapDetails;if(console.debug("GoogleMap setRaiderDirectionsServicePolyline - ",null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps,d,r),null!==(l=window)&&void 0!==l&&null!==(i=l.google)&&void 0!==i&&i.maps&&d&&r){const t=new window.google.maps.Polyline({strokeColor:s,strokeWeight:c,strokeOpacity:u,map:d});null===e||void 0===e||e.updateGMapDetails({raiderDirectionsPolyline:t}),S({gMapDetails:null===e||void 0===e?void 0:e.gMapDetails,directionsPolyline:t,origin:a,destination:n,isRaiderTracker:!1})}})({gMapDetails:i,updateGMapDetails:r})}),[null===i||void 0===i?void 0:i.customerLatLng,null===i||void 0===i?void 0:i.storeLatLng]),Object(n.useEffect)((()=>{const{gMapInstance:t,orderTracking:o,mapRenderCompleted:l}=i;console.debug("GoogleMap - useEffect props raiderCurrentLatLng => ",null===e||void 0===e?void 0:e.raiderCurrentLatLng),t&&o&&(null===e||void 0===e?void 0:e.raiderCurrentLatLng)&&l&&r({raiderCurrentLatLng:g(null===e||void 0===e?void 0:e.raiderCurrentLatLng)})}),[null===i||void 0===i?void 0:i.mapRenderCompleted,null===e||void 0===e?void 0:e.raiderCurrentLatLng]),Object(n.useEffect)((()=>{console.debug("GoogleMap - useEffect raiderCurrentLatLng => ",null===i||void 0===i?void 0:i.raiderCurrentLatLng),(null===i||void 0===i?void 0:i.mapRenderCompleted)&&D({gMapDetails:i,updateGMapDetails:r})}),[null===i||void 0===i?void 0:i.raiderCurrentLatLng]),Object(n.useEffect)((()=>{const{isMobile:t=(null===y||void 0===y?void 0:y.isMobile),isMarkerVisible:o=(null===y||void 0===y?void 0:y.isMarkerVisible),orderTracking:l=(null===y||void 0===y?void 0:y.orderTracking),raiderPastStrokeColor:i=(null===y||void 0===y?void 0:y.raiderPastStrokeColor),raiderPastStrokeWeight:d=(null===y||void 0===y?void 0:y.raiderPastStrokeWeight),raiderPastStrokeOpacity:n=(null===y||void 0===y?void 0:y.raiderPastStrokeOpacity),raiderStrokeColor:a=(null===y||void 0===y?void 0:y.raiderStrokeColor),raiderStrokeWeight:s=(null===y||void 0===y?void 0:y.raiderStrokeWeight),raiderStrokeOpacity:c=(null===y||void 0===y?void 0:y.raiderStrokeOpacity),stylers:u=(null===y||void 0===y?void 0:y.stylers)}=e;console.debug("GoogleMap - useEffect props config => "),r({isMobile:t,isMarkerVisible:o,orderTracking:l,raiderPastStrokeColor:i,raiderPastStrokeWeight:d,raiderPastStrokeOpacity:n,raiderStrokeColor:a,raiderStrokeWeight:s,raiderStrokeOpacity:c,stylers:u})}),[null===e||void 0===e?void 0:e.isMobile,null===e||void 0===e?void 0:e.isMarkerVisible,null===e||void 0===e?void 0:e.orderTracking,null===e||void 0===e?void 0:e.raiderPastStrokeColor,null===e||void 0===e?void 0:e.raiderPastStrokeWeight,null===e||void 0===e?void 0:e.raiderPastStrokeOpacity,null===e||void 0===e?void 0:e.raiderStrokeColor,null===e||void 0===e?void 0:e.raiderStrokeWeight,null===e||void 0===e?void 0:e.raiderStrokeOpacity,null===e||void 0===e?void 0:e.stylers]),Object(n.useEffect)((()=>{var e,t;(null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.maps)&&(null===i||void 0===i?void 0:i.gMapInstance)&&(null===i||void 0===i||i.gMapInstance.setOptions({styles:null===i||void 0===i?void 0:i.stylers}))}),[null===i||void 0===i?void 0:i.gMapInstance,null===i||void 0===i?void 0:i.stylers]),Object(n.useEffect)((()=>{var t,o;const{customerAddress:l=null,customerLatLng:d=null,storeAddress:n=null,storeLatLng:a=null}=e;console.debug("GoogleMap - useEffect Props store & customer LatLng => "),(null===(t=window)||void 0===t||null===(o=t.google)||void 0===o?void 0:o.maps)&&(null===i||void 0===i?void 0:i.mapRenderCompleted)&&(!h(null===i||void 0===i?void 0:i.customerLatLng,d)||!h(null===i||void 0===i?void 0:i.storeLatLng,a))&&r({customerAddress:l,customerLatLng:g(d),storeAddress:n,storeLatLng:g(a)})}),[null===i||void 0===i?void 0:i.mapRenderCompleted,null===e||void 0===e?void 0:e.customerAddress,null===e||void 0===e?void 0:e.customerLatLng,null===e||void 0===e?void 0:e.storeAddress,null===e||void 0===e?void 0:e.storeLatLng]),Object(v.jsxs)("div",{className:"googleMapContPanel",children:[Object(v.jsx)("div",{className:"use-location-icon",children:Object(v.jsx)(c.a,{srcFile:null===s.a||void 0===s.a?void 0:s.a.UseLocationWhiteIcon,alt:"",onClick:()=>f(i),"data-testid":"use-location-icon"})}),Object(v.jsx)("div",{id:"google-map-container",ref:l,className:"googleMapContainer ".concat(null===e||void 0===e?void 0:e.className)})]})};t.default=T;const y={gMapInstance:null,defaultLatLng:[{lat:0,lng:0}],mapRenderCompleted:!1,raiderPastCurrentLatLng:null,raiderCurrentLatLng:null,raiderCurrentMarker:null,raiderDirectionsPolyline:null,raiderDirectionsService:null,raiderLatLngList:[],mapTypeId:null===(l=window)||void 0===l||null===(i=l.google)||void 0===i||null===(d=i.maps)||void 0===d||null===(r=d.MapTypeId)||void 0===r?void 0:r.ROADMAP,center:{lat:0,lng:0},disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!0,zoom:13,gestureHandling:"greedy",minZoom:6,maxZoom:20,panControl:!1,rotateControl:!0,scaleControl:!0,isMobile:!1,isMarkerVisible:!0,orderTracking:!1,customerAddress:null,customerLatLng:null,storeAddress:null,storeLatLng:null,raiderPastStrokeColor:"#202124",raiderPastStrokeWeight:2,raiderPastStrokeOpacity:.8,raiderStrokeColor:"#e4002b",raiderStrokeWeight:4,raiderStrokeOpacity:1,stylers:[]}},901:function(e,t,o){"use strict";o.d(t,"e",(function(){return a})),o.d(t,"f",(function(){return s})),o.d(t,"d",(function(){return c})),o.d(t,"h",(function(){return u})),o.d(t,"g",(function(){return v})),o.d(t,"a",(function(){return O})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return b}));var l=o(19),i=o(9),d=o(5),r=o(320),n=o(0);const a=async(e,t)=>{var o;await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===i.a||void 0===i.a||null===(o=i.a.upsizeSelectedPwa)||void 0===o?void 0:o.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},d.xb))},s=async e=>{var t;await l.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},d.xb)},c=async e=>{var t;await l.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},d.xb)},u=async e=>{var t,o,r,n,a;const{eventFlag:s,itemsArray:c,userType:u="",totalAmount:v="",couponCode:O="",currencyShortName:m=""}=e,b=await(null===c||void 0===c?void 0:c.length)>0&&((null===c||void 0===c||null===(t=c[0])||void 0===t?void 0:t.item_name)===(null===c||void 0===c||null===(o=c[1])||void 0===o?void 0:o.item_name)?[null===c||void 0===c?void 0:c[0]]:c);await(null===c||void 0===c?void 0:c.length)>0&&l.a.registerEvent(null===i.a||void 0===i.a||null===(r=i.a[s])||void 0===r?void 0:r.name,{data:{event:s,userType:u||"",ecommerce:{items:b,currency:m||"",value:v||(null===b||void 0===b||null===(n=b[0])||void 0===n?void 0:n.price)*(null===b||void 0===b||null===(a=b[0])||void 0===a?void 0:a.quantity)||"",coupon:O||""}}},d.xb)},v=async(e,t)=>{var o;await l.a.registerEvent(null===i.a||void 0===i.a||null===(o=i.a.viewItemList)||void 0===o?void 0:o.name,{data:{event:r.u,disposition:Object(d.h)(t),ecommerce:{items:e||[]}}},d.xb)},O=async()=>{var e;await l.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},d.xb)},m=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:n.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:o}}}}))},b=async e=>{var t,o,r;await(null===l.a||void 0===l.a?void 0:l.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:n.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_name,item_list_id:null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r.item_list_id,ecommerce:{items:e||[]}}},d.xb))}},939:function(e,t,o){"use strict";o.d(t,"q",(function(){return T})),o.d(t,"b",(function(){return y})),o.d(t,"s",(function(){return I})),o.d(t,"k",(function(){return N})),o.d(t,"o",(function(){return A})),o.d(t,"e",(function(){return P})),o.d(t,"i",(function(){return _})),o.d(t,"j",(function(){return w})),o.d(t,"f",(function(){return L})),o.d(t,"d",(function(){return M})),o.d(t,"c",(function(){return F})),o.d(t,"m",(function(){return B})),o.d(t,"l",(function(){return U})),o.d(t,"n",(function(){return W})),o.d(t,"r",(function(){return H})),o.d(t,"g",(function(){return G})),o.d(t,"h",(function(){return K})),o.d(t,"a",(function(){return V})),o.d(t,"t",(function(){return Y})),o.d(t,"p",(function(){return q}));var l=o(30),i=o(102),d=o(42),r=o(138),n=o(63),a=o(220),s=o(1018),c=o(12),u=o(13),v=o(0),O=o(22),m=o(49),b=o(62),p=o(5),j=o(215),h=o(958),g=o(14),S=o(11);const C=(e,t,o)=>{null!==e&&void 0!==e&&e.isExternalTrackOrder||t||E(o)},D=e=>{let{displayOrderProcessingPage:t,orderDetails:o,service:l,updateSetOrderDetails:i,showOrderSummaryOnSentToPosFailed:d=!1}=e;(d||t&&(!Object(j.ob)(o)&&!Object(j.j)()&&!Object(j.X)()||Object(j.i)(o)||Object(j.W)(o)||Object(p.yd)(l)&&!Object(j.pb)(o)))&&i({displayOrderProcessingPage:!1})},f=(e,t,o)=>{Object(j.p)(e)&&t({retryCountForGetOrderTrackingStatus:o+1})},T=e=>{var t,o;const{orderDetails:l,updateSetOrderDetails:i,userOrderState:d}=e;(null===l||void 0===l||null===(t=l.userStatus)||void 0===t?void 0:t.loggedIn)&&(null===JSON||void 0===JSON?void 0:JSON.parse(null===(o=sessionStorage)||void 0===o?void 0:o.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))||(Object(j.l)(l)&&Object(m.B)({orderDetails:l,userOrderState:d}),!Object(j.ib)(l)&&!Object(j.J)(l)||null!==l&&void 0!==l&&l.isAnalyticsUpdated||(Object(m.B)({orderDetails:l,userOrderState:d}),i({isAnalyticsUpdated:!0})))},y=e=>{localStorage.getItem(v.gd.POST_PAYMENT_TYPE)===v.oe.GIFT_CARD_PURCHASE&&(localStorage.setItem(v.gd.PAYMENT_STATUS,v.Td.SUCCESS),Object(p.Ke)(e))},I=e=>{var t,o;const l=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING));if(l&&null!==Object&&void 0!==Object&&null!==(o=Object.keys(l))&&void 0!==o&&o.length){const{dispatch:t,updateSetOrderDetails:o}=e;null!==l&&void 0!==l&&l.postOrderDetails&&0===Object.keys(null===l||void 0===l?void 0:l.postOrderDetails).length&&x({dispatch:t,orderDetails:l,updateSetOrderDetails:o})}else A(e)},N=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l,miscPaymentReferenceId:i}=e;if((null===o||void 0===o?void 0:o.tenantId)&&Object(j.p)(o)&&l({displayOrderProcessingPage:!1}),null!==o&&void 0!==o&&o.orderId&&Object(j.db)(o)){const e=setTimeout((()=>{const d=JSON.parse(sessionStorage.getItem(v.gd.ORDER_TRACKING)||"{}").orderId;null!==o&&void 0!==o&&o.orderId&&d&&d!==(null===o||void 0===o?void 0:o.orderId)?clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer):((null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchDeliveryOrderTrackerTimer),l({dispatchDeliveryOrderTrackerTimer:e}),x({dispatch:t,orderDetails:o,updateSetOrderDetails:l,miscPaymentReferenceId:i}))}),Object(u.a)(c.E))}},E=e=>{const{dispatch:t,orderDetails:o,cartReducer:i,userOrderState:d,appStateReducer:r,updateSetOrderDetails:n}=e,{service:a}=o,s=(null===O.b||void 0===O.b?void 0:O.b.shouldGoogleSpotIgnoreOloFailure)||Object(j.nb)(o)||Object(j.l)(o);if(Object(p.Dd)(a)&&s){var c;const e=null===r||void 0===r?void 0:r.userStatus;Object(p.l)(s,!(null!==i&&void 0!==i&&i.isBasketLoading),null===i||void 0===i||null===(c=i.cartData)||void 0===c?void 0:c.id,null===e||void 0===e?void 0:e.localized,null===o||void 0===o?void 0:o.tenantId)&&(n({isBasketsCreated:!0}),Object(p.G)(t,l.f,null===o||void 0===o?void 0:o.tenantId,d),Object(p.hf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SELECTED_NOT_NOW,value:!1},t),Object(p.hf)({key:null===v.gd||void 0===v.gd?void 0:v.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1},t))}},A=e=>{var t;const{dispatch:o,postOrderReducer:l={},orderReducer:i={},orderDetails:d,updateSetOrderDetails:r,userOrderStateDispatch:n}=e,a=Object(h.f)({postOrderReducer:l,orderReducer:i,orderDetails:d,isCheckOrderDetails:!1}),{props:s,orderId:O,retryCountForGetOrderStatus:m,miscPaymentReferenceId:b,wiCodePurchaseId:g,orderTrackingID:S}=d;S||d&&(O||b||g)&&Object(j.sb)(d)?0===m||(Object(j.ob)(a)||Object(j.h)(d)||Object(j.V)(d))&&m<Object(u.a)(c.D)?x({dispatch:o,orderDetails:d,updateSetOrderDetails:r,userOrderStateDispatch:n}):(Object(j.ob)(a)||Object(j.h)(d)||Object(j.V)(d))&&m>=Object(u.a)(c.D)&&(localStorage.setItem(v.Td.STATUS_TEXT,v.Td.FAILED),Object(p.Se)(s)):null!==e&&void 0!==e&&null!==(t=e.orderDetails)&&void 0!==t&&t.orderId&&Object(p.Me)(s)},x=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l=null,userOrderStateDispatch:i}=e;null!==o&&void 0!==o&&o.isExternalTrackOrder?P({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):Object(j.j)()?_({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):Object(j.X)()?w({dispatch:t,orderDetails:o,updateSetOrderDetails:l}):R({dispatch:t,orderDetails:o,updateSetOrderDetails:l,userOrderStateDispatch:i})},P=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l=null}=e,d={emailId:null===o||void 0===o?void 0:o.userEmail,phoneNo:null===o||void 0===o?void 0:o.userPhone,orderNo:null===o||void 0===o?void 0:o.posOrderId,tenantId:null===o||void 0===o?void 0:o.tenantId},r=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(i.d)(d,(()=>k({count:r,updateSetOrderDetails:l}))))},R=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l=null,userOrderStateDispatch:i}=e;if(null!==o&&void 0!==o&&o.orderTrackingID){const e={orderId:null===o||void 0===o?void 0:o.orderTrackingID,tenantId:null===o||void 0===o?void 0:o.tenantId,Email:null===o||void 0===o?void 0:o.orderTrackingEmail},d=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.g)(e,(e=>{var t;let r=!1;e.errors&&e.errors.length>0&&(r=!0),l({selectedPickupOrderCollectionMethod:null===e||void 0===e||null===(t=e.collectionPoint)||void 0===t?void 0:t.name});let n=localStorage.getItem(v.gd.USER_LANGUAGE);if("true"!==localStorage.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED)&&n!==(null===e||void 0===e?void 0:e.lang)){let t=null===e||void 0===e?void 0:e.lang,o={key:t,short_value:null===t||void 0===t?void 0:t.split("-")[1]};localStorage.setItem(v.gd.DEFAULT_LANGUAGE,JSON.stringify(o)),Object(p.bd)({defaultLanguage:t,language:t},i),localStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.HAS_LANGUAGE_CHANGED,!0),setTimeout((()=>window.location.reload()),500)}k({count:d,orderDetails:o,hasError:r,updateSetOrderDetails:l})})))}else{const e={orderId:null===o||void 0===o?void 0:o.orderId,tenantId:null===o||void 0===o?void 0:o.tenantId,customerId:null===o||void 0===o?void 0:o.customerId},i=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.f)(e,(()=>k({count:i,orderDetails:o,updateSetOrderDetails:l}))))}},_=e=>{if(Object(j.j)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,i={tenantId:null===o||void 0===o?void 0:o.tenantId,miscPaymentReferenceId:null===o||void 0===o?void 0:o.miscPaymentReferenceId},d=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.d)(i,(()=>k({count:d,orderDetails:o,updateSetOrderDetails:l}))))}},w=e=>{if(Object(j.X)()){const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,i={tenantId:null===o||void 0===o?void 0:o.tenantId,wiCodePurchaseId:null===o||void 0===o?void 0:o.wiCodePurchaseId},d=(null===o||void 0===o?void 0:o.retryCountForGetOrderStatus)+1;t(Object(r.e)(i,(()=>k({count:d,orderDetails:o,updateSetOrderDetails:l}))))}},k=e=>{const{count:t,orderDetails:o,hasError:l,updateSetOrderDetails:i}=e;if(i){const e=setTimeout((()=>{(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer)&&clearTimeout(null===o||void 0===o?void 0:o.dispatchGetOrderStatusTimer),i({retryCountForGetOrderStatus:t,dispatchGetOrderStatusTimer:e,hasError:l})}),Object(u.a)(c.F))}},L=e=>{e(Object(a.a)({object:Object(b.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))},M=e=>{e(Object(s.a)({object:Object(b.a)(),contentFull:{content_type:"staticLandingPage","fields.page":"Support Help",include:"5"}}))},F=e=>{var t,o,l,i,d;const{service:r,store:a,tenantId:s,deliveryAddress:c}=null===e||void 0===e?void 0:e.orderDetails;let u=(null===r||void 0===r?void 0:r.toUpperCase())===v.Jb.DELIVERY;const m=[{storeId:null===a||void 0===a?void 0:a.storeId,channel:O.b.channel,service:r,dropoffAddress:{city:null===c||void 0===c?void 0:c.city,state:null===c||void 0===c?void 0:c.state,zipCode:null===c||void 0===c?void 0:c.pinCode,street:null===c||void 0===c||null===(t=c.addressLines)||void 0===t?void 0:t.join(","),...u&&(null===e||void 0===e||null===(o=e.latLong)||void 0===o?void 0:o.lat)&&{latitude:null===e||void 0===e||null===(l=e.latLong)||void 0===l?void 0:l.lat},...u&&(null===e||void 0===e||null===(i=e.latLong)||void 0===i?void 0:i.lng)&&{longitude:null===e||void 0===e||null===(d=e.latLong)||void 0===d?void 0:d.lng}}}];null===e||void 0===e||e.dispatch(Object(n.d)({data:m,tenantId:s,isFavoritePage:!1}))},B=e=>{var t,o,l,n,a,s,c,u,O;const{dispatch:m,beforeUnload:b=!1,orderDetails:p={}}=e,{userStatus:h={}}=p,g=sessionStorage.getItem(v.Ke.ORDER_TRACKING_CLICK_KFC_ACCOUNT);var S;b&&((null===(t=window)||void 0===t||null===(o=t.location)||void 0===o?void 0:o.pathname)===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.ORDER_SUMMARY)||(null===(l=window)||void 0===l||null===(n=l.location)||void 0===n?void 0:n.pathname)===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.CHECKOUT))||g||(m(Object(d.z)()),(null===(a=localStorage)||void 0===a?void 0:a.getItem(null===v.gd||void 0===v.gd?void 0:v.gd.PAYMENT_STATUS))!==(null===v.Td||void 0===v.Td?void 0:v.Td.FAILED)&&(m(Object(r.h)()),m(Object(i.e)())),m(Object(i.a)({value:[]})),((null===(s=window)||void 0===s||null===(c=s.location)||void 0===c?void 0:c.pathname)!==(null===v.Ae||void 0===v.Ae?void 0:v.Ae.ORDER_SUMMARY)||null!==h&&void 0!==h&&h.loggedIn||(null===h||void 0===h||!h.loggedIn)&&(null===(u=window)||void 0===u||null===(O=u.location)||void 0===O?void 0:O.pathname)===(null===v.Ae||void 0===v.Ae?void 0:v.Ae.ORDER_SUMMARY)&&Object(j.bb)(p))&&(null===(S=sessionStorage)||void 0===S||S.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING)))},U=e=>{const{orderDetails:t,updateSetOrderDetails:o}=e,{props:l,service:i,displayOrderProcessingPage:d,retryCountForGetOrderTrackingStatus:r,orderAcceptedLoading:n,isBasketsCreated:a,customer:s,tenantId:c,userStatus:u}=t;if(Object(j.sb)(t)&&!n){if((e=>Object(j.fb)(e)&&!(null!==e&&void 0!==e&&e.enableRetryCountForPickupOrderTracking))(t))sessionStorage.setItem(v.Ke.PICKUP_ORDER_CANCELLED,t.orderId),Object(p.Me)(l);else if((e=>Object(j.S)(e)||Object(j.g)(e)||Object(j.U)(e))(t)){var O;null===(O=localStorage)||void 0===O||O.setItem(null===v.Td||void 0===v.Td?void 0:v.Td.STATUS_TEXT,null===v.Td||void 0===v.Td?void 0:v.Td.FAILED);const n=null===t||void 0===t?void 0:t.showOrderSummaryOnSentToPosFailed;n&&Object(j.mb)(t)?(C(t,a,e),D({displayOrderProcessingPage:d,orderDetails:t,service:i,updateSetOrderDetails:o,showOrderSummaryOnSentToPosFailed:n}),f(t,o,r)):Object(p.Se)(l)}else C(t,a,e),D({displayOrderProcessingPage:d,orderDetails:t,service:i,updateSetOrderDetails:o}),f(t,o,r);(e=>{let{userStatus:t,customer:o,tenantId:l,orderDetails:i}=e;null!==t&&void 0!==t&&t.loggedIn||Object(j.j)()||Object(j.X)()||H({trackDetails:{customer:o,tenantId:l},orderDetails:i})})({userStatus:u,customer:s,tenantId:c,orderDetails:t})}},W=e=>{var t,o;const{orderDetails:l,dispositionPaymentPage:i,userOrderStateDispatch:d}=e,r={deliveryAddress:Object(p.Wb)(null===l||void 0===l?void 0:l.deliveryAddress,null===l||void 0===l?void 0:l.showStateCityAddAddress),store:null===l||void 0===l?void 0:l.store,type:null===l||void 0===l?void 0:l.service},n=(null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(v.gd.DISPOSITION_NEW)))||{};n.orderDetails=r,null===(o=localStorage)||void 0===o||o.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.DISPOSITION_NEW,null===JSON||void 0===JSON?void 0:JSON.stringify(n)),d({type:null===g.a||void 0===g.a?void 0:g.a.SET_DISPOSITION_NEW,value:{dispositionNew:{...i,orderDetails:r}}})},H=e=>{const{trackDetails:t,orderDetails:o,redirectTo:l,props:i}=e,{customer:d,tenantId:r}=t;if(null!==o&&void 0!==o&&o.id||null!==o&&void 0!==o&&o.orderId){const e=null!==o&&void 0!==o&&o.orderId?{...o,tenantId:r}:{...Object(h.j)({postOrPastOrderDetails:{...o},customer:d}),tenantId:r};e.postOrderDetails={},e.dispatch=null,e.storesReducer=null,e.additionalChargeLines=null,e.additionalCharges=null,e.filteredFoodLines=null,e.foodLines=null,e.operatingTime=null,e.operatingTimeFromStoreReducer=null,e.props=null,sessionStorage.setItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING,JSON.stringify(e)),l&&l(i)}else console.error(JSON.stringify(o)),Object(p.Se)(i)},G=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,{orderId:i,customerId:d,tenantId:n}=o,a={orderId:i,tenantId:n,customerId:d,paramData:{reason:"default",channel:"web",isRefundable:!1}};t(Object(r.a)(a,(()=>{var e;null===(e=sessionStorage)||void 0===e||e.removeItem(null===v.gd||void 0===v.gd?void 0:v.gd.ORDER_TRACKING),x({dispatch:t,orderDetails:o,updateSetOrderDetails:l})}))),l({isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowStoreClosePickupOrderCancelModal:!1})},K=e=>{const{dispatch:t,orderDetails:o,updateSetOrderDetails:l}=e,{orderId:i,customerId:d,tenantId:n,selectedPickupOrderCollectionMethod:a,collectionPoint:{carNumber:s=null}={}}=o,c={orderId:i,tenantId:n,customerId:d,paramData:{name:a,bayNumber:0,checkInSummary:"",carNumber:s}};t(Object(r.b)(c,(e=>((e,t)=>{var o;null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e||null===(o=e.errors)||void 0===o?void 0:o.length)>0&&t({isShowStoreClosePickupOrderCancelModal:!0})})(e,l))))},V=e=>{var t,o;const{orderReducer:l,paymentsContentReducer:i,orderDetails:d,updateSetOrderDetails:r,props:n,tenantReducer:a}=e;var s,c,u;null!==l&&void 0!==l&&null!==(t=l.response)&&void 0!==t&&null!==(o=t.order)&&void 0!==o&&o.id&&(0===(null===l||void 0===l||null===(s=l.response)||void 0===s||null===(c=s.order)||void 0===c||null===(u=c.tenders)||void 0===u?void 0:u.length)?Object(p.Ee)(n):Object(h.s)({orderReducer:l,paymentsContentReducer:i,orderDetails:d,updateSetOrderDetails:r,tenantReducer:a}))},Y=(e,t,o)=>{var l,i,d;const r=null!==e&&void 0!==e&&null!==(l=e.storesWithStatus)&&void 0!==l&&l.length?null===e||void 0===e||null===(i=e.storesWithStatus)||void 0===i?void 0:i[0]:{};(null===t||void 0===t||null===(d=t.store)||void 0===d?void 0:d.timings)&&o({store:{...null===t||void 0===t?void 0:t.store,...null===r||void 0===r?void 0:r.summary}})},q=e=>{var t,o,l,i,d,r,n,a,s,c;Object(m.z)({userType:null!==e&&void 0!==e&&null!==(t=e.userStatus)&&void 0!==t&&t.loggedIn?"lo-member":"lo-guest",tip_amount:null===e||void 0===e?void 0:e.tipCharge,bottle_deposit:null===e||void 0===e?void 0:e.bottleDepositChargeTotal,storeID:null===e||void 0===e||null===(o=e.postOrderDetails)||void 0===o||null===(l=o.store)||void 0===l?void 0:l.storeId,payment_type:null===e||void 0===e||null===(i=e.paymentReferences)||void 0===i||null===(d=i[0])||void 0===d?void 0:d.paymentType,state:null===e||void 0===e||null===(r=e.store)||void 0===r||null===(n=r.address)||void 0===n?void 0:n.state,orderTime:Object(S.R)(null===e||void 0===e?void 0:e.displayFormatOrderTime,v.sb.H_MM_A,v.sb.HH_mm),CheckInTime:Object(S.e)(v.sb.HH_mm),checkInlocation:null===e||void 0===e||null===(a=e.collectionPoint)||void 0===a?void 0:a.name,eventType:2,disposition:null===e||void 0===e?void 0:e.service,purchase_day:Object(S.e)(v.sb.DDDD),transaction_id:null===e||void 0===e||null===(s=e.paymentReferences)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.transactionId})}},958:function(e,t,o){"use strict";o.d(t,"n",(function(){return b})),o.d(t,"e",(function(){return p})),o.d(t,"f",(function(){return C})),o.d(t,"w",(function(){return D})),o.d(t,"t",(function(){return f})),o.d(t,"q",(function(){return T})),o.d(t,"u",(function(){return y})),o.d(t,"m",(function(){return I})),o.d(t,"v",(function(){return N})),o.d(t,"s",(function(){return E})),o.d(t,"j",(function(){return A})),o.d(t,"o",(function(){return w})),o.d(t,"g",(function(){return k})),o.d(t,"h",(function(){return L})),o.d(t,"i",(function(){return M})),o.d(t,"p",(function(){return F})),o.d(t,"d",(function(){return W})),o.d(t,"k",(function(){return H})),o.d(t,"l",(function(){return G})),o.d(t,"a",(function(){return K})),o.d(t,"b",(function(){return V})),o.d(t,"c",(function(){return Y})),o.d(t,"r",(function(){return q}));var l=o(0),i=o(378),d=o(5),r=o(11),n=o(215),a=o(18),s=o.n(a),c=o(6),u=o(51),v=o(4),O=o(939),m=o(1073);const b={tenantId:null,currencyCode:null,currencySymbol:null,currencyShortName:null,showCarryBagInLineItem:null,addHope:null,carryBag:null,currencyConversionFactor:null,pastOrderDateformat:"",pastOrderTimeFormat:"",storeSearch:null,driveTime:null,buffertimepmpickup:null,buffertimepmdelivery:null,favouriteOrderRegex:"",hideCancelOrderPanel:null,enableCancelOrderCallsupportModal:null,hidePickupCheckin:null,operatingTime:null,userStatus:null,helpContantData:null,allStoresDetails:null,currentStoresDetails:{},operatingTimeFromStoreReducer:"",pickupOrderAvailableCollectionPoints:[],savedAddresses:null,paymentType:null,additionalChargeLines:null,customer:null,customerId:null,deliveryAddress:null,deliveryDetails:null,deliveryPartner:null,foodLines:null,orderId:null,displayOrderId:null,fulfillmentDateTime:null,orderDateOn:null,orderTime:null,displayOrderTime:null,displayFormatOrderTime:null,displayTodayDate:null,posOrderId:null,miscPaymentReferenceId:null,wiCodePurchaseId:null,userEmail:null,userPhone:null,service:null,status:null,orderStatus:null,orderStatusChangedAt:null,sameOrderStatusMaintainLast30Mins:null,store:null,storeName:null,phoneNumber:"",phoneNumberFormat:null,storeTimeZoneIANA:null,isContactless:!1,filteredFoodLines:null,orderedItemDetails:null,orderingDateTime:null,orderingDate:"",orderingTime:"",fullAddressDetails:"",instruction:"",addressLines:"",taxLines:[],additionalCharges:[],subTotal:0,discountTotal:0,total:null,inclusiveTaxTotal:"",tenders:null,paymentReferences:null,taxTotal:null,orderAcceptedLoading:!1,requestedTimeStamp:null,requestedDateTime:null,orderDateTimeInEpoch:null,oldOrderId:null,postOrderDetails:{},enableOrderNoteForCheckout:!1,deliveryOrEstimatedOrCollectAtTime:null,pickupOrderEstimatedOrCollectAtTime:null,storeOperatingTime:null,isExternalTrackOrder:!1,dispatch:null,isMobileView:Object(d.Ud)(window.innerWidth),discountLines:[],paymentDiscountLines:[],paymentDiscountTotal:0,dispatchDeliveryOrderTrackerTimer:null,dispatchGetOrderStatusTimer:null,displayOrderProcessingPage:!0,displayDeliveryOrderTrackerPage:!1,retryCountForGetOrderStatus:0,retryCountForGetOrderTrackingStatus:0,isAnalyticsUpdated:!1,isDeliveryOrderSentPOSCompleted:!1,orderSummaryInfoDetailsShowInAccordion:!1,orderSummaryInfoDetailsOpenAccordion:!1,isOpenOrderSummaryDirectionMap:!1,isOpenOrderSummarySaveYourOrderCheckoutFaster:!1,isOpenSaveDeliveryAddressModal:!1,deliverySearchType:"",savedAddressSucess:!1,saveFavoriteSummarySucess:!1,orderSummarySaveYourOrderCompleted:!1,orderSummarySaveOrderDetails:{value:"",errorMessage:"",error:!1},isBasketsCreated:!1,isGetStoreStatus:!1,isShowPickupOrderCancelModal:!1,pickupCancelOrder:!1,isShowPickupOrderCheckReadyToPrepareModal:!1,isPickupOrderUserConfirmedToCheckIn:!1,isShowPickupOrderStoreClosedModal:!1,isShowPickupOrderAlreadyCheckInModal:!1,selectedPickupOrderCollectionMethod:null,showStoreDirectinPanelInOrderSummaryInfoDetails:!1,showStoreHoursPanelInOrderSummaryInfoDetails:!1,isShowStoreClosePickupOrderCancelModal:!1,item:[],addHopeDataExistsId:"",carryBagDataExistsId:"",addHopeDataPrice:"",carryBagDataPrice:"",pickupClosedInfoModal:!1,pickupClosingSoonModal:!1,showCombinedDiscount:!0,orderSummarycontentData:{},openCallSupportModal:!1,showGiftCardOrVoucherSummary:!1,showPromosSummary:!1,showOrderingTime:"",isPostorderStoreShutdownPopupModal:!1,showOrderSummaryOnSentToPosFailed:!1,isUberServiceableEnabled:!1},p=e=>null!==e&&void 0!==e&&e.enableGlobalOrderTracking?0===parseInt(null===e||void 0===e?void 0:e.referenceNumber)?"":null===e||void 0===e?void 0:e.referenceNumber:0===parseInt(null===e||void 0===e?void 0:e.posOrderId)?"":null===e||void 0===e?void 0:e.posOrderId,j=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object(d.db)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)?null===e||void 0===e?void 0:e.find((e=>{var i,d,r,n,a,s,c,u,v,O,m,b,p,j,h,g,S,C,D;return(null===o||void 0===o?void 0:o.length)>0&&(null===l.Ud||void 0===l.Ud||null===(i=l.Ud.CREDIT_CARD)||void 0===i?void 0:i.toLowerCase())===(null===t||void 0===t||null===(d=t[0])||void 0===d||null===(r=d.type)||void 0===r?void 0:r.toLowerCase())?(null===e||void 0===e||null===(n=e.fields)||void 0===n||null===(a=n.title)||void 0===a?void 0:a.toLowerCase())===(null===o||void 0===o||null===(s=o[0])||void 0===s||null===(c=s.paymentInstrumentType)||void 0===c?void 0:c.toLowerCase())||(null===e||void 0===e||null===(u=e.fields)||void 0===u||null===(v=u.orderServName)||void 0===v?void 0:v.toLowerCase())===(null===o||void 0===o||null===(O=o[0])||void 0===O||null===(m=O.paymentInstrumentType)||void 0===m?void 0:m.toLowerCase()):(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(p=b.title)||void 0===p?void 0:p.toLowerCase())===(null===t||void 0===t||null===(j=t[0])||void 0===j||null===(h=j.type)||void 0===h?void 0:h.toLowerCase())||(null===e||void 0===e||null===(g=e.fields)||void 0===g||null===(S=g.orderServName)||void 0===S?void 0:S.toLowerCase())===(null===t||void 0===t||null===(C=t[0])||void 0===C||null===(D=C.type)||void 0===D?void 0:D.toLowerCase())})):{}},h=e=>{var t,o;return(null===e||void 0===e?void 0:e.orderAccepted)&&(null===Object||void 0===Object||null===(t=Object.keys(null===e||void 0===e?void 0:e.orderAccepted))||void 0===t?void 0:t.length)>0&&Object(d.he)(null===e||void 0===e||null===(o=e.orderAccepted)||void 0===o?void 0:o.id)},g=e=>{var t,o,l;return(null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||null===(o=e.pastOrderResponse)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.id)},S=e=>{var t;return(e=>{var t,o,l,i,d;return(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order)&&(null===Object||void 0===Object||null===(o=Object.keys(null===e||void 0===e||null===(l=e.response)||void 0===l?void 0:l.order))||void 0===o?void 0:o.length)&&(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(d=i.order)||void 0===d?void 0:d.id)})(e)?null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.order:null},C=e=>{const{postOrderReducer:t={},orderReducer:o={},orderDetails:l={},isCheckOrderDetails:i=!0}=e;let d=(e=>h(e)?null===e||void 0===e?void 0:e.orderAccepted:null)(t);var r;null===d&&(d=(e=>{var t;return g(e)?null===e||void 0===e||null===(t=e.pastOrderResponse)||void 0===t?void 0:t[0]:null})(o),null===d&&(d=S(o),i&&null===d&&(d=null!==l&&void 0!==l&&l.postOrderDetails&&null!==(r=Object.keys(null===l||void 0===l?void 0:l.postOrderDetails))&&void 0!==r&&r.length?null===l||void 0===l?void 0:l.postOrderDetails:{})));return d||{}},D=e=>{var t,o,l,i,d,r,n,a,s,c,u,v,O,m,b,p,j,h,g,S,C,D,f,T,y,I,N,E,A,x,P,R,_,w,k,L,M,F,B,U,W,H,G,K,V,Y,q,J,Z,X,z,Q,$,ee,te,oe,le,ie,de,re,ne,ae,se,ce,ue,ve,Oe,me,be,pe,je,he,ge,Se,Ce,De,fe,Te,ye,Ie,Ne,Ee,Ae;const{props:xe,dispatch:Pe,tenantReducer:Re={},isExternalTrackOrder:_e=!1,dispositionPaymentPage:we,updateSetOrderDetails:ke}=e,{tenantId:Le,currencyCode:Me,currencySymbol:Fe,currencyShortName:Be,showCarryBagInLineItem:Ue,addHope:We,carryBag:He,currencyConversionFactor:Ge,pastOrderDateformat:Ke,pastOrderTimeFormat:Ve,storeSearch:Ye={},driveTime:qe,buffertimepmpickup:Je,buffertimepmdelivery:Ze,favouriteOrderRegex:Xe,componentOptions:ze,enablePickupMethodChangePostOrder:Qe,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,postorderStoreShutdownPopup:ot}=Re;ke({props:xe,dispatch:Pe,tenantId:Le,enablePickupMethodChangePostOrder:Qe,postorderStoreShutdownPopup:ot,currencyCode:Me,currencySymbol:Fe,currencyShortName:Be,showCarryBagInLineItem:Ue,addHope:We,carryBag:He,currencyConversionFactor:Ge,pastOrderDateformat:Ke,pastOrderTimeFormat:Ve,isExternalTrackOrder:_e,storeSearch:Ye,driveTime:qe,scheduleOrderDateFormat:$e,dateFormat:et,timeFormat:tt,buffertimepmpickup:Je,buffertimepmdelivery:Ze,favouriteOrderRegex:Xe,operatingTime:null===we||void 0===we||null===(t=we.store)||void 0===t||null===(o=t.summary)||void 0===o?void 0:o.timings,hideCancelOrderPanel:null===ze||void 0===ze||null===(l=ze.web)||void 0===l||null===(i=l.orderPages)||void 0===i?void 0:i.hideCancelOrderPanel,enableOrderNoteForCheckout:null===ze||void 0===ze||null===(d=ze.checkout)||void 0===d?void 0:d.enableOrderNoteForCheckout,hidePickupCheckin:null===ze||void 0===ze||null===(r=ze.web)||void 0===r||null===(n=r.orderPages)||void 0===n?void 0:n.orderSummaryShowPickupOrderCollectionMethodPanel,showTaxLines:null===ze||void 0===ze||null===(a=ze.web)||void 0===a||null===(s=a.cartPage)||void 0===s?void 0:s.showTaxLines,showTaxExcluded:null===ze||void 0===ze||null===(c=ze.web)||void 0===c||null===(u=c.checkout)||void 0===u?void 0:u.showTaxExcluded,enableGlobalOrderTracking:null===ze||void 0===ze||null===(v=ze.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===ze||void 0===ze||null===(m=ze.web)||void 0===m||null===(b=m.orderPages)||void 0===b?void 0:b.enableRetryCountForPickupOrderTracking,enableCancelOrderCallsupportModal:null===ze||void 0===ze||null===(p=ze.web)||void 0===p||null===(j=p.orderPages)||void 0===j?void 0:j.enableCancelOrderCallsupportModal,showOrderTrackingIFrame:null===ze||void 0===ze||null===(h=ze.web)||void 0===h||null===(g=h.orderPages)||void 0===g?void 0:g.showOrderTrackingIFrame,orderTrackingProgressBarCount:null===ze||void 0===ze||null===(S=ze.web)||void 0===S||null===(C=S.orderPages)||void 0===C?void 0:C.orderTrackingProgressBarCount,showDeliveryDriverDetails:null===ze||void 0===ze||null===(D=ze.web)||void 0===D||null===(f=D.orderPages)||void 0===f?void 0:f.showDeliveryDriverDetails,showDeliveryTrackingMap:null===ze||void 0===ze||null===(T=ze.web)||void 0===T||null===(y=T.orderPages)||void 0===y?void 0:y.showDeliveryTrackingMap,orderTrackingProgressBarScheduleOrdersCount:null===ze||void 0===ze||null===(I=ze.web)||void 0===I||null===(N=I.orderPages)||void 0===N?void 0:N.orderTrackingProgressBarScheduleOrdersCount,showOrderSummaryInfoDetails:null===ze||void 0===ze||null===(E=ze.web)||void 0===E||null===(A=E.orderPages)||void 0===A?void 0:A.showOrderSummaryInfoDetails,deliveryProgressBarAsapOrder:null===ze||void 0===ze||null===(x=ze.web)||void 0===x||null===(P=x.orderPages)||void 0===P?void 0:P.deliveryProgressBarAsapOrder,deliveryProgressBarScheduleOrders:null===ze||void 0===ze||null===(R=ze.web)||void 0===R||null===(_=R.orderPages)||void 0===_?void 0:_.deliveryProgressBarScheduleOrders,hideEstimatedDeliveryTime:null===ze||void 0===ze||null===(w=ze.web)||void 0===w||null===(k=w.orderPages)||void 0===k?void 0:k.hideEstimatedDeliveryTime,getDeliveryActualPickupTime:null===ze||void 0===ze||null===(L=ze.web)||void 0===L||null===(M=L.orderPages)||void 0===M?void 0:M.getDeliveryActualPickupTime,hideProgressBar:null===ze||void 0===ze||null===(F=ze.web)||void 0===F||null===(B=F.orderPages)||void 0===B?void 0:B.hideProgressBar,enableScheduleOrder:null===ze||void 0===ze||null===(U=ze.web)||void 0===U||null===(W=U.dispositionConfig)||void 0===W?void 0:W.enableScheduleOrder,enableClickCollectScheduleOrder:null===ze||void 0===ze||null===(H=ze.web)||void 0===H||null===(G=H.dispositionConfig)||void 0===G?void 0:G.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===ze||void 0===ze||null===(K=ze.web)||void 0===K||null===(V=K.scheduledDelivery)||void 0===V?void 0:V.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===Re||void 0===Re||null===(Y=Re.componentOptions)||void 0===Y||null===(q=Y.web)||void 0===q||null===(J=q.orderPages)||void 0===J?void 0:J.showGiftCardOrVoucherSummary,showPromosSummary:null===Re||void 0===Re||null===(Z=Re.componentOptions)||void 0===Z||null===(X=Z.web)||void 0===X||null===(z=X.orderPages)||void 0===z?void 0:z.showPromosSummary,showStoreRegistrationNumber:null===ze||void 0===ze||null===(Q=ze.web)||void 0===Q||null===($=Q.orderPages)||void 0===$?void 0:$.showStoreRegistrationNumber,showStoreOrderNumber:null===ze||void 0===ze||null===(ee=ze.web)||void 0===ee||null===(te=ee.orderPages)||void 0===te?void 0:te.showStoreOrderNumber,showOrderDateTime:null===ze||void 0===ze||null===(oe=ze.web)||void 0===oe||null===(le=oe.orderPages)||void 0===le?void 0:le.showOrderDateTime,showOrderMode:null===ze||void 0===ze||null===(ie=ze.web)||void 0===ie||null===(de=ie.orderPages)||void 0===de?void 0:de.showOrderMode,showOrderStatus:null===ze||void 0===ze||null===(re=ze.web)||void 0===re||null===(ne=re.orderPages)||void 0===ne?void 0:ne.showOrderStatus,showPickupOrDeliveryTime:null===ze||void 0===ze||null===(ae=ze.web)||void 0===ae||null===(se=ae.orderPages)||void 0===se?void 0:se.showPickupOrDeliveryTime,hidePostOrderCollectionForAsap:null===ze||void 0===ze||null===(ce=ze.web)||void 0===ce||null===(ue=ce.orderPages)||void 0===ue?void 0:ue.hidePostOrderCollectionForAsap,allowedPickupCollectionMethods:null===ze||void 0===ze||null===(ve=ze.checkout)||void 0===ve?void 0:ve.allowedPickupCollectionMethods,geoLocationCheckForCheckin:null===ze||void 0===ze||null===(Oe=ze.web)||void 0===Oe||null===(me=Oe.orderPages)||void 0===me?void 0:me.geoLocationCheckForCheckin,orderStatusFlag:null===Re||void 0===Re||null===(be=Re.componentOptions)||void 0===be||null===(pe=be.web)||void 0===pe||null===(je=pe.orderPages)||void 0===je?void 0:je.getDeliveryOrderStatusMessageFlag,tenantSpecificDateFormat:null===Re||void 0===Re||null===(he=Re.componentOptions)||void 0===he||null===(ge=he.web)||void 0===ge||null===(Se=ge.orderPages)||void 0===Se?void 0:Se.displayOrderDeliveryDateFormat,showCancelOrderNumber:null===ze||void 0===ze||null===(Ce=ze.web)||void 0===Ce||null===(De=Ce.dispositionConfig)||void 0===De?void 0:De.showCancelOrderNumber,showStateCityAddAddress:null===Re||void 0===Re||null===(fe=Re.savedAddressPage)||void 0===fe?void 0:fe.showStateCityAddAddress,hideCustomerName:null===ze||void 0===ze||null===(Te=ze.web)||void 0===Te||null===(ye=Te.orderPages)||void 0===ye?void 0:ye.hideCustomerName,hideCreateAccountPanel:null===ze||void 0===ze||null===(Ie=ze.web)||void 0===Ie||null===(Ne=Ie.orderPages)||void 0===Ne?void 0:Ne.hideCreateAccountPanel,showPinCode:null===ze||void 0===ze||null===(Ee=ze.web)||void 0===Ee||null===(Ae=Ee.orderPages)||void 0===Ae?void 0:Ae.showOrderPinCode,showOrderSummaryOnSentToPosFailed:null===Re||void 0===Re?void 0:Re.showOrderSummaryOnSentToPosFailed,isUberServiceableEnabled:null===Re||void 0===Re?void 0:Re.isUberServiceableEnabled,useTradingHoursForStoreCloseCalculation:null===Re||void 0===Re?void 0:Re.useTradingHoursForStoreCloseCalculation})},f=e=>{const{helpReducer:t,updateSetOrderDetails:o}=e;o({helpContantData:Object(d.ec)((null===t||void 0===t?void 0:t.helpResponse)||null)})},T=e=>{const{appStateReducer:t,updateSetOrderDetails:o}=e;o({userStatus:null===t||void 0===t?void 0:t.userStatus})},y=e=>{const{profileReducer:t,orderDetails:o,updateSetOrderDetails:l}=e;l({favouriteOrders:null===t||void 0===t?void 0:t.favouriteOrders,savedAddresses:null===t||void 0===t?void 0:t.savedAddresses,orderSummarySaveYourOrderCompleted:I(o,null===t||void 0===t?void 0:t.favouriteOrders)})},I=function(e){var t;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const l=o||(null===e||void 0===e?void 0:e.favouriteOrders);return(null===e||void 0===e||null===(t=e.userStatus)||void 0===t?void 0:t.loggedIn)&&-1!==(null===l||void 0===l?void 0:l.findIndex((t=>(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.orderId))))},N=e=>{var t,o,l,i,d,r,n,a;const{storesReducer:s={},updateSetOrderDetails:c}=e,u=null!==s&&void 0!==s&&null!==(t=s.storesWithStatus)&&void 0!==t&&t.length?null===s||void 0===s||null===(o=s.storesWithStatus)||void 0===o?void 0:o[0]:{};c({allStoresDetails:null!==s&&void 0!==s&&null!==(l=s.allStores)&&void 0!==l&&l.length?null===s||void 0===s?void 0:s.allStores:[],currentStoresDetails:u,operatingTimeFromStoreReducer:null!==(i=Object.keys(u))&&void 0!==i&&i.length?null===u||void 0===u||null===(d=u.summary)||void 0===d||null===(r=d.timings)||void 0===r?void 0:r.operatingHours:"",pickupOrderAvailableCollectionPoints:null!==(n=Object.keys(u))&&void 0!==n&&n.length?null===u||void 0===u||null===(a=u.summary)||void 0===a?void 0:a.availableCollectionPoints:null})},E=e=>{var t;const{orderReducer:o={},paymentsContentReducer:l={},orderDetails:i,updateSetOrderDetails:d,tenantReducer:r}=e,n=null===o||void 0===o||null===(t=o.response)||void 0===t?void 0:t.order;d({...A({orderReducerCreateOrderResponse:n,paymentsContentReducer:l,orderDetails:i,tenantReducer:r})})},A=e=>{var t;const{postOrPastOrderDetails:o={},orderReducerCreateOrderResponse:l={},paymentsContentReducer:i={},orderDetails:r,tenantReducer:n}=e,a=Object(d.ge)(o)?o:l,s=R({orderDetailsFromReducer:a,orderDetails:r,tenantReducer:n});return s.postOrderDetails=o,s.paymentType=j(null===i||void 0===i||null===(t=i.tendersContent)||void 0===t?void 0:t.items,null===a||void 0===a?void 0:a.tenders,null===a||void 0===a?void 0:a.paymentReferences),s},x=e=>{const{storeTimeZoneIANA:t,estimatedDeliveryTime:o,orderTime:i,format:d=(null===l.sb||void 0===l.sb?void 0:l.sb.H_MM_A)}=e;return t?Object(r.D)(o||i,t,d):Object(r.C)(o||i,d)},P=e=>{const{storeTimeZoneIANA:t,statusUpdatedDate:o,pastOrderDateformat:l}=e;return t?Object(r.D)(o,t,l):Object(r.C)(o,l)},R=e=>{var t,o,i,a,s,c,v,O,m,b,j,h,g,S,C,D,f,T,y,I,N,E,A,R,w,k,L,M;const{orderDetailsFromReducer:F,orderDetails:B={},tenantReducer:U}=e,W={additionalChargeLines:null===F||void 0===F?void 0:F.additionalChargeLines,customerId:null===F||void 0===F||null===(t=F.customer)||void 0===t?void 0:t.id,customer:null===F||void 0===F?void 0:F.customer,deliveryAddress:null===F||void 0===F?void 0:F.deliveryAddress,deliveryDetails:null===F||void 0===F?void 0:F.deliveryDetails,deliveryPartner:null===F||void 0===F?void 0:F.deliveryPartner,foodLines:null===F||void 0===F?void 0:F.foodLines,orderId:null===F||void 0===F?void 0:F.id,displayOrderId:p({...B,...F}),fulfillmentDateTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,fulfillmentDateTimeFormatted:Object(r.D)(null===F||void 0===F?void 0:F.fulfillmentDateTime,null===F||void 0===F||null===(o=F.store)||void 0===o?void 0:o.timeZoneIANA),orderTime:Object(r.M)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayOrderTime:Object(d.Uc)(null===F||void 0===F?void 0:F.fulfillmentDateTime),displayFormatOrderTime:u.a.formatValue(u.a.tz(Object(r.L)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===F||void 0===F||null===(i=F.store)||void 0===i?void 0:i.timeZoneIANA)," h:mma"),displayTodayDate:Object(r.h)(new Date,null===B||void 0===B?void 0:B.pastOrderDateformat),posOrderId:null===F||void 0===F?void 0:F.posOrderId,userEmail:null===F||void 0===F||null===(a=F.customer)||void 0===a?void 0:a.email,userPhone:(null===F||void 0===F||null===(s=F.customer)||void 0===s?void 0:s.phoneNumber)||(null===F||void 0===F||null===(c=F.customer)||void 0===c?void 0:c.phone),service:null===F||void 0===F?void 0:F.service,status:null===F||void 0===F?void 0:F.status,orderStatus:Object(n.c)({...B,...F}),orderStatusChangedAt:Object(n.b)({orderDetails:B,orderDetailsFromReducer:F}),sameOrderStatusMaintainLast30Mins:Object(n.q)({orderDetails:B,orderDetailsFromReducer:F}),store:null===F||void 0===F?void 0:F.store,storeName:null===F||void 0===F||null===(v=F.store)||void 0===v?void 0:v.name,phoneNumber:null===F||void 0===F||null===(O=F.store)||void 0===O?void 0:O.phoneNumber,phoneNumberFormat:Object(d.Y)(null===F||void 0===F||null===(m=F.store)||void 0===m?void 0:m.phoneNumber),storeTimeZoneIANA:null===F||void 0===F||null===(b=F.store)||void 0===b?void 0:b.timeZoneIANA,storeOperatingTime:null===F||void 0===F||null===(j=F.store)||void 0===j?void 0:j.timings,deliveryOrEstimatedOrCollectAtMonthDate:x({estimatedDeliveryTime:null===F||void 0===F||null===(h=F.deliveryDetails)||void 0===h?void 0:h.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(g=F.store)||void 0===g?void 0:g.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd:l.sb.MMMM_D}),deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:x({estimatedDeliveryTime:null===F||void 0===F||null===(S=F.deliveryDetails)||void 0===S?void 0:S.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(C=F.store)||void 0===C?void 0:C.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd_AA:l.sb.D_MMMM_AA}),deliveryOrEstimatedOrCollectAtTime:x({estimatedDeliveryTime:null===F||void 0===F||null===(D=F.deliveryDetails)||void 0===D?void 0:D.estimatedDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(f=F.store)||void 0===f?void 0:f.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),deliveryOrActualOrCollectAtTime:x({estimatedDeliveryTime:null===F||void 0===F||null===(T=F.deliveryDetails)||void 0===T?void 0:T.actualDeliveryTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(y=F.store)||void 0===y?void 0:y.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtTime:x({estimatedDeliveryTime:null===F||void 0===F||null===(I=F.deliveryDetails)||void 0===I?void 0:I.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(N=F.store)||void 0===N?void 0:N.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.HH_mm:l.sb.H_MM_A}),pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:x({estimatedDeliveryTime:null===F||void 0===F||null===(E=F.deliveryDetails)||void 0===E?void 0:E.actualPickupTime,orderTime:null===F||void 0===F?void 0:F.fulfillmentDateTime,storeTimeZoneIANA:null===F||void 0===F||null===(A=F.store)||void 0===A?void 0:A.timeZoneIANA,format:null!==B&&void 0!==B&&B.scheduleOrderDateFormat?null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_dd_AA:l.sb.H_MM_A}),orderDateOn:P({statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,storeTimeZoneIANA:null===F||void 0===F||null===(R=F.store)||void 0===R?void 0:R.timeZoneIANA,pastOrderDateformat:null===B||void 0===B?void 0:B.pastOrderDateformat}),statusUpdatedDate:null===F||void 0===F?void 0:F.statusUpdatedDate,isContactless:null===F||void 0===F?void 0:F.isContactless,filteredFoodLines:Object(d.Pb)(null===F||void 0===F?void 0:F.foodLines,null===B||void 0===B?void 0:B.addHope,null===B||void 0===B?void 0:B.carryBag,null===U||void 0===U?void 0:U.showCarryBagInLineItem),orderedItemDetails:null===F||void 0===F?void 0:F.orderedItemDetails,orderingDateTime:null===F||void 0===F?void 0:F.orderingDateTime,orderingDateTimeFormatted:Object(r.D)(null===F||void 0===F?void 0:F.orderingDateTime,null===F||void 0===F||null===(w=F.store)||void 0===w?void 0:w.timeZoneIANA),orderingDate:Object(d.yb)(null===F||void 0===F?void 0:F.orderingDateTime),orderingDayAndMonthName:Object(d.zb)(null===F||void 0===F?void 0:F.orderingDateTime,null===B||void 0===B?void 0:B.dateFormat),orderingTime:Object(d.Uc)(null===F||void 0===F?void 0:F.orderingDateTime,null===B||void 0===B?void 0:B.timeFormat),fullAddressDetails:_(null===F||void 0===F?void 0:F.deliveryAddress,null===U||void 0===U||null===(k=U.savedAddressPage)||void 0===k?void 0:k.showStateCityAddAddress),instruction:null===F||void 0===F?void 0:F.instruction,addressLines:null===F||void 0===F||null===(L=F.store)||void 0===L||null===(M=L.address)||void 0===M?void 0:M.addressLines,taxLines:null===F||void 0===F?void 0:F.taxLines,additionalCharges:null===F||void 0===F?void 0:F.additionalChargeLines,checkInSummary:null===F||void 0===F?void 0:F.checkInSummary,subTotal:null===F||void 0===F?void 0:F.subTotal,discountLines:null===F||void 0===F?void 0:F.discountLines,paymentDiscountLines:(null===F||void 0===F?void 0:F.paymentDiscountLines)||[],paymentDiscountTotal:(null===F||void 0===F?void 0:F.paymentDiscountTotal)||0,discountTotal:null===F||void 0===F?void 0:F.discountTotal,total:(null===F||void 0===F?void 0:F.total)||(null===F||void 0===F?void 0:F.amount),inclusiveTaxTotal:null===F||void 0===F?void 0:F.inclusiveTaxTotal,tenders:null===F||void 0===F?void 0:F.tenders,paymentReferences:null===F||void 0===F?void 0:F.paymentReferences,taxTotal:null===F||void 0===F?void 0:F.taxTotal,orderAcceptedLoading:(null===F||void 0===F?void 0:F.orderAcceptedLoading)||!1,requestedTimeStamp:null===F||void 0===F?void 0:F.requestedTimeStamp,requestedDateTime:null===F||void 0===F?void 0:F.requestedDateTime,orderDateTimeInEpoch:null===F||void 0===F?void 0:F.orderDateTimeInEpoch,isOrderSavedAsFavorite:!1,favoriteOrderName:null,bottleDepositChargeTotal:(null===F||void 0===F?void 0:F.bottleDepositChargeTotal)||0,tipCharge:null===F||void 0===F?void 0:F.driverTippingCharge,tipChargeType:null===F||void 0===F?void 0:F.driverTippingChargeType,driverTippingChargeOption:null===F||void 0===F?void 0:F.driverTippingChargeOption,showOrderingTime:Object(r.h)(Object(r.M)(null===F||void 0===F?void 0:F.statusUpdatedDate),null===B||void 0===B?void 0:B.pastOrderTimeFormat),deliveryPinDetails:null===F||void 0===F?void 0:F.deliveryPinDetails};return null!==(null===B||void 0===B?void 0:B.orderId)&&null!==(null===F||void 0===F?void 0:F.id)&&(null===B||void 0===B?void 0:B.orderId)!==(null===F||void 0===F?void 0:F.id)&&(W.oldOrderId=null===F||void 0===F?void 0:F.id),W},_=(e,t)=>{if(Object(d.ge)(e)){const{addressLines:o,city:l,state:i,country:r,pinCode:n}=e,a=Object(d.nd)(n),s=Object(d.nd)(l),c=Object(d.nd)(i),u=Object(d.nd)(r),v=null===o||void 0===o?void 0:o.filter((e=>e)).join(", ");if(t){const e=i&&"".concat(i)||"",t=l&&"".concat(l)||"";return"".concat(e).concat(t).concat(null===o||void 0===o?void 0:o.filter((e=>e)).join(" "))}return"".concat(v).concat(s).concat(c).concat(a).concat(u)}return null},w=(e,t,o,l)=>{var i,d;!s()(e)&&((null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)||l)&&o({orderSummarycontentData:B(null===(i=e.items)||void 0===i||null===(d=i[0])||void 0===d?void 0:d.fields,t)})},k=e=>{var t,o;const{orderSummarycontentData:i}=e;return null===i||void 0===i||null===(t=i.headline)||void 0===t?void 0:t.replace(l.nb,null===e||void 0===e||null===(o=e.customer)||void 0===o?void 0:o.firstName.replace(/(.{7})..+/,"$1..."))},L=e=>{const{orderSummarycontentData:t,enableClickCollectScheduleOrder:o,allowScheduleOrderForDispositions:i,service:d}=e,r=o&&(null===i||void 0===i?void 0:i.includes(d));var a;return Object(n.x)(e)||Object(n.B)(e)?(null===e||void 0===e||null===(a=e.paymentReferences[0])||void 0===a?void 0:a.paymentType)===(null===l.Ud||void 0===l.Ud?void 0:l.Ud.PAY_BY_CASH)&&null!==t&&void 0!==t&&t.payOnArrival?Object(m.a)(e):null===t||void 0===t?void 0:t.subHeadline:null!==t&&void 0!==t&&t.scheduleOrders||r?F(t,e):null===t||void 0===t?void 0:t.subHeadline},M=e=>{(e=>Object(d.Ad)(null===e||void 0===e?void 0:e.service)?Object(n.rb)(e)||Object(n.qb)(e):Object(n.t)(e)||Object(n.s)(e))(e)&&Object(i.a)(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ORDER_UPDATE_TEXT),4e3)},F=(e,t)=>{var o,i,a,s,u,O,m;const{enableClickCollectScheduleOrder:b,allowScheduleOrderForDispositions:p,service:j}=t,h=b&&(null===p||void 0===p?void 0:p.includes(j)),g=null===e||void 0===e||null===(o=e.subHeadline)||void 0===o?void 0:o.includes(l.tb),S=null===t||void 0===t?void 0:t.fulfillmentDateTime,C=Object(r.D)(S,null===t||void 0===t||null===(i=t.store)||void 0===i?void 0:i.timeZoneIANA,g?null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_D_MMMM_A:null===l.sb||void 0===l.sb?void 0:l.sb.hh_mm_A),D=Object(r.D)(S,null===t||void 0===t||null===(a=t.store)||void 0===a?void 0:a.timeZoneIANA,null===l.sb||void 0===l.sb?void 0:l.sb.MMMM_D),f=Object(r.D)(S,null===t||void 0===t||null===(s=t.store)||void 0===s?void 0:s.timeZoneIANA,null===l.sb||void 0===l.sb?void 0:l.sb.YYYY_MM_DD),T=h&&g?C.replace(/^\w+/,Object(d.Xc)(D,null===t||void 0===t||null===(u=t.store)||void 0===u?void 0:u.timeZoneIANA)):C,y=null===T||void 0===T?void 0:T.split(" "),I=Object(d.Xc)(f,null===t||void 0===t||null===(O=t.store)||void 0===O?void 0:O.timeZoneIANA),N=null===e||void 0===e||null===(m=e.subHeadline)||void 0===m?void 0:m.replace(g?l.tb:l.Ld,'<span class="red">'.concat((e=>{const{timeStamp:t,dayInAWeek:o,dateTimeArray:i,orderReadyDateTime:d,orderDetails:r}=e;if(!t)return d;switch(null===r||void 0===r?void 0:r.tenantSpecificDateFormat){case null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_MMMM_D_HH_MM_A:return(o===l.rf?Object(c.translateWithI18Next)(v.a.TODAY):'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.ON),"</span> ")+Object(c.translateWithI18Next)(i[0]))+" "+Object(c.translateWithI18Next)(i[2])+" "+i[1]+" "+'<span class="atTextColor">'.concat(Object(c.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.AT),"</span> ")+" "+(Object(n.A)(r)?null===r||void 0===r?void 0:r.deliveryOrActualOrCollectAtTime:i[4]+i[5]);case null===l.sb||void 0===l.sb?void 0:l.sb.D_MMMM_A:return Object(c.translateWithI18Next)(i[0])+" "+i[1]+" "+Object(c.translateWithI18Next)(i[2])+" "+i[3]+" "+i[4]+" "+i[5];default:return d}})({timeStamp:g,dayInAWeek:I,dateTimeArray:y,orderReadyDateTime:C,orderDetails:t}),"</span>"));return N?"<div class='subheadline-content ".concat(((e,t)=>(null===e||void 0===e?void 0:e.tenantSpecificDateFormat)===(null===l.sb||void 0===l.sb?void 0:l.sb.DDDD_MMMM_D_HH_MM_A)&&t?"subheadline-content-two":"")(t,g),"'>").concat(N,"</div>"):""},B=(e,t)=>{var o;const{showOrderSummaryOnSentToPosFailed:l}=t,i=null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.find((e=>{var o,i,r,a,s,c,u,v,O,m,b,p,j,h,g,S;return null!==t&&void 0!==t&&null!==(o=t.requestedDateTime)&&void 0!==o&&o.isForNow||!(Object(n.nb)(t)||Object(n.v)(t)||Object(n.C)(t)||Object(n.Q)(t)||Object(n.mb)(t))?l&&!Object(d.Ad)(null===t||void 0===t?void 0:t.service)?!(null!==e&&void 0!==e&&null!==(i=e.fields)&&void 0!==i&&i.scheduleOrders)&&(null===e||void 0===e||null===(r=e.fields)||void 0===r?void 0:r.orderStatus.toLowerCase())===(null===t||void 0===t||null===(a=t.orderStatus)||void 0===a?void 0:a.toLowerCase()):(null===e||void 0===e||null===(s=e.fields)||void 0===s?void 0:s.orderStatus.toLowerCase())===(null===t||void 0===t||null===(c=t.orderStatus)||void 0===c?void 0:c.toLowerCase()):(null===e||void 0===e||null===(u=e.fields)||void 0===u?void 0:u.scheduleOrders)&&(!(null!==t&&void 0!==t&&t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(v=e.fields)||void 0===v||null===(O=v.orderStatus)||void 0===O?void 0:O.toLowerCase())===(null===t||void 0===t||null===(m=t.orderStatus)||void 0===m?void 0:m.toLowerCase())||(null===t||void 0===t?void 0:t.hidePostOrderCollectionForAsap)&&(null===e||void 0===e||null===(b=e.fields)||void 0===b||null===(p=b.collectionPoint)||void 0===p?void 0:p.toLowerCase())===(null===t||void 0===t||null===(j=t.selectedPickupOrderCollectionMethod)||void 0===j?void 0:j.toLowerCase())&&(null===e||void 0===e||null===(h=e.fields)||void 0===h||null===(g=h.orderStatus)||void 0===g?void 0:g.toLowerCase())===(null===t||void 0===t||null===(S=t.orderStatus)||void 0===S?void 0:S.toLowerCase()))}));return null===i||void 0===i?void 0:i.fields},U=(e,t)=>{var o,l,i;return null===Object||void 0===Object||null===(o=Object.keys)||void 0===o||null===(l=o.call(Object,e))||void 0===l||null===(i=l.filter)||void 0===i?void 0:i.call(l,(e=>{var o,l;return null===n.tb||void 0===n.tb||null===(o=Object(n.tb)())||void 0===o||null===(l=o[e])||void 0===l?void 0:l.call(o,t)}))},W=e=>{var t;const o=null!==e&&void 0!==e&&e.enableClickCollectScheduleOrder||null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t||!t.isForNow?null===e||void 0===e?void 0:e.deliveryProgressBarScheduleOrders:null===e||void 0===e?void 0:e.deliveryProgressBarAsapOrder;if(o){let t=U(o,e);if(Array.isArray(t)&&t.length>0){var l,i;if(1===t.length)return null!==(i=null===o||void 0===o?void 0:o[t[0]])&&void 0!==i?i:void 0;const e=null===(l=t.map((e=>null===o||void 0===o?void 0:o[e])))||void 0===l?void 0:l.filter((e=>void 0!==e));return e.length>0?Math.max(...e):void 0}}else;},H=e=>{var t,o;return null!==(t=null===e||void 0===e||null===(o=e.hideEstimatedDeliveryTime)||void 0===o?void 0:o[U(null===e||void 0===e?void 0:e.hideEstimatedDeliveryTime,e)])&&void 0!==t&&t},G=e=>{var t,o,l;return null!==(t=null===e||void 0===e||null===(o=e.hideProgressBar)||void 0===o?void 0:o[U(null===e||void 0===e?void 0:e.hideProgressBar,e)])&&void 0!==t&&t&&!(null!==e&&void 0!==e&&null!==(l=e.requestedDateTime)&&void 0!==l&&l.isForNow)},K=e=>{let{orderDetails:t,orderReducer:o,postOrderReducer:i,paymentsContentReducer:d,updateSetOrderDetails:r,dispatch:a,tenantReducer:s,userOrderState:c}=e;if(null!==t&&void 0!==t&&t.tenantId){!sessionStorage.getItem(l.Ke.ORDER_TRACKING_CLICK_KFC_ACCOUNT)&&(e=>{let{orderReducer:t,postOrderReducer:o}=e;return h(o)||g(t)})({orderReducer:o,postOrderReducer:i})&&((e=>{const{postOrderReducer:t={},orderReducer:o={},paymentsContentReducer:l={},isCheckOrderDetails:i=!0,orderDetails:d,updateSetOrderDetails:r,tenantReducer:a}=e,s=C({postOrderReducer:t,orderReducer:o,isCheckOrderDetails:i}),{orderStatus:c,retryCountForGetOrderTrackingStatus:u,tenders:v,paymentReferences:O,displayOrderId:m}=d;if(Object(n.c)({...d,...s})!==c||p({...d,...s})!==m)r({...A({postOrPastOrderDetails:s,paymentsContentReducer:l,orderDetails:d,tenantReducer:a})});else if(Object(n.p)(d,s)){var b;r({deliveryPartner:null===s||void 0===s?void 0:s.deliveryPartner,deliveryDetails:null===s||void 0===s?void 0:s.deliveryDetails,retryCountForGetOrderTrackingStatus:u+1,fullAddressDetails:_(null===s||void 0===s?void 0:s.deliveryAddress,null===a||void 0===a||null===(b=a.savedAddressPage)||void 0===b?void 0:b.showStateCityAddAddress)})}var h;v===(null===s||void 0===s?void 0:s.tenders)&&O===(null===s||void 0===s?void 0:s.paymentReferences)||r({tenders:null===s||void 0===s?void 0:s.tenders,paymentReferences:null===s||void 0===s?void 0:s.paymentReferences,paymentType:j(null===l||void 0===l||null===(h=l.tendersContent)||void 0===h?void 0:h.items,null===s||void 0===s?void 0:s.tenders,null===s||void 0===s?void 0:s.paymentReferences)})})({postOrderReducer:i,orderReducer:o,paymentsContentReducer:d,isCheckOrderDetails:!1,orderDetails:t,updateSetOrderDetails:r,tenantReducer:s}),null!==t&&void 0!==t&&t.tenantId&&Object(O.q)({dispatch:a,orderDetails:t,updateSetOrderDetails:r,userOrderState:c}))}Object(n.f)()&&(e=>{const{postOrderReducer:t,orderDetails:o,updateSetOrderDetails:l}=e;if((null===t||void 0===t||!t.addHopeOrderLoading)&&Object(n.j)()){const{miscPaymentReferenceId:e,status:i}=null===t||void 0===t?void 0:t.addHopeOrderResponse,d={status:i,orderStatus:i};(null===o||void 0===o?void 0:o.miscPaymentReferenceId)!==e&&(d.miscPaymentReferenceId=e),l(d)}if((null===t||void 0===t||!t.giftCardPurchaseLoading)&&Object(n.X)()){const{miscPaymentReferenceId:e,status:i}=null===t||void 0===t?void 0:t.giftCardPurchaseResponse,d={status:i,orderStatus:i};(null===o||void 0===o?void 0:o.wiCodePurchaseId)!==e&&(d.wiCodePurchaseId=e),l(d)}})({postOrderReducer:i,orderDetails:t,updateSetOrderDetails:r})},V=e=>{const{enableClickCollectScheduleOrder:t,allowScheduleOrderForDispositions:o,service:l,orderStatusFlag:i}=e,r=t&&(null===o||void 0===o?void 0:o.includes(l));return Object(d.Ad)(l)?!(Object(n.K)(e)&&!i||Object(n.rb)(e)||Object(n.Q)(e)||Object(n.qb)(e))&&(Object(n.O)(e)||Object(n.C)(e)||Object(n.B)(e),!0):r?Boolean(Object(n.lb)(e)||Object(n.u)(e)||Object(n.w)(e)):Object(n.lb)(e)||Object(n.mb)(e)},Y=e=>{var t;return(null===e||void 0===e||null===(t=e.paymentReferences[0])||void 0===t?void 0:t.paymentType)!==(null===l.Ud||void 0===l.Ud?void 0:l.Ud.PAY_BY_CASH)?L(e):""},q=e=>{const{contentReducer:t,updateSetOrderDetails:o}=e;o({StoreRegistrationNumber:Object(d.Nc)(t),...Object(d.Mc)(t)})}},976:function(e,t,o){"use strict";o.d(t,"a",(function(){return l})),o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return d}));t.d={questionForUs:"questionForUs",loveToHearFromYou:"loveToHearFromYou",wantToKnow:"wantToKnow",wantToKnowPlaceholder:"wantToKnowPlaceholder",letUsKnow:"letUsKnow",contactInfoTitle:"contactInfoTitle",firstNamePlaceholder:"firstNamePlaceholder",lastNamePlaceHolder:"lastNamePlaceHolder",phonePlaceholder:"phonePlaceholder",emailPlaceholder:"emailPlaceholder",cancelButtonText:"cancelButtonText",submitButtonText:"submitButtonText",recaptchaLabel:"recaptchaLabel",haveQuestion:"haveQuestion",enterQuestionPlaceholder:"enterQuestionPlaceholder",refineItemsHeader:"refineItemsHeader",searchResultHeader:"searchResultHeader",selectATopic:"selectATopic",pleaseSelect:"pleaseSelect",popoverDoneButton:"popoverDoneButton",feedbackSuccess:"feedbackSuccess",feedbackSuccessMessage:"feedbackSuccessMessage",feedbackSuccessOk:"feedbackSuccessOk",feedbackHelpText:"feedbackHelpText",firstNameHelpText:"firstNameHelpText",lastNameHelpText:"lastNameHelpText",phoneHelpText:"phoneHelpText",emailHelpText:"emailHelpText",mandatorynote:"mandatorynote",Australia:"Australia"};const l={MEDIA_ENQUIRY:"Media Enquiry",POSTCODE:"postcode",ORDER_NUMBER:"ordernumber",SORTVISIT:"sortvisit",SORTMEAL:"sortmeal",ORDER_DATE:"orderdate",ORDER_TIME:"ordertime",VISITEDDATE:"visiteddate",VISITEDTIME:"visitedtime",DETAILSAREA:"detailsArea",PHONENUMBER:"phonenumber",EMAIL:"emailaddress",HELPDD:"helpDDOptions",ENQUIRYDD:"enquiryDDOptions",SPECIFICDD:"specificDDOptions",ADDRESSNAME:"addressName",FULLNAME:"fullname",ENQUIRY_DETAILS:"enquirydetails",PUBLICATION_DETAILS:"publicationdetails",PUBLICATION_DETAILS_MAXLENGTH:250,PHONE:"phone",EMAILID:"email",MESSAGE:"message",CONFIRMATION:"confirmation",THANKSMESSAGE:"thanksMessage",NO:"No",SUCCESSRESPONSE:201,DDSELECTONE:"- Select One -",APPENQUIRY:"KFC App Enquiry"},i={FIRSTNAME:"firstName",LASTNAME:"lastName",CALLNATURE:"callNature",CATEGORY:"category",SUBCODE:"subcode",DESCRIPTION:"description",PHONE:"phone",EMAIL:"email",STOREID:"storeID",TYPEOFVISIT:"typeOfVisit",TYPEOFMEAL:"typeOfMeal",ORDER_NUMBER:"orderNumber",VISITDATE:"visitDate",VISITTIME:"visitTime",LANGUAGE:"language"},d="subpremise"},990:function(e,t,o){"use strict";o.d(t,"h",(function(){return a})),o.d(t,"g",(function(){return s})),o.d(t,"f",(function(){return c})),o.d(t,"i",(function(){return u})),o.d(t,"d",(function(){return O})),o.d(t,"c",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"a",(function(){return p})),o.d(t,"e",(function(){return j}));var l=o(5),i=o(976),d=o(0),r=o(130),n=o(11);const a=e=>d.wd.test(String(e).toLowerCase()),s=e=>d.uc.test(String(e).toLowerCase()),c=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),u=e=>/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/.test(String(e)),v=e=>{if(void 0!==e){const t=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),o=e.getDate()>9?e.getDate():"0"+e.getDate();return e.getFullYear()+"/"+t+"/"+o}},O=(e,t)=>{const{wantToKnowText:o,selectedLetUsKnow:i,firstNameText:d,lastNameText:r,phoneNoText:n,emailText:v}=e;return!(0===(null===o||void 0===o?void 0:o.length)||(null===o||void 0===o?void 0:o.length)>200)&&(!!a(d)&&(!!a(r)&&(!!s("".concat(d).concat(r))&&(!!u(n)&&(!!c(v)&&(!!Object(l.Kd)(i)&&!!t))))))},m=e=>{const{firstNameText:t,lastNameText:o,phoneNoText:l,emailText:i}=e;return!!s(t)&&(!!s(o)&&(!!u(l)&&!!c(i)))},b=(e,t,o)=>({tenantId:t,payload:{data:[{key:"message",value:e.wantToKnowText},{key:"category",value:e.selectedLetUsKnow.key},{key:"firstName",value:e.firstNameText},{key:"lastName",value:e.lastNameText},{key:"email",value:e.emailText},{key:"phone",value:e.phoneNoText},{key:"language",value:"en-US"},{key:"captchaResponse",value:o}],attachments:[]}}),p=(e,t)=>{var o;var l;return{tenantId:t,payload:{data:[{key:i.b.FIRSTNAME,value:e.fullname},{key:i.b.CALLNATURE,value:e.helpDDOptions},{key:i.b.CATEGORY,value:e.enquiryDDOptions},{key:i.b.SUBCODE,value:e.specificDDOptions},{key:i.b.DESCRIPTION,value:e.detailsArea},{key:i.b.LASTNAME,value:e.publicationdetails},{key:i.b.PHONE,value:e.phonenumber},{key:i.b.EMAIL,value:e.emailaddress},{key:i.b.STOREID,value:null!==e&&void 0!==e&&e.sugPinCode?null===e||void 0===e?void 0:e.sugPinCode:""},{key:i.b.TYPEOFVISIT,value:null!==e&&void 0!==e&&e.sortvisit?null===e||void 0===e?void 0:e.sortvisit:""},{key:i.b.TYPEOFMEAL,value:null!==e&&void 0!==e&&e.sortmeal?null===e||void 0===e?void 0:e.sortmeal:""},{key:i.b.ORDER_NUMBER,value:null!==e&&void 0!==e&&e.ordernumber?null===e||void 0===e?void 0:e.ordernumber:""},{key:i.b.VISITDATE,value:null!==e&&void 0!==e&&e.visitedDate?v(e.visitedDate):""},{key:i.b.VISITTIME,value:null!==(l=e.visitedTime,o=!!l&&Object(n.d)(l.getHours(),l.getMinutes(),d.sb.hh_mm_A))&&void 0!==o?o:""},{key:i.b.LANGUAGE,value:"en-US"}],attachments:[]}}},j=(e,t,o,l,n,a,s,c,u,v)=>{let O=JSON.parse(localStorage.getItem(d.nf));""===(null===O||void 0===O?void 0:O.addressLine0)&&O&&(O.addressLine0=i.c);const{addressLines:m=[],country:b="",city:p="",pinCode:j="",state:h="",placeId:g=""}=Object(r.b)(t.address_components,O);var S;e===d.rc?(S=j,d.Id.test(String(S).toLowerCase())?(s(!1),c(!1),o(j)):s(!0),a({...u,sugPinCode:j})):(o(null===m||void 0===m?void 0:m[1]),a()),l((e=>({...e,country:b,addressLines:m,city:p,state:h,pinCode:j,placeId:null===t||void 0===t?void 0:t.place_id,isAddressSelected:v}))),setTimeout((()=>{n()}),800)}}}]);