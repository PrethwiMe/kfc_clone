(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[145],{822:function(e,t,o){"use strict";o.r(t),o.d(t,"filterStores",(function(){return _e})),o.d(t,"SearchStoreModule",(function(){return we}));var l=o(3),i=o.n(l),n=o(76),a=o(121),s=o(2);const r=e=>{const{handleClose:t,handleGoBack:o,orderModeTypeItem:l,headerText:n,modalTitleId:r="",className:d,backDataTestId:c}=e;return Object(s.jsx)(i.a.Fragment,{children:Object(s.jsx)(a.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:r,show:!0,classNames:"".concat(d," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:o,modalTitle:n,autoFocus:!0,backDataTestId:c,children:l})})};var d=i.a.memo(r),c=o(14),u=o(38),v=o(354),b=o(155),O=o(63),j=o(318),h=o(25),S=o(269),g=o(6),E=o(5),p=o(22),m=o(77),C=o(351),f=o(43),D=o(212),A=o(1006),T=o(1007),I=o(49),R=o(216),x=o(266),y=o(36),N=o(15),L=o(4),_=o(69),w=o(110);const{Error:k}=N.a,F=e=>{var t,o;const{show:l,address:i,suggestedAddress:n,onRetryClickHandler:a,onUseThisAddressHandler:r,changeAddressErrorMsgStyle:d}=e,{LOCATION_WARNING_MESSAGE:c,RETRY_BTN_TEXT:u,USE_THIS_ADDRESS_TEXT:v}=L.a,b=Object(w.b)(_.b);return l?Object(s.jsx)("div",{className:"err-container",children:Object(s.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[!d&&Object(s.jsx)(f.a,{srcFile:k,className:"location-alert-icon"}),Object(s.jsx)("div",{className:(O=d,O?"location-error-message location-error-message-change-style":"location-error-message"),children:Object(g.translateWithI18Next)(c)}),Object(s.jsxs)("div",{className:"location-error-address",children:[Object(E.id)(null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.description,null!==(o=Object(j.M)(b))&&void 0!==o?o:i),";"]}),Object(s.jsxs)("div",{className:"location-error-button-section",children:[Object(s.jsx)(y.a,{className:"button whiteButton blackBorder location-warning-button mr one-line-text",onClick:a,"data-testid":"location-retry-btn",children:Object(g.translateWithI18Next)(u)}),Object(s.jsx)(y.a,{className:"button whiteButton blackBorder location-warning-button ml one-line-text","data-testid":"use-this-address",onClick:r,children:Object(g.translateWithI18Next)(v)})]})]})}):null;var O},B=i.a.memo(F),{GoogleMapLocationImage:M}=N.a,P=e=>{const{show:t=!1,suggestedAddress:o="",confirmDeliveryAddressLineHandler:n,onChangeDeliveryAddressLine:a,deliveryAddressLineVal:r,shouldEnableConfirmButton:d,apartmentDetailsRegex:c}=e,{DELIVERY_ADDRESS_LINE_LABEL:v,CONFIRM_BTN_TEXT:b,PLEASE_FILL_OUT_THIS_FIELD:O}=L.a,j=Object(w.a)(),h=Object(l.useCallback)((e=>{var t;c.test(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&(a(e.target.value),j(Object(_.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:e.target.value})))}),[a]);return Object(s.jsx)(i.a.Fragment,{children:t?Object(s.jsxs)("div",{"data-testid":"delivery-address-line-container",className:"err-container",children:[Object(s.jsxs)("div",{className:"alert-location-popup unit-number-container",children:[Object(s.jsxs)("div",{className:"icon-with-address",children:[Object(s.jsx)(f.a,{srcFile:M,alt:" ",className:"google-location-img"}),Object(s.jsx)("span",{className:"suggested-address-unit",children:o})]}),Object(s.jsxs)("div",{className:"unit-number-input-div",children:[Object(s.jsx)("input",{"data-testid":"delivery-address-line-input",type:"text",value:r,onChange:h,required:!0,title:Object(g.translateWithI18Next)(O)}),Object(s.jsx)("label",{children:Object(g.translateWithI18Next)(v)})]})]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(y.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"delivery-address-line-confirm",onClick:()=>n(r),disabled:d&&!(null!==r&&void 0!==r&&r.length),children:Object(g.translateWithI18Next)(b)})})]}):null})};var U=i.a.memo(P),V=o(915),H=o(980),W=o(0),K=o(997);const Y=e=>{var t;const{showKfcCount:o,showMapLink:l,typeOfView:n,toggleView:a,kfcStoresCountText:r,kfcCount:d}=e,c=Object(h.c)((e=>{var t,o,l;return(null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading)||(null===(l=e.storesReducer)||void 0===l?void 0:l.isFavoriteStoreStatusLoading)}));return Object(s.jsxs)(i.a.Fragment,{children:[Object(s.jsxs)("div",{className:"kfc-near-you-section",children:[o?Object(s.jsx)("div",{className:"kfc-count",children:null===(t=Object(g.translateWithI18Next)(r))||void 0===t?void 0:t.replace("%storeCount%",d)}):null,l?Object(s.jsx)("div",{className:"list-map-link-section","data-testid":"toggle-view-test",onClick:()=>a(),children:Object(s.jsxs)(D.a,{className:"list-map-link",children:[Object(s.jsx)("span",{children:Object(s.jsx)(f.a,{"data-testid":"",srcFile:null===n||void 0===n?void 0:n.imageSrc,alt:"map",className:"map-img"})}),Object(g.translateWithI18Next)(null===n||void 0===n?void 0:n.text)]})}):null]}),c&&Object(s.jsx)("div",{className:"placeholder",children:Array(8).fill().map((()=>Object(s.jsx)(G,{})))})]})},G=()=>Object(s.jsxs)("div",{className:"table store-card-container",children:[Object(s.jsx)("div",{className:"loading card-title shorter-s"}),Object(s.jsx)("div",{className:"loading table-content"}),Object(s.jsx)("div",{className:"loading table-content"})]});var J=i.a.memo(Y),z=o(981),X=o(111),q=o(61),Q=o(1008),Z=o(46),$=o(331);const{Error_Yellow:ee,MapImage:te}=N.a||{},{RETAIN_ADDRESS:oe,CONFIG_SEARCH_SCREEN:le,FROM_SCHEDULE_ORDER_CONTAINER:ie,ADDRESS_COORDS:ne}=W.gd||{},{SEARCH_ORDER_DATA:ae,DISPOSITION_METHOD:se,REORDER_MODAL_OPEN:re,REORDER_STORE_CHANGED:de,SCHEDULE_ORDER_DATA:ce}=c.a||{},{MIN_SEARCH_CHARACTER_LIMIT:ue,SET_LOCATION_BUTTON_FLAG:ve,SELECTED_FAV_ADDRESS:be,FORMATTED_DELIVERY_ADDRESS:Oe,SELECTED_LINE_ADDRESS_VAL:je,IS_FAV_ADDRESS_SELECTED:he,STREET_NUMBER:Se,NON_FORMATTED_ADDRESS:ge,TYPE_DELIVERY:Ee}=u.a,{RETRY_BTN_TEXT:pe,VIEW_MAP_BTN_TEXT:me,ADDRESS_NOT_FOUND_ERROR:Ce,GOOGLE_API_ERROR:fe,LOCATION_BLOCKED_ERROR:De,KFC_URL:Ae,PLEASE_ENTER_YOUR_LOCATION:Te,MAP:Ie}=L.a,{ENTER:Re}=W.Xf.KEY_CHAR_CODE||{},{SET_LOCATION_INFO:xe}=Z.a;let ye=!1;const Ne=e=>{let{orderSummaryModalClose:t,eligibleStoresForList:o,loggedIn:l,onClickMapHandler:i,storeOpenBtnText:n,findAKFC:a,storeNumberFormat:r}=e;return Object(s.jsx)(s.Fragment,{children:t&&(null===o||void 0===o?void 0:o.map((e=>Object(s.jsx)(z.a,{store:e,loggedIn:l,onClickMapHandler:i,storeOpenBtnText:n,findAKFC:a,storeNumberFormat:r},null===e||void 0===e?void 0:e.id))))})};var Le=e=>{var t,o,i,a,r,d,c,v,b,O,S,m,C,y,L;const{userPositionHandler:k,eligibleStoreData:F,dispositionType:M,seteligibleStoreData:P,storeSelection:Y,formContent:G,eligibleFavoriteStoreData:Z,findAKFC:re,finAKFCContentData:de={},isMobile:Le,setShowStores:_e=null,showStores:we=null,currentMarket:ke}=e,Fe=Object(l.useRef)(null),Be=Object(q.g)(),Me=Object(w.a)(),{userOrderState:Pe,userOrderStateDispatch:Ue}=Object(l.useContext)(n.a),{searchStoreData:Ve,scheduleOrderData:He,setLocationClicked:We,showLocationConfirmModal:Ke,showNotInRadiusError:Ye,notInRadiusRestaurant:Ge,orderSummaryModalClose:Je}=Pe,{configSearchScreen:ze=localStorage.getItem(le)}=Ve,Xe=JSON.parse(localStorage.getItem(ie)),[qe,Qe]=Object(l.useState)(!1),[Ze,$e]=Object(l.useState)(!1),[et,tt]=Object(l.useState)(!1),[ot,lt]=Object(l.useState)(!1),[it,nt]=Object(l.useState)(!1),[at,st]=Object(l.useState)([]),[rt,dt]=Object(l.useState)(!1),[ct,ut]=Object(l.useState)({}),[vt,bt]=Object(l.useState)(""),[Ot,jt]=Object(l.useState)(!1),[ht,St]=Object(l.useState)(""),[gt,Et]=Object(l.useState)(""),[pt,mt]=Object(l.useState)({}),Ct=Object(h.c)((e=>{var t,o;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(o=t.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress})),[ft,Dt]=Object(l.useState)({}),[At,Tt]=Object(l.useState)(null),[It,Rt]=Object(l.useState)(!1),xt=Object(h.c)((e=>e.appStateReducer.userStatus)),{loggedIn:yt}=Object(E.kd)(xt),{savedAddresses:Nt,favouriteStores:Lt}=Object(h.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{componentOptions:_t,savedAddressPage:wt,useLatLngForReverseGeocode:kt,isShowDefulteMapForDelivery:Ft,isUberServiceableEnabled:Bt,enableDeliveryMenuOption:Mt}=Object(h.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Pt=W.Ye,Ut=null!==(t=null===wt||void 0===wt?void 0:wt.showAddressWithApartment)&&void 0!==t&&t,Vt=null===_t||void 0===_t||null===(o=_t.web)||void 0===o?void 0:o.dispositionConfig,Ht=null===_t||void 0===_t||null===(i=_t.web)||void 0===i||null===(a=i.restaurantDetailPage)||void 0===a?void 0:a.storeNumberFormat,Wt=null===_t||void 0===_t||null===(r=_t.web)||void 0===r||null===(d=r.dispositionConfig)||void 0===d?void 0:d.autoSelectDeliveryStore,Kt=null===_t||void 0===_t||null===(c=_t.web)||void 0===c||null===(v=c.dispositionConfig)||void 0===v||null===(b=v.deliveryStores)||void 0===b?void 0:b.shouldEnableConfirmButton,Yt=null===_t||void 0===_t||null===(O=_t.web)||void 0===O||null===(S=O.dispositionConfig)||void 0===S?void 0:S.apartmentDetailsRegex,Gt=null===_t||void 0===_t||null===(m=_t.web)||void 0===m||null===(C=m.storeSearch)||void 0===C?void 0:C.changeAddressErrorMsgStyle,Jt=void 0!==Pe.isMapViewConfirmBtnFlow&&(null===M||void 0===M?void 0:M.toUpperCase())===Ee?Pe.isMapViewConfirmBtnFlow:null===_t||void 0===_t||null===(y=_t.web)||void 0===y||null===(L=y.storeSearch)||void 0===L?void 0:L.isMapViewConfirmBtnFlow,{enableScheduleOrder:zt=!1}=Vt,Xt="".concat(M,"_").concat(ze),qt=Jt&&M===Ee,{placeholder:Qt,shouldShowLocationWarning:Zt,shouldShowDeliveryAddressLine:$t,shouldHandleKeyPress:eo,serviceUnavailableError:to,shouldShowSingleStore:oo,shouldShowStoresList:lo,shouldShowKfcStoresCount:io,shouldShowMapListToggleLink:no,kfcStoresCountText:ao,shouldShowLocationLink:so,shouldPopulateFirstSuggestion:ro,storeOpenBtnText:co,filteredTypes:uo,filterConditions:vo}={...null===X.d||void 0===X.d?void 0:X.d[Xt],...null===Vt||void 0===Vt?void 0:Vt[Xt]},{shouldShowSavedAddress:bo}=(!Bt||(null===M||void 0===M?void 0:M.toUpperCase())!==W.Jb.DELIVERY)&&{...null===X.d||void 0===X.d?void 0:X.d[Xt],...null===Vt||void 0===Vt?void 0:Vt[Xt]},Oo=Object(w.b)(_.b),{errMsg:jo,firstBtnText:ho,firstBtnHandler:So,secondBtnHandler:go,secondBtnText:Eo,firstBtnClassName:po}=to||{},mo=!!(re||zt||qt)||oo,Co=Object(h.c)((e=>{var t,o,l,i;return Object(E.ye)(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading,null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreStatusLoading,null===(l=e.storesReducer)||void 0===l?void 0:l.isFavoriteStoreStatusLoading,null===(i=e.allStoresReducer)||void 0===i?void 0:i.isNearByStoresLoading)}));Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY&&localStorage.removeItem(oe);const fo=()=>{ut({}),qt&&dt(!1),_e(!1),$e(!0)},Do=Object(l.useCallback)((()=>{var e;Qe(!1),ut({}),mt({}),nt(!1),null===Fe||void 0===Fe||null===(e=Fe.current)||void 0===e||e.select()}),[]);Object(l.useEffect)((()=>{(null===Oo||void 0===Oo?void 0:Oo.selectedLineValueAddress)&&Et(null===Oo||void 0===Oo?void 0:Oo.selectedLineValueAddress)}),[Oo]);const Ao=Object(l.useCallback)((e=>{Object(j.I)(eo,(null===e||void 0===e?void 0:e.keyCode)===Re,Fe,Ue);const t=Object(E.xe)(eo,(null===e||void 0===e?void 0:e.keyCode)===Re,!(null!==at&&void 0!==at&&at.length));Object(j.K)(ro,(null===e||void 0===e?void 0:e.keyCode)===Re,at,bt,vt);let o={showError:t,errMsg:Object(g.translateWithI18Next)(Ce),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:Object(g.translateWithI18Next)(me),firstBtnCTA:Do,secondBtnCTA:fo},l={showError:t,errMsg:Object(g.translateWithI18Next)(jo),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(ho),secondBtnText:Object(g.translateWithI18Next)(Eo),firstBtnCTA:null===wo||void 0===wo?void 0:wo[So],secondBtnCTA:null===wo||void 0===wo?void 0:wo[go],firstBtnClassName:po},i=Object(E.Tc)((null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY,o,l);(null===ct||void 0===ct||!ct.showError)&&ut(i),null!==o&&void 0!==o&&o.showError?(null===pt||void 0===pt||!pt.showError)&&mt(o):mt({}),$e(!1)}),[null===ct||void 0===ct?void 0:ct.showError,null===pt||void 0===pt?void 0:pt.showError,Do,eo,null===at||void 0===at?void 0:at.length]),To=async function(e,t){var o;let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];St(e),Rt(!0),bt(e),Object(R.e)(e);const i=await Object(x.geocodeByAddress)(e),n=null===W.jf||void 0===W.jf?void 0:W.jf.some((t=>e.includes(t)));let a;if(Object(E.gf)(M,i,Bt),Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY&&!l){var s;a=ft;const e={longitude:a.lng.toString(),latitude:null===(s=a)||void 0===s?void 0:s.lat.toString()};localStorage.setItem(ne,JSON.stringify(e)),$e(!1)}else a=await Object(x.getLatLng)(i[0]);var r;null!==Vt&&void 0!==Vt&&Vt.clearDliveryTextFilter&&M===Ee?null!==(r=Object(j.x)(i))&&void 0!==r&&r.long_name?(k({userLat:a.lat,userLong:a.lng}),Dt(a)):nt(!1):(k({userLat:a.lat,userLong:a.lng}),Dt(a));n&&(Me(Object(_.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:Object(j.y)(e)})),Et(Object(j.y)(e)),Me(Object(_.d)({key:Oe,value:t.replace("".concat(Object(j.y)(e),","),"")}))),Me(Object(_.d)({key:ge,value:t})),Me(Object(_.d)({key:Se,value:null===(o=Object(j.x)(i))||void 0===o?void 0:o.long_name}))},Io=Object(l.useCallback)((async e=>{if(e.preventDefault(),P([]),Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY&&!et){var t;Xe&&localStorage.setItem(ie,!1);const e=null===Pe||void 0===Pe||null===(t=Pe.scheduleOrderData)||void 0===t?void 0:t.deliveryAddress;Ho(e,ft),To(e,e)}else To(et,ot)}),[eo,at,k,M,ot,et]);Object(l.useEffect)((()=>{ke===W.fb.TH&&null!==uo&&void 0!==uo&&uo.includes("address")&&To(et,ot)}),[uo]);const Ro=Object(l.useCallback)((async(e,t,o)=>{const l=!Xe&&Object(j.o)(t,eo,at,e,M);if(tt(l),lt(e),Boolean(!(null!==He&&void 0!==He&&He.changeFlow)||qt)&&bt(e),Boolean(!qt||Boolean(qt&&(null===He||void 0===He?void 0:He.changeFlow)))&&To(l,e),M===W.Jb.DELIVERY&&Ft&&t){const e=await Object(x.geocodeByAddress)(l),t=await Object(x.getLatLng)(e[0]);Dt(t),$e(o!==X.b)}}),[eo,at,k,M,qt,null===He||void 0===He?void 0:He.changeFlow]),xo=Object(l.useCallback)((()=>{qt&&$e(!1),nt(!1),dt($t),bt(ht),Ut&&Et(ht.includes("/")?ht.split("/")[0]:""),Ut&&Me(Object(_.c)({key:je}))}),[ht,$t,qt]),yo=Object(l.useCallback)((e=>{Object(j.z)(e,mo,vt,gt,_e,Ze,Ue,Pe,Wt,M)}),[vt,Ze,mo,gt,Ue]),No=Object(l.useCallback)((()=>{Qe(!1),dt(!1),Ue({type:ae,value:{showSearchStore:!0,configSearchScreen:X.c}}),localStorage.setItem(le,X.c),yo(F),Boolean(re||Ze||zt)&&Wo(Fe),Boolean(re||Ze||zt)&&Wo(Fe),Ue({type:xe,value:{selectedDeliveryAddress:vt,deliveryAddressLineVal:gt}}),Me(Object(_.d)({key:null===W.qe||void 0===W.qe?void 0:W.qe.REORDER_FLAG,value:{isReorderFlow:!1}}))}),[F,yo,Ue,qt]),Lo=Object(l.useCallback)((()=>{var e;Ue({type:ae,value:{showSearchStore:!0,configSearchScreen:X.a}}),localStorage.setItem(W.gd.CONFIG_SEARCH_SCREEN,X.a),bt(""),nt(!1),dt(!1),ut({}),Qe(!1),mt({}),_e(!1),(!qt||Ft)&&$e(!1),null===Fe||void 0===Fe||null===(e=Fe.current)||void 0===e||e.focus(),Tt(null),Rt(!1),Me(Object(_.c)({key:Oe})),Me(Object(_.c)({key:be})),Me(Object(_.c)({key:je})),Me(Object(_.c)({key:he})),Et(""),P([])}),[P,qt]),_o=Object(l.useCallback)((e=>{ut({}),mt({}),nt(!1),dt(!1),qt&&e.trim()&&(lt(e),tt(e)),(null===Vt||void 0===Vt?void 0:Vt.clearDliveryTextFilter)&&Ue({type:ce,value:{showScheduleOrderCatering:!1,changeFlow:!1}}),e.trim()?bt(e):Lo(),Tt(null)}),[Lo,qt]),wo=Object(l.useMemo)((()=>({focusInputBox:()=>{Fe.current.select(),ut({}),mt({})},gotoMenuPage:()=>{Be.push({pathname:Object(E.nc)(M,Mt)}),Ue({type:ae,value:{showSearchStore:!1}})},switchToPickup:()=>{Ue({type:se,value:{dispositionType:W.Jb.PICKUP}}),Ue({type:ae,value:{showSearchStore:!0,configSearchScreen:X.a}}),localStorage.setItem(le,X.a),Lo()},openDeliveryAddressScreen:()=>{Ue({type:ae,value:{showSearchStore:!0,configSearchScreen:X.a}}),localStorage.setItem(le,X.a),Ue({type:se,value:{dispositionType:W.Jb.DELIVERY}}),Fe.current.select(),ut({}),mt({})}})),[Be,Lo,Ue]),ko=Object(l.useCallback)((e=>{Zt||yo(e)}),[Zt,yo]),Fo=Object(l.useCallback)(((e,t,o,l)=>{if((null===e||void 0===e?void 0:e.length)>0)ut({}),mt({}),nt(Zt),ko(e);else if(Object(E.xe)(null===l||void 0===l?void 0:l.length,vt,(null===M||void 0===M?void 0:M.toUpperCase())!==W.Jb.DELIVERY))ut({}),mt({}),P(l);else{let e=Object(E.xe)(vt!==ht,eo,(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY),l={showError:eo,errMsg:Object(g.translateWithI18Next)(Ce),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:Object(g.translateWithI18Next)(me),firstBtnCTA:Do,secondBtnCTA:fo},i={showError:Object(E.xe)(!t,o),errMsg:Object(g.translateWithI18Next)(jo),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(ho),secondBtnText:Object(g.translateWithI18Next)(Eo),firstBtnCTA:null===wo||void 0===wo?void 0:wo[So],secondBtnCTA:null===wo||void 0===wo?void 0:wo[go],firstBtnClassName:po};Object(j.W)(e,l,i,ut)}}),[ko,wo,to,Zt,vt,M]),{handleSelectAddress:Bo,onUseThisAddressHandler:Mo,callOnAddressConfirmHandler:Po}=Object(R.a)({handleSelectAddressGlobal:Ro,onUseThisAddressHandlerGlobal:xo,onAddressSelectionGlobal:Fo}),Uo=Object(l.useCallback)((async()=>{Object(j.Q)(),Object(I.o)();const e=await Object(R.b)(Ue,Ct);if(e){St(p.b.address),bt(p.b.address),Object(R.e)(p.b.address),st([{description:p.b.address}]);const{longitude:e,latitude:t}=p.b.coordinates;let o=await Object(x.geocodeByAddress)(p.b.address);Object(E.gf)(M,o),k({userLat:t,userLong:e}),Dt({lat:t,lng:e}),Rt(!0)}Object(j.s)(Ue,!e)}),[Ue,k,M]),Vo=Object(l.useCallback)((e=>{Object(j.e)(e,W.Rf,st);const t=W.fe.includes(e);ut({showError:t,errMsg:Object(g.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(g.translateWithI18Next)(pe),secondBtnText:null,firstBtnCTA:Do,secondBtnCTA:null})}),[Do]);Object(l.useEffect)((()=>{if(We){(async()=>{await Uo()})(),Ue({type:ve,value:{setLocationClicked:!1}})}}),[We]),Object(l.useEffect)((()=>{const e=(null===ct||void 0===ct?void 0:ct.errMsg)===Object(g.translateWithI18Next)(fe);Object(j.D)(e,ye),e&&(ye=!0)}),[null===ct||void 0===ct?void 0:ct.showError]),Object(l.useEffect)((()=>{const e=(null===vt||void 0===vt?void 0:vt.length)>2&&qt;Qe(e);const t=Object(E.d)(vt,ue);jt(t)}),[vt,qt]),Object(l.useEffect)((()=>{if(!re){var e,t;null===Fe||void 0===Fe||null===(e=Fe.current)||void 0===e||e.focus();const o=null===(t=localStorage)||void 0===t?void 0:t.getItem(oe);Object(j.c)(He,Ve,at,st,Bo,o,vt)}$e(!1)}),[ze,re]),Object(l.useEffect)((()=>{var e,t,o;Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY&&($e(!0),Tt(null===Pe||void 0===Pe||null===(e=Pe.scheduleOrderData)||void 0===e?void 0:e.storeId),To(null===Pe||void 0===Pe||null===(t=Pe.scheduleOrderData)||void 0===t?void 0:t.deliveryAddress,null===Pe||void 0===Pe||null===(o=Pe.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress,!0))}),[]),Object(l.useEffect)((()=>{Object(j.f)(Ue,Ke)}),[Ue]),Object(l.useEffect)((()=>{qt?ht&&Po(F,Co,ht,Z):Po(F,Co,ht,Z)}),[F,Co,ht,Z]);const Ho=(e,t)=>{const o=Object(E.Ud)(window.innerWidth);var l,i,n,a;Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY?(_o(null===Pe||void 0===Pe||null===(l=Pe.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress),st([{description:null===Pe||void 0===Pe||null===(i=Pe.scheduleOrderData)||void 0===i?void 0:i.deliveryAddress}])):(_o(e),st([{description:e}]));(Dt(t),o)?null===Fe||void 0===Fe||null===(n=Fe.current)||void 0===n||n.blur():null===Fe||void 0===Fe||null===(a=Fe.current)||void 0===a||a.focus();Ze&&Wo(Fe)},Wo=e=>{var t;let o=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(o)},Ko=Object(l.useCallback)((e=>{$e(!0),_e(!1),Tt(e)}),[]),Yo=Object(l.useCallback)((()=>{_e(Ze),$e(!Ze),Object(j.E)(Ze,M)}),[Ze]),Go=Object(E.xe)(null===Nt||void 0===Nt?void 0:Nt.length,yt,bo,!it,!rt,!(null!==ct&&void 0!==ct&&ct.showError)),Jo=!JSON.parse(Xe)&&Object(E.xe)(it,null===at||void 0===at?void 0:at.length,null===F||void 0===F?void 0:F.length);Object(l.useEffect)((()=>{Jo&&qt&&(null!==He&&void 0!==He&&He.changeFlow||Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY?No():Mo())}),[Jo,qt,null===He||void 0===He?void 0:He.changeFlow]);const zo=Object(E.xe)(null===ct||void 0===ct?void 0:ct.showError,!Co,vt),Xo=Object(E.xe)(Ke,so,!Ze),qo=Object(j.T)(F,Lt,Pt,!Object(E.xe)(we,!(null!==ct&&void 0!==ct&&ct.showError)),lo),Qo=Object(E.ye)(null===ct||void 0===ct?void 0:ct.showError,Xo,Ye,Jo,zo,rt),Zo=Object(E.xe)(io,(null===F||void 0===F?void 0:F.length)>0,!Co,It,!Qo),$o=Object(E.xe)(vt,(null===F||void 0===F?void 0:F.length)>0,no,!Co,It,!Qo),el=Object(j.T)(F,Lt,Pt,Object(E.xe)(we,!(null!==ct&&void 0!==ct&&ct.showError)),lo),tl=null!==pt&&void 0!==pt&&pt.showError?[]:qo,ol=Ze?null===qo||void 0===qo?void 0:qo.length:null===el||void 0===el?void 0:el.length,ll=Object(E.ye)(Ze,!so),il=Object(E.xe)(ol,!Ze,It),nl=Object(E.ye)(Qo,Zo,Ze),al=Object(E.xe)(re,!nl,!il);return Object(s.jsx)("div",{className:re?"".concat(Object(E.Tc)(nl,"findkfc-delivery-show-container","findkfc-delivery-hide-container")," ").concat(Qo&&"findkfc-delivery-error-container"," ").concat(Object(E.Tc)(Ze,"mapview","listview")):"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(s.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(s.jsxs)("div",{id:"search-store-global-content",className:Object(j.u)(Ke),children:[Object(s.jsx)(V.a,{show:Xo,errorMsg:Object(j.G)(De,Ae),errImage:ee,cssClass:"location-blocked"}),Object(s.jsxs)("div",{className:Object(E.Tc)(re,"findkfc-search-store-container","selectkfc-search-store-container"),children:[Object(s.jsx)(T.a,{loggedIn:yt,formContent:G,storeSelection:Y,useCurrentLocation:Uo,hideLocationLink:ll,showLocationConfirmModal:Ke}),Object(s.jsx)(A.a,{...e,storeSelection:Y,history:Be,inputOnChange:_o,address:vt,showAutoSuggestion:Ot,setSuggestedAddress:st,handleSelectAddress:Bo,alreadySearched:R.c,onClearTextHandler:Lo,keyPress:Ao,inputRef:Fe,onSearchError:Vo,placeholder:Object(g.translateWithI18Next)(Qt),filteredTypes:uo,filterConditions:vo,showConfirmBtn:qt,onClickHandler:Io,confirm:qe,isAddressNotChangable:Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY}),Object(s.jsx)("div",{className:"".concat(Object(E.Tc)(Ye,"error-can-not-deliver","hide-error-container")),children:Object(s.jsx)(V.a,{show:Ye,errorMsg:[Object(s.jsxs)("span",{className:"store-name",children:[Ge," "]}),Object(g.translateWithI18Next)(u.a.CAN_NOT_DELIVER_ERROR_MSG)],errImage:N.a.Error,cssClass:"error-sub-container"})}),!qt||Ze||Jo||we||zo?null:Object(s.jsx)("div",{className:"map-button-form",children:Object(s.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:fo,children:[Object(s.jsx)("span",{className:"delivery-map-text",children:Object(g.translateWithI18Next)(Te)}),Object(s.jsxs)(D.a,{className:"map-link",children:[Object(s.jsx)("span",{children:Object(s.jsx)(f.a,{"data-testid":"",srcFile:te,alt:" ",className:"map-img"})}),Object(g.translateWithI18Next)(Ie)]})]})}),!qt&&Object(s.jsx)(B,{show:Jo,onRetryClickHandler:Do,address:ht,onUseThisAddressHandler:Mo,changeAddressErrorMsgStyle:Gt}),Object(s.jsx)(U,{show:rt,suggestedAddress:vt,confirmDeliveryAddressLineHandler:No,onChangeDeliveryAddressLine:Et,deliveryAddressLineVal:gt,shouldEnableConfirmButton:Kt,apartmentDetailsRegex:Yt}),Object(s.jsx)(H.a,{show:zo,errorObj:ct}),Object(s.jsx)(K.a,{show:Go,savedAddresses:Nt,handleSelectAddress:Bo}),Object(s.jsx)(J,{showKfcCount:Zo,kfcCount:ol,showMapLink:$o,typeOfView:Object(j.X)(Ze),toggleView:Yo,kfcStoresCountText:ao})]}),Object(s.jsxs)("div",{className:re?"".concat(Object(E.Tc)(il,"store-dynamic-card-container","store-no-card-container")):"selectkfc-card-container",children:[al&&Object(s.jsx)(f.a,{srcFile:Le?de.mobileImage:de.desktopImage,className:"findkfc-img"}),Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY?(e=>{var t;let{orderSummaryModalClose:o,eligibleStoresForList:l,loggedIn:i,onClickMapHandler:n,storeOpenBtnText:a,findAKFC:r,storeNumberFormat:d}=e;return Object(s.jsx)(s.Fragment,{children:o&&Bt&&(null===M||void 0===M?void 0:M.toUpperCase())===W.Jb.DELIVERY&&(null===l||void 0===l||null===(t=l.filter((e=>{var t;return Object($.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)})))||void 0===t?void 0:t.map((e=>Object(s.jsx)(z.a,{store:e,loggedIn:i,onClickMapHandler:n,storeOpenBtnText:a,findAKFC:r,storeNumberFormat:d},null===e||void 0===e?void 0:e.id))))})})({orderSummaryModalClose:Je,eligibleStoresForList:el,loggedIn:yt,onClickMapHandler:Ko,storeOpenBtnText:co,findAKFC:re,storeNumberFormat:Ht}):Ne({orderSummaryModalClose:Je,eligibleStoresForList:el,loggedIn:yt,onClickMapHandler:Ko,storeOpenBtnText:co,findAKFC:re,storeNumberFormat:Ht})]})]}),Ze?Object(s.jsx)(Q.a,{eligibleStores:tl,defaultStoreId:At,loggedIn:yt,selectedCoords:ft,passAddress:Ho,configSearchKey:Xt,useCurrentLocation:Uo,showLocationConfirmModal:Ke,findAKFC:re,favouriteStores:Lt,useLatLngForReverseGeocode:kt,markerDragValue:!0,...Bt&&{zoomLevel:19}}):null]})})};const _e=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=e.filter((e=>{var t,o,l,i,n,a,s,r,d,c,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(i=l.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(a=n.menu)||void 0===a||null===(s=a.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(r=e.summary)||void 0===r||null===(d=r.timings)||void 0===d||null===(c=d.operatingHours)||void 0===c?void 0:c.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));if(t){return o.filter((e=>e.summary.status.currentStatus===(null===c.a||void 0===c.a?void 0:c.a.CLOSED))).length===(null===e||void 0===e?void 0:e.length)?[]:o}return o},we=e=>{var t,o,a,r,C,f,D,A;const{contentData:T={},onStoreSelectFinish:I,finAKFCContentData:R={},isMobile:x=!1}=e,{SEARCH_ORDER_DATA:y,DISPOSITION_DATA:N,ANALYTICS_LOCALISATION_SIGNIN:L,SET_ELIGIBLE_STORE:k,SET_FIND_A_KFC_VIEW:F,SET_REDIRECTION_PATH:B,REORDER_MODAL_OPEN:M,FROM_REORDER_MODAL_OPEN:P,REORDER_STORE_CHANGED:U,FAV_STORE_NOT_IN_RADIUS:V}=c.a,{DELIVERY:H,PICKUP:K}=W.Jb,Y=Object(h.b)(),G=Object(w.a)(),{FORMATTED_DELIVERY_ADDRESS:J,SELECTED_LINE_ADDRESS_VAL:z,SELECTED_FAV_ADDRESS:q,IS_FAV_ADDRESS_SELECTED:Q,STREET_NUMBER:$,TYPE_DELIVERY:ee}=u.a,{userOrderState:te,userOrderStateDispatch:oe}=Object(l.useContext)(n.a),{dispositionStateData:le,searchStoreData:ie,findAKFC:ne}=te,{dispositionType:ae=localStorage.getItem(W.gd.DISPOSITION_TYPE)}=Object(E.md)(le),{storeSearch:se={},tenantId:re,countryCode:de=[],componentOptions:ce,storelocatormaxreturncount:ue=10,ispolygonrequired:ve,savedAddressPage:be,isUberServiceableEnabled:Oe}=Object(h.c)((e=>Object(E.kd)(e.tenantReducer))),je=null===ce||void 0===ce||null===(t=ce.web)||void 0===t||null===(o=t.storeSearch)||void 0===o?void 0:o.addPickupAndDropoffLatLngInStatusApi,{isSendEntireStoreAsPayloadInStatusApi:he=!1}=(null===ce||void 0===ce||null===(a=ce.web)||void 0===a?void 0:a.storeSearch)||{},Se=Object(w.b)(_.b),ge=null!==(r=null===be||void 0===be?void 0:be.showAddressWithApartment)&&void 0!==r&&r,{storeSelection:Ee,web:pe={}}=ce,{shouldCheckDropOffAddress:me=!1}=pe,Ce=null===ce||void 0===ce||null===(C=ce.web)||void 0===C?void 0:C.dispositionConfig,fe=null===ce||void 0===ce||null===(f=ce.web)||void 0===f||null===(D=f.dispositionConfig)||void 0===D?void 0:D.enableClickCollectScheduleOrder,{currentMarket:De=(null===de||void 0===de||null===(A=de[0])||void 0===A?void 0:A.toUpperCase()),storeCardLimit:Ae=ue,configSearchScreen:Te=localStorage.getItem(W.gd.CONFIG_SEARCH_SCREEN)}=ie,Ie="".concat(null===ae||void 0===ae?void 0:ae.toUpperCase(),"_").concat(Te),{modalHeaderTitle:Re,shouldShowDisposition:xe,shouldShowSearchStore:ye,shouldShowClosedStore:Ne}={...null===X.d||void 0===X.d?void 0:X.d[Ie],...null===Ce||void 0===Ce?void 0:Ce[Ie]},{searchStoreModalContent:we={}}=T,ke=Re,{formContent:Fe={},locationsContent:{storeData:Be=[]}}=we,[Me,Pe]=i.a.useState(!1),[Ue,Ve]=i.a.useState({}),[He,We]=i.a.useState([]),[Ke,Ye]=i.a.useState([]),[Ge,Je]=i.a.useState([]),{maxDriveTimeMins:ze,distanceMetrics:Xe,maxDeliveryDistanceMtrs:qe,maxPickupDistanceMtrs:Qe,maxCateringDistanceMtrs:Ze,geohashprecision:$e,boundingBoxSizeMeters:et,shouldCallGoogleDistanceApi:tt,numOfStoresToShowDelivery:ot,boundingBoxSizeDivider:lt}=se,{allStores:it=[],storesUpdated:nt}=Object(h.c)((e=>e.allStoresReducer))||{},{storesWithStatus:at=[],favoriteStoresWithStatus:st}=Object(h.c)((e=>Object(E.kd)(e.storesReducer))),rt=e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(W.gd.SET_CART_CLEAR),localStorage.setItem(W.gd.RENDER_COMP,!0),oe({type:N,value:{showDisposition:!1}}),oe({type:y,value:{showSearchStore:!1}}),oe({type:B,value:{redirectionOrder:""}}),oe({type:M,value:{reorderModalOpen:!1}}),oe({type:P,value:{fromReorderFlag:!1}}),oe({type:U,value:{storeChanged:!1}}),oe({type:F,value:{findAKFC:window.location.pathname===W.Ae.FIND_STORE}}),G(Object(_.c)({key:J})),G(Object(_.c)({key:q})),!ge&&G(Object(_.c)({key:z})),G(Object(_.c)({key:Q})),G(Object(_.c)({key:$})),oe({type:V,value:{showNotInRadiusError:!1,notInRadiusRestaurant:""}})};Object(l.useEffect)((()=>{const e=e=>{27===e.keyCode&&rt(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const{favouriteStores:dt,savedAddresses:ct}=Object(h.c)((e=>e.profileReducer)),{localized:ut=!1}=Object(h.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(l.useEffect)((()=>{Object(E.xe)(it.length>0,nt)&&bt(it)}),[it,nt,null===dt||void 0===dt?void 0:dt.length,Ue]),Object(l.useEffect)((()=>{at.length>0&&ae!==W.T&&pt(at)}),[ae,at]),Object(l.useEffect)((()=>{const e=null===st||void 0===st?void 0:st.sort(((e,t)=>{var o,l,i,n;return(null===e||void 0===e||null===(o=e.distance)||void 0===o||null===(l=o.distance)||void 0===l?void 0:l.value)-(null===t||void 0===t||null===(i=t.distance)||void 0===i||null===(n=i.distance)||void 0===n?void 0:n.value)}));Je(e)}),[st]),Object(l.useEffect)((()=>{Object(E.xe)((null===ae||void 0===ae?void 0:ae.toUpperCase())===H,tt)&&Ot(Ke)}),[Ke]),Object(l.useEffect)((()=>()=>{Y(Object(O.u)())}),[ne,Y]);const vt=(e,t)=>{const o={lat:e,lon:t,distanceFromCurrentLoc:et/lt,geohashprecision:$e},l=b.a.calculateGH(o);Y(Object(O.v)(null===l||void 0===l?void 0:l.length))},bt=e=>{const t=Object(E.Ib)(null===ae||void 0===ae?void 0:ae.toUpperCase());let o=e.filter((e=>{var t,o;return Object(E.he)(e.id)&&Object(E.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(E.he)(null===e||void 0===e||null===(o=e.location)||void 0===o?void 0:o.longitude)}));Object(E.Ad)(ae)&&ve&&(o=Object(j.S)(o,Ue));const l={stores:o,disposition:t,distanceMetrics:Xe,driveTime:ze,distanceInMtrs:Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===H,qe,Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===W.Jb.PICKUP,Qe,Ze)),noOfStores:Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===H,ot,o.length),channel:p.b.channel},i=b.a.checkAndProceed(l);Ye(i),i&&((null===ae||void 0===ae?void 0:ae.toUpperCase())===H&&tt?Ot(i):(he&&(null===i||void 0===i?void 0:i.length)>ue&&i.splice(ue),St(i,t)))},Ot=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var o,l;t.push({lat:null===(o=e.location)||void 0===o?void 0:o.latitude,lng:null===(l=e.location)||void 0===l?void 0:l.longitude})})),Object(v.c)(t,[{lat:Ue.userLat,lng:Ue.userLong}],jt)},jt=e=>{let{allStoreDistance:t,originAddressText:o}=e;const l=Object(E.Ib)(ae.toUpperCase()),i={stores:ht(t,Ke),numberOfStores:Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===W.Jb.DELIVERY,ot,ue),disposition:l,distanceMetrics:Xe,driveTime:ze,distanceInMtrs:Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===H,qe,Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===W.Jb.PICKUP,Qe,Ze))},n=b.a.getSortedNearbyStores(i);(null===n||void 0===n?void 0:n.length)>0&&St(n,l)},ht=(e,t)=>null===t||void 0===t?void 0:t.map(((t,o)=>({...t,distance:e[o]}))),St=(e,t)=>{const o={data:Object(E.B)(e,t,null,me,null===Se||void 0===Se?void 0:Se.latLong),store:e,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};Y(Object(O.d)(o))};Object(l.useEffect)((()=>{gt({userLat:Ue.userLat,userLong:Ue.userLong})}),[dt.length,Ue]);const gt=e=>{var t,o;const l=localStorage.getItem(W.gd.STORE_INFO),i=l&&void 0!==l&&JSON.parse(l),n=null!==ct&&void 0!==ct&&ct.length?ct.filter((e=>e.isPrimary)):[],a=i&&ut?i:(null===n||void 0===n?void 0:n.length)&&n[0];Object(v.a)(null===a||void 0===a||null===(t=a.location)||void 0===t?void 0:t.latitude,null===a||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude,dt,Et)},Et=e=>{const t=Object(E.Tc)((null===ae||void 0===ae?void 0:ae.toUpperCase())===K,W.ee,ae),o=null===e||void 0===e?void 0:e.map((e=>{var t,o,l,i,n,a;return{availableServicesPerChannel:null===e||void 0===e?void 0:e.availableServicesPerChannel,distance:{distance:null===e||void 0===e?void 0:e.distance},duration:null===e||void 0===e?void 0:e.duration,id:null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id,name:null===e||void 0===e||null===(o=e.storeBasic)||void 0===o?void 0:o.dname,amenities:null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.amenities,addresses:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.address,additionalAttributes:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.additionalProperties,location:null===e||void 0===e||null===(a=e.storeBasic)||void 0===a?void 0:a.location}})),l={data:Object(E.B)(o,t,null,me,null===Se||void 0===Se?void 0:Se.latLong),store:o,tenantId:re,setStatusFlag:!1,isFavoritePage:!1};!ne&&l.data.length&&Y(Object(O.h)(l))},pt=e=>{const t=_e(e,fe,Ne);We(t),oe({type:k,value:{eligibleStore:t}})},mt=Object(s.jsx)(Le,{singInClickhandler:e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(L,JSON.stringify(!0)),Object(j.O)(),Object(m.b)()},formContent:Fe,storeData:Be,onStoreSelectFinish:I,eligibleStoreData:He,storeCardLimit:Ae,userPositionHandler:e=>{Y(Object(S.b)()),Y(Object(O.u)()),je&&G(Object(_.d)({key:W.qe.LAT_LONG,value:{lat:null===e||void 0===e?void 0:e.userLat,lng:null===e||void 0===e?void 0:e.userLong}})),Ve({userLat:e.userLat,userLong:e.userLong}),He&&We([]),vt(e.userLat,e.userLong),setTimeout((()=>{Y(Object(S.a)())}),2e3)},currentMarket:De,dispositionType:null===ae||void 0===ae?void 0:ae.toUpperCase(),seteligibleStoreData:We,storeSelection:Ee,eligibleFavoriteStoreData:Ge,findAKFC:ne,finAKFCContentData:R,isMobile:x,setShowStores:Pe,showStores:Me}),Ct=Object(s.jsx)(d,{handleClose:rt,orderModeTypeItem:mt,headerText:Object(g.translateWithI18Next)(ke),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),Pe(!1),Oe&&(null===ae||void 0===ae?void 0:ae.toUpperCase())===ee?(oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.ENABLE_ADDRESS_LOCALISATION,value:!0}),oe({type:null===Z.a||void 0===Z.a?void 0:Z.a.SHOW_MAP_VIEW_BUTTON,value:!1})):(oe({type:N,value:{showDisposition:xe}}),oe({type:y,value:{showSearchStore:ye,configSearchScreen:X.a,searchedPlaceNonLocalized:null===ie||void 0===ie?void 0:ie.searchedPlaceNonLocalized}}))},modalTitleId:"search-store",className:"search-store-global-container ".concat(Object(E.db)(Object(E.yd)(ae),"catering-modal")),backDataTestId:"back-btn-global-modal-id"});return null!==te&&void 0!==te&&te.findAKFC?mt:Ct};we.defaultProps=C.a;t.default=we}}]);