(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[62,128],{1052:function(e,t,d){"use strict";d.d(t,"a",(function(){return s}));var o=d(3),i=d.n(o),n=d(25),r=d(912),l=d(920),c=d(5),u=d(2);const s=e=>t=>{let d=null,o=null;const r=Object(n.c)((e=>{var t,d;return{homePageContent:Object(c.od)(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response),marketPageContent:Object(c.od)(null===e||void 0===e||null===(d=e.marketConfigReducer)||void 0===d?void 0:d.response),tenantReducerContent:Object(c.od)(null===e||void 0===e?void 0:e.tenantReducer)}}));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){var l;const{header:e={},footer:t={}}=Object(c.kd)(null===r||void 0===r||null===(l=r.marketPageContent)||void 0===l?void 0:l.headerData);d=Object(c.cc)(e),o=Object(c.Sb)(t)}const s=Object(n.c)((e=>e.appStateReducer.userStatus));return Object(u.jsxs)(i.a.Fragment,{children:[a(d,r,s,!0,!1),Object(u.jsx)(e,{...t}),v(o,t.history,r)," "]})},a=(e,t,d,o,i)=>Object(c.Kd)(e)&&Object(u.jsx)(r.b,{contentData:e,tenantReducerData:t.tenantReducerContent,userParams:d,paymentHeader:o,checkoutHeader:i}),v=(e,t,d)=>Object(c.Kd)(e)&&Object(u.jsx)(l.a,{contentData:e,history:t,tenantReducerData:d.tenantReducerContent})},833:function(e,t,d){"use strict";d.r(t);var o=d(3),i=d.n(o),n=d(36),r=d(2);const l=e=>{var t,d;return(null===e||void 0===e?void 0:e.orderHistoryReducer)&&(null===e||void 0===e||null===(t=e.orderHistoryReducer)||void 0===t?void 0:t.activeOrderHistory)&&(null===e||void 0===e||null===(d=e.orderHistoryReducer)||void 0===d?void 0:d.activeOrderHistory.map((t=>Object(r.jsxs)("div",{className:"active-orders-panel col-12 col-lg-7",children:[Object(r.jsx)("div",{class:"circle-top-left"}),Object(r.jsxs)("div",{className:"active-orders-details",children:[Object(r.jsx)("div",{className:"active-orders-details-info col-12",children:Object(r.jsx)("span",{children:null===e||void 0===e?void 0:e.getTitle(t)})}),Object(r.jsxs)("div",{className:"active-orders-details-panel col-12",children:[Object(r.jsx)("div",{className:"active-orders-details-panel-info col-12 col-lg-8",children:Object(r.jsx)("span",{className:"col-12",children:null===e||void 0===e?void 0:e.getInfo(t)})}),Object(r.jsx)("div",{className:"active-track-order-btn col-12 col-lg-4",children:Object(r.jsx)(n.a,{"data-testid":"active-track-order-button",className:"button col-12","aria-label":null===e||void 0===e?void 0:e.getBtnTxt(t),onClickHandler:()=>null===e||void 0===e?void 0:e.onTrackOrderBtnClickHandler(t),id:"activeTrackOrderItemButton",type:"submit",children:Object(r.jsx)("span",{children:null===e||void 0===e?void 0:e.getBtnTxt(t)})})})]}),Object(r.jsx)("div",{className:"active-orders-details-add-info col-12",children:Object(r.jsx)("span",{children:null===e||void 0===e?void 0:e.getAdditionalInfo(t)})})]}),Object(r.jsx)("div",{class:"circle-bottom-right"})]}))))};t.default=i.a.memo(l)},892:function(e,t,d){"use strict";d.r(t);var o=d(3),i=d(25),n=d(6),r=d(15),l=d(5),c=d(0),u=d(972),s=d(833);const a="currentOrders",v="orderHash",O="orderGettingReady",b="yourOrderIsScheduled",E="pickupDetails",I="scheduled",j="trackDelivery",D="trackOrder",f="scheduledTime",m="readyForPickup";var h=d(1052),T=d(2);t.default=Object(h.a)((e=>{var t;const{tenantReducer:d,orderHistoryReducer:h,profileReducer:R}=Object(i.c)((e=>e)),g=Object(o.useCallback)((e=>{var t;let d="";return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?d=Object(l.ef)(Object(n.translateWithI18Next)(I)):Object(l.ef)(null===e||void 0===e?void 0:e.service)!==c.Lb.DELIVERY&&Object(l.ef)(null===e||void 0===e?void 0:e.service)!==c.Lb.PICKUP||(d=Object(l.ef)(null===e||void 0===e?void 0:e.service)),"".concat(d," ").concat(Object(l.ef)(Object(n.translateWithI18Next)(v))," ").concat(null===e||void 0===e?void 0:e.posOrderId)}),[]),p=Object(o.useCallback)((e=>{var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(n.translateWithI18Next)(b):Object(l.ef)(null===e||void 0===e?void 0:e.service)===c.Lb.DELIVERY||Object(l.ef)(null===e||void 0===e?void 0:e.service)===c.Lb.PICKUP?Object(n.translateWithI18Next)(O):void 0}),[]),A=Object(o.useCallback)((e=>{var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(n.translateWithI18Next)(D):Object(l.ef)(null===e||void 0===e?void 0:e.service)===c.Lb.DELIVERY?Object(n.translateWithI18Next)(j):Object(l.ef)(null===e||void 0===e?void 0:e.service)===c.Lb.PICKUP?Object(n.translateWithI18Next)(E):void 0}),[]),C=Object(o.useCallback)((e=>{var t;return!1===(null===e||void 0===e||null===(t=e.requestedDateTime)||void 0===t?void 0:t.isForNow)?Object(n.translateWithI18Next)(f):Object(l.ef)(null===e||void 0===e?void 0:e.service)===c.Lb.PICKUP?Object(n.translateWithI18Next)(m):void 0}),[]),L=Object(o.useCallback)((t=>{const o={...t,customer:null===R||void 0===R?void 0:R.basic},i=Object(u.w)(null===d||void 0===d?void 0:d.tenantId,o);i.postOrderDetails={},sessionStorage.setItem(c.gd.ORDER_TRACKING,JSON.stringify(i)),Object(l.Te)(e)}),[]);return Object(T.jsxs)("div",{className:"active-orders col-12",children:[Object(T.jsxs)("div",{className:"active-orders-title col-12",children:[Object(T.jsx)("img",{src:r.a.Strips,alt:"Red Strip",class:"account-icon"}),Object(T.jsx)("h4",{class:"currentStatus",children:"".concat(Object(n.translateWithI18Next)(a)," (").concat(null===h||void 0===h||null===(t=h.activeOrderHistory)||void 0===t?void 0:t.length,")")})]}),Object(T.jsx)("div",{className:"active-orders-list col-12",children:Object(T.jsx)(s.default,{orderHistoryReducer:h,getTitle:g,getInfo:p,getBtnTxt:A,getAdditionalInfo:C,onTrackOrderBtnClickHandler:L})})]})}))},912:function(e,t,d){"use strict";d.d(t,"a",(function(){return n})),d.d(t,"b",(function(){return r}));var o=d(171),i=d(2);const n=e=>Object(i.jsx)(o.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),r=e=>Object(i.jsx)(o.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},920:function(e,t,d){"use strict";d.d(t,"a",(function(){return n}));var o=d(171),i=d(2);const n=e=>Object(i.jsx)(o.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},951:function(e,t,d){"use strict";d.d(t,"a",(function(){return o})),d.d(t,"c",(function(){return i})),d.d(t,"b",(function(){return n})),d.d(t,"d",(function(){return r}));const o=20,i=5e3,n=15e3,r=18e4},972:function(e,t,d){"use strict";d.d(t,"p",(function(){return a})),d.d(t,"o",(function(){return v})),d.d(t,"l",(function(){return O})),d.d(t,"f",(function(){return b})),d.d(t,"m",(function(){return E})),d.d(t,"n",(function(){return I})),d.d(t,"h",(function(){return j})),d.d(t,"j",(function(){return D})),d.d(t,"i",(function(){return f})),d.d(t,"g",(function(){return m})),d.d(t,"k",(function(){return h})),d.d(t,"r",(function(){return R})),d.d(t,"a",(function(){return g})),d.d(t,"b",(function(){return A})),d.d(t,"d",(function(){return C})),d.d(t,"c",(function(){return L})),d.d(t,"s",(function(){return N})),d.d(t,"v",(function(){return S})),d.d(t,"q",(function(){return P})),d.d(t,"u",(function(){return _})),d.d(t,"w",(function(){return x})),d.d(t,"e",(function(){return y})),d.d(t,"t",(function(){return k}));var o=d(138),i=d(102),n=d(30),r=d(5),l=d(0),c=d(951),u=d(22),s=d(42);const a=e=>T(e)===l.Od.STAGED_ACCEPTED,v=e=>T(e)===l.Od.PICKUP_DELIVERY_DINE_IN,O=e=>Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY&&v(e),b=e=>Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY&&(O(e)||j(e)||D(e)||f(e)),E=e=>b(e)&&(null===e||void 0===e?void 0:e.deliveryPartner),I=e=>b(e)&&!f(e)&&!m(e),j=e=>T(e)===l.Od.DELIVERY_DISTA_CREATE_ASSIGN,D=e=>T(e)===l.Od.DELIVERY_DISTA,f=e=>T(e)===l.Od.DELIVERY_DISTA_DELIVERED,m=e=>T(e)===l.Od.CANCELLED,h=e=>D(e)||m(e)||f(e),T=e=>{switch(Object(r.ef)(null===e||void 0===e?void 0:e.status)){case l.Qd.STAGED:case l.Qd.ACCEPTED:return u.b.shouldGoogleSpotIgnoreOloFailure?l.Od.PICKUP_DELIVERY_DINE_IN:l.Od.STAGED_ACCEPTED;case l.Qd.SENT_TO_POS_COMPLETED:if(Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.PICKUP||Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DINE_IN||Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY||Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.CHRISTMAS_ORDERING)return l.Od.PICKUP_DELIVERY_DINE_IN;break;case l.Qd.CREATED:case l.Qd.ASSIGNED:return l.Od.DELIVERY_DISTA_CREATE_ASSIGN;case l.Qd.PICKED_UP:case l.Qd.OUT_FOR_DELIVERY:case l.Qd.ARRIVED:return l.Od.DELIVERY_DISTA;case l.Qd.DELIVERED:return l.Od.DELIVERY_DISTA_DELIVERED;case l.Qd.CANCELLED:case l.Qd.CANCEL:return Object(r.ef)(null===e||void 0===e?void 0:e.service)===l.Lb.DELIVERY?l.Od.CANCELLED:l.Od.FAILED;case l.Qd.SENT_TO_POS_FAILED:case l.Qd.PAYMENT_FAILED:return l.Od.FAILED}},R=(e,t,d)=>{if(null!==e&&void 0!==e&&e.orderAcceptedLoading)return Promise.resolve(!1);switch(T(e)){case l.Od.STAGED_ACCEPTED:return t(!0),Promise.resolve(!1);case l.Od.PICKUP_DELIVERY_DINE_IN:return t(!1),Promise.resolve(!0);case l.Od.DELIVERY_DISTA_CREATE_ASSIGN:case l.Od.DELIVERY_DISTA:case l.Od.DELIVERY_DISTA_DELIVERED:case l.Od.CANCELLED:return t(!1),Promise.resolve(!1);case l.Od.FAILED:return localStorage.setItem(l.Td.STATUS_TEXT,l.Td.FAILED),Object(r.Se)(d),Promise.resolve(!1)}},g=e=>{let{dispatch:t,orderDetails:d,orderAccepted:o,cartData:i,userOrderState:c,appStateReducer:s,isBasketLoading:a,status:v,qrCodeScanTime:O}=e;if(v){const e=s.userStatus,v=u.b.shouldGoogleSpotIgnoreOloFailure||Object(r.ef)(null===o||void 0===o?void 0:o.status)===l.Qd.SENT_TO_POS_COMPLETED;Object(r.l)(v,!a,null===i||void 0===i?void 0:i.id,e.localized,null===d||void 0===d?void 0:d.tenantId)&&Object(r.G)(t,n.f,null===d||void 0===d?void 0:d.tenantId,c,O)}},p=(e,t,d)=>{t&&(d=setTimeout((()=>{t(e),d&&clearTimeout(d)}),c.c))},A=function(e,t){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n={emailId:null===t||void 0===t?void 0:t.userEmail,phoneNo:null===t||void 0===t?void 0:t.userPhone,orderNo:null===t||void 0===t?void 0:t.posOrderId,tenantId:null===t||void 0===t?void 0:t.tenantId},r=d+1;e(Object(i.d)(n,(()=>p(r,o,null))))},C=function(e,t){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const n={orderId:null===t||void 0===t?void 0:t.orderId,tenantId:null===t||void 0===t?void 0:t.tenantId,customerId:null===t||void 0===t?void 0:t.customerId},r=d+1;e(Object(o.f)(n,(()=>p(r,i,null))))},L=function(e,t){let d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!==t&&void 0!==t&&t.isExternalTrackOrder?A(e,t,d,o):C(e,t,d,o)},N=(e,t,d,o,i,n)=>{null!==t&&void 0!==t&&t.orderId?0===d||a(o)&&d<c.a?L(e,t,d,i):a(o)&&d>=c.a&&(localStorage.setItem("paymentStatus",l.Td.FAILED),Object(r.Se)(n)):Object(r.Me)(n)},S=(e,t,d,o,i)=>{o&&O(e)?Object(r.Se)(i):null!==e&&void 0!==e&&e.status&&(null===e||void 0===e?void 0:e.status)!==(null===t||void 0===t?void 0:t.status)?d({...t,status:null===e||void 0===e?void 0:e.status,orderAcceptedLoading:null===e||void 0===e?void 0:e.orderAcceptedLoading,deliveryPartner:null===e||void 0===e?void 0:e.deliveryPartner,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1}):d({...t,deliveryDistaRetryCountFlag:(null===t||void 0===t?void 0:t.deliveryDistaRetryCountFlag)+1})},P=(e,t,d)=>{if(O(e)&&!t){const e=setTimeout((()=>{e&&clearTimeout(e)}),c.d)}},_=(e,t,d,o)=>{var i,n;return{...x(e,t,!1,d),orderAcceptedLoading:(null===t||void 0===t?void 0:t.orderAcceptedLoading)||!1,deliveryPartner:null,deliveryDistaRetryCountFlag:0,operatingTime:null===o||void 0===o||null===(i=o.store)||void 0===i||null===(n=i.summary)||void 0===n?void 0:n.timings}},x=function(e,t){var d,o,i,n,r,l,c,u;let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const O={orderId:(null===t||void 0===t?void 0:t.id)||(null===a||void 0===a?void 0:a.id),customerId:(null===t||void 0===t||null===(d=t.customer)||void 0===d?void 0:d.id)||(null===a||void 0===a||null===(o=a.customer)||void 0===o?void 0:o.id),tenantId:e,service:(null===t||void 0===t?void 0:t.service)||(null===a||void 0===a?void 0:a.service),status:(null===t||void 0===t?void 0:t.status)||(null===a||void 0===a?void 0:a.status),orderTime:(null===t||void 0===t?void 0:t.fulfillmentDateTime)||(null===a||void 0===a?void 0:a.fulfillmentDateTime),deliveryPartner:(null===t||void 0===t?void 0:t.deliveryPartner)||(null===a||void 0===a?void 0:a.deliveryPartner),posOrderId:(null===t||void 0===t?void 0:t.posOrderId)||(null===a||void 0===a?void 0:a.posOrderId),userEmail:(null===t||void 0===t||null===(i=t.customer)||void 0===i?void 0:i.email)||(null===a||void 0===a||null===(n=a.customer)||void 0===n?void 0:n.email),userPhone:(null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phoneNumber)||(null===t||void 0===t||null===(l=t.customer)||void 0===l?void 0:l.phone)||(null===a||void 0===a||null===(c=a.customer)||void 0===c?void 0:c.phoneNumber),postOrderDetails:t,isExternalTrackOrder:s};var b,E,I;null!==v&&void 0!==v&&null!==(u=v.storesWithStatus)&&void 0!==u&&u.length&&(O.operatingTime=null===v||void 0===v||null===(b=v.storesWithStatus)||void 0===b||null===(E=b[0])||void 0===E||null===(I=E.summary)||void 0===I?void 0:I.timings);return O},y=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=(e=>{var t;return null!==e&&void 0!==e&&e.orderAccepted&&Object.keys(null===e||void 0===e?void 0:e.orderAccepted).length&&null!==e&&void 0!==e&&null!==(t=e.orderAccepted)&&void 0!==t&&t.id?null===e||void 0===e?void 0:e.orderAccepted:null})(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return null===o&&(o=(e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.pastOrderResponse)&&void 0!==t&&t.length&&null!==e&&void 0!==e&&e.pastOrderResponse[0].id?null===e||void 0===e?void 0:e.pastOrderResponse[0]:null})(e),d&&null===o&&(o=t&&Object.keys(null===t||void 0===t?void 0:t.postOrderDetails).length?null===t||void 0===t?void 0:t.postOrderDetails:{})),o||{}},k=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(localStorage.getItem(l.gd.PAYMENT_STATUS)!==l.Td.FAILED){var d,n,r,c;if(t&&(null===(d=window)||void 0===d||null===(n=d.location)||void 0===n?void 0:n.pathname)===(null===l.Ae||void 0===l.Ae?void 0:l.Ae.PAYMENT_SUCCESS)||(null===(r=window)||void 0===r||null===(c=r.location)||void 0===c?void 0:c.pathname)===(null===l.Ae||void 0===l.Ae?void 0:l.Ae.CHECKOUT))return!1;(e=>{e(Object(o.h)())})(e),(e=>{e(Object(i.e)())})(e)}(e=>{e(Object(s.z)())})(e),(e=>{e(Object(i.a)({value:[]}))})(e),sessionStorage.removeItem(l.gd.ORDER_TRACKING)}}}]);