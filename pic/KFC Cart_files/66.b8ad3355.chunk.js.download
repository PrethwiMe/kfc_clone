(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[66,30,71],{1e3:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return g}));var c=a(3),o=a.n(c),i=a(76),n=a(6),d=a(5),s=a(190),r=a(25),l=a(898),u=a(999),m=a(0),O=a(906),p=a(213),b=a(15),j=a(2);const v=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()},f=(e,t,a,c,o)=>{t&&o();let i=e.length?JSON.parse(JSON.stringify(e)):[];i.map(((e,t)=>(e.id===a&&(e.expanded=!e.expanded),e))),c([...i])},g=(e,t,a,c)=>{let o=((e,t,a)=>{let c=e.length?e:[];return null===c||void 0===c?void 0:c.map(((e,c)=>{if(Object(d.db)(0===c,t))e.expanded=!0;else{e.expanded=!1;let t=e.modifiers.map((e=>({...e,productId:a})));e.modifiers=t}return e}))})(JSON.parse(JSON.stringify(e)),a,c);t([...o])};t.a=e=>{const{grouplist:t=[],getSelectedModifiers:a,selectedModifiers:h,source:I="",accordionDefaultOpen:S,isModal:x,isStoreClosed:y,catalog:N,localized:D=!0}=e,{PDP:C,HASH_SYMBOL:T}=s.a,{MAX_TAG:P}=O.a,[E,A]=Object(c.useState)([]),M=Object(r.c)((e=>e.cartReducer)),[_,w]=Object(c.useState)([]),{componentOptions:R,currencyConversionFactor:L,currencySymbol:F,taxAmountRoundOff:B,swapPDPContentData:z}=Object(r.c)((e=>e.tenantReducer)),{web:{global:{pricewithNumberofDecimalDigit:U},pdp:{deltaPriceInAccordion:k,showMaxBadge:W}}}=R,{isItemAdded:G=!1}=Object(d.kd)(M),H=Object(r.c)((e=>e.tenantReducer)),{userOrderState:q}=Object(c.useContext)(i.a),{pdpScreenCommons:{currentAccordian:J},pdpPayloadData:K,pdpItemUpsizeId:Q}=q;Object(c.useEffect)((()=>{g(t,A,S,Q),w([])}),[JSON.stringify(t),N,G]),Object(c.useEffect)((()=>{if(Object(d.db)(J,I===C)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===J){var a;const t=(null===(a=e.modifiers)||void 0===a?void 0:a.length)>1?300:0;let c=document.getElementById("accordion-"+J).offsetTop;window.scrollTo({top:c-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));A([...e])}}),[J,JSON.stringify(t)]);const Y=e=>{let t,a,c;if(e.length){t=e.map(JSON.stringify),a=new Set(t),c=Array.from(a).map(JSON.parse);let o=[];if(_.length){o=_;let e=_.findIndex((e=>e[0].modgrpId===c[0].modgrpId));e>=0?(o.splice(e,1,c),w([...o])):w([...o,c])}else w((e=>[...e,c]))}};Object(c.useEffect)((()=>{_.length&&a(_),h&&h(_)}),[_]);const X=e=>{let t="",a=null===K||void 0===K?void 0:K.modGrps;if(a[e]){var c;let n=null===(c=a[e])||void 0===c?void 0:c.modifiers,d=[];for(let t in n){let a=n[t];if(a.isSelected){var o,i;const{quantity:t}=a,c=t>1?"".concat(t,"x "):"";let n=!!k&&Object(l.z)(K,"".concat(e).concat(T).concat(a.id),L,F,U);d.push("".concat(c," ").concat(null===(o=a.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value," ").concat(!1!==n?n:""))}}t=[...new Set(d)].reverse().join(", ")}return t};return Object(d.kc)(E)&&E.map(((e,t)=>{var a;let{id:c,name:i,dname:d,modifiers:s,expanded:r,min:O,max:g,additionalProperties:h}=e;const I=Object(l.g)(c,K),S=Object(l.d)(c,K),C=((e,t,a,c)=>t&&Object(u.b)(e,c,a))(s,D,g,h),T=!C&&((e,t,a)=>{const c=Object(u.c)(a);return e&&c&&t})(W,D,h);return Object(j.jsx)(o.a.Fragment,{children:Object(j.jsxs)("div",{className:"accordian-container ",id:"accordion-"+c,"data-testid":"product-listing-accordion-".concat(t),children:[Object(j.jsxs)("div",{className:"accordian-header",children:[Object(j.jsx)("div",{className:"".concat(r?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(c),onClick:e=>f(E,e,c,A,v),children:Object(j.jsxs)("div",{className:"textbadgecontainer",children:[Object(j.jsx)("h3",{className:"accordion-test",children:null===d||void 0===d||null===(a=d[0])||void 0===a?void 0:a.value}),Object(j.jsxs)("div",{className:"badgeContainer",children:[T&&Object(j.jsx)("span",{className:"ml-2 maxBadge",children:z?"".concat(g).concat(Object(n.translateWithI18Next)(P)):"".concat(Object(n.translateWithI18Next)(P)).concat(g)}),I?Object(j.jsx)("span",{className:"updatedBadge-sopac",children:Object(n.translateWithI18Next)(m.If)}):null]})]})}),Object(j.jsx)("span",{className:"selected-mod",children:X(c)})]}),!r&&S?Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(p.a,{src:null===b.a||void 0===b.a?void 0:b.a.errorIcon,className:"d-flex mr-1 ml-1"}),Object(j.jsx)("span",{children:Object(n.translateWithI18Next)("selectionRequired")})]}):null,Object(j.jsx)("div",{className:"".concat(r?"panel panel-active":"panel"),children:Object(j.jsx)(u.a,{tenantData:H,modifiers:s,modgrpData:{modgrpId:c,modGrpName:d,min:O,max:g,additionalProperties:h,modifierLength:s.length},modgroupPayloadData:Y,isModal:x,isStoreClosed:y,catalog:N})})]})},t)}))}},823:function(e,t,a){"use strict";a.r(t),a.d(t,"filteredModGroups",(function(){return P}));var c=a(3),o=a.n(c),i=a(73),n=a.n(i),d=a(25),s=a(998),r=a(36),l=a(949),u=a.n(l),m=a(1e3),O=a(5),p=a(19);var b=a(30),j=a(922),v=a(76),f=a(6),g=a(54),h=a(899),I=a(903),S=a(14),x=a(913),y=a(0),N=a(2);const D=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},C=(e,t)=>{var a,c;const{setClickEvent:o,setConfirmed:i,categoryMapById:n,categoryId:d,modifiersList:s,getItemName:r,data:l,getID:m,getUpdatedPrice:j,itemCount:v,getList:f,minipdpData:h,FROMFLAGEDIT:I,dispatch:S,cartReducer:N,tenantId:D,id:C,modifierGrp:T,userOrderStateDispatch:P,confirmUpsizeName:E}=t;let A="";e.stopPropagation(),e.preventDefault(),o(e),i(!0);const{name:M="NA"}=null!==(a=null===n||void 0===n?void 0:n[d])&&void 0!==a?a:{};var _,w;(u()(s,(e=>{A+="".concat(e[0].name,", ")})),Object(x.a)({item_name:r(l.name),item_id:m(l.id),item_category:M,price:j(v,null===(c=l.availability[0])||void 0===c?void 0:c.price),item_variant:f(A),item_list_name:M,item_list_id:d,index:1,quantity:v,currency:y.p.AUD}),h.fromFlag!==I)?S(Object(b.a)({params:{basketId:(null===N||void 0===N?void 0:N.cartData)&&(null===N||void 0===N||null===(_=N.cartData)||void 0===_?void 0:_.id)},tenantId:D},[{Id:C,categoryId:d,quantity:v,modGrps:T}])):S(Object(b.y)({params:{basketId:(null===N||void 0===N?void 0:N.cartData)&&(null===N||void 0===N||null===(w=N.cartData)||void 0===w?void 0:w.id),basketLineItemId:h.foodLineId},tenantId:D},{Id:C,quantity:v,modGrps:T}));S(Object(b.u)(new Date)),P({type:g.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:C,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await p.a.registerEvent(void 0,{data:t[0]},O.xb)})(E)};var T=e=>{var t;const{data:a,categoryId:i,handleClose:n,showPriceContent:s=!0,source:l="",isModal:u,isStoreClosed:p,localized:b,catalog:x}=e,{id:y,modgrps:T,availability:P=[]}=a,{userOrderState:E,userOrderStateDispatch:A}=Object(c.useContext)(v.a),{confirmUpsizeName:M,minipdpData:_}=E,[w,R]=Object(c.useState)(T),[L,F]=Object(c.useState)([]),B=Object(d.b)(),z=Object(d.c)((e=>e.tenantReducer)),U=Object(d.c)((e=>e.cartReducer)),{cartData:k={},isAddItemLoading:W=!1}=U||{},{currencySymbol:G,tenantId:H,currencyConversionFactor:q,maxItemCountPerLineItem:J,componentOptions:K}=z,{web:{pdp:{productCustomizationAccordionDefaultOpen:Q}}}=K,{flatResponse:{categoryMapById:Y={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[X,V]=Object(c.useState)(0),Z=Object(O.yc)(P[0],q),{ADDTOCART:$,UPDATECART:ee}=j.a,{FROMFLAGEDIT:te,EDIT_CLICKED:ae}=S.a,[ce,oe]=Object(c.useState)(1),[ie,ne]=Object(c.useState)(0),{ITEM_QUANTITY:de}=h.a,[se,re]=Object(c.useState)(!1),[le,ue]=Object(c.useState)(null);Object(c.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:w})}),[w]),Object(c.useEffect)((()=>{const e=Object(O.Kd)(k)?Object(O.hc)(y,k):{},t=Object(O.Kd)(e)?e.count:0;if(ne(t),_.fromFlag===te){const e=Object(O.Kd)(k)?Object(O.ic)(_.foodLineId,k):{},t=Object(O.Kd)(e)?e.count:1;oe(t)}}),[k]),Object(c.useEffect)((()=>()=>{A({type:ae,value:{cartEditClicked:!1}})}),[A,ae]);Object(c.useEffect)((()=>{se&&!W&&n(le)}),[se,W]),Object(c.useEffect)((()=>(window.addEventListener("keydown",D),()=>{window.removeEventListener("keydown",D)})));const me=_.fromFlag===te?Object(f.translateWithI18Next)(ee):Object(f.translateWithI18Next)($),Oe={setClickEvent:ue,setConfirmed:re,categoryMapById:Y,categoryId:i,modifiersList:L,data:a,itemCount:ce,minipdpData:_,FROMFLAGEDIT:te,dispatch:B,cartReducer:U,tenantId:H,id:y,modifierGrp:w,userOrderStateDispatch:A,confirmUpsizeName:M,getItemName:e=>e||"NA",getID:e=>e||"NA",getUpdatedPrice:(e,t)=>e*t/q||"NA",getList:e=>e.trim()||"NA"};return Object(N.jsxs)(o.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(N.jsx)("form",{className:"form",children:Object(O.Kd)(T)?Object(N.jsx)(m.a,{grouplist:T,getSelectedModifiers:e=>{let t=0,a=[];e.forEach((e=>{let c={};c.id=e[0].modgrpId,c.modifiers=[],e.forEach((e=>{let a={},o=JSON.parse(JSON.stringify(e));a.id=o.id,a.quantity=o.defaultQuantity,a.modGrps=o.modgrps,a.categoryId=i,c.modifiers.push(a);let n=Object(O.yc)(e.availability[0],q);t+=n})),a.push(c)})),V(Z+t),R(a)},selectedModifiers:F,source:l,accordionDefaultOpen:Q,isModal:u,localized:b,isStoreClosed:p,catalog:x}):null})}),s&&Object(N.jsx)("div",{className:"price-content",children:Object(N.jsxs)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:[ce?Object(N.jsx)(I.a,{itemCount:ce,itemQuantity:de,updateItemQuantity:(e,t)=>{t===g.a.QUANTITY_ACTION.Increase?oe((e=>e+1)):oe((e=>e-1))},quantityAction:g.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:J,cartItemCount:ie+1}):null,Object(N.jsxs)(r.a,{className:"button start-order-btn ".concat(W?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>C(e,Oe),children:[Object(N.jsx)("span",{className:"title-for-button",children:"".concat(me)}),Object(N.jsx)("span",{className:"currency-symbol",children:"".concat(G," ").concat((pe=X,(ce*pe).toFixed(2)))})]})]})})]});var pe};const P=e=>{if(e){var t;let a=JSON.parse(JSON.stringify(e));return a.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),a}return{}};t.default=e=>{const{isModal:t=!0,showPriceContent:a=!0,data:c={},source:o="",isStoreClosed:i=!1,localized:r,catalog:l,categoryId:u=""}=e,{MODALHEADERTEXT:m=""}=j.a,p=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),v=Object(O.Kd)(c)?P(c):P(p),g=Object(d.b)(),h=e=>{e.stopPropagation(),e.preventDefault(),g(Object(b.v)({showProductListingModal:!1,categorySelected:""}))},I=Object(N.jsx)(T,{data:v,categoryId:u,handleClose:h,showPriceContent:a,"data-testid":"product-listing-modal-enabled",source:o,isModal:t,localized:r,isStoreClosed:i,catalog:l}),S=Object(N.jsx)(s.a,{handleClose:h,ProductListingModalForm:I,headerText:Object(f.translateWithI18Next)(m),"data-testid":"product-listing-inside-modal"}),x=Object(N.jsx)("div",{className:"pdp-custm-sopac",children:I});return t?n.a.createPortal(S,document.getElementById("modal-popups")):x}},827:function(e,t,a){"use strict";a.r(t),a.d(t,"getModgrpBySelectedModifier",(function(){return _}));var c=a(3),o=a.n(c),i=a(73),n=a.n(i),d=a(25),s=a(998),r=a(76),l=a(36),u=a(6),m=a(5),O=a(999),p=a(1e3),b=a(906),j=a(898),v=a(190),f=a(4),g=a(2);var h=e=>{const{grouplist:t=[],tenantData:a,isModal:i,isStoreClosed:n,localized:s=!0,catalog:l}=e,{HASH_SYMBOL:h}=v.a,{componentOptions:I={web:{pdp:{}}},currencyConversionFactor:S,currencySymbol:x}=a,{web:{pdp:{productCustomizationAccordionDefaultOpen:y,showMaxBadge:N}}}=I,[D,C]=Object(c.useState)(JSON.parse(JSON.stringify(t))),T=Object(d.c)((e=>e.cartReducer)),{MAX_TAG:P}=b.a,{CUSTOM:E}=f.a,A=Object(c.useRef)([]),{userOrderState:M}=Object(c.useContext)(r.a),{pdpPayloadData:_,sopacPDPCustomization:w}=M,{isItemAdded:R=!1}=Object(m.kd)(T);Object(c.useEffect)((()=>{Object(p.c)(t,C,y)}),[JSON.stringify(t)]),Object(c.useEffect)((()=>{!i&&Object(p.c)(t,C,y)}),[R,l]);const L=(e,t)=>{const{showCustomizationModId:a="",showCustomizationModGrpId:c=""}=w;return e?"".concat(c).concat(h).concat(a).concat(h).concat(t):"".concat(t)},F=(e,t,a,c)=>{let o=L(i,e),n=t&&a>1;return Object(j.y)(_,o,S,n,x,c)};return D.map(((e,t)=>{var c;let{id:d,name:r,modifiers:b,expanded:v,min:f,max:h,additionalProperties:I,dname:S}=e;const x=((e,t)=>{var a;let c=!1;const o=null!==(a=Object(j.q)(t,e))&&void 0!==a?a:{},{modifiers:i}=o;return i&&Object.entries(i).forEach((e=>{let[t,a]=e,o=null!==(null===(i=a)||void 0===i?void 0:i.newSelectedFlag)?null===i||void 0===i?void 0:i.newSelectedFlag:null===i||void 0===i?void 0:i.isSelected;var i;let n=null!==(null===a||void 0===a?void 0:a.newQuantity)?null===a||void 0===a?void 0:a.newQuantity:null===a||void 0===a?void 0:a.quantity,d=null!==a&&void 0!==a&&a.isInitialDefault?null===a||void 0===a?void 0:a.isInitialDefault:null===a||void 0===a?void 0:a.isDefault;(d!==o||!0===d&&(null===a||void 0===a?void 0:a.defaultQuantity)!==n)&&(c=!0)})),c})(L(i,d),_),y=((e,t,a,c)=>t&&Object(O.b)(e,c,a))(b,s,h,I),T=!y&&((e,t,a)=>{let c=Object(O.c)(a);return Object(m.j)([e,t,c])})(N,s,I),M=Object(j.d)(d,_);return Object(g.jsx)(o.a.Fragment,{children:Object(g.jsxs)("div",{className:"accordian-container ".concat(!v&&M?"accordian-container-highlight":""),id:"accordion-"+d,"data-testid":"product-listing-accordion-".concat(t),children:[Object(g.jsxs)("div",{className:"accordian-header",children:[Object(g.jsx)("div",{className:"".concat(v?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(d),onClick:e=>Object(p.d)(D,e,d,C,p.b),children:Object(g.jsxs)("div",{className:"textbadgecontainer",children:[Object(g.jsx)("span",{className:"accordion-test",children:null===S||void 0===S||null===(c=S[0])||void 0===c?void 0:c.value}),Object(g.jsxs)("div",{className:"badgeContainer",children:[T&&Object(g.jsx)("span",{className:"ml-2 maxBadge",children:"".concat(Object(u.translateWithI18Next)(P)," ").concat(h)}),x?Object(g.jsx)("span",{className:"updatedBadge-sopac",children:Object(u.translateWithI18Next)(E)}):null]})]})}),Object(g.jsx)("div",{className:"mod-group-sub-header selected-mod",children:F(d,y,h,a)})]}),Object(g.jsx)("div",{className:"".concat(v?"panel panel-active":"panel"),children:Object(g.jsx)(O.a,{tenantData:a,modifiers:b,modgrpData:{modgrpId:d,modGrpName:r,min:f,max:h,additionalProperties:I,modifierLength:b.length},modgroupPayloadData:A,isModal:i,isStoreClosed:n,catalog:l})})]})},t)}))},I=a(922),S=a(15),x=a(43),y=a(14);const N=e=>{const{classNames:t,show:a,autoFocus:o,modalTitleId:i,childrenTemplate:n}=e,{AUTO:d,HIDDEN:s}=y.a;return Object(c.useEffect)((()=>(document.querySelector("body").style.overflow=s,()=>{document.querySelector("body").style.overflow=d}))),Object(g.jsx)("div",{show:a.toString(),className:t,autoFocus:o||!1,"data-testid":i,children:Object(g.jsx)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":i,role:"dialog",children:n})})};var D=e=>Object(g.jsx)(N,{...e});var C=e=>Object(g.jsx)(D,{onExitedCallback:e.onModalExitedCallback,...e}),T=a(914),P=a(0);const E=e=>0!==e?"confirmButtonWithPrice":"";var A=e=>{const{data:t,confirmHandler:a,showPriceContent:i=!0,isModal:n,onDismissedSelection:s,isStoreClosed:O,localized:p,catalog:j}=e,{modgrps:f}=t,{CONFIRMBUTTONTXT:y}=I.a,N=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:D,currencyConversionFactor:A}=N,{userOrderState:M,userOrderStateDispatch:_}=Object(c.useContext)(r.a),{sopacPDPCustomization:w,pdpPayloadData:R,pdpAddtoCartConfirmButtonDisabled:L}=M,{updatedPrice:F=0}=w,{ErrorImage:B,PopupCloseBtn:z}=S.a,{SHOWTOASTALERT:U}=v.a,{DISMISS_CHANGES_ALERT_TEXT:k,DISMISS_SELECTIONS:W}=b.a,{PLUS:G,DASH:H}=P.R,q=Object(g.jsxs)("div",{className:"img-text-div",children:[Object(g.jsxs)("div",{className:"text",children:[Object(g.jsxs)("div",{className:"titleImg-container",children:[Object(g.jsx)(x.a,{className:"error-image",srcFile:B}),Object(g.jsx)("p",{children:Object(u.translateWithI18Next)(k)})]}),Object(g.jsx)(l.a,{onClick:()=>s(R),className:"dismiss",children:Object(u.translateWithI18Next)(W)})]}),Object(g.jsxs)(l.a,{className:"custom-modal-close","data-testid":"custom-modal-close",onClick:()=>{_({type:U,value:!1})},children:[" ",Object(g.jsx)(x.a,{srcFile:z})]})]}),J=Object(g.jsx)(C,{id:"PDPToastAlert",role:"dialog",show:!0,classNames:"savedCustomizeClearAlert-modal",closeDataTestId:"handler-close",autoFocus:!0,childrenTemplate:q});return Object(g.jsxs)(o.a.Fragment,{children:[Object(g.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(g.jsx)("form",{className:"form",children:Object(m.kc)(f)?Object(g.jsx)(h,{grouplist:f,getSelectedModifiers:null,selectedModifiers:null,tenantData:N,isModal:n,isStoreClosed:O,localized:p,catalog:j}):null})}),i&&Object(g.jsx)("div",{className:"price-content price-content-sopac",children:Object(g.jsx)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:Object(g.jsxs)(l.a,{className:"button start-order-btn redButton  confirmButton ".concat(E(F)," ").concat(Object(T.b)(L)),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:a,disabled:Object(m.k)(L),children:[Object(g.jsx)("span",{children:Object(u.translateWithI18Next)(y)}),Object(m.Tc)(0!==F,(e=>{const t=e>=0?e:e.toString().replace(/^-/,""),a="".concat(D).concat((e=>(e/A).toFixed(P.dg))(t));return Object(m.Tc)(e>0,"".concat(G," ").concat(a),"".concat(H," ").concat(a))})(F),"")]})})}),M.showToastAlert&&J]})},M=a(823);const _=(e,t,a)=>{let c={};if(e){var o;let n=null===(o=e.modgrps)||void 0===o?void 0:o.find((e=>e.id===a));var i;if(Object(m.Kd)(n))c=null===(i=n.modifiers)||void 0===i?void 0:i.find((e=>e.id===t))}return c};t.default=e=>{var t,a,o,i;const{isModal:l=!0,showPriceContent:O=!0,data:p={},isStoreClosed:b=!1,localized:h,catalog:I}=e,{PDP_PAYLOAD_DATA:S,SHOWTOASTALERT:x,RESET_SHOW_PDP_CUSTOM_MODAL:y,HASH_SYMBOL:N,SET_PDP_BUTTON_DISABLED:D}=v.a,{userOrderState:C,userOrderStateDispatch:T}=Object(c.useContext)(r.a),{pdpPayloadData:P,sopacPDPCustomization:E}=C,{showCustomizationModId:w="",showCustomizationModGrpId:R="",showCustomizationModGrpName:L=""}=E,F=Object(d.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),B=Object(m.Kd)(p)?Object(M.filteredModGroups)(p):_(F,w,R),z=e=>{T({type:x,value:!1});let t=Object(j.D)(e,"".concat(R).concat(N).concat(w));T({type:S,value:t}),T({type:D,value:{}}),T({type:y})},U=e=>{e.stopPropagation(),e.preventDefault(),Object(j.f)(P,"".concat(R).concat(N).concat(w))?T({type:x,value:!0}):z(P)},k=Object(g.jsx)(A,{data:B,handleClose:U,confirmHandler:e=>{e.stopPropagation(),e.preventDefault();let t=Object(j.J)(P,"".concat(R).concat(N).concat(w));t=Object(j.D)(t,"".concat(R).concat(N).concat(w)),z(t)},showPriceContent:O,"data-testid":"product-listing-modal-enabled",isModal:l,isStoreClosed:b,localized:h,onDismissedSelection:z,catalog:I}),W=Object(g.jsx)(s.a,{handleClose:U,ProductListingModalForm:k,headerText:null===(t="".concat(null===(a=Object(u.translateWithI18Next)(f.a.CUSTOMISE_YOUR))||void 0===a?void 0:a.toLowerCase()," ").concat(null===L||void 0===L||null===(o=L[0])||void 0===o||null===(i=o.value)||void 0===i?void 0:i.toLowerCase()))||void 0===t?void 0:t.replace(/\b(\w)/g,(e=>null===e||void 0===e?void 0:e.toUpperCase())),"data-testid":"product-listing-inside-modal",closeDataTestId:"handle-close"}),G=Object(g.jsx)("div",{className:"pdp-custm-sopac",children:k});return l?n.a.createPortal(W,document.getElementById("modal-popups")):G}},905:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c}));let c;(async()=>{c=await(async()=>{var t,c,o,i,n;const d=null===(t=e)||void 0===t||null===(c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===c?void 0:c.REACT_APP_TENANT_CODE,s=await Promise.resolve().then(a.bind(null,176));return null===s||void 0===s||null===(o=s.default)||void 0===o||null===(i=o[null===d||void 0===d||null===(n=d.toUpperCase)||void 0===n?void 0:n.call(d)])||void 0===i?void 0:i.MENU_PLP_CONSTANTS})()})()}).call(this,a(112))},998:function(e,t,a){"use strict";var c=a(3),o=a.n(c),i=a(121),n=a(2);t.a=e=>{const{handleClose:t,ProductListingModalForm:a,headerText:c,modalTitleId:d="",closeDataTestId:s=""}=e;return Object(n.jsx)(o.a.Fragment,{children:Object(n.jsx)(i.a,{"data-testid":"ProductListingModalPopup",role:"dialog",modalTitleId:d,show:!0,classNames:"product-listing-module-modal-sopac",showCloseBtn:!0,closeButtonHandler:t,modalTitle:c,autoFocus:!0,closeDataTestId:s,children:a})})}},999:function(e,t,a){"use strict";a.d(t,"b",(function(){return O})),a.d(t,"c",(function(){return p}));var c=a(3),o=a(76),i=a(5),n=a(25),d=a(54),s=a(940),r=a(922),l=a(190),u=a(0),m=a(2);const O=(e,t,a)=>{const{RECIPE:c,DEFAULT_REASON:o,MODGROUP_MAX_RADIOBUTTON:n}=l.a;return((e,t,a)=>e.every((e=>Object(i.hd)(e.additionalProperties,t)===a)))(e,o,c)||!p(t)||a===n},p=e=>{const{PEROPTIONMAX_KEY:t,PEROPTIONMIN_KEY:a,MAXDISTINCT_KEY:c}=l.a;let o=Object(i.me)(e);return[t,a,c].every((e=>Object.prototype.hasOwnProperty.call(o,e)))&&!(0===o[t]&&0===o[a]&&0===o[c])};t.a=e=>{let{tenantData:t,modifiers:a,modgrpData:l,isModal:b,isStoreClosed:j,catalog:v}=e;const[f,g]=Object(c.useState)(Object(i.Ud)(window.innerWidth)),{modgrpId:h,additionalProperties:I,max:S}=l,[x,y]=Object(c.useState)({}),{userOrderState:N}=Object(c.useContext)(o.a),{resetCustomization:D}=N;let C=Object(n.c)((e=>e.appStateReducer.userStatus));const T=Object(n.c)((e=>e.cartReducer)),{isItemAdded:P=!1}=Object(i.kd)(T),[E,A]=Object(c.useState)(),[M,_]=Object(c.useState)(),[w,R]=Object(c.useState)([]),[L,F]=Object(c.useState)([]),[B,z]=Object(c.useState)(!0),[U,k]=Object(c.useState)(0),{SINGLE:W}=r.a,{PDP_MODIFIER:G}=u.Oc;Object(c.useEffect)((()=>{y({}),R([]),F([]),z(!0)}),[D]),Object(c.useEffect)((()=>{b||(y({}),R([]),F([]),z(!0))}),[v,P]),Object(c.useEffect)((()=>{if(Object(i.db)(Object(i.Kd)(I),Object(i.kc)(a))){let e=O(a,I,S);_(e);let t=!e&&p(I);A(t)}}),[I,a]);const H=()=>{const e=Object(i.Ud)(window.innerWidth),t=e?G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_MOBILE:G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_DESKTOP,a=Math.round(t*window.innerWidth/u.eg);k(a),g(e)};Object(c.useEffect)((()=>{window.addEventListener(u.we,H)}),[f]),Object(c.useEffect)((()=>{H()}),[]);const{QUANTITY_ACTION:q}=d.a,J=function(e,t,c){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{id:i}=e;if(t===W)a.forEach((e=>{e.id===i&&R([e.id])})),F([{...e,itemId:i,modgrpId:h}]);else if(t){let t=c.some((t=>{let{id:a}=t;return a===e.id}));if(!t){let t=[...c,{...e,itemId:i,modgrpId:h}],a=null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.id));o&&R(a),F(t)}}else if(c.length){let e=c.filter((e=>{let{itemId:t}=e;return t!==i})),t=null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.id));R(t),F(e)}},K=(e,t,a,c,o)=>{var n;let d=null===x||void 0===x||null===(n=x[t])||void 0===n?void 0:n[e],s=null===x||void 0===x?void 0:x[t],r=null===x||void 0===x?void 0:x.totalQuantity;if(d){let n=a===q.Increase?s[e].quantity+1:Object(i.Tc)(a===q.Decrease,s[e].quantity-1,c),d=a===q.Increase?r+1:Object(i.Tc)(a===q.Decrease,r-1,r-s[e].quantity+c),l=((e,t,a,c)=>Object(i.fb)(e===t.Increase,e===t.Decrease)?a:c)(a,q,n,o);y({...x,totalQuantity:d,[t]:{...s,[e]:{...s[e],quantity:n,quantityDisplay:l}}})}else Object(i.Kd)(x[t])?y({...x,totalQuantity:r+c,[t]:{...s,[e]:{quantity:c,quantityDisplay:c}}}):y({totalQuantity:c,[t]:{[e]:{quantity:c,quantityDisplay:c}}})};return Object(i.j)([void 0!==M,void 0!==E,!!U])&&a.map(((e,a)=>{let c=Object(i.yc)(e.availability[0],null===t||void 0===t?void 0:t.currencyConversionFactor).toFixed(u.dg);return Object(m.jsx)(s.a,{tenantData:t,modgrpData:l,cardData:e,price:c,isMobile:f,localized:C.localized,currencySymbol:null===t||void 0===t?void 0:t.currencySymbol,saveCustomizedItemCount:K,savedCustomizedModifier:x,toRenderCheckBox:M,toRenderQuantityModifier:E,savedModifierHandler:J,updatedItems:w,savedModifiers:L,isModal:b,isStoreClosed:j,initialRender:B,setInitialRender:z,catalog:v,imageContainerSize:U})}))}}}]);