(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[104],{1079:function(e,t,i){"use strict";i.d(t,"b",(function(){return p})),i.d(t,"a",(function(){return A})),i.d(t,"d",(function(){return j})),i.d(t,"c",(function(){return D})),i.d(t,"f",(function(){return k})),i.d(t,"e",(function(){return E}));var a=i(6),l=i(268),o=i(12),d=i(13),r=i(4),n=i(0),c=i(958),v=i(939),s=i(5),u=i(215),O=i(11),b=i(2);const h=e=>{const{headerTrackDetails:t}=e,{postActiveOrderHistoryDetailsList:i,enableGlobalOrderTracking:l}=t;return i[0].enableGlobalOrderTracking=l,Object(s.ce)()?(e=>{var t;const i=e[0],l=(null===i||void 0===i||null===(t=i.deliveryDetails)||void 0===t?void 0:t.estimatedDeliveryTime)||(null===i||void 0===i?void 0:i.fulfillmentDateTime);var o,d,v,u,h,p,A,j,D,k,E,I,T,R,_;return 1===(null===e||void 0===e?void 0:e.length)?(null===(o=window)||void 0===o||null===(d=o.location)||void 0===d?void 0:d.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.HOME)&&(null===(v=window)||void 0===v||null===(u=v.location)||void 0===u?void 0:u.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.HOME_PAGE)&&(null===(h=window)||void 0===h||null===(p=h.location)||void 0===p?void 0:p.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.ACCOUNT)||!Object(s.yd)(null===i||void 0===i?void 0:i.service)?(null===(A=window)||void 0===A||null===(j=A.location)||void 0===j?void 0:j.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.HOME)&&(null===(D=window)||void 0===D||null===(k=D.location)||void 0===k?void 0:k.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.HOME_PAGE)&&(null===(E=window)||void 0===E||null===(I=E.location)||void 0===I?void 0:I.pathname)!==(null===n.Ae||void 0===n.Ae?void 0:n.Ae.ACCOUNT)||!Object(s.Ad)(null===i||void 0===i?void 0:i.service)?Object(b.jsxs)("span",{children:[Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.WE_ARE_WORKING_ON)+" ",Object(b.jsx)("b",{className:"your-order",children:null===(T=Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER))||void 0===T?void 0:T.toLowerCase()})," "+Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.NOW)]}):"".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER)," # ").concat(Object(c.e)(i)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.DELIVERED_AROUND)," ")+Object(O.D)(l,null===i||void 0===i||null===(R=i.store)||void 0===R?void 0:R.timeZoneIANA,null===n.sb||void 0===n.sb?void 0:n.sb.H_MM_A):"".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER)," # ").concat(Object(c.e)(i)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.IS_SCHEDULED_TO_BE_PICKED_UP_AT)," ").concat(Object(O.D)(i.fulfillmentDateTime,null===i||void 0===i||null===(_=i.store)||void 0===_?void 0:_.timeZoneIANA,null===n.sb||void 0===n.sb?void 0:n.sb.H_MM_A)):Object(b.jsxs)("span",{children:[Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.WE_ARE_WORKING_ON),Object(b.jsxs)("b",{className:"your-order",children:[" ",(null===e||void 0===e?void 0:e.length)+" ",Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDERS)+" "]}),Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.NOW)]})})(i):(e=>{const t=e[0];if(1!==(null===e||void 0===e?void 0:e.length))return"".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.WE_ARE_WORKING_ON)," ").concat(null===e||void 0===e?void 0:e.length," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDERS_NOW));var i;if(!1===(null===t||void 0===t||null===(i=t.requestedDateTime)||void 0===i?void 0:i.isForNow)){const e="".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER)," # ").concat(Object(c.e)(t)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.HAS_SCHEDULED)," ");return Object(s.Ad)(null===t||void 0===t?void 0:t.service)?"".concat(e," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.DELIVERY)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.AT)):Object(s.Xd)(null===t||void 0===t?void 0:t.service)?"".concat(e," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.PICKUP)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.AT)):"".concat(e)}return Object(s.Ad)(null===t||void 0===t?void 0:t.service)?"".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.YOUR_ORDER)," # ").concat(Object(c.e)(t)," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.HAS_BEEN_CONFIRMED)):Object(s.Xd)(null===t||void 0===t?void 0:t.service)?"".concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.WE_ARE_WORKING_ON)," ").concat(null===e||void 0===e?void 0:e.length," ").concat(Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDERS_NOW)):void 0})(i)},p=e=>{const{headerTrackDetails:t}=e,{customerId:i,tenantId:a,props:o,dispatch:d}=t;if(i&&a&&null!==o&&void 0!==o&&o.isHeaderTrackOrderEnabled()){const e={OrderStatus:"",OrderMode:""};d(Object(l.c)({customerId:i,tenantId:a},e))}},A=e=>{const{headerTrackDetails:t,updateSetHeaderTrackDetails:i}=e,{dispatchGetActiveOrderHistoryTimer:a}=t;a&&(clearTimeout(a),i({dispatchGetActiveOrderHistoryTimer:void 0}))},j=e=>{const{headerTrackDetails:t,updateSetHeaderTrackDetails:i}=e,{postActiveOrderHistoryDetailsList:l,isActiveOrderAvailable:n}=t;(null===l||void 0===l?void 0:l.length)>0&&(null!==l&&void 0!==l&&l.length?(i({isActiveOrderAvailable:!0,trackOrderTitle:h(e),trackOrderButtonLabel:Object(a.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.TRACK_ORDER)}),(e=>{const{headerTrackDetails:t,updateSetHeaderTrackDetails:i}=e,{dispatchGetActiveOrderHistoryTimer:a}=t;if(!a){const t=setTimeout((()=>{A(e),p(e),i({dispatchGetActiveOrderHistoryTimer:t})}),Object(d.a)(o.C))}})({headerTrackDetails:t,updateSetHeaderTrackDetails:i})):n&&i({isActiveOrderAvailable:!1}))},D=e=>{const{headerTrackDetails:t}=e,{postActiveOrderHistoryDetailsList:i,useHistoryHook:a}=t;i&&(null===i||void 0===i?void 0:i.length)>0&&(1===(null===i||void 0===i?void 0:i.length)?(e=>{const{headerTrackDetails:t,redirectTo:i}=e,{postActiveOrderHistoryDetailsList:a,useHistoryHook:l}=t;(null===a||void 0===a?void 0:a.length)>0&&Object(v.r)({trackDetails:t,orderDetails:a[0],redirectTo:i,props:l})})(e):Object(s.Ae)(a))},k=e=>null===e||void 0===e?void 0:e.filter((e=>!Object(u.ab)(e))),E=e=>{var t;const{headerTrackDetails:i,location:a,updateSetHeaderTrackDetails:l,props:o}=e;null===i||void 0===i||!i.showPickupOrderCancelledBanner||(null===a||void 0===a?void 0:a.pathname)===n.Ae.HOME||(null===a||void 0===a?void 0:a.pathname)===n.Ae.HOME_PAGE||!1!==(null===i||void 0===i?void 0:i.isActiveOrderAvailable)&&!1!==(null===i||void 0===i||null===(t=i.userStatus)||void 0===t?void 0:t.loggedIn)||(sessionStorage.removeItem(n.Ke.PICKUP_ORDER_CANCELLED),l({showPickupOrderCancelledBanner:!1}),o.setShowBlackStripeContent(!0))}},845:function(e,t,i){"use strict";i.r(t);var a=i(3),l=i(25),o=i(61),d=i(268),r=i(171),n=i(1079),c=i(4),v=i(6),s=i(0),u=i(2);t.default=e=>{var t;const i=Object(l.b)(),{tenantReducer:O,orderHistoryReducer:b,profileReducer:h,appStateReducer:p}=Object(l.c)((e=>e)),A=Object(o.h)(),[j,D]=Object(a.useState)({trackOrderTitle:"",trackOrderButtonLabel:"",isActiveOrderAvailable:!1,useHistoryHook:{history:Object(o.g)()},dispatchGetActiveOrderHistoryTimer:null,dispatch:i,props:e,customerId:null,tenantId:null,postActiveOrderHistoryDetailsList:[],customer:null,showBlackStripWithOrderTracker:!1,showPickupOrderCancelledBanner:!1,pickupOrderCancelledTitle:Object(v.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.PICKUP_CANCALLED_ORDER),pickupOrderCancelledButtonLabel:Object(v.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.ORDER_HISTORY_TAG)}),k=Object(a.useCallback)((e=>{D&&D((t=>({...t,...e})))}),[]);return Object(a.useEffect)((()=>(Object(n.a)({headerTrackDetails:j,updateSetHeaderTrackDetails:k}),i(Object(d.e)()),()=>Object(n.a)({headerTrackDetails:j,updateSetHeaderTrackDetails:k}))),[]),Object(a.useEffect)((()=>{var e,t,i,a,l,o;Object(n.a)({headerTrackDetails:j,updateSetHeaderTrackDetails:k}),(null===O||void 0===O?void 0:O.tenantId)&&k({customerId:null===h||void 0===h?void 0:h.customerId,customer:null===h||void 0===h?void 0:h.basic,tenantId:null===O||void 0===O?void 0:O.tenantId,userStatus:null===p||void 0===p?void 0:p.userStatus,showBlackStripWithOrderTracker:null===O||void 0===O||null===(e=O.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(i=t.global)||void 0===i?void 0:i.showBlackStripWithOrderTracker,enableGlobalOrderTracking:null===O||void 0===O||null===(a=O.componentOptions)||void 0===a||null===(l=a.web)||void 0===l||null===(o=l.orderPages)||void 0===o?void 0:o.enableGlobalOrderTracking})}),[null===h||void 0===h?void 0:h.customerId,null===O||void 0===O?void 0:O.tenantId,null===p||void 0===p?void 0:p.userStatus]),Object(a.useEffect)((()=>{Object(n.b)({headerTrackDetails:j})}),[null===j||void 0===j?void 0:j.customerId,null===j||void 0===j?void 0:j.tenantId,null===A||void 0===A?void 0:A.pathname]),Object(a.useEffect)((()=>{var t,i;if(null!==j&&void 0!==j&&null!==(t=j.userStatus)&&void 0!==t&&t.loggedIn&&b&&null!==b&&void 0!==b&&b.activeOrderHistory&&(null===b||void 0===b||!b.activeOrderHistoryLoading)&&(null===b||void 0===b||null===(i=b.activeOrderHistory)||void 0===i?void 0:i.length)>0){const t=Object(n.f)(null===b||void 0===b?void 0:b.activeOrderHistory);(null===t||void 0===t?void 0:t.length)>0&&!1===(null===j||void 0===j?void 0:j.showBlackStripWithOrderTracker)?e.setShowBlackStripeContent(!1):0===(null===t||void 0===t?void 0:t.length)&&!1===(null===j||void 0===j?void 0:j.showPickupOrderCancelledBanner)&&e.setShowBlackStripeContent(!0),k({postActiveOrderHistoryDetailsList:t})}}),[null===b||void 0===b?void 0:b.activeOrderHistory,null===j||void 0===j||null===(t=j.userStatus)||void 0===t?void 0:t.loggedIn]),Object(a.useEffect)((()=>{!sessionStorage.getItem(s.Ke.PICKUP_ORDER_CANCELLED)||(null===A||void 0===A?void 0:A.pathname)!==s.Ae.HOME&&(null===A||void 0===A?void 0:A.pathname)!==s.Ae.HOME_PAGE||(k({showPickupOrderCancelledBanner:!0}),!1===(null===j||void 0===j?void 0:j.showBlackStripWithOrderTracker)&&e.setShowBlackStripeContent(!1))}),[null===j||void 0===j?void 0:j.showBlackStripWithOrderTracker]),Object(a.useEffect)((()=>{Object(n.e)({headerTrackDetails:j,location:A,updateSetHeaderTrackDetails:k,props:e})}),[null===A||void 0===A?void 0:A.pathname]),Object(a.useEffect)((()=>{var e;(null===j||void 0===j||null===(e=j.userStatus)||void 0===e?void 0:e.loggedIn)&&Object(n.d)({headerTrackDetails:j,updateSetHeaderTrackDetails:k})}),[null===j||void 0===j?void 0:j.postActiveOrderHistoryDetailsList]),((null===j||void 0===j?void 0:j.isActiveOrderAvailable)||(null===j||void 0===j?void 0:j.showPickupOrderCancelledBanner))&&(E={headerTrackDetails:j,updateSetHeaderTrackDetails:k},Object(u.jsx)(r.a,{...E,testId:"app_header_order_tracker_view",importPath:"APP_HEADER_ORDER_TRACKER_VIEW"}));var E}}}]);