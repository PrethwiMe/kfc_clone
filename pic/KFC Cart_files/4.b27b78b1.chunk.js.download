(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[4,89],{1003:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(18),l=o.n(d),r=o(25),n=o(340),s=o.n(n),c=o(37),u=o.n(c),v=o(931),O=o.n(v),b=o(61),m=o(138),j=o(97),h=o(964),g=o(63),p=o(30),E=o(6),I=o(121),N=o(991),x=o(4),f=o(5),T=o(0),S=o(43),A=o(915),D=o(15),C=o(136),y=o(2);var R=e=>{const{currencySymbol:t,currencyConversionFactor:o,unavailableItem:i,orderDetails:a}=e,{YOUR_ORDER:d,TOTAL:l,ITEM_NOT_UNAVAILABLE:r,ITEM_CURRENLTY_UNAVAILABLE:n,CART_ITEM:s}=x.a,{foodLines:c=[],id:u,total:v}=Object(f.kd)(a),O=Object(E.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.ADD_HOPE),b=Object(E.translateWithI18Next)(null===x.a||void 0===x.a?void 0:x.a.LARGE_CARRY_BAG),m=Object(f.Pb)(c,O,b),j=null===m||void 0===m?void 0:m.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0);return Object(y.jsxs)("div",{className:"reorder-item-section",children:[Object(y.jsx)("span",{className:"reorder-section-heading",children:Object(E.translateWithI18Next)(d)}),Object(y.jsx)("div",{className:"".concat(Object(f.Tc)(i.length>0,"error-can-not-deliver","hide-error-container")),children:Object(y.jsx)(A.a,{show:i.length>0,errorMsg:Object(E.translateWithI18Next)(r),errImage:D.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(y.jsx)("section",{className:"reorder-accordian",children:Object(y.jsxs)(C.a,{header:"".concat(j," ").concat(Object(E.translateWithI18Next)(s)).concat(j>1?"s":""),open:!0,children:[null===m||void 0===m?void 0:m.map((e=>{var a,d,l,r,s;return Object(y.jsx)("section",{className:"",children:Object(y.jsxs)("div",{className:"reorder-order-item",children:[Object(y.jsx)("div",{className:"reorder-item-details",children:Object(y.jsx)("div",{className:"item-count-box mr",children:Object(y.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(y.jsxs)("div",{className:"item-desc-section",children:[Object(y.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(a=e.item)||void 0===a||null===(d=a.dname)||void 0===d||null===(l=d[0])||void 0===l?void 0:l.value}),i.length>0&&i.find((t=>{var o;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)}))&&Object(y.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(y.jsx)(S.a,{srcFile:D.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(E.translateWithI18Next)(n)]})]}),!Object(f.ce)()&&Object(y.jsxs)("span",{className:"item-amount item-desc-bold",children:[t,Object(f.g)((null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.quantity)*(null===e||void 0===e||null===(s=e.item)||void 0===s?void 0:s.unitPrice),o)," "]})]})})})),!Object(f.ce)()&&Object(y.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(y.jsx)("span",{className:"payment-total",children:Object(E.translateWithI18Next)(l)}),Object(y.jsxs)("span",{className:"payment-total-amount",children:[t,Object(f.g)(v,o)]})]})]},"orderItem-".concat(u))})]})},_=o(36),L=o(995),w=o(76);const{CURRENT_STORE_INFO_STORAGE:F}=T.gd||{},k=e=>{const{isGenericError:t,isPastOrderValidationLoading:o,isAddItemLoading:i,enableButton:a,enableScheduleOrder:d,isFutureDateTimeOrder:r,scheduleOrderFlag:n,selectedTime:s,hasError:c,unavailableItem:u,totalItemsLength:v}=e;return t||o||i||!a||c.error||(null===u||void 0===u?void 0:u.length)===v||d&&r&&n&&l()(s)};var M=e=>{var t,o,d,l,n,s;const{closeButtonHandler:c,onChangeDisposition:u,editDeliveryLocation:v,enableButton:O,onChangeRestaurant:b,currentOrderInfo:m,onClickOrderAgain:j,orderTypeDifferentError:h,storeError:g,locationDifferentError:p,isLocationError:S,isGenericError:A,isPastOrderValidationLoading:D,isAddItemLoading:C,storeChanged:F,currentStoreInfo:M,enableScheduleOrderFlag:B,selectedDate:P,selectedTime:H,scheduleOrderFlag:W,hasError:U,changeDateValue:V,changeTimeValue:G,orderNowFlag:q,enableSceduleCA:Y,enableScheduleMode:z,dateTimeArr:K,orderSchedulingMode:J,changeScheduleOrder:X,isFutureDateTimeOrder:$,isStoreClosed:Z,storeClosedError:Q,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:oe}=Object(i.useContext)(w.a),ie=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(B,K),ae=((e,t)=>{var o;return!!e&&!(null!==t&&void 0!==t&&null!==(o=t.timeSlots)&&void 0!==o&&o.length)})(B,P),de=Object(r.c)((e=>e.tenantReducer)),le=null===de||void 0===de||null===(t=de.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:re,disableChangeCTAForAddressChange:ne,disableChangeCTAForStoreChange:se}=null===de||void 0===de||null===(o=de.componentOptions)||void 0===o||null===(d=o.web)||void 0===d?void 0:d.quickReorder,{modifiedStoreData:ce,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(f.ed)(F,M,m,oe),Oe=F?Object(f.Wb)(null===m||void 0===m?void 0:m.deliveryAddress,le):Object(f.Wb)(ve,le),{REVIEW_ORDER:be,ORDER_TYPE:me,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:he,YOUR_LOCATION:ge,ORDER_AGAIN:pe,PICK_UP_TIME:Ee,DELIVERY_TIME:Ie}=x.a,{DELIVERY:Ne}=T.Jb,xe=((e,t)=>{const{DELIVERY:o}=T.Jb||{},i=(null===t||void 0===t?void 0:t.toUpperCase())===o?Object(E.translateWithI18Next)(x.a.SELECT_DELIVERY_TIME):Object(E.translateWithI18Next)(x.a.SELECT_PICKUP_TIME);return e?i:Object(E.translateWithI18Next)(x.a.ASAP)})(X,ue),fe=q||W&&!X,Te=W&&X,Se={isGenericError:A,isPastOrderValidationLoading:D,isAddItemLoading:C,enableButton:O,enableScheduleOrder:B,isFutureDateTimeOrder:$,scheduleOrderFlag:W,selectedTime:H,hasError:U,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(l=e.orderDetails)||void 0===l||null===(n=l.foodLines)||void 0===n?void 0:n.length};return Object(y.jsx)(a.a.Fragment,{children:Object(y.jsxs)(I.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:c,backButtonHandler:c,modalTitle:Object(E.translateWithI18Next)(be),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:_.b.secondary,footerBtnText:Object(E.translateWithI18Next)(pe),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:k(Se),loadingBtn:C,children:[Object(y.jsx)(N.a,{show:!0,sectionHeader:me,subSectionValue:Object(E.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:h,isAlert:!0,showChangeButton:!re,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Object(f.Ad)(ue),sectionHeader:ge,subSectionValue:Oe,showChangeButton:!Object(f.Ad)(ue)||!ne,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(s=ve.addressLines)||void 0===s?void 0:s[0]:null===oe||void 0===oe?void 0:oe.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(Oe)}),Object(y.jsx)(N.a,{show:!0,sectionHeader:he,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,onClickHandler:b,showChangeButton:!se,isAlert:Z||!A,storeUnavailableError:A&&g||S&&p||Z&&Q,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(y.jsx)(N.a,{show:Boolean(B&&fe),sectionHeader:Object(f.Ad)(ue)?Ie:Ee,subSectionValue:J,orderTypeChange:je,onClickHandler:z,showChangeButton:Y,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(y.jsx)(L.a,{show:Boolean(B&&Te),sectionHeader:Object(f.Ad)(ue)?Ie:Ee,subSectionValue:null===ce||void 0===ce?void 0:ce.name,orderTypeChange:je,changeDateValue:V,changeTimeValue:G,dateTimeArr:K,selectedDate:P,selectedTime:H,placeholderText:xe,disableDateOption:ie,disableTimeOption:ae,scheduleTimeWarning:B&&U&&(null===U||void 0===U?void 0:U.error),scheduleErrMsg:B&&U&&(null===U||void 0===U?void 0:U.errormessage),enableScheduleOrderFlag:B,elementUniqueLocator:te}),Object(y.jsx)(R,{...e})]})})},B=o(14),P=o(38),H=o(111),W=o(101),U=o(22),V=o(11),G=o(332),q=o(266),Y=o(122),z=o(318),K=o(69),J=o(110);const X=e=>{var t;const{enableScheduleOrder:o,isFutureTimeOrderAvailable:i,updateReorderDetails:a,storename:d,service:l}=e,{STORE_CLOSED_ERROR:r,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:n,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:s}=x.a;a(o&&i?{storeError:null,storeClosedError:Object(f.ef)(l)===T.Lb.PICKUP?Object(E.translateWithI18Next)(n):Object(E.translateWithI18Next)(s)}:{storeClosedError:null,storeError:null===(t=Object(E.translateWithI18Next)(r))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})},$=e=>{var t;const{timings:o={},orderingAttribute:i={}}=Object(f.kd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:a={}}=o||{},{isAsapOrder:d=!1}=i||{},l=!(null!==a&&void 0!==a&&a.isAvailable);return Boolean(!l&&d)},Z=(e,t)=>Boolean(e&&t),Q=e=>{var t;return e?Object(E.translateWithI18Next)(x.a.TODAY_ASAP):null===(t=Object(E.translateWithI18Next)(x.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,o,d,n,c,v,I,N,S,A;const{currentOrderInfo:D,reorderModalOpen:C,closeButtonHandler:R,source:_}=e,{service:L,id:F,store:k,name:ee}=Object(f.kd)(D),{storeId:te}=Object(f.kd)(k),oe=Object(r.b)(),ie=Object(b.g)(),{RESET_DELIVERY_ADDRESS_LINE:ae,DISPOSITION_DATA:de,SCHEDULE_ORDER_DATA:le,SEARCH_ORDER_DATA:re,DISPOSITION_METHOD:ne,USER_LOCALIZED:se,CURRENT_STORE_INFO:ce,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:Oe,SET_ASAP_SCHEDULING:be,SCHEDULE_ORDER_CLICKED:me}=B.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:he,DISPOSITION_TYPE:ge,DATE_TIME_ORDER:pe,SELECTED_TILE:Ee,CONFIG_SEARCH_SCREEN:Ie,CURRENT_STORE_INFO_STORAGE:Ne,STORE_INFO:xe}=T.gd,{LOCATION_DIFFERENT_ERROR:fe,STORE_CLOSED_ERROR:Te}=x.a,{userOrderState:Se,userOrderStateDispatch:Ae}=Object(i.useContext)(w.a);let{dispositionNew:De,reorderFlag:{storeChanged:Ce=!1},currentStoreInfo:ye={},scheduleOrderData:Re={},showOrderNowReorder:_e=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:we=!1}=Se;const{changeFlow:Fe=!1,isAddressFlow:ke=!1}=Re;De=Object(f.Tc)(Object(f.Jd)(De),JSON.parse(localStorage.getItem(je)),De);const Me=Object(r.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Be=!1,loggedIn:Pe=!1}=Object(f.kd)(Me),He=Object(f.gd)(Be,Pe),We=Object(r.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ue,currencyConversionFactor:Ve,currencySymbol:Ge,componentOptions:qe}=Object(f.kd)(We),Ye=null===We||void 0===We||null===(t=We.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,ze=null===We||void 0===We||null===(o=We.savedAddressPage)||void 0===o?void 0:o.showStateCityAddAddress,Ke=null===We||void 0===We||null===(d=We.componentOptions)||void 0===d?void 0:d.showComma,{web:Je={}}=qe,{shouldCheckDropOffAddress:Xe=!1}=Je,$e=Object(r.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(f.kd)($e),{elementUniqueLocator:Qe,timeFormat:et}=Object(r.c)((e=>e.tenantReducer||{})),tt=Object(r.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:ot={}}=Object(f.kd)(tt),{addHope:it,carryBag:at}=We,dt=a.a.useRef(null),lt=Object(r.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:rt}=Object(f.kd)(lt),{items:nt=[]}=Object(f.kd)(rt),st=Object(r.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),ct=Object(r.c)((e=>{var t,o,i;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isStoreDetailsLoading)||(null===(i=e.LoaderReducer)||void 0===i?void 0:i.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:Ot}=Object(f.kd)(st),{discountLines:bt=[],foodLines:mt=[]}=ot,jt=Object(f.db)(bt,(null===bt||void 0===bt?void 0:bt.length)-1),ht=Object(f.db)(bt,bt[jt]),{couponCode:gt="",amount:pt=""}=Object(f.kd)(ht),Et=Object(f.g)(pt,Ve),It=null===qe||void 0===qe||null===(n=qe.web)||void 0===n?void 0:n.dispositionConfig,Nt=null===qe||void 0===qe||null===(c=qe.web)||void 0===c||null===(v=c.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:xt=!1}=It,{modifiedService:ft}=Object(f.ed)(Ce,ye,D),Tt=((e,t,o)=>e&&(null===t||void 0===t?void 0:t.includes(o)))(null===qe||void 0===qe||null===(I=qe.web)||void 0===I||null===(N=I.dispositionConfig)||void 0===N?void 0:N.enableClickCollectScheduleOrder,null===qe||void 0===qe||null===(S=qe.web)||void 0===S||null===(A=S.scheduledDelivery)||void 0===A?void 0:A.allowScheduleOrderForDispositions,ft),St=((e,t)=>e||t)(xt,Tt),At={unavailableItem:[],showModal:C,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:Q(Tt),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[Dt,Ct]=Object(i.useState)(At),[yt,Rt]=Object(i.useState)(!1),_t=Object(i.useCallback)((e=>{Ct&&Ct((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=T.sb,wt=St?Ce:Fe,Ft=Object(J.b)(K.b);Object(i.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(T.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(i.useEffect)((()=>{dt.current=Dt}),[Dt]),Object(i.useEffect)((()=>{if(Z(St,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&!Dt.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=Dt.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:St,enableClickCollectScheduleOrderFlag:Tt,fromReorder:!0,scheduleModeClicked:we,timeFormat:et},o=Object(W.h)(t);_t({dateTimeArr:o})}}),[xt,Dt.storeDetail,L,Ce,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(St,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&Dt.scheduleOrderFlag&&Dt.changeScheduleOrder){const e={shouldShowScheduleOrder:Dt.scheduleOrderFlag,store:Dt.storeDetail,updateReorderDetails:_t,changeFlow:Fe,enableScheduleOrder:St,selectedDate:Dt.selectedDate,selectedTime:Dt.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:we,enableClickCollectScheduleOrderFlag:Tt};Object(W.c)(e)}}),[St,Dt.scheduleOrderFlag,Ce,Dt.storeDetail,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(i.useEffect)((()=>{if(Z(St,Dt.storeDetail)){var e,t,o;const i=$(null===Dt||void 0===Dt?void 0:Dt.storeDetail),a=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),d=!l()(Dt.selectedDate)&&!l()(Dt.selectedTime),r=u()(null===Dt||void 0===Dt||null===(t=Dt.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),n=((e,t)=>Boolean(e&&!t))(null===Dt||void 0===Dt?void 0:Dt.storeClosedError,a);((e,t,o,i)=>{var a;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&o({orderSchedulingMode:i?Object(E.translateWithI18Next)(x.a.TODAY_ASAP):null===(a=Object(E.translateWithI18Next)(x.a.ASAP))||void 0===a?void 0:a.toUpperCase()})})(Dt,i,_t,Tt);const s=(e=>{const{storeClosedError:t,asapOrderFlag:o,isFutureDateTimeOrder:i,changeScheduleOrder:a,enabledDate:d,isDateTimeSelected:l}=e;return Boolean((t||!o)&&i&&!a&&d&&!l)})({storeClosedError:null===Dt||void 0===Dt?void 0:Dt.storeClosedError,asapOrderFlag:i,isFutureDateTimeOrder:null===Dt||void 0===Dt?void 0:Dt.isFutureDateTimeOrder,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:a,isDateTimeSelected:d});s&&_t({scheduleOrderFlag:!0,selectedDate:a,selectedTime:null===a||void 0===a?void 0:a.timeSlots[0],orderNowFlag:!1});const c=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:o,scheduleOrderFlag:i,changeScheduleOrder:a,enabledDate:d}=e;return Boolean(!t&&o&&i&&a&&d)})({storeClosedError:Dt.storeClosedError,isFutureDateTimeOrder:Dt.isFutureDateTimeOrder,scheduleOrderFlag:Dt.scheduleOrderFlag,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:a});c&&l()(Dt.selectedDate)&&_t({selectedDate:a}),n&&_t({storeClosedError:null,storeError:null===(o=Object(E.translateWithI18Next)(Te))||void 0===o?void 0:o.replace("$storeName",'<b class="item-desc-bold">'.concat(r,"</b>"))})}}),[St,Dt.orderNowFlag,Dt.scheduleOrderFlag,Dt.storeClosedError,Dt.changeScheduleOrder,Dt.storeDetail,Dt.isFutureDateTimeOrder,Ce,Dt.dateTimeArr]),Object(i.useEffect)((()=>{if(St&&!l()(Dt.selectedDate)&&!l()(Dt.selectedTime)){const e=Dt.selectedDate.date.value,t=Dt.selectedTime.value,o=Ke?",":"",i=" ".concat(e).concat(o," ").concat(t);_t({orderSchedulingMode:i})}}),[Dt.selectedDate,Dt.selectedTime,St]),Object(i.useEffect)((()=>{if(Z(St,Dt.storeDetail)){var e,t,o;const i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=Object(f.Pd)(null===(t=Dt.storeDetail)||void 0===t?void 0:t[0])||Object(f.Od)(null===(o=Dt.storeDetail)||void 0===o?void 0:o[0]),d=((e,t,o)=>Boolean(e&&!t&&o))(a,Dt.changeScheduleOrder,i);_t({isFutureDateTimeOrder:a,enableSceduleCA:d})}}),[St,Dt.storeDetail,Ce,Dt.dateTimeArr]),Object(i.useEffect)((()=>{null!==Dt&&void 0!==Dt&&Dt.showModal&&St&&!Ce&&Ae({type:me,value:{scheduleModeClicked:!1}})}),[null===Dt||void 0===Dt?void 0:Dt.showModal,St,Ce]),Object(i.useEffect)((()=>{if(Z(St,Dt.storeDetail)&&Dt.showModal&&Ce&&!Dt.isFlowChangedLoadingFinish){var e,t,o;const i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),a=((e,t,o)=>Boolean(e&&t&&o))($(null===Dt||void 0===Dt?void 0:Dt.storeDetail),Dt.isFutureDateTimeOrder,i);a&&_t({orderNowFlag:_e,changeScheduleOrder:!_e||Le&&(null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!_e||Le&&(null===(o=Dt.dateTimeArr)||void 0===o?void 0:o.length),isFlowChangedLoadingFinish:!0})}}),[St,_e,Le,Ce,Dt.showModal,Dt.storeDetail,Dt.dateTimeArr,Dt.isFlowChangedLoadingFinish,Dt.isFutureDateTimeOrder]);Object(i.useEffect)((()=>{Object(f.db)(Dt.confirmed,Ot)&&(_t({confirmed:!1}),ie.push(T.Ae.CART))}),[Dt.confirmed,Ot]);const kt=Object(f.g)(null===ot||void 0===ot?void 0:ot.total,Ve),Mt=Object(i.useCallback)((()=>{var e,t;const o=null===(e=Dt.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,i=Object(f.Wb)(o);localStorage.setItem(T.gd.RETAIN_ADDRESS,i),_t({showModal:!1}),Ae({type:ae}),Ae({type:de,value:{showDisposition:!0}}),Ae({type:le,value:{showScheduleOrder:!1}}),Ae({type:re,value:{showSearchStore:!1}}),Ae({type:Oe,value:{reorderModalOpen:!1}})}),[Ae,Dt.storeDetail]),Bt=Object(i.useCallback)((e=>{const t=s()(Dt.storeDetail,{});t&&(Ae({type:ne,value:{dispositionType:t.service}}),Object(W.a)(ke,t,H.a,wt,!0,e,Ae),Ae({type:Oe,value:{reorderModalOpen:!1}}))}),[Ae,wt,ke,Dt.storeDetail]),Pt=Object(i.useCallback)((e=>{if(!Object(f.Jd)(e)){var t;const{summary:o}=e,{futureDates:i,scheduled:a,asap:d}=Object(f.kd)(null===o||void 0===o?void 0:o.timings),{interval:l=0,startEndTime:r={}}=a&&a.periods.length&&a.periods[0],{from:n,to:s}=r;return Object(W.j)(n,s,l,null===d||void 0===d?void 0:d.isAvailable,Object(f.db)(1===i.length,Object(f.ce)())),{time:T.t,interval:null===o||void 0===o||null===(t=o.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:T.t}}})),Ht=e=>{const t=e;return e.forEach(((t,o)=>{var i;e[o].modifiers=null===(i=t.modifiers)||void 0===i?void 0:i.filter((e=>!0===e.isAdded))})),t},Wt=(e,t,o)=>{const i=[];let a=0,d=[],l=Object(f.Pb)(e,it,at);return null===l||void 0===l||l.forEach((e=>{var l;const{isAvailable:r,product:n}=((e,t,o)=>{var i,a,d,l,r,n;const s=o&&"ASAP"!==o?Object(V.C)(o,T.sb.lll):Object(V.e)(T.sb.lll),c=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(i=c[0])||void 0===i||null===(a=i.availability[0])||void 0===a?void 0:a.availableHours,v=null===u||void 0===u||null===(d=u.startTime)||void 0===d?void 0:d.time,O=null===u||void 0===u||null===(l=u.endTime)||void 0===l?void 0:l.time,b=Object(z.j)(Object(f.y)(v),T.sb.lll,1e3*o),m=Object(z.j)(Object(f.y)(O),T.sb.lll,1e3*o),j=null===(r=c[0])||void 0===r?void 0:r.isNotAvailable,h=Object(V.f)(s,b,m)&&!j;return(null===(n=c[0])||void 0===n?void 0:n.isHidden)?{isAvailable:"hidden",product:c}:{isAvailable:h,product:c}})(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,t,o);var s,c,u,v,O;r?i.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===n||void 0===n||null===(s=n[0])||void 0===s||null===(c=s.categoryUrl)||void 0===c?void 0:c[0],categoryName:null===n||void 0===n||null===(u=n[0])||void 0===u?void 0:u.categoryName,categoryId:null===n||void 0===n||null===(v=n[0])||void 0===v?void 0:v.categoryId,modGrps:Ht(null===e||void 0===e||null===(O=e.item)||void 0===O?void 0:O.modGrps)}):(a+=1,d.push(e.item))})),_t({unavailableItem:d}),{unAval:a,itemArr:i}},Ut=(e,t,o)=>{const i=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===T.Ke||void 0===T.Ke?void 0:T.Ke.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:U.b.channel,service:o});Object(Y.g)(),oe(St?Object(h.b)({tenantId:Ue,catalogName:e},i,(()=>_t({isMenuFetched:!0}))):Object(h.b)({tenantId:Ue,catalogName:e},{storeId:t,channel:U.b.channel,service:o},(()=>_t({isMenuFetched:!0}))))};Object(i.useEffect)((()=>{if(Object(f.j)([mt.length>0,nt.length>0,Dt.isMenuFetched])){var e;const{id:t}=Object(f.kd)(ut),o=Object(f.Pb)(mt,T.i),i=Wt(o,nt,null===(e=Dt.selectedTime)||void 0===e?void 0:e.key),a={dispatch:oe,response:i,foodLineInfo:mt,basketId:t,tenantId:Ue,updateReorderDetails:_t,setupLocalization:Gt,storeDetail:Dt.storeDetail,orderinfoData:Dt.orderinfoData,closeButtonHandler:R};yt||((e=>{const{dispatch:t,response:o,foodLineInfo:i,basketId:a,tenantId:d,updateReorderDetails:l,setupLocalization:r,storeDetail:n,orderinfoData:s,closeButtonHandler:c}=e;o.unAval!==i.length&&t(Object(p.a)({params:{basketId:a},tenantId:d,isFromReorder:!0},o.itemArr,(e=>{localStorage.removeItem(T.gd.ADD_TO_ORDER),r(n,s),l({confirmed:!0}),c()})))})(a),_t({isMenuFetched:!1})),Rt(!1)}}),[mt,nt,Dt.isMenuFetched]);const Vt=async function(){var e,t,o,i,a,d,l,r,n,s,c,u,v,b,m,j,h,g,I,N,S,A,D,C;let y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R||Rt(!1);const{lang:_,catalog:w,storeId:F,deliveryAddress:k,storename:M,service:B}=Object(f.dd)(R?y:Dt.storeDetail),H=Ce?k:null===(e=Dt.orderinfoData)||void 0===e?void 0:e.deliveryAddress,W={date:null!==(t=null===(o=Dt.selectedDate)||void 0===o||null===(i=o.date)||void 0===i?void 0:i.key)&&void 0!==t?t:Object(V.h)(new Date,Lt),time:null!==(a=null===(d=Dt.selectedTime)||void 0===d?void 0:d.value)&&void 0!==a?a:T.t,selectedTime:null!==(l=null===(r=Dt.selectedTime)||void 0===r?void 0:r.value)&&void 0!==l?l:T.t,epochTime:null!==(n=Dt.selectedTime)&&void 0!==n&&n.key&&(null===(s=Dt.selectedTime)||void 0===s?void 0:s.key)!==T.t?null===(c=Dt.selectedTime)||void 0===c?void 0:c.key:T.t},U={time:T.t,date:new Date,selectedTime:T.t,epochTime:T.t},G=St?W:U;let q={id:F,summary:{menu:{catalogs:[w]}},addresses:[{lang:_}]};const{addressLines:Y=[],customProperties:z}=(null===Dt||void 0===Dt||null===(u=Dt.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[J,$,Z,Q,ee,te,ie,ae]=Y,de=null===Dt||void 0===Dt||null===(v=Dt.orderinfoData)||void 0===v||null===(b=v.deliveryAddress)||void 0===b?void 0:b.name,le=null===Dt||void 0===Dt||null===(m=Dt.orderinfoData)||void 0===m||null===(j=m.deliveryAddress)||void 0===j?void 0:j.pinCode,re=null===(h=O()(z,{key:T.V}))||void 0===h?void 0:h.value,ne=null===(g=O()(z,{key:T.S}))||void 0===g?void 0:g.value,se=(null===Dt||void 0===Dt||null===(I=Dt.orderinfoData)||void 0===I||null===(N=I.customProperties)||void 0===N||null===(S=N[0])||void 0===S?void 0:S.value)||{},ce=Ye&&null!==Y&&void 0!==Y&&Y.length?{addressName:de,apartmentName:ee,chome:Z,chomeId:ne,cityId:re,cityTown:$,companyName:ie,postalCode:le,prefecture:J,roomNumber:te,specialNote:ae,streetDetailAddress:Q}:{},ue=await Object(f.z)(q,Object(f.Ib)(B),Ze,G,Object(f.Wb)(H,ze),null,ce,null===Dt||void 0===Dt||null===(A=Dt.orderinfoData)||void 0===A||null===(D=A.deliveryAddress)||void 0===D?void 0:D.addressLines);let ve=Object(V.p)();if(St&&(null===(C=Dt.selectedTime)||void 0===C?void 0:C.key)<ve)_t({hasError:{...Dt.hasError,error:!0,errormessage:Object(E.translateWithI18Next)(x.a.SCHEDULE_ORDER_CA)}});else{const e=Object(f.Kd)(Dt.selectedTime)?Dt.selectedTime.key:"";St&&sessionStorage.setItem(T.Ke.SCHEDULE_DATE_EPOCH,e),oe(Object(p.f)({data:ue,tenantId:Ue,successCallback:()=>Ut(w,F,B),errorCallback:()=>{var e,t;const o=dt.current,i=Object(f.Pd)(null===o||void 0===o||null===(e=o.storeDetail)||void 0===e?void 0:e[0])||Object(f.Od)(null===o||void 0===o||null===(t=o.storeDetail)||void 0===t?void 0:t[0]);X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:i,updateReorderDetails:_t,storename:M,service:L})}}))}oe(Object(K.d)({key:T.gd.ADD_HOPE_TRIGGER,value:!0})),oe(Object(K.d)({key:null===T.qe||void 0===T.qe?void 0:T.qe.REORDER_FLAG,value:{isReorderFlow:!0}})),oe(Object(K.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SELECTED_NOT_NOW,value:!1})),oe(Object(K.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),oe(Object(K.d)({key:null===P.a||void 0===P.a?void 0:P.a.STREET_NUMBER,value:se}))},Gt=(e,t)=>{var o,i,a,d,l,r,n,c,u,v,O,b;const m=s()(e,{});let{deliveryAddress:h,service:g}=Ce?Object(f.dd)(e):t;Ae({type:ne,value:{dispositionType:g}});const E=Ye?Object(V.R)(null===(o=Dt.selectedTime)||void 0===o?void 0:o.value,T.sb.HH_mm,T.sb.hh_mm_A):null===(i=Dt.selectedTime)||void 0===i?void 0:i.value,I={date:null!==(a=null===(d=Dt.selectedDate)||void 0===d||null===(l=d.date)||void 0===l?void 0:l.key)&&void 0!==a?a:Object(V.h)(new Date,Lt),time:null!==E&&void 0!==E?E:T.t,selectedTime:null!==E&&void 0!==E?E:T.t,epochTime:null!==(r=Dt.selectedTime)&&void 0!==r&&r.key&&(null===(n=Dt.selectedTime)||void 0===n?void 0:n.key)!==T.t?null===(c=Dt.selectedTime)||void 0===c?void 0:c.key:T.t},N=St?I:Pt(m),x=Boolean((null===N||void 0===N?void 0:N.key)===T.t),S={type:g,store:m,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,epochTime:null===N||void 0===N?void 0:N.epochTime,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,deliveryAddress:Object(f.Wb)(h,ze),deliveryAddressLine:(null===h||void 0===h||null===(u=h.addressLines)||void 0===u?void 0:u.length)>=1?null===h||void 0===h||null===(v=h.addressLines)||void 0===v?void 0:v[0]:""};Ae({type:ue,value:{oldvalue:De,newValue:S}}),localStorage.setItem(he,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(S)),localStorage.setItem(je,JSON.stringify({type:g,store:m,date:null===N||void 0===N?void 0:N.date,time:null===N||void 0===N?void 0:N.time,interval:null===N||void 0===N?void 0:N.interval,selectedTime:null===N||void 0===N?void 0:N.selectedTime,epochTime:null===N||void 0===N?void 0:N.epochTime,deliveryAddress:Object(f.Wb)(h,ze),deliveryAddressLine:(null===h||void 0===h||null===(O=h.addressLines)||void 0===O?void 0:O.length)>=1?null===h||void 0===h||null===(b=h.addressLines)||void 0===b?void 0:b[0]:""})),Ae({type:re,value:{showSearchStore:!1}}),Ae({type:se,value:{isLocalized:!0}}),Ae({type:ce,value:m}),oe(Object(j.a)({...Me,localized:!0})),localStorage.setItem(Ne,JSON.stringify(m)),localStorage.setItem(xe,JSON.stringify(m)),St&&(Ae({type:B.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),Ae({type:B.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),Ae({type:be,value:{enableASAPScheduling:x}})),Ae({type:ve,value:{selectedDateTime:N}}),localStorage.setItem(Ee,JSON.stringify({})),localStorage.setItem(Ie,H.a),localStorage.setItem(ge,g),localStorage.setItem(pe,JSON.stringify(N)),Ae({type:B.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),Ae({type:B.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(f.dd)(Dt.storeDetail);if(Object(f.Kd)(e)){const o=Object(f.Wb)(e),i=await Object(q.geocodeByAddress)(o),a=await Object(q.getLatLng)(null===i||void 0===i?void 0:i[0]);Object(f.gf)(t,i),Nt&&oe(Object(K.d)({key:T.qe.LAT_LONG,value:a}))}localStorage.setItem(T.gd.SERVICE_TYPE,Object(f.Ib)(t));const o=T.p.AUD;let i=[];null===mt||void 0===mt||mt.forEach(((e,t)=>{var a,d,l,r;let n=Object(f.g)(null===e||void 0===e?void 0:e.unitPrice,Ve);i.push({item_name:Object(f.fb)(null===e||void 0===e||null===(a=e.item)||void 0===a||null===(d=a.dname[0])||void 0===d?void 0:d.value,"NA"),item_id:Object(f.fb)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,"NA"),price:Object(f.fb)(parseFloat(n),"NA"),coupon:gt,currency:o,discount:Et,item_category:(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.categoryName)||"NA",item_list_name:_,item_list_id:"",index:t+0,quantity:Object(f.fb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(G.o)(i,He,o,kt,t),mt.length>0&&oe(Object(p.r)()),Object(G.p)(He,ee)})()},qt=(e,t)=>{const{modifiedStoreData:o}=Object(f.ed)(Ce,ye,D);if(_t({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=s()(e,{}),l=u()(t,"summary",{}),{currentStatus:r}=u()(l,"status",{}),n=u()(l,"name",{}),c=Object(f.Pd)(t)||Object(f.Od)(t);if(r===T.Y){X({enableScheduleOrder:xt,isFutureTimeOrderAvailable:c,updateReorderDetails:_t,storename:n,service:L})}var i,a,d;if(Me.localized)((e,t,o)=>{var i,a;Object(f.ef)(null===e||void 0===e?void 0:e.type)!==Object(f.ef)(t)&&o({orderTypeDifferentError:null===(i=Object(E.translateWithI18Next)(x.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===i?void 0:i.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(E.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(E.translateWithI18Next)(null===e||void 0===e||null===(a=e.type)||void 0===a?void 0:a.toLowerCase()),"</b>"))})})(De,ft,_t),te!==(null===(i=De)||void 0===i||null===(a=i.store)||void 0===a?void 0:a.id)&&_t({locationDifferentError:null===(d=Object(E.translateWithI18Next)(fe))||void 0===d?void 0:d.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))});Rt(!0),Vt(e,!0)}else{var l;_t({storeClosedError:null,storeError:null===(l=Object(E.translateWithI18Next)(Te))||void 0===l?void 0:l.replace("$storeName",'<b class="item-desc-bold">'.concat(null===o||void 0===o?void 0:o.name,"</b>"))})}};return Object(i.useEffect)((()=>{const e=null===D||void 0===D?void 0:D.service,{modifiedStoreId:t,modifiedStoreData:o,modifiedService:i,modifiedDeliveryAddress:a}=Object(f.ed)(Ce,ye,D);oe(Object(g.l)({storeId:t,tenantId:Ue},(t=>{const d={data:Object(f.B)([o],i,a,Xe,null===Ft||void 0===Ft?void 0:Ft.latLong),store:[{...t,service:i}],tenantId:Ue,setStatusFlag:!1,isFavoritePage:!1};oe(Object(g.d)(d,(t=>{_t({storeDetail:t}),oe(Object(m.f)({tenantId:Ue,orderId:F,customerId:Ze,CTO:!!Object(f.Ad)(e)&&void 0},(e=>qt(t,e))))})))})))}),[]),Object(y.jsx)(y.Fragment,{children:Dt.showModal?Object(y.jsx)(M,{...e,onChangeDisposition:Mt,editDeliveryLocation:Bt,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(f.ed)(Ce,ye,D),o=s()(Dt.storeDetail,{});var i;o?(_t({showModal:!1}),Ae({type:ne,value:{dispositionType:o.service}}),Object(f.tf)(Ae,null===(i=o.summary)||void 0===i?void 0:i.name),Ae({type:Oe,value:{reorderModalOpen:!1}})):(_t({showModal:!1}),Ae({type:ne,value:{dispositionType:t}}),Object(f.tf)(Ae,null===e||void 0===e?void 0:e.name),Ae({type:Oe,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Vt,storeError:Dt.storeError,locationDifferentError:Dt.locationDifferentError,currencySymbol:Ge,currencyConversionFactor:Ve,orderDetails:ot,isPastOrderValidationLoading:ct,isAddItemLoading:vt,storeChanged:Ce,currentStoreInfo:ye,enableScheduleOrderFlag:St,changeDateValue:e=>{var t,o;const i=null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.find((t=>{var o;return(null===t||void 0===t||null===(o=t.date)||void 0===o?void 0:o.key)===(null===e||void 0===e?void 0:e.key)}));_t({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedDate:i,storeError:null,storeClosedError:null,selectedTime:{...null===i||void 0===i||null===(o=i.timeSlots)||void 0===o?void 0:o[0]}})},changeTimeValue:e=>{_t({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{_t({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(Dt.storeClosedError),isGenericError:Boolean(Dt.storeError),isLocationError:Boolean(Dt.locationDifferentError),...Dt,elementUniqueLocator:Qe}):null})}},1004:function(e,t,o){"use strict";var i=o(3),a=o(25),d=o(52),l=o(57),r=o(268),n=o(6),s=o(4),c=o(121),u=o(43),v=o(15),O=o(49),b=o(5),m=o(36),j=o(2);var h=e=>{const{onCancel:t,setOccasionNameHandler:o,updateFavouriteOrder:i,occasionName:a,isNameExist:d,isInValid:l,isEditOrderName:r=!1,onClearTextHandler:c,disaableButton:O,editFavHeading:b=!1,isAddFavOrderBox:h=!1,errorMessage:g}=e,{CANCEL:p,SAVE:E,OCCASSION_ADD_HEADING:I,OCCASSION_EDIT_HEADING:N,ORDER_PLACEHOLDER:x,NAME_EXIST:f,OCCASION_NAME_VALIDATION:T,EDIT_FAVOURITE_HEADING:S,SAVE_FAV_ORDER:A,PLEASE_FILL_OUT_THIS_FIELD:D}=s.a,C=r?b?S:N:I,y=l?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(n.translateWithI18Next)(h?A:C)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:a,type:"text","data-testid":"occasion-input",className:d||l?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>o(e,r),title:Object(n.translateWithI18Next)(D)}),Object(j.jsx)("label",{children:Object(n.translateWithI18Next)(x)}),l&&Object(j.jsxs)("div",{className:"error-text-container ".concat(y),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(n.translateWithI18Next)(g)})]}),""!==a?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>c()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(m.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(n.translateWithI18Next)(p)}),Object(j.jsx)(m.a,{disabled:O,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>i(),children:Object(n.translateWithI18Next)(E)})]})]})};t.a=e=>{const{isMobile:t,editItemId:o,setEditItemId:m,showOccassionModal:g,setOccassionModalOpen:p,cardInfo:E,toastmessage:I,hasEdit:N=!1,occasionName:x,setOccasionName:f,isAddFavOrderBox:T,updateSetOrderDetails:S,userParams:A,currencyShortName:D,currencyConversionFactor:C,orderDetail:y,productMapById:R}=e,_=Object(a.b)(),[L,w]=Object(i.useState)(""),[F,k]=Object(i.useState)(""),[M,B]=Object(i.useState)(!0),[P,H]=Object(i.useState)([]),W=Object(a.c)((e=>{var t;return Object(b.jd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:U,phone:V}=Object(a.c)((e=>{var t;return Object(b.kd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:G,favouriteNameMinLength:q}=Object(a.c)((e=>Object(b.jd)(e.tenantReducer))),{tenantId:Y}=Object(a.c)((e=>Object(b.kd)(e.tenantReducer))),[z,K]=Object(i.useState)(!1),[J,X]=Object(i.useState)(!1),[$,Z]=Object(i.useState)(""),{FavoriteActiveWhite:Q}=v.a,ee=Object(j.jsx)(u.a,{srcFile:Q}),te=Object(n.translateWithI18Next)(s.a.FAVORITE_ORDER_NAME_EDITED),oe=Object(b.Tc)(N,"occassion-modal","OccassionModal"),ie=Object(b.Tc)(N,"edit-modal",""),{NAME_EXIST:ae,OCCASION_NAME_VALIDATION:de,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:le,OCCASION_NAME_LENGTH_ERROR:re}=s.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(i.useEffect)((()=>{k(x),w(x)}),[g]),Object(i.useEffect)((()=>{L&&Object(b.db)(!z,!J)&&(null===L||void 0===L?void 0:L.length)>=q?B(!1):B(!0)}),[L,z,J]);const ne=Object(b.Tc)(N,(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===P||void 0===P?void 0:P.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),i=null===G||void 0===G?void 0:G.test(L);let a=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.fb)(!i,0===a))K(!0);else if(i&&t>=0&&F!==L)X(!0),K(!1);else{const e={tenantId:Y,customerId:U,phoneNumber:Object(b.Ic)(V)},t={orderId:o,name:L};_(Object(r.a)(e,t)),m(""),ce(),Object(b.qf)(te,ee,"favorites-added-toast"),setTimeout((()=>{d.b.dismiss()}),3e3)}}),(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===P||void 0===P?void 0:P.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=null===G||void 0===G?void 0:G.test(L);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.fb)(!o,0===i))K(!0);else if(o&&t>=0)X(!0),K(!1);else{const{id:e}=E;_(Object(r.a)({customerId:U,tenantId:Y,phoneNumber:Object(b.Ic)(V)},{orderId:e,name:L})),Object(b.db)(g,S)&&S({saveFavoriteSummarySucess:!0}),ce(),Object(b.qf)(I,ee,"favorites-added-toast"),setTimeout((()=>{d.b.dismiss()}),3e3);const t=[],o={userType:Object(b.gd)(null===A||void 0===A?void 0:A.localized,null===A||void 0===A?void 0:A.loggedIn),coupon:(null===y||void 0===y?void 0:y.discountLines)||"NA",value:((null===y||void 0===y?void 0:y.total)/C).toFixed(2),currency:D},i=(null===y||void 0===y?void 0:y.orderedItemDetails)||(null===y||void 0===y?void 0:y.filteredFoodLines);null===i||void 0===i||i.forEach(((e,o)=>{var a,d,l,r,n,s,c,u,v,O,b,m;const{categoryId:j="NA",categoryName:h="NA"}=null!==(a=null===R||void 0===R?void 0:R[null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id])&&void 0!==a?a:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.name)||"NA",item_id:void 0!==(null===y||void 0===y?void 0:y.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.id,price:Number(((null===e||void 0===e?void 0:e.amount)/C).toFixed(2))||0,item_category:""!==h?(null===(n=i[o])||void 0===n?void 0:n.categoryUrl)||(null===(s=i[o])||void 0===s||null===(c=s.item)||void 0===c?void 0:c.categoryUrl):h,item_list_name:""!==h?(null===(u=i[o])||void 0===u?void 0:u.categoryUrl)||(null===(v=i[o])||void 0===v||null===(O=v.item)||void 0===O?void 0:O.categoryUrl):h,item_list_id:void 0!==(null===y||void 0===y?void 0:y.orderedItemDetails)?""!==j?null===(b=i[o])||void 0===b?void 0:b.id:j:null===e||void 0===e||null===(m=e.item)||void 0===m?void 0:m.id,index:o,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(O.i)(t,o)}}));Object(i.useEffect)((()=>{const e=[];null===W||void 0===W||W.map((t=>{var o,i;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(o=t.name)||void 0===o||null===(i=o.toUpperCase())||void 0===i?void 0:i.trim())})),H(e),o&&(K(!1),X(!1))}),[o]);const se={id:"occassion-modal",role:"dialog",modalTitleId:oe,show:g,classNames:"Base-modal ".concat(Object(b.Tc)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>ce(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},ce=Object(b.Tc)(N,(()=>{X(!1),K(!1),p(!1)}),(()=>{p(!1)}));return Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(b.Ic)(o),updateUserData:!0};i(Object(l.d)(a))}})(Y,U,V,_)}),[_,Y,U,V]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(c.a,{...se,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(h,{onCancel:ce,setOccasionNameHandler:(e,t)=>{var o;const i=null===e||void 0===e||null===(o=e.target)||void 0===o?void 0:o.value,a=null===P||void 0===P?void 0:P.includes(null===i||void 0===i?void 0:i.toUpperCase()),d=null===G||void 0===G?void 0:G.test(i),l=(null===i||void 0===i?void 0:i.length)<3;let r="";""!==i&&(l&&!d?r=le:l?r=re:d?a&&(r=ae):r=de),B(!!r),K(!!r),X(r===ae),Z(r),f(i),w(i)},updateFavouriteOrder:ne,occasionName:L,isNameExist:J,isInValid:z,onClearTextHandler:()=>{f(""),w(""),X(!1),K(!1)},disaableButton:M,isEditOrderName:N,editFavHeading:N,"data-testid":ie,isAddFavOrderBox:T,errorMessage:$})})})})})})}},1006:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var i=o(3),a=o.n(i),d=o(6),l=o(36),r=o(996),n=o(4),s=o(43),c=o(15),u=(o(1015),o(2));const{Error:v}=c.a,O=e=>{const{showConfirmBtn:t=!1,onClickHandler:o}=e,{CONFIRM_BTN_TEXT:i}=n.a;return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(r.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(l.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:o,children:Object(d.translateWithI18Next)(i)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(s.a,{srcFile:v,className:"location-alert-icon"})})]})},b=a.a.memo(O)},1007:function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var i=o(3),a=o.n(i),d=o(6),l=o(212),r=o(43),n=o(216),s=o(318),c=o(15),u=o(2);const{LocationImage:v}=c.a,O=e=>{const{loggedIn:t=!1,formContent:o={},useCurrentLocation:i,storeSelection:a,hideLocationLink:c,showLocationConfirmModal:O}=e,{signInLink:b,useMyLocation:m}=a,{memberText:j="",singInLink:h={},currentLocationText:g=""}=o;return Object(u.jsxs)("div",{className:"login-section",children:[b&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(n.f)(j,s.R,h)}),m&&Object(u.jsx)("span",{className:"".concat(O?"disable-location-link":""),children:Object(u.jsxs)(l.a,{onClickHandler:i,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(r.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(d.translateWithI18Next)(g)]})})]})},b=a.a.memo(O)},1008:function(e,t,o){"use strict";var i=o(5),a=o(3),d=o(1013),l=o(43),r=o(981),n=o(111),s=o(15),c=o(0),u=o(25),v=o(2);const{UseLocationIcon:O}=s.a,b=e=>{var t,o,s,b,m;const{eligibleStores:j,loggedIn:h,defaultStoreId:g,selectedCoords:p,passAddress:E,configSearchKey:I,useCurrentLocation:N,showLocationConfirmModal:x,findAKFC:f,favouriteStores:T,useLatLngForReverseGeocode:S,disableMapSelection:A=!1,disableUseLocationIcon:D=!1,markerDragValue:C=!1,zoomLevel:y=12}=e,R=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:_,countryCode:L}=R,w=null===R||void 0===R||null===(t=R.componentOptions)||void 0===t||null===(o=t.web)||void 0===o||null===(s=o.dispositionConfig)||void 0===s?void 0:s.showLabelOnMapPin,F=null===_||void 0===_||null===(b=_.web)||void 0===b?void 0:b.dispositionConfig,{shouldShowStoresLocation:k,shouldShowStoreCardsMap:M,shouldShowMarkerWithText:B,shouldIgnoreStoreList:P,storeOpenBtnText:H}={...null===n.d||void 0===n.d?void 0:n.d[I],...null===F||void 0===F?void 0:F[I]},[W,U]=Object(a.useState)(Object(i.Ud)(window.innerWidth)),[V,G]=Object(a.useState)(g),[q,Y]=Object(a.useState)({storeDetails:{},storeIndex:0}),[z,K]=Object(a.useState)([]),[J,X]=Object(a.useState)(!0),[$,Z]=Object(a.useState)(200),[Q,ee]=Object(a.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,Y({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),X(Boolean(null===j||void 0===j?void 0:j.length))},oe=()=>{var e,t;const o=Object(i.Ud)(window.innerWidth);U(o);const a=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,d=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let l=.9*(d-a);if(o){var r,n;l=d-a-(null===(r=document.getElementById("store-card-".concat(null===q||void 0===q||null===(n=q.storeDetails)||void 0===n?void 0:n.id)))||void 0===r?void 0:r.clientHeight)}ee(l)};Object(a.useEffect)((()=>(window.addEventListener("resize",oe),()=>{window.removeEventListener("resize",oe)})),[W]),Object(a.useEffect)((()=>{te(V)}),[V,T]),Object(a.useEffect)((()=>{j.length>0&&te(V)}),[j,V]),Object(a.useEffect)((()=>{const e=c.cd[L]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let o=null!==p&&void 0!==p&&p.lat?p:e;null!==t&&void 0!==t&&t.length?K(t):K(o)}),[T,V,j]),Object(a.useEffect)((()=>{var e,t;const o=null===(e=document.getElementById("store-card-".concat(null===q||void 0===q||null===(t=q.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;o&&Z(o)}),[null===q||void 0===q||null===(m=q.storeDetails)||void 0===m?void 0:m.id]),Object(a.useEffect)((()=>{oe()}),[]);const ie=Object(i.xe)(J,M);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(A&&"block-map"),children:[Object(v.jsxs)("div",{className:f?"".concat(Object(i.Tc)(ie,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(d.a,{latLongValue:z,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:E,isVisible:k,isMobile:W,centerIndex:null===q||void 0===q?void 0:q.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===q||void 0===q?void 0:q.storeIndex)-1])||void 0===t?void 0:t.id;te(e),G(e)}else if(1===e){var o;const e=null===j||void 0===j||null===(o=j[(null===q||void 0===q?void 0:q.storeIndex)+1])||void 0===o?void 0:o.id;te(e),G(e)}},setShowCard:X,setStoreMarker:e=>{const t=Object(i.U)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),G(null===t||void 0===t?void 0:t.id))},storeCardHeight:$,isMarkerVisible:P||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:B,locationAlertProp:B,style:{height:"".concat(Q,"px")},defaultZoom:y,useLatLngForReverseGeocode:S,markerDragValue:C,showLabelOnMapPin:w}),!D&&Object(v.jsx)("div",{className:"use-location-icon ".concat(x?"disable-location-icon":""),children:Object(v.jsx)(l.a,{srcFile:O,alt:"",onClick:N,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:f?"".concat(Object(i.Tc)(ie,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:ie&&(null===q||void 0===q?void 0:q.storeDetails)&&Object(v.jsx)(r.a,{store:null===q||void 0===q?void 0:q.storeDetails,isMapView:!0,loggedIn:h,centerIndex:null===q||void 0===q?void 0:q.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:f,storeOpenBtnText:H})})]})};b.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=b},1013:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(38),l=o(325),r=o(6),n=o(5),s=o(76),c=o(0),u=o(15),v=o(2);t.a=e=>{const{userOrderState:t}=a.a.useContext(s.a),{dispositionStateData:o={}}=t,{DISPOSITION_TYPE:O}=c.gd,{dispositionType:b=localStorage.getItem(O)}=o,{locationAlertProp:m,negativeScenarioAlertProp:j,isMobile:h,onPositionChangeHandler:g,centerIndex:p,isVisible:E,setShowCard:I,locationAlert:N,setStoreMarker:x=n.L,passAddress:f,storeCardHeight:T,latLongValue:S,isMarkerVisible:A=!0,style:D,defaultZoom:C=10,shouldShowMarkerWithText:y=b!==c.Af,useLatLngForReverseGeocode:R=!1,markerDragValue:_=!1,showLabelOnMapPin:L}=e,{PLACE_PIN:w}=d.a,{RedMarker:F,RedMarkerNoText:k,BlackMarker:M,ArrowIcon:B}=u.a,P=Object(i.useRef)(null),H=Object(i.useRef)(null),W=Object(i.useRef)([]),[U,V]=Object(i.useState)(!1),[G,q]=Object(i.useState)(C),[Y,z]=Object(i.useState)(S),[K,J]=Object(i.useState)(!1),[X,$]=Object(i.useState)(p);Object(i.useEffect)((()=>{H.current=Z(Y),W.current=ee(Y)}),[]),Object(i.useEffect)((()=>{U||z(S)}),[S]),Object(i.useEffect)((()=>{if(W.current&&H.current){const e=H.current,t=W.current;Y.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),W.current=ee(Y)),Array.isArray(Y)&&Y.length>0?(Y.forEach(((e,o)=>{t[o]&&t[o].setPosition(e)})),e.setCenter(Y[p])):(t[0]&&t[0].setPosition(Y),e.setCenter(Y))}}),[Y,p]),Object(i.useEffect)((()=>{if(W.current&&H.current){W.current.forEach(((e,t)=>{t===X?e.setIcon(Q()):e.setIcon(M)}))}}),[X]);const Z=e=>new window.google.maps.Map(P.current,{zoom:G,center:Array.isArray(e)&&e.length>0?e[p]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!h,gestureHandling:"greedy"}),Q=()=>y&&L?F:k,ee=e=>{const t=new window.google.maps.Geocoder;let o=e;const i=H.current;E?(i.addListener("zoom_changed",(()=>{const e=W.current[p];e&&(x(e.internalPosition),I(!0)),J(!0)})),i.addListener("drag",(()=>{J(!0)}))):(i.addListener("drag",(()=>{_||(q(null===i||void 0===i?void 0:i.getZoom()),o={lat:i.getCenter().lat(),lng:i.getCenter().lng()},W.current[0]&&W.current[0].setPosition(o))})),i.addListener("dragend",(function(){_||(q(null===i||void 0===i?void 0:i.getZoom()),te(t,i,o),V(!0))})));let a=(Array.isArray(o)&&o.length>0?o:[o]).map(((e,o)=>{let a=new window.google.maps.Marker({position:e,map:i,draggable:_,visible:A,icon:Object(n.id)(!E,E&&o===X)?Q():M});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){x(e.latLng),$(t),I(!0)}))})(a,o),_&&((e,t,o)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var i,a;let d={lat:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lat(),lng:null===e||void 0===e||null===(a=e.latLng)||void 0===a?void 0:a.lng()};te(o,t,d),V(!0)}))})(a,i,t),a}));return a};function te(e,t,o){e.geocode({location:o},((e,t)=>{if(t===c.Kd){let t=((e,t)=>{let o=[];return e&&(o=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(c.he)}))),Object(n.Id)(o)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(c.he))})):o})(R,e);var i;if(t[0])f(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.formatted_address,o)}}))}const oe=Object(n.xe)(h,!K,A,y);return Object(v.jsxs)(a.a.Fragment,{children:[!m&&((null===b||void 0===b?void 0:b.toUpperCase())!==c.Af||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(n.Tc)(N,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(r.translateWithI18Next)(w)})})),oe&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(n.db)(0===p,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(n.Tc)(0===p,e.preventDefault(),g(0)),children:Object(v.jsx)(l.a,{srcFile:B,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(p===Y.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>p===Y.length-1?e.preventDefault():g(1),children:Object(v.jsx)(l.a,{srcFile:B,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:P,style:{height:"240px",...D}})]})}},1015:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(25),l=o(61),r=o(57),n=o(6),s=o(4),c=o(36),u=o(15),v=o(5),O=o(2);const b=a.a.createRef();var m=e=>{var t;const{onClickHandler:o,currencyConversionFactor:i,isDarkMode:a=!1,dataTestId:l,title:r,onEditOccasionName:c,itemId:m,itemName:j,showContent:h,setCurrentIndex:g,currentIndex:p,index:E}=e,{AccordianArrow:I,AccordianUpArrow:N,AccordianDownDark:x,AccordianUpDark:f}=u.a,T=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:S={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},A=e=>{g(Object(v.Tc)(p!==E,E,null)),!h&&(null===o||void 0===o||o(m,T,S,b.current,i))};return Object(O.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(h?"account-accordian-open":""),ref:b,children:[Object(O.jsxs)("div",{className:"global-accordian-header-container",children:[Object(O.jsx)("span",{className:"global-accordian-header",children:r&&Object(O.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(O.jsx)("span",{className:"order-accordian-heading",children:r}),Object(O.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{c(m,j)},children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.EDIT_FAVORITE_NAME)})]})}),Object(O.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:a?Object(O.jsx)("img",{src:h&&f||x,onClick:A,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(O.jsx)("img",{src:h&&N||I,onClick:A,className:"global-accordian-arrow","data-testid":l,alt:""})})]}),h&&Object(O.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=o(43),h=o(332);o(336);var g=e=>{const{occassionOrder:t,tenantReducer:o,imageContainerSize:i,plpbackgroundImageData:d}=e,{currencySymbol:l,addHope:r,carryBag:n,currencyConversionFactor:s,taxAmountRoundOff:c}=o,{items:u}=t;let b=Object(h.k)(u,r,n);return Object(O.jsx)(a.a.Fragment,{children:null===b||void 0===b?void 0:b.map((e=>{var t;return Object(O.jsx)("div",{className:"account-accordian-details-section",children:Object(O.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(O.jsx)("div",{style:Object(v.ib)(d,i.width,i.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(O.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.lc)(e.content,i.width,i.height),alt:"No-Image",defaultPath:Object(v.Xb)(e.imageName,o,!0)})}),Object(O.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(O.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(O.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.I)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:l,currencyConversionFactor:s},"",c)})]})]})})}))})},p=o(268),E=o(121);var I=e=>{const{onCancelHandler:t,onRemoveHandler:o}=e,{REMOVE:i,CANCEL:a,REMOVE_FROM_FAVMODAL_MSG:d}=s.a;return Object(O.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(O.jsx)("div",{className:"remove-message-section",children:Object(O.jsx)("p",{className:"remove-message",children:Object(n.translateWithI18Next)(d)})}),Object(O.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(O.jsx)(c.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(n.translateWithI18Next)(a)}),Object(O.jsx)(c.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:o,children:Object(n.translateWithI18Next)(i)})]})]})};var N=e=>{const{item:t,setIsModalOpen:o,tenantId:i,customerId:a,currentItemId:l}=e,r=Object(d.b)(),c=Object(O.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),b=Object(n.translateWithI18Next)(s.a.REMOVED_FROM_FAVORDERS),m=()=>{o(!1)},h={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:m,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(O.jsx)("div",{children:Object(O.jsx)(E.a,{...h,children:Object(O.jsx)(I,{onCancelHandler:m,setIsModalOpen:o,onRemoveHandler:e=>{var t,d,n;const s=null===(t=e.target)||void 0===t||null===(d=t.parentElement)||void 0===d||null===(n=d.parentElement)||void 0===n?void 0:n.parentElement;null!==s&&void 0!==s&&s.classList.contains("account-accordian-open")&&(null===s||void 0===s||s.classList.remove("account-accordian-open")),o(!1),(async(e,t,o)=>{await r(Object(p.b)({tenantId:e,customerId:t,itemId:o}))})(i,a,l),Object(v.qf)(b,c,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},x=o(1003),f=o(0),T=o(1004),S=o(76),A=o(14),D=o(9),C=o(49);var y=o(327);const R=(e,t,o,i,a)=>{var d,l,r,n;const{ACCOUNT_FAV_PAGE:s}=y.d;null!==i&&void 0!==i&&null!==(d=i.classList)&&void 0!==d&&d.contains("account-accordian-open")?null===i||void 0===i||null===(l=i.classList)||void 0===l||l.remove("account-accordian-open"):null===i||void 0===i||null===(r=i.classList)||void 0===r||r.add("account-accordian-open");const c=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===c||void 0===c?void 0:c.service;((e,t)=>{var o,i,a;Object(C.p)(null===D.a||void 0===D.a||null===(o=D.a.accountViewFavItemList)||void 0===o?void 0:o.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_id,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,items:e}}})})(null===c||void 0===c||null===(n=c.items)||void 0===n?void 0:n.map(((e,t)=>{var i;const{categoryId:d="NA",categoryName:l="NA"}=null!==(i=null===o||void 0===o?void 0:o[e.id])&&void 0!==i?i:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.fb)(Number(((null===e||void 0===e?void 0:e.price)/a).toFixed(f.dg)),0),item_category:l,item_list_name:s,item_list_id:d,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.fb)(null===c||void 0===c?void 0:c.couponCode,"NA"),discount:Object(v.fb)((null===c||void 0===c?void 0:c.discountTotal)/a,0),currency:f.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:o}=e,a=Object(d.b)(),b=Object(l.g)(),{userOrderState:j,userOrderStateDispatch:h}=Object(i.useContext)(S.a),[p,E]=Object(i.useState)(""),[I,D]=Object(i.useState)(""),y=Object(d.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:_,phone:L}=Object(d.c)((e=>{var t;return Object(v.kd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:w,currencyConversionFactor:F}=Object(d.c)((e=>e.tenantReducer||{})),k=Object(d.c)((e=>e.tenantReducer)),{cartData:M}=Object(d.c)((e=>e.cartReducer||{})),[B,P]=Object(i.useState)(!1),[H,W]=Object(i.useState)(!1),[U,V]=Object(i.useState)(!1),[G,q]=Object(i.useState)(!1),[Y,z]=Object(i.useState)(null),{SingleArrowback:K,FavouriteActiveBlack:J}=u.a,{reorderFlag:{reorderModalOpen:X=!1}}=j,[$,Z]=Object(i.useState)({}),{headerData:{plpBackgroundImage:Q={}}={}}=Object(d.c)((e=>{var t;return Object(v.kd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.hb)(Q),{REORDER_MODAL_OPEN:oe,FROM_REORDER_MODAL_OPEN:ie,REORDER_STORE_CHANGED:ae}=A.a;Object(i.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const de=()=>{h({type:oe,value:{reorderModalOpen:!1}}),h({type:ie,value:{fromReorderFlag:!1}}),h({type:ae,value:{storeChanged:!1}})};Object(i.useEffect)((()=>()=>de()),[]);const le=(e,t)=>{P(!0),e&&(E(e),D(t),W(!1),V(!1))};Object(i.useEffect)((()=>{((e,t,o,i)=>{if(e){const a={customerId:t,tenantId:e,phoneNumber:Object(v.Ic)(o),updateUserData:!0};i(Object(r.d)(a))}})(w,_,L,a)}),[a,w,_,L]);const[re,ne]=Object(i.useState)(null);return Object(O.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(O.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(O.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:K,alt:"back button"}),Object(O.jsx)("span",{className:"account-setting-text-header",children:Object(n.translateWithI18Next)(s.a.FAVOURITES)})]}),Object(O.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(O.jsx)("img",{src:J,className:"account-icon mr-2",alt:""}),Object(O.jsx)("span",{className:"page-heading",children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})]}),!(null!==y&&void 0!==y&&y.length)&&Object(O.jsx)("div",{className:"no-occasion-container",children:Object(O.jsx)("p",{children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),y&&(null===y||void 0===y?void 0:y.map(((t,i)=>Object(O.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(O.jsxs)("section",{children:[Object(O.jsx)("section",{className:"account-accordian",children:Object(O.jsxs)(m,{onClickHandler:R,currencyConversionFactor:F,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:le,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:P,currentIndex:re,setCurrentIndex:ne,index:i,showContent:re===i,children:[Object(O.jsx)(g,{occassionOrder:t,tenantReducer:k,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:o}),Object(O.jsx)("section",{className:"fav-menu-event",children:Object(O.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(O.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(O.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{q(!0),z(null===t||void 0===t?void 0:t.id)},children:Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.REMOVE_FAVOURITES)})}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"global-accordian-right",children:Object(O.jsx)(c.a,{className:"button re-order-btn ".concat(Object(v.yd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var o;Object(v.yd)(null===t||void 0===t?void 0:t.service)?(o={...e,history:b},Object(v.yd)(null===M||void 0===M?void 0:M.service)?Object(v.Fe)(o):h({type:null===f.Ne||void 0===f.Ne?void 0:f.Ne.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===f.Ae||void 0===f.Ae?void 0:f.Ae.CATERING_PAGE,title:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_TITLE,contentMsg:null===s.a||void 0===s.a?void 0:s.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(C.o)(),Z(e),h({type:oe,value:{reorderModalOpen:!0}}),h({type:ie,value:{fromReorderFlag:!0}}),sessionStorage.setItem(f.gd.REORDER_CLICK,!0)})(t)},children:Object(O.jsx)("span",{children:Object(n.translateWithI18Next)(Object(v.yd)(null===t||void 0===t?void 0:t.service)?null===s.a||void 0===s.a?void 0:s.a.EXPLORE_CATERING:null===s.a||void 0===s.a?void 0:s.a.ORDER_AGAIN)})})})]})})]},i)}),G&&Object(O.jsx)(N,{item:t,setIsModalOpen:q,isModalOpen:G,tenantId:w,customerId:_,itemId:null===t||void 0===t?void 0:t.id,currentItemId:Y}),B&&Object(O.jsx)(T.a,{showOccassionModal:B,setOccassionModalOpen:P,occasionName:I,setOccasionName:D,editItemId:p,setEditItemId:E,hasEdit:!0})]})})))),X&&Object(O.jsx)(x.a,{currentOrderInfo:$,reorderModalOpen:X,closeButtonHandler:de,source:f.ve.ACCOUNT_FAVOURITES})]})}},964:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return d}));var i=o(1);function a(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.ik,payload:{data:e,tenantId:t},successCallback:o,errorCallback:a}}function d(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i.dk,menuPayload:e,exclusionPayload:t,successCallback:o}}},980:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(36),l=o(43),r=o(15),n=o(25),s=o(0),c=o(2);const{Error:u}=r.a,v=e=>{const{show:t,errorObj:o,isInProgress:i,comingFrom:r}=e,{firstBtnCTA:v,secondBtnCTA:O,firstBtnText:b,secondBtnText:m,errMsg:j,firstBtnClassName:h=""}=o,g=Object(n.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:i}));return Object(c.jsx)(a.a.Fragment,{children:!g&&(t?Object(c.jsx)("div",{className:"err-container",children:Object(c.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(c.jsx)(l.a,{srcFile:u,className:"location-alert-icon"}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"location-error-message",children:j}),Object(c.jsxs)("div",{className:"location-error-button-section",children:[r!==s.a&&v&&Object(c.jsx)(d.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(h),onClickHandler:e=>v(e),children:b}),O&&Object(c.jsx)(d.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>O(e),children:m})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const O=a.a.memo(v);t.a=O},991:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(6),l=o(212),r=o(43),n=o(15),s=o(5),c=o(4),u=o(2);const v=e=>{const{isAlert:t,show:o,sectionHeader:i,subSectionValue:a,orderTypeChange:v,onClickHandler:O,description:b,storeUnavailableError:m,showChangeButton:j=!0,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",cssSubsection:p,specialNote:E="",dataTestid:I="",elementUniqueLocator:N}=e;return o?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(d.translateWithI18Next)(i)}),Boolean(m)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.Tc)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(r.a,{srcFile:t&&n.a.Error_Yellow||n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(d.translateWithI18Next)(m)}})]}),Boolean(h)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(r.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(p),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:a}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),E&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(d.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",E]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(l.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":N?I:"dynamic-click-test",children:Object(d.translateWithI18Next)(v)})})]})]}):null},O=a.a.memo(v);t.a=O},995:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(6),l=o(15),r=o(4),n=o(43),s=o(2);const{SingleArrowBlackExpand:c,SingleArrowBlack:u}=l.a,{TIME_NOT_AVAILABLE:v}=r.a;var O=e=>{const{cssClass:t,dropdownTitle:o,setSelectedItem:a,selectedItem:r,options:O,dropdownId:b,changeTimeObj:m={},changeDateObj:j={},dateTimeArr:h=[],placeholderText:g,disableOptions:p=!1,enableOrderCapacityManagement:E=!1,shouldDisplayDropdownError:I=!1,errorMessage:N="",dataTestid:x="",elementUniqueLocator:f}=e,T=(null===r||void 0===r?void 0:r.value)||g,[S,A]=Object(i.useState)(!1),{setSelectedTime:D=null,setErrorObj:C={}}=m,{setSelectedDate:y=null,dispositionType:R=""}=j;return Object(i.useEffect)((()=>{const e=e=>{var t,o;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.matches("#".concat(b))||null!==e&&void 0!==e&&null!==(o=e.target)&&void 0!==o&&o.closest("#".concat(b))||A(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[b]),Object(s.jsxs)("div",{className:"custom-dropdown ".concat(t," ").concat(I?"custom-dropdown-error":""),children:[o&&Object(s.jsx)("div",{className:"dropdown-title","aria-level":"1",role:"heading",tabIndex:"0",children:o}),Object(s.jsxs)("div",{id:b,className:"dropdown-value","data-testid":f?x:"dropdown-value-id",role:"listbox",tabIndex:"0",onClick:()=>A(!S),children:[Object(s.jsx)("div",{className:"selected-value",children:T}),!p&&Object(s.jsx)("img",{src:S?c:u,alt:" ",className:"downarrow-imgs"})]}),!p&&S&&Object(s.jsx)("div",{className:"options-container",children:Object(s.jsx)("ul",{children:null===O||void 0===O?void 0:O.map((e=>{let t=null===e||void 0===e?void 0:e.value,o=null!==e&&void 0!==e&&e.disabled||null!==e&&void 0!==e&&e.storeClosed?"disabledOption":"";return"time-id"!==b||!E||null!==e&&void 0!==e&&e.isOrderCapacityAvailable||(t+=" ".concat(Object(d.translateWithI18Next)(v)),o+=" unavailableOption"),Object(s.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),A(!1),"time-id"===b?(!E||E&&null!==t&&void 0!==t&&t.isOrderCapacityAvailable)&&a(t,D,C):a(t,h,y,D,C,R,j,E)})(t,e),className:o,"data-testid":"option-id",children:t},null===e||void 0===e?void 0:e.key)}))})}),I&&Object(s.jsxs)("div",{className:"dropdown-error",children:[Object(s.jsx)(n.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(s.jsx)("div",{className:"dropdown-error-message",children:N})]})]})},b=o(101),m=o(915),j=o(14);const h=e=>{const{show:t,sectionHeader:o,selectedDate:i,selectedTime:a,changeDateValue:c,changeTimeValue:u,dateTimeArr:v,showCateringWarning:h=!1,scheduleTimeWarning:g=!1,scheduleErrMsg:p="",scheduleErrorType:E="",scheduleWarningMsg:I="",changeTimeObj:N={},changeDateObj:x={},placeholderText:f,disableDateOption:T=!1,disableTimeOption:S=!1,enableScheduleOrderFlag:A=!1,enableOrderCapacityManagement:D=!1,orderCapacity:C={},storeId:y="",elementUniqueLocator:R}=e,{SingleArrow:_}=l.a,{DATE:L,TIME:w}=r.a,F=A?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",k=D?Object(b.n)(C,y,i,v):[],M=D?k:null===i||void 0===i?void 0:i.timeSlots;return t?Object(s.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(s.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(d.translateWithI18Next)(o)}),Object(s.jsx)(m.a,{show:null===h||void 0===h?void 0:h.show,errorMsg:null===h||void 0===h?void 0:h.warning,errImage:null===h||void 0===h?void 0:h.image,cssClass:null===h||void 0===h?void 0:h.cssClass}),g&&Object(s.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(s.jsx)(n.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(s.jsx)("div",{className:"storeErrorMessage",children:p})]}),Object(s.jsxs)("div",{className:F,children:[Object(s.jsx)(O,{cssClass:"date-time-dropdown",dropdownTitle:Object(d.translateWithI18Next)(L),setSelectedItem:c,changeDateObj:x,changeTimeObj:N,dateTimeArr:v,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:_,options:Object(b.o)(v),dropdownId:"date-id",disableOptions:T,enableOrderCapacityManagement:D,shouldDisplayDropdownError:g&&I&&E===j.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:I,dataTestid:"schedule-date",elementUniqueLocator:R}),Object(s.jsx)(O,{cssClass:"date-time-dropdown ".concat(D?"date-time-dropdown--order-capacity":""),dropdownTitle:Object(d.translateWithI18Next)(w),setSelectedItem:u,changeDateObj:x,changeTimeObj:N,dateTimeArr:v,selectedItem:a,imgSrc:_,options:M,dropdownId:"time-id",placeholderText:f,disableOptions:S,enableOrderCapacityManagement:D,shouldDisplayDropdownError:g&&I&&E===j.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:I,dataTestid:"schedule-time",elementUniqueLocator:R})]})]}):null},g=a.a.memo(h);t.a=g},996:function(e,t,o){"use strict";o.d(t,"a",(function(){return f}));var i=o(3),a=o.n(i),d=o(6),l=o(266),r=o.n(l),n=o(43),s=o(38),c=o(5),u=o(15),v=o(216),O=o(2);const{GoogleMapLocationImage:b,SuggestionItemSearchPin:m,clearTextIcon:j,Time_Clock:h}=u.a,{SUUGESTED_ITEMS_TEXT:g,ALLOWED_SUGGESTION_LIST:p,SUGGESTION_ACTIVE_COLOR:E,SUGGESTION_ACTIVE_OPACITY:I,BRAND_BLACK:N}=s.a,x=e=>{const{currentMarket:t,placeholder:o,storeSelection:i={},address:l,inputOnChange:s,handleSelectAddress:u,onSearchError:p,locationAlert:E,negativeScenarioAlert:I,inputRef:N,keyPress:x,onClearTextHandler:f,showAutoSuggestion:T,alreadySearched:S,setSuggestedAddress:A,filteredTypes:D,maxLength:C,filterConditions:y,isAddressNotChangable:R}=e,{placesSearchInput:_=!0}=i;return Object(O.jsx)("div",{className:"search-delivery-address",children:Object(O.jsx)("div",{className:"input-delivery-address",children:Object(O.jsx)(r.a,{value:l,onChange:s,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:D},shouldFetchSuggestions:!0,onError:p,children:e=>{let{getInputProps:t,suggestions:i,getSuggestionItemProps:r,loading:s}=e;return Object(O.jsx)("div",{children:_&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(n.a,{"data-testid":"",srcFile:b,alt:" ",className:"google-location-img"}),Object(O.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:C,className:"".concat(Object(c.Tc)(Object(c.id)(E,I),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:o,ref:N}),onKeyUp:x,disabled:R}),l&&!R&&Object(O.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:f}),Object(c.db)(Object(c.kc)(i),T)?Object(O.jsx)("div",{className:"suggestion-list",children:Object(v.d)(i,y).map(((e,t)=>(null===A||void 0===A||A(i),Object(O.jsxs)(a.a.Fragment,{children:[0===t&&Object(O.jsx)("div",{className:"suggestion-items suggest-text",children:Object(d.translateWithI18Next)(g)}),Object(O.jsx)("div",{className:"suggestion-item-container",children:Object(O.jsx)("div",{...r(e,{className:"suggestion-items"}),children:Object(O.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(O.jsx)("div",{children:Object(O.jsx)(n.a,{"data-testid":"",srcFile:Object(c.Tc)(S(e.description),h,m),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(O.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},f=a.a.memo(x)},997:function(e,t,o){"use strict";var i=o(3),a=o.n(i),d=o(25),l=o(36),r=o(6),n=o(4),s=o(318),c=o(76),u=o(38),v=o(69),O=o(110),b=o(2);const{SAVED_ADDRESS:m,START_ORDER:j,SAVED_ADDRESSES:h}=n.a,{SAVED_ADDRESS_LIMIT:g}=u.a,p=e=>{var t;const o=Object(O.a)(),{handleSelectAddress:a,savedAddresses:n=[],show:u,scheduleOrderDateFormat:p}=e,E=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),I=null===E||void 0===E||null===(t=E.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:N}=Object(i.useContext)(c.a),x=null===n||void 0===n?void 0:n.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,g),f=(null===n||void 0===n?void 0:n.length)>1?Object(r.translateWithI18Next)(h):Object(r.translateWithI18Next)(m),T=(null===n||void 0===n?void 0:n.length)>g?g:n.length;return u&&Object(b.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(b.jsx)("div",{className:"savedAddress-store-count",children:Object(b.jsx)("span",{className:"saved-address-count-title",children:"".concat(f," (").concat(T,")")})}),null===x||void 0===x?void 0:x.map(((e,t)=>{var i,d;return Object(b.jsx)("div",{className:"savedAddress-module-card",children:Object(b.jsxs)("div",{className:"inside-card",children:[Object(b.jsxs)("div",{className:"address-section",children:[Object(b.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),I&&Object(b.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e||null===(i=e.addressLines)||void 0===i||null===(d=i.filter(Boolean))||void 0===d?void 0:d.join(" ")," "]})}),!I&&Object(b.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(b.jsxs)("span",{children:[" ",Object(s.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(s.U)(e,N,a,o,v.d,p),"data-testid":"saved-start-order-click-test",children:Object(r.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},E=a.a.memo(p);t.a=E}}]);