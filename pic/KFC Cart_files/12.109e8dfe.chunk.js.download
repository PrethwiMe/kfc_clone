(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[12],{1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(25),o=n(1);var c=n(5),s=n(22),l=n(15),d=n(2);const r=e=>{const{smartBannerData:t,showBanner:n}=Object(i.c)((e=>{var t,n,a;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.smartBanner)||null,showBanner:(null===e||void 0===e||null===(a=e.splashLoaderReducer)||void 0===a?void 0:a.showSmartBanner)||null}})),{BannerCloseButton:r}=l.a,{bannerImage:u={}}=t||{},[O,b]=Object(a.useState)(Object(c.Ud)(window.innerWidth)),v=Object(i.b)(),j=()=>{const e=Object(c.Ud)(window.innerWidth);b(e)};Object(a.useEffect)((()=>{window.addEventListener("resize",j)}),[O]);const h=()=>{var e;v((e=!1,{type:o.Gl,showSmartBanner:e}))};return O?(()=>{var e,a,i;return Object(d.jsx)(d.Fragment,{children:n&&s.b.isBrowser&&Object(c.Kd)(u)&&Object(d.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(d.jsx)("img",{src:r,alt:"closeButton",className:"close-button",onClick:h,"data-testid":"close-banner"}),Object(d.jsx)("img",{src:null===u||void 0===u||null===(e=u.fields)||void 0===e||null===(a=e.file)||void 0===a?void 0:a.url,alt:null===u||void 0===u||null===(i=u.fields)||void 0===i?void 0:i.title,className:"banner-image",useMap:"#areaClickable"}),Object(d.jsx)("map",{name:"areaClickable",children:Object(d.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===t||void 0===t?void 0:t.url,"data-testid":"install-button",alt:"Install Button"})})]})})})():null}},381:function(e,t,n){"use strict";n.r(t),n.d(t,"hideNeedHelpModalCheck",(function(){return I}));var a=n(3),i=n(61),o=n(912),c=n(25),s=n(5),l=n(1032),d=n(979),r=n(932),u=n(76),O=n(62),b=n(344),v=n(22),j=n(113),h=n(0),p=n(13),S=n(12),m=n(173),A=n(279),E=n(920),D=n(129),R=n(215),T=n(2);const I=(e,t,n)=>{var a;return(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.pathname)===h.Ae.PAYMENT_FAILURE&&n(t||Object(R.X)()||Object(R.T)())};t.default=e=>{var t,n,N;let{children:w}=e;const[f,C]=Object(a.useState)(!0),[g,_]=Object(a.useState)(!1),[P,k]=Object(a.useState)(!1),[L,x]=Object(a.useState)(!1),[H,F]=Object(a.useState)(!1),[M,y]=Object(a.useState)(!0),[U,G]=Object(a.useState)(!1),[B,W]=Object(a.useState)(!0),[K,z]=Object(a.useState)(!1),[X,Y]=Object(a.useState)(!1),[V,J]=Object(a.useState)(Object(s.Vd)(window.innerWidth)),[Q,q]=Object(a.useState)(!1),[Z,$]=Object(a.useState)(!1),[ee,te]=Object(a.useState)(!1),[ne,ae]=Object(a.useState)(!1),[ie,oe]=Object(a.useState)(!1),ce=Object(i.g)(),se=Object(c.b)(),{userOrderState:{hideDispositionBar:le=!1,hideAccountPageHeaders:de=!1,cmsInitialized:re,isPdpPageActive:ue}}=Object(a.useContext)(u.a),{postOrderReducer:Oe}=Object(c.c)((e=>e)),{isWicodeFinaliseFailed:be=!1}=Object(s.fc)(Oe),ve=Object(a.useCallback)((e=>{if(C(!1),_(!1),y(!1),k(!1),x(!1),F(!1),G(!1),W(!1),Y(!1),z(!1),q(!1),$(!1),ae(!1),te(!1),Object(s.zd)({pathname:e}))C(!1),y(!1),W(!1),te(!1);else if(null!==e&&void 0!==e&&e.includes(h.Ae.MENU_PAGE))C(!0),_(!1),y(!0),k(!1),x(!1),F(!0),G(!0),W(!0),Y(!1),z(!1),q(!1),$(!1),ae(!1),te(!1);else if(null!==e&&void 0!==e&&e.includes(h.Ae.CATERING_PAGE))C(!0),_(!1),y(!0),k(!1),x(!1),F(!0),G(!0),W(!0),z(!1),Y(!0),q(!1),$(!1),ae(!1),te(!1);else switch(e){case h.Ae.CONTACT_KFC:C(!0),y(!0),W(!0),te(!1);break;case h.Ae.ORDER_STATUS_TRACKING:C(!1),_(!1),y(!1),k(!1),x(!1),F(!1),G(!1),W(!1),Y(!1),z(!1),q(!1),$(!1),ae(!1),te(!1);break;case h.Ae.CHECKOUT:case h.Ae.ERROR_SCREEN:C(!1),_(!1),y(!1),k(!0),x(!0),F(!1),G(!1),W(!1),Y(!1),z(!1),q(!0),$(!0),ae(!1),te(!1);break;case h.Ae.ORDER_SUMMARY:C(Object(R.X)()),_(!1),y(!1),k(!Object(R.X)()),x(!1),F(!1),G(!1),W(!0),Y(!1),z(!Object(R.X)()),q(!Object(R.X)()),$(!Object(R.X)()),ae(!1),te(!1);break;case h.Ae.ORDER_PROCESSING:case h.Ae.PAYMENT_SUCCESS:case h.Ae.PAYMENT_FAILURE:case h.Ae.PAYMENT_STATUS_CHECK:case h.Ae.ACTIVE_ORDERS:C(!1),y(!1),k(!0),x(Object(R.j)()),_(!1),F(!1),G(!1),W(!0),Y(!1),z(!1),q(!Object(R.T)()),$(!Object(R.X)()&&!Object(R.T)()),ae(Object(R.j)()||Object(R.X)()||Object(R.T)()),I(ce,be,te);break;case h.Ae.PROCESSING:C(!1),y(!1),k(!0),x(Object(R.j)()),_(!0),F(!1),G(!1),W(!0),Y(!1),z(!1),q(!Object(R.T)()),$(!Object(R.X)()&&!Object(R.T)()),ae(Object(R.j)()||Object(R.X)()||Object(R.T)()),I(ce,be,te);break;case h.Ae.HOME_PAGE:case h.Ae.QR_HOMEPAGE:C(!0),y(!0),_(!1),k(!1),x(!1),F(!0),G(!0),W(!0),Y(!1),z(!1),q(!1),$(!1),ae(!1),te(!1);break;case Object(p.a)(S.ib):C(!1),y(!1),_(!1),k(!1),x(!1),F(!1),G(!1),W(!1),Y(!1),z(!1),q(!1),$(!1),ae(!1),te(!1);break;case h.Ae.ADD_HOPE:case h.Ae.ADD_HOPE_THANK_YOU:k(!0),_(!1),x(!0),W(!0),q(!1),$(!1),ae(!0),te(!1);break;case h.Ae.ADD_NEW_CARD:k(!0),x(!1),_(!1),W(!1),q(!0),$(!0),ae(!0),y(!1);break;case h.Ae.GIFT_CARD:C(!0),y(!1),W(!0);break;case h.Ae.OTPSCREEN:C(!1),_(!1),y(!1),k(!0),x(!1),F(!1),G(!1),W(!1),Y(!1),z(!1),q(!0),$(!1),ae(!1),te(!1),oe(!0);break;default:C(!0),y(!le),k(!1),x(!1),F(!1),_(!1),G(!0),W(!0),z(!1),Y(!1),q(!1),$(!1),ae(!1),te(!1)}}),[le]),{headerData:{header:je={},showTimeslot:he,footer:pe={}}={}}=Object(c.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),Se=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),me=Object(c.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Ae=Object(c.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t?void 0:t.response)||{}})),Ee=Object(s.cc)(je),De=Object(s.Sb)(pe),Re=Object(a.useMemo)((()=>Object(s.bc)(Ae)),[Ae]),Te=Object(c.c)((e=>{var t,n;return null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.homeContentfulResp})),Ie=Object(c.c)((e=>{var t;return null===e||void 0===e||null===(t=e.offlineCouponsReducer)||void 0===t?void 0:t.showOfflineContent})),Ne=Object(i.h)(),we=Object(s.Wd)(Ne.search),fe=null===(t=new URLSearchParams(window.location.search))||void 0===t?void 0:t.get("lang");fe?document.documentElement.setAttribute("lang",Object(s.cd)({language:fe})):document.documentElement.setAttribute("lang",null===(n=Object(s.cd)())||void 0===n?void 0:n.slice(0,2)),Object(a.useEffect)((()=>{se(Object(b.a)({object:Object(O.a)(),contentFull:{content_type:"marketConfig","fields.channel":v.b.channel,include:5}})),se(Object(j.c)({object:Object(O.a)(),contentFull:{content_type:"landingPage","fields.channel":v.b.channel,include:"5"},userParams:Se}))}),[se,re,Se]),Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(s.Vd)(window.innerWidth);J(e)}))}),[V]),Object(a.useEffect)((()=>{const e=ce.listen((e=>{ve(null===e||void 0===e?void 0:e.pathname)})),t=ce.location.pathname;return ve(t),e}),[ve,ce]),Object(a.useEffect)((()=>{I(ce,be,te)}),[be,null===ce||void 0===ce||null===(N=ce.location)||void 0===N?void 0:N.pathname]);const Ce=()=>{const e=null===Te||void 0===Te?void 0:Te.filter((e=>{var t,n;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(n=t.title)||void 0===n?void 0:n.toUpperCase())===h.Me}));if(null!==e&&void 0!==e&&e.length){const t=Object(s.Jc)({setLocationBanner:e});return Object(T.jsx)(d.a,{setLocationdata:t})}},{DISPOSITION:ge,PDP_DISPOSITION:_e,CATERING_DISPOSITION:Pe}=null!==A.a&&void 0!==A.a?A.a:{},ke=Object(a.useMemo)((()=>ue?null===Re||void 0===Re?void 0:Re[_e]:X?null===Re||void 0===Re?void 0:Re[Pe]:null===Re||void 0===Re?void 0:Re[ge]),[ge,_e,Pe,ue,Re,X]);return Object(T.jsxs)(T.Fragment,{children:[H?Object(T.jsx)(l.a,{}):null,!we&&(!V||window.location.pathname!==h.Ae.NUTRITION_ALLERGEN)&&U&&Ce(),!we&&Object(T.jsxs)("div",{id:de?"header-container-hidden":"header-container",children:[Ee&&f?Object(T.jsx)(o.a,{contentData:Ee,tenantReducerData:me}):null,Ee&&P?Object(T.jsx)(o.b,{contentData:Ee,checkoutHeader:L,showOrderSummaryHeader:K,showBackToCart:Q,showNeedHelp:Z,showMobileKfcLogo:ne,hideNeedHelpModal:ee,showSavedPaymentTextInHeader:g,showBack:ie}):null,V&&window.location.pathname===h.Ae.NUTRITION_ALLERGEN&&U&&Ce(),!Ie&&Object(T.jsx)(r.a,{contentData:{segmentedHomePageData:null!==ke&&void 0!==ke?ke:{},contentDispositionData:null!==ke&&void 0!==ke?ke:{}},showCateringDisposition:Object(D.b)(ce.location.pathname),userParams:Se,showHeader:M,hideTimeslot:(null===he||void 0===he?void 0:he.toUpperCase())===m.a.STRING_NO})]}),w,Object(s.Kd)(De)&&!we&&B?Object(T.jsx)(E.a,{history:ce,contentData:De,tenantReducerData:me}):null]})}},912:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var a=n(171),i=n(2);const o=e=>Object(i.jsx)(a.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),c=e=>Object(i.jsx)(a.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},979:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(3),i=n(25),o=n(37),c=n.n(o),s=n(43),l=n(36),d=n(0),r=n(76),u=n(5),O=n(63),b=n(155),v=n(22),j=n(935),h=n(30),p=n(97),S=n(14);const m=(e,t,n,a)=>{const i={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:v.b.channel,service:t}))),store:e,tenantId:a,setStatusFlag:!1,isFavoritePage:!1};n(Object(O.d)(i))},A=e=>{const{storesWithStatus:t,dispositionNew:n,setAutoDetectFlow:a,activeDisposition:i,userOrderState:o,profileReducer:c,dispatch:s,tenantId:l,userOrderStateDispatch:r,userParams:O,tenantReducer:b,SetLocationClickHandler:v}=e,m=null===O||void 0===O?void 0:O.localized,A=null===t||void 0===t?void 0:t.filter((e=>{var t,n,a,i,o,c,s,l,r,u,O,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(n=e.location)||void 0===n?void 0:n.longitude)&&(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===d.Nd&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(c=o.menu)||void 0===c||null===(s=c.catalogs)||void 0===s?void 0:s.length)&&(null===e||void 0===e||null===(l=e.summary)||void 0===l||null===(r=l.timings)||void 0===r||null===(u=r.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(O=e.summary)||void 0===O||null===(b=O.timings)||void 0===b?void 0:b.asap)}));(null===A||void 0===A?void 0:A.length)>0?m?n&&a(!1):((async e=>{var t;let{finalStore:n,dispositionNew:a,activeDisposition:i,userOrderState:o,profileReducer:c,dispatch:s,tenantId:l,userOrderStateDispatch:r,userParams:O,tenantReducer:b,setAutoDetectFlow:v}=e,S={time:d.s,interval:null===(t=n.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:d.s},m=await Object(u.z)(n,Object(u.Ib)(i),null===c||void 0===c?void 0:c.customerId,S);s(Object(h.f)({data:m,tenantId:l})),Object(j.i)(a,r,o,i,n,S);let A=n||null;s(Object(p.a)({...O,localized:!0})),Object(j.j)(r,i,S,A,b),v(!1),Object(u.if)()})({finalStore:A[0],dispositionNew:n,activeDisposition:i,userOrderState:o,profileReducer:c,dispatch:s,tenantId:l,userOrderStateDispatch:r,userParams:O,tenantReducer:b,setAutoDetectFlow:a}),r({type:S.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(a(!1),v())};var E=n(38),D=n(4),R=n(6),T=n(49),I=n(111),N=n(217),w=n(2);const f=e=>{var t,n,o,h,p;const{setLocationdata:f=[]}=e,{srcFile:C,locationMap:g,buttonText:_,textDescription:P}=f,{userOrderState:k,userOrderStateDispatch:L}=Object(a.useContext)(r.a),[x,H]=Object(a.useState)(Object(u.Vd)(window.innerWidth)),F=Object(i.b)(),[M,y]=Object(a.useState)(""),[U,G]=Object(a.useState)(!1),[B,W]=Object(a.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:K,PICK_UP:z,GRANTED:X}=N.a,{profileReducer:Y,tenantReducer:V,storesReducer:J,appStateReducer:Q}=Object(i.c)((e=>e)),{storesWithStatus:q,storesSatusError:Z,count:$}=J,{allStores:ee=[],currentCount:te=0}=Object(i.c)((e=>e.allStoresReducer))||{},{storeSearch:ne={},tenantId:ae}=V,ie=null===V||void 0===V||null===(t=V.componentOptions)||void 0===t||null===(n=t.web)||void 0===n||null===(o=n.dispositionConfig)||void 0===o?void 0:o.enableAutoSetLocation;let oe=Q.userStatus;const{maxDriveTimeMins:ce,distanceMetrics:se,geohashprecision:le,boundingBoxSizeMeters:de,boundingBoxSizeDivider:re}=ne;let ue=null===k||void 0===k?void 0:k.dispositionNew;if(!ue){const e=localStorage.getItem(d.Hb);ue=JSON.parse(e)}const Oe=Object(i.c)((e=>({marketPageContent:c()(e,"marketConfigReducer.response",null)}))),be=null===Oe||void 0===Oe||null===(h=Oe.marketPageContent)||void 0===h||null===(p=h.headerData)||void 0===p?void 0:p.autodetectDistance,ve=()=>{F(Object(O.u)()),Object(T.o)(),L({type:S.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),L({type:S.a.SEARCH_ORDER_DATA,value:{showSearchStore:B}}),L({type:S.a.DISPOSITION_DATA,value:{showDisposition:!0}}),L({type:S.a.DISPOSITION_METHOD,value:{dispositionType:d.Jb.PICKUP}}),L({type:E.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(d.gd.CONFIG_SEARCH_SCREEN,I.a)};Object(a.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.Vd)(window.innerWidth);H(e)}))}),[x]);const je=Object(a.useCallback)((async()=>{if(await Object(j.g)()){const{longitude:e=0,latitude:t=0}=null===v.b||void 0===v.b?void 0:v.b.coordinates;((e,t,n,a,i,o)=>{const c={lat:e,lon:t,distanceFromCurrentLoc:n/a,geohashprecision:i},s=null===b.a||void 0===b.a?void 0:b.a.calculateGH(c);o(Object(O.v)(null===s||void 0===s?void 0:s.length))})(t,e,de,re,le,F),Object(u.pe)(null===v.b||void 0===v.b?void 0:v.b.address,E.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(a.useEffect)((()=>{if(U&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:n,dispositionType:a,setActiveDisposition:i,distanceMetrics:o,maxDriveTimeMins:c,dispatch:s,tenantId:l,SetLocationClickHandler:d}=e;i(a);const r=Object(j.a)(t),u={stores:r,disposition:a,distanceMetrics:o,driveTime:c,distanceInMtrs:n,noOfStores:r.length,channel:v.b.channel},O=null===b.a||void 0===b.a?void 0:b.a.checkAndProceed(u);null!==O&&void 0!==O&&O.length?m(O,a,s,l):d()})({allStores:ee,maxDistance:be,dispositionType:z,setActiveDisposition:y,distanceMetrics:se,maxDriveTimeMins:ce,dispatch:F,tenantId:ae,SetLocationClickHandler:ve})}}),[ee,te]),Object(a.useEffect)((()=>{const e={storesWithStatus:q,dispositionNew:ue,setAutoDetectFlow:G,activeDisposition:M,userOrderState:k,profileReducer:Y,dispatch:F,tenantId:ae,userOrderStateDispatch:L,userParams:oe,tenantReducer:V,SetLocationClickHandler:ve};U&&(null===q||void 0===q?void 0:q.length)>0&&A(e)}),[q,Z]),Object(w.jsx)(w.Fragment,{children:Object(u.Kd)(f)&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===d.Ae.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(w.jsx)(s.a,{"data-testid":"",srcFile:C,alt:g,className:"google-location-img"}),Object(w.jsx)("div",{className:"setLocationText",children:P}),Object(w.jsx)(l.c,{variant:l.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:ie?()=>{var e,t,n;F(Object(O.u)()),Object(T.o)(),W(!0),L({type:K,value:{autoDetectionClicked:!0}}),L({type:S.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(d.gd.CONFIG_SEARCH_SCREEN,I.a),G(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(n=t.geolocation)||void 0===n||n.getCurrentPosition((()=>{F(Object(O.p)(X)),(async()=>{await je()})()}))}:ve,children:x&&window.location.pathname===d.Ae.NUTRITION_ALLERGEN?Object(R.translateWithI18Next)(null===D.a||void 0===D.a?void 0:D.a.SET_YOUR_LOCATION):_}),x&&window.location.pathname===d.Ae.NUTRITION_ALLERGEN?Object(w.jsx)("span",{className:"arrow_white"}):""]}),Object(w.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}}}]);