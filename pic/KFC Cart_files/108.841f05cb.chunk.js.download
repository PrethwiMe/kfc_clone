(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[108],{813:function(e,t,o){"use strict";o.r(t),o.d(t,"ScheduleOrder",(function(){return O}));var i=o(3),l=o.n(i),a=o(936),n=o(121),r=o(2);var s=e=>{const{handleClose:t,ScheduleOrderForm:o,headerText:i,modalTitleId:a="",handleGoBack:s}=e;return Object(r.jsx)(l.a.Fragment,{children:Object(r.jsx)(n.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:a,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:i,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:s,children:o})})},d=o(76),c=o(14),v=o(6),u=o(4);const O=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:o,userOrderStateDispatch:l}=Object(i.useContext)(d.a),{SEARCH_ORDER_DATA:n,SCHEDULE_ORDER_DATA:O}=c.a,{scheduleOrderData:b}=o,{changeFlow:m=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),l({type:O,value:{selectedStoreInfo:o.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),l({type:n,value:{showSearchStore:!1}})};Object(i.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const h=Object(r.jsx)(a.a,{onStoreSelectFinish:t});return Object(r.jsx)(s,{handleGoBack:()=>{l({type:n,value:{showSearchStore:!0}}),l({type:O,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:h,modalTitleId:"schedule-order",headerText:m?Object(v.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SCHEDULE_ORDER):Object(v.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.CHANGE_ORDER_TITLE)})};t.default=O},936:function(e,t,o){"use strict";o.d(t,"b",(function(){return X}));var i=o(3),l=o.n(i),a=o(975),n=o.n(a),r=o(317),s=o(326),d=o(212),c=o(76),v=o(14),u=o(101),O=o(25),b=o(63),m=o(11),j=o(5),h=o(61),p=o(97),S=o(128),I=o(43),g=o(6),f=o(4),N=o(30),T=o(22),D=o(93),E=o(0),y=o(318),A=o(335),w=(o(974),o(15)),x=o(49),C=o(2);const{ORDER_TYPE:R,YOUR_KFC_RESTAURANT:_,YOUR_LOCATION:L,EDIT:Y,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:P,TIME:W,CONFIRM_BTN_TEXT:k,DELIVERY_UNAVAILABLE_ERROR:H,SWITCH_TO_TAKEAWAY_TEXT:F,ERROR_MESSAGE_IN_ACTIVE:J,DELIVERY_PICKUP_MESSAGE:U,ERROR_MESSAGE_CLOSED:B,SCHEDULE_ORDER:K,CHANGE_ORDER_TITLE:V,ASAP_SERVES_Warning_Message:G}=f.a,z=(e,t,o)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(o)),X=e=>"ASAP"!==e&&"-"!==e?e:Object(m.R)(Object(m.o)(),S.a.HHMM,S.a.LT),q=(e,t)=>{let o={};return"-"!==e&&"ASAP"!==e?o={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(o={isForNow:!0,futureDateTime:0}),o},Z=(e,t,o)=>{let i=JSON.parse(localStorage.getItem("dispositionNew"));return e&&i?Object(j.Gb)(i.type):t?E.Mb.PICKUP:Object(j.Gb)(o)};function Q(e,t,o){var i;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||o(null===(i=e[0])||void 0===i?void 0:i.timestr):o("-")}t.a=Object(h.j)((e=>{var t,o,a,h,f,ee,te,oe,ie,le,ae,ne,re,se,de,ce,ve;const{SingleArrow:ue,Calendar:Oe,Error:be}=w.a,me=Object(i.useRef)(null),je=Object(i.useRef)(null),{location:he,onStoreSelectFinish:pe}=e,{SEARCH_ORDER_DATA:Se,SCHEDULE_ORDER_DATA:Ie,DISPOSITION_DATA:ge,SCHEDULE_ORDER_TIME_DATA:fe,CLOSED:Ne,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Te,MENU_URL:De,PDP_URL:Ee,SELECTED_TILE_DATA:ye,DISPOSITION_METHOD:Ae,SET_DISPOSITION:we,USER_LOCALIZED:xe,SHOW_CLEAR_CART_ALERT:Ce,CLEAR_CART_CONFIRM_CANCEL_MODAL:Re,clearCartChangeFlag:_e,orderTypeAlertTitle:Le,searchStoreAlertTitle:Ye,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:Pe}=v.a,We=Object(O.c)((e=>e.profileReducer)),{userOrderState:ke,userOrderStateDispatch:He}=Object(i.useContext)(c.a),{dispositionStateData:Fe={},scheduleOrderData:Je={}}=ke,{changeFlow:Ue=!1,isAddressFlow:Be=!1}=Je,Ke=Je&&Object(j.Kd)(Je.storeInfo)?Je.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:Ve=""}=Fe,Ge=Ve||localStorage.getItem("dispositionType"),{value:ze=""}=(null===Je||void 0===Je||null===(t=Je.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Xe=""}=Je&&(null===(o=Je.selectedDateTimeInfo)||void 0===o||null===(a=o.date)||void 0===a?void 0:a.length)>0?Je.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},qe=Je&&(null===(h=Je.selectContentData)||void 0===h||null===(f=h.savedTime)||void 0===f?void 0:f.length)>0?null===(ee=Je.selectContentData)||void 0===ee?void 0:ee.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Ze,scheduled:Qe={},asap:$e}=(null===(te=Je.storeInfo)||void 0===te||null===(oe=te.summary)||void 0===oe?void 0:oe.timings)||{},et=Object(j.Jd)(ke.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ke.dispositionNew,{unavailibilities:tt,unavailibilityType:ot}=Qe,{interval:it=0,startEndTime:lt={}}=Qe&&(null===Qe||void 0===Qe||null===(ie=Qe.periods)||void 0===ie?void 0:ie.length)&&(null===Qe||void 0===Qe?void 0:Qe.periods[0])||{},{from:at,to:nt}=lt;let rt=Object(O.c)((e=>e.appStateReducer.userStatus));const st=Object(O.b)(),dt=Object(O.c)((e=>e.tenantReducer)),ct=Object(O.c)((e=>e.storesReducer)),vt=Object(O.c)((e=>e.cartReducer)),{cartData:ut}=vt,{storesAvilableTimeSlots:Ot,storesTimeSlots:bt}=ct,[mt,jt]=Object(i.useState)(!1),[ht,pt]=Object(i.useState)({error:!1,errormessage:""}),[St,It]=Object(i.useState)({from:at,to:nt,interval:it}),[gt,ft]=Object(i.useState)({error:!1,openStoreTime:""}),Nt=(null===(le=Je.storeInfo)||void 0===le||null===(ae=le.summary)||void 0===ae||null===(ne=ae.status)||void 0===ne?void 0:ne.currentStatus)===Ne,Tt=()=>{var e;return Ue?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===S.a.TYPE_DELIVERY:!Be&&(null===Ge||void 0===Ge?void 0:Ge.toUpperCase())===S.a.TYPE_DELIVERY},[Dt,Et]=Object(i.useState)(Qe&&Qe.date?new Date(Qe.date.toString()):new Date),[yt,At]=Object(i.useState)($e&&$e.isAvailable?"ASAP":Object(m.R)(null===lt||void 0===lt?void 0:lt.from,"hh:mm","LT")),[wt,xt]=Object(i.useState)([]),[Ct,Rt]=Object(i.useState)(!1),[_t,Lt]=Object(i.useState)(!1),[Yt,Mt]=Object(i.useState)(Object(j.Ud)(window.innerWidth)),Pt=()=>{Mt(Object(j.Ud)(window.innerWidth))};Object(i.useEffect)((()=>{window.addEventListener("resize",Pt)}),[Yt]),Object(i.useEffect)((()=>{if(1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country)){var e;const t={storeid:null===Je||void 0===Je||null===(e=Je.storeInfo)||void 0===e?void 0:e.id,channel:T.b.channel,service:Object(j.Ib)(Qt()).toString().toLowerCase(),date:""};st(Object(b.c)({data:t,tenantId:dt.tenantId}))}let t=Object(u.j)(at,nt,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===(null===Ze||void 0===Ze?void 0:Ze.length)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,ot);return xt(t),()=>{st(Object(b.a)())}}),[]);const Wt=e=>{var t,o;if("INDIA"===(null===dt||void 0===dt?void 0:dt.country))return;const i=Object(m.h)(e,"YYYY-MM-DD");if(Qe.date===i){let t=Object(u.j)(at,nt,it,null===$e||void 0===$e?void 0:$e.isAvailable,1===Ze.length&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,ot);return xt(t),At(t[0].timestr),It({from:at,to:nt,interval:it}),Et(e),pt({...ht,error:!1,errormessage:""}),Rt(!1),void Lt(!1)}const l={storeid:null===Je||void 0===Je||null===(t=Je.storeInfo)||void 0===t?void 0:t.id,channel:T.b.channel,service:Object(j.Ib)(Qt()).toString().toLowerCase(),dateVal:i};if(st(Object(b.c)({data:l,tenantId:dt.tenantId})),Et(e),(null===Ot||void 0===Ot||null===(o=Ot.periods)||void 0===o?void 0:o.length)>0){const{startEndTime:e,interval:t}=Ot.periods[0],{from:o,to:i}=e;let l=Object(u.j)(o,i,t,null===$e||void 0===$e?void 0:$e.isAvailable,1===Ze.length&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,ot);It({from:o,to:i,interval:t}),xt(l)}pt({...ht,error:!1,errormessage:""})},kt=e=>{const t=new Date,o=new Date(e.split("T")[0]);return o.getDate()===t.getDate()&&o.getMonth()===t.getMonth()&&o.getFullYear()===t.getFullYear()},Ht=e=>{var t;At("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let o=Object(u.f)(at,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:kt(Xe)?"Today":"Tomorrow"});Et(o),Rt(!1),Lt(!1),pt({...ht,error:!1,errormessage:""})};Object(i.useEffect)((()=>{const e=qe;Xe&&Wt(new Date(Xe)),((e,t,o,i,l,a)=>{if(e&&t){const e=Object(m.R)(t,"h:mm A","HH:mm");new Date(i).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===o||void 0===o?void 0:o.split(":")[0]),Number(null===o||void 0===o?void 0:o.split(":")[1]),0)?a(l):a(t)}})(Ue,e,at,Xe,qe,Ht),((e,t,o,i,l)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var a;const e={storeid:null===t||void 0===t||null===(a=t.storeInfo)||void 0===a?void 0:a.id,channel:T.b.channel,service:Object(j.Ib)(o()).toString().toLowerCase(),date:""};i(Object(b.c)({data:e,tenantId:null===l||void 0===l?void 0:l.tenantId}))}})(Ze,Je,Qt,st,dt)}),[]),Object(i.useEffect)((()=>{let e=Object(j.Tc)(Ue,Object(g.translateWithI18Next)(V),Object(g.translateWithI18Next)(K));var t;if(Object(j.Kd)(bt)&&mt)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ne)pt({...ht,error:!0,errormessage:Object(g.translateWithI18Next)(B)}),Object(j.Kb)(e,Object(g.translateWithI18Next)(B));else{let t=new Date;if(new Date(Dt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(m.o)().add($e.promiseTime,"minutes").format("LT");Object(m.c)(t,yt,"h:mm A")?(pt({...ht,error:!0,errormessage:Object(g.translateWithI18Next)(J)}),Object(j.Kb)(e,Object(g.translateWithI18Next)(J))):z(he,De,Ee)?Ft():Jt()}else z(he,De,Ee)?Ft():Jt()}}),[bt,We]);const Ft=()=>{He({type:ye,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(dt)),localStorage.setItem("selectedTile",JSON.stringify({})),Jt(),setTimeout((()=>{e.history.push({pathname:"".concat(De)})}),500)},Jt=async()=>{He({type:Ie,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Je||void 0===Je?void 0:Je.storeInfo,changeFlow:!0}}),He({type:Ae,value:{dispositionType:Ge}}),localStorage.setItem("dispositionType",Qt()),localStorage.setItem("storeInfo",null!==Je&&void 0!==Je&&Je.storeInfo?JSON.stringify(Je.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Je&&void 0!==Je&&Je.storeInfo?JSON.stringify(Je.storeInfo):JSON.stringify({})),He({type:Me,value:Object(j.kd)(null===Je||void 0===Je?void 0:Je.storeInfo)}),He({type:Se,value:{showSearchStore:!1}});let e="",t="";"ASAP"===yt||"-"===yt?(e="ASAP",t="ASAP"):(e=yt,t=yt),He({type:Pe,value:{forceReload:!0}});let o=X(yt);const i=Object(m.A)(Object(m.h)(Dt,"YYYY-MM-DD")+" "+o,"YYYY-MM-DD hh:mm A");let l={time:e,interval:St.interval,date:Dt,epochTime:i,selectedTime:yt},a=(null===Je||void 0===Je?void 0:Je.deliveryAddress)||(null===et||void 0===et?void 0:et.deliveryAddress);if(null===et||et.type!==Qt()||et.store.id!==Ke.id||et.deliveryAddress!==Je.deliveryAddress){let e=await Object(j.z)(Ke,Object(j.Ib)(Ge),null===We||void 0===We?void 0:We.customerId,l,a,null===Je||void 0===Je?void 0:Je.deliveryAddressLine);st(Object(N.m)("")),st(Object(N.f)({data:e,tenantId:dt.tenantId}))}st(Object(p.a)({...rt,localized:!0})),He({type:we,value:{oldvalue:et,newValue:{type:Qt(),store:Ke,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:a}}}),localStorage.setItem("dispositionOld",JSON.stringify(et)),localStorage.setItem("dispositionNew",JSON.stringify({type:Qt(),store:Ke,date:l.date,time:l.time,epochTime:l.epochTime,interval:l.interval,selectedTime:l.selectedTime,deliveryAddress:a})),Object(j.if)(),He({type:fe,value:{selectedDateTime:l}}),He({type:Te,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(l)),localStorage.setItem("savedTimeOrder",t)};Object(i.useEffect)((()=>{var e;let t,o={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(Ot||{}).length){var i,l,a;const{startEndTime:e,interval:r}=Object(j.id)(null===(i=Ot[0])||void 0===i?void 0:i.periods[0],o),{startEndTime:s}=Object(j.id)(null===(l=Ot[1])||void 0===l?void 0:l.periods[0],o),{from:d}=e,{to:c}=s;var n;if(t=Object(u.j)(d,c,r,null===$e||void 0===$e?void 0:$e.isAvailable,1===Ze.length&&new Date(null===(a=Ot[0])||void 0===a?void 0:a.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0)&&"INDIA"===(null===dt||void 0===dt?void 0:dt.country),tt,ot),It({from:d,to:c,interval:r}),xt(t),Q(t,qe,Ht),!Ot.find((e=>e.date===Xe.split("T")[0])))Et(new Date(null===(n=Ot[0])||void 0===n?void 0:n.date))}else if(Object.keys(Ot||{}).length){var r,s;const{startEndTime:e,interval:i}=Object(j.id)(null===(r=Ot[0])||void 0===r?void 0:r.periods[0],o),{from:l,to:a}=e;var d;if(t=Object(u.j)(l,a,i,null===$e||void 0===$e?void 0:$e.isAvailable,"INDIA"===(null===dt||void 0===dt?void 0:dt.country)&&1===(null===Ze||void 0===Ze?void 0:Ze.length)&&new Date(null===(s=Ot[0])||void 0===s?void 0:s.date).setHours(0,0,0,0)<new Date(null===Ze||void 0===Ze?void 0:Ze[0]).setHours(0,0,0,0),tt,ot),It({from:l,to:a,interval:i}),xt(t),Q(t,qe,Ht),!Ot.find((e=>e.date===Xe.split("T")[0])))Et(new Date(null===(d=Ot[0])||void 0===d?void 0:d.date))}const c=localStorage.getItem("modalSource");var v;null!==dt&&void 0!==dt&&dt.showASAPServiceWarningMessage&&(null===$e||void 0===$e||!$e.isAvailable)&&Nt&&"fromChangeStoreButton"!==c&&(null===(e=t)||void 0===e?void 0:e.length)>0&&ft({error:!0,openStoreTime:null===(v=t[0])||void 0===v?void 0:v.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(Ot)]);const Ut=e=>{var t,o;null!==me&&void 0!==me&&null!==(t=me.current)&&void 0!==t&&t.contains(e.target)||null!==je&&void 0!==je&&null!==(o=je.current)&&void 0!==o&&o.contains(e.target)||(Rt(!1),Lt(!1))};Object(i.useEffect)((()=>(document.addEventListener("mousedown",Ut),()=>{document.removeEventListener("mousedown",Ut)})),[]);const Bt=()=>{He({type:Se,value:{showSearchStore:!0}}),He({type:Ie,value:{showDisposition:!1}}),He({type:Ae,value:{dispositionType:"Pickup"}})},Kt=null===Je||void 0===Je||null===(re=Je.storeInfo)||void 0===re||null===(se=re.availableServicesPerChannel)||void 0===se||null===(de=se.find((e=>"web"===e.channel)))||void 0===de?void 0:de.services,Vt=null===Kt||void 0===Kt?void 0:Kt.includes("delivery"),Gt=Object(j.db)(Tt(),!Vt),zt=()=>{let e=Object(g.translateWithI18Next)(U),t=!1;return Vt&&(e=Object(g.translateWithI18Next)(H),t=!0),{showTakeWayButton:t,message:e}},{message:Xt}=zt();Object(i.useEffect)((()=>{Object(D.g)(Ue,Xt)}),[Xt]);const qt=()=>{const{message:e,showTakeWayButton:t}=zt();return Object(C.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(C.jsx)(I.a,{srcFile:be,className:"location-alert-icon"}),Object(C.jsx)("div",{className:"location-error-message",children:e}),Object(C.jsx)("div",{className:"location-error-button-section",children:t&&Object(C.jsx)(r.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Bt,children:Object(g.translateWithI18Next)(F)})})]})},Zt=e=>{var t;let{orderType:o}=e,i=Object(g.translateWithI18Next)(G),l=null===i||void 0===i?void 0:i.replace("%time%",gt.openStoreTime);return l=null===(t=l)||void 0===t?void 0:t.replace("%servesName%",o),Object(C.jsxs)("div",{className:"asap-warning-container",children:[Object(C.jsx)("span",{className:"error-img"}),l]})},Qt=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ue&&e?e.type:Be?"Pickup":Ge},$t=Ue?null===(ce=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===ce?void 0:ce.deliveryAddress:Je.deliveryAddress;return Object(C.jsxs)("div",{className:"scheduleOrder-form",children:[Object(C.jsx)("h3",{className:"order-type",children:Object(g.translateWithI18Next)(R)}),Object(C.jsxs)("div",{className:"ordertype-input-div",children:[Object(C.jsx)(s.a,{value:Z(Ue,Be,Ge),className:"w-100"}),Object(C.jsx)("div",{className:"edit-input",children:Object(C.jsx)(d.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(ut&&(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:_e,onConfirm:Le};Object(j.ue)(He,e,Ce,Re)}else He({type:ge,value:{showDisposition:!0}});He({type:Ie,value:{showScheduleOrderCatering:!1}}),He({type:Se,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(g.translateWithI18Next)(Y)})})]}),ht&&ht.error&&Object(C.jsxs)("div",{className:"error-container",children:[Object(C.jsx)("span",{className:"error-img"}),ht.errormessage]}),Yt&&Gt&&Object(C.jsx)(qt,{}),Object(C.jsx)("h3",{className:"order-type",children:Tt()?Object(g.translateWithI18Next)(L):Object(g.translateWithI18Next)(_)}),Object(C.jsxs)("div",{className:"ordertype-input-div",children:[Object(C.jsx)(s.a,{value:Tt()?$t:ze||"",className:"w-100"}),Object(C.jsx)("div",{className:"edit-input",children:Tt()?Object(C.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(He({type:Ae,value:{dispositionType:Ue?JSON.parse(localStorage.getItem("dispositionNew")).type:Ge}}),ut&&(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:_e,onConfirm:Ye};Object(j.ue)(He,e,Ce,Re)}else He({type:Se,value:{showSearchStore:!0}});He({type:Ie,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(g.translateWithI18Next)(Y)}):Object(C.jsx)(d.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:_e,onConfirm:Ye};Object(j.ue)(He,e,Ce,Re)}else{let e=Object(j.jd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Be)He({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:Je.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];He({type:Se,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}He({type:Ie,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ue)}}),He({type:Ae,value:{dispositionType:Qt()}})},"data-testid":"edit-store-test",children:Object(g.translateWithI18Next)(Y)})})]}),!Yt&&Gt&&Object(C.jsx)(qt,{}),(null===gt||void 0===gt?void 0:gt.error)&&Object(C.jsx)(Zt,{orderType:Z(Ue,Be,Ge)}),Object(C.jsx)("h3",{className:"order-type",children:Object(g.translateWithI18Next)(M)}),Object(C.jsxs)("div",{className:"schedule-date-time",children:[Object(C.jsxs)("div",{className:"schedule-date",children:[Object(C.jsx)("div",{className:"dateTitleDatePicker",children:Object(g.translateWithI18Next)(P)}),Ze&&Ze.length>0&&Qe&&Qe.date&&"INDIA"!==(null===dt||void 0===dt?void 0:dt.country)?Object(C.jsxs)(l.a.Fragment,{children:[Object(C.jsxs)("div",{ref:me,onClick:()=>Lt(!_t),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(C.jsx)(n.a,{selected:Dt,showPopperArrow:!1,onChange:e=>Wt(e),minDate:new Date(Qe.date.toString()),maxDate:new Date(Ze[Ze.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:_t,readOnly:!0}),Object(C.jsx)("img",{src:Oe,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(C.jsx)("span",{className:"dropdown-img"})]}):Object(C.jsx)(l.a.Fragment,{children:Object(C.jsx)("div",{className:"time-input time-input-container",children:Object(m.h)(Dt,"YYYYMMDD")===Object(m.e)("YYYYMMDD")&&Object(g.translateWithI18Next)("today")||Object(g.translateWithI18Next)("tomorrow")})})]}),Object(C.jsxs)("div",{className:"schedule-time",children:[Object(C.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(g.translateWithI18Next)(W)}),Object(C.jsxs)("div",{className:$(wt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==Qe.periods.length&&Rt(!Ct),onClick:()=>0!==Qe.periods.length&&Rt(!Ct),children:[Object(C.jsx)("div",{className:"time-input asap-default",children:yt}),Object(C.jsx)("img",{src:ue,alt:" ",className:"downarrow-time-list"})]}),Ct&&Object(C.jsx)("div",{ref:je,className:"schedule-time-list-container",children:Object(C.jsx)("ul",{children:!(null===wt||void 0===wt||!wt.length)&&(null===wt||void 0===wt?void 0:wt.map((e=>Object(C.jsx)("li",{tabIndex:"0",onClick:()=>{ft((e=>({...e,error:!1}))),Ht(e)},onKeyPress:()=>Ht(e),children:e.timestr}))))})})]})]}),Object(C.jsx)("div",{className:"text-center schedule-btn-div",children:Object(C.jsx)(r.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(g.translateWithI18Next)(k),onClickHandler:e=>{var t,o,i,l,a;Object(x.D)(),e.stopPropagation(),e.preventDefault();const n={storeID:null===Ke||void 0===Ke?void 0:Ke.id,disposition:Ge,postCode:null===Ke||void 0===Ke||null===(t=Ke.addresses[0])||void 0===t||null===(o=t.address)||void 0===o?void 0:o.pinCode};pe(n),Object(y.J)(n,yt),Object(A.a)(Je),jt(!0);let r=X(yt);const s=Object(m.A)(Object(m.h)(Dt,"YYYY-MM-DD")+" "+r,"YYYY-MM-DD hh:mm A"),d={storeid:null===Je||void 0===Je||null===(i=Je.storeInfo)||void 0===i?void 0:i.id,channel:T.b.channel,service:null===(l=Object(j.Ib)(Qt()))||void 0===l||null===(a=l.toString())||void 0===a?void 0:a.toLowerCase(),futureDateTimeInEpochFormat:s,asap:yt===E.s};st(Object(b.n)({data:d,tenantId:dt.tenantId})),null!==ut&&void 0!==ut&&ut.id&&st(Object(b.q)({params:{basketId:null===ut||void 0===ut?void 0:ut.id},tenantId:dt.tenantId,postBody:q(yt,s)})),He({type:xe,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===Qe||void 0===Qe||null===(ve=Qe.periods)||void 0===ve?void 0:ve.length),children:Object(g.translateWithI18Next)(k)})})]})}));const $=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")}}]);