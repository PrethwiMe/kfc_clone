(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[14,1,2,4,9,10,11,17,23,25,30,42,47,66,70,71,89,95,103,108,132,144,145],{1e3:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"c",(function(){return g}));var o=a(3),i=a.n(o),n=a(76),l=a(6),d=a(5),c=a(190),r=a(25),s=a(898),u=a(999),v=a(0),m=a(906),b=a(213),O=a(15),j=a(2);const p=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()},h=(e,t,a,o,i)=>{t&&i();let n=e.length?JSON.parse(JSON.stringify(e)):[];n.map(((e,t)=>(e.id===a&&(e.expanded=!e.expanded),e))),o([...n])},g=(e,t,a,o)=>{let i=((e,t,a)=>{let o=e.length?e:[];return null===o||void 0===o?void 0:o.map(((e,o)=>{if(Object(d.db)(0===o,t))e.expanded=!0;else{e.expanded=!1;let t=e.modifiers.map((e=>({...e,productId:a})));e.modifiers=t}return e}))})(JSON.parse(JSON.stringify(e)),a,o);t([...i])};t.a=e=>{const{grouplist:t=[],getSelectedModifiers:a,selectedModifiers:I,source:S="",accordionDefaultOpen:f,isModal:N,isStoreClosed:C,catalog:T,localized:E=!0}=e,{PDP:x,HASH_SYMBOL:D}=c.a,{MAX_TAG:y}=m.a,[_,A]=Object(o.useState)([]),R=Object(r.c)((e=>e.cartReducer)),[L,P]=Object(o.useState)([]),{componentOptions:w,currencyConversionFactor:M,currencySymbol:k,taxAmountRoundOff:F,swapPDPContentData:U}=Object(r.c)((e=>e.tenantReducer)),{web:{global:{pricewithNumberofDecimalDigit:H},pdp:{deltaPriceInAccordion:W,showMaxBadge:B}}}=w,{isItemAdded:G=!1}=Object(d.kd)(R),V=Object(r.c)((e=>e.tenantReducer)),{userOrderState:Y}=Object(o.useContext)(n.a),{pdpScreenCommons:{currentAccordian:z},pdpPayloadData:K,pdpItemUpsizeId:q}=Y;Object(o.useEffect)((()=>{g(t,A,f,q),P([])}),[JSON.stringify(t),T,G]),Object(o.useEffect)((()=>{if(Object(d.db)(z,S===x)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===z){var a;const t=(null===(a=e.modifiers)||void 0===a?void 0:a.length)>1?300:0;let o=document.getElementById("accordion-"+z).offsetTop;window.scrollTo({top:o-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));A([...e])}}),[z,JSON.stringify(t)]);const J=e=>{let t,a,o;if(e.length){t=e.map(JSON.stringify),a=new Set(t),o=Array.from(a).map(JSON.parse);let i=[];if(L.length){i=L;let e=L.findIndex((e=>e[0].modgrpId===o[0].modgrpId));e>=0?(i.splice(e,1,o),P([...i])):P([...i,o])}else P((e=>[...e,o]))}};Object(o.useEffect)((()=>{L.length&&a(L),I&&I(L)}),[L]);const Q=e=>{let t="",a=null===K||void 0===K?void 0:K.modGrps;if(a[e]){var o;let l=null===(o=a[e])||void 0===o?void 0:o.modifiers,d=[];for(let t in l){let a=l[t];if(a.isSelected){var i,n;const{quantity:t}=a,o=t>1?"".concat(t,"x "):"";let l=!!W&&Object(s.z)(K,"".concat(e).concat(D).concat(a.id),M,k,H);d.push("".concat(o," ").concat(null===(i=a.dname)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.value," ").concat(!1!==l?l:""))}}t=[...new Set(d)].reverse().join(", ")}return t};return Object(d.kc)(_)&&_.map(((e,t)=>{var a;let{id:o,name:n,dname:d,modifiers:c,expanded:r,min:m,max:g,additionalProperties:I}=e;const S=Object(s.g)(o,K),f=Object(s.d)(o,K),x=((e,t,a,o)=>t&&Object(u.b)(e,o,a))(c,E,g,I),D=!x&&((e,t,a)=>{const o=Object(u.c)(a);return e&&o&&t})(B,E,I);return Object(j.jsx)(i.a.Fragment,{children:Object(j.jsxs)("div",{className:"accordian-container ",id:"accordion-"+o,"data-testid":"product-listing-accordion-".concat(t),children:[Object(j.jsxs)("div",{className:"accordian-header",children:[Object(j.jsx)("div",{className:"".concat(r?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(o),onClick:e=>h(_,e,o,A,p),children:Object(j.jsxs)("div",{className:"textbadgecontainer",children:[Object(j.jsx)("h3",{className:"accordion-test",children:null===d||void 0===d||null===(a=d[0])||void 0===a?void 0:a.value}),Object(j.jsxs)("div",{className:"badgeContainer",children:[D&&Object(j.jsx)("span",{className:"ml-2 maxBadge",children:U?"".concat(g).concat(Object(l.translateWithI18Next)(y)):"".concat(Object(l.translateWithI18Next)(y)).concat(g)}),S?Object(j.jsx)("span",{className:"updatedBadge-sopac",children:Object(l.translateWithI18Next)(v.If)}):null]})]})}),Object(j.jsx)("span",{className:"selected-mod",children:Q(o)})]}),!r&&f?Object(j.jsxs)("div",{className:"d-flex align-items-center",children:[Object(j.jsx)(b.a,{src:null===O.a||void 0===O.a?void 0:O.a.errorIcon,className:"d-flex mr-1 ml-1"}),Object(j.jsx)("span",{children:Object(l.translateWithI18Next)("selectionRequired")})]}):null,Object(j.jsx)("div",{className:"".concat(r?"panel panel-active":"panel"),children:Object(j.jsx)(u.a,{tenantData:V,modifiers:c,modgrpData:{modgrpId:o,modGrpName:d,min:m,max:g,additionalProperties:I,modifierLength:c.length},modgroupPayloadData:J,isModal:N,isStoreClosed:C,catalog:T})})]})},t)}))}},1001:function(e,t,a){"use strict";a(3);var o=a(212),i=a(61),n=a(924),l=a(49),d=a(2);const{INSTAGRAM:c,TWITTER:r,FACEBOOK:s,FAQ:u,TERMS_OF_USE:v,GIFT_CARD:m,ORDER_LOOKUP_NAME:b,EXTERNAL:O,YOUTUBE:j,SNAPCHAT:p,LINKEDIN:h,TIKTOK:g,LINE:I}=n.a;t.a=Object(i.j)((e=>{const{linkTo:t="",name:a,dataTestId:i="",onClickHandler:n,internalurl:S="",externalurl:f=""}=e;let N=null,C="",T=";";S?(N=a===b?"":S,T="internal"):f?(N=a===b?"":f,C="_blank",T="external"):[c,r,s,j,p,h,g,I].includes(a)?(N=t,C=t?"_blank":"",T="external"):N=t;return Object(d.jsx)("li",{children:Object(d.jsx)(o.a,{className:"support-links-menu",href:N,name:a,targetWindow:C,onClickHandler:t=>{Object(l.r)(a),(e=>{let{name:t,event:a,props:o,onClickHandler:i}=e;if(t!==a.name||a.type!==O)o.children===v||o.children===u||o.children===m||i(a),window.scrollTo(0,0)})({name:a,event:t,props:e,onClickHandler:n})},tabIndex:"0","data-testid":i,type:T,children:e.children})})}))},1003:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(18),l=a.n(n),d=a(25),c=a(340),r=a.n(c),s=a(37),u=a.n(s),v=a(931),m=a.n(v),b=a(61),O=a(138),j=a(97),p=a(964),h=a(63),g=a(30),I=a(6),S=a(121),f=a(991),N=a(4),C=a(5),T=a(0),E=a(43),x=a(915),D=a(15),y=a(136),_=a(2);var A=e=>{const{currencySymbol:t,currencyConversionFactor:a,unavailableItem:o,orderDetails:i}=e,{YOUR_ORDER:n,TOTAL:l,ITEM_NOT_UNAVAILABLE:d,ITEM_CURRENLTY_UNAVAILABLE:c,CART_ITEM:r}=N.a,{foodLines:s=[],id:u,total:v}=Object(C.kd)(i),m=Object(I.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.ADD_HOPE),b=Object(I.translateWithI18Next)(null===N.a||void 0===N.a?void 0:N.a.LARGE_CARRY_BAG),O=Object(C.Pb)(s,m,b),j=null===O||void 0===O?void 0:O.reduce(((e,t)=>e+(null===t||void 0===t?void 0:t.quantity)),0);return Object(_.jsxs)("div",{className:"reorder-item-section",children:[Object(_.jsx)("span",{className:"reorder-section-heading",children:Object(I.translateWithI18Next)(n)}),Object(_.jsx)("div",{className:"".concat(Object(C.Tc)(o.length>0,"error-can-not-deliver","hide-error-container")),children:Object(_.jsx)(x.a,{show:o.length>0,errorMsg:Object(I.translateWithI18Next)(d),errImage:D.a.Error_Yellow,cssClass:"error-sub-container"})}),Object(_.jsx)("section",{className:"reorder-accordian",children:Object(_.jsxs)(y.a,{header:"".concat(j," ").concat(Object(I.translateWithI18Next)(r)).concat(j>1?"s":""),open:!0,children:[null===O||void 0===O?void 0:O.map((e=>{var i,n,l,d,r;return Object(_.jsx)("section",{className:"",children:Object(_.jsxs)("div",{className:"reorder-order-item",children:[Object(_.jsx)("div",{className:"reorder-item-details",children:Object(_.jsx)("div",{className:"item-count-box mr",children:Object(_.jsx)("span",{className:"item-count ml",children:null===e||void 0===e?void 0:e.quantity})})}),Object(_.jsxs)("div",{className:"item-desc-section",children:[Object(_.jsx)("span",{className:"item-desc item-desc-bold",children:null===e||void 0===e||null===(i=e.item)||void 0===i||null===(n=i.dname)||void 0===n||null===(l=n[0])||void 0===l?void 0:l.value}),o.length>0&&o.find((t=>{var a;return(null===t||void 0===t?void 0:t.id)===(null===e||void 0===e||null===(a=e.item)||void 0===a?void 0:a.id)}))&&Object(_.jsxs)("span",{className:"item-desc unavailable-msg",children:[Object(_.jsx)(E.a,{srcFile:D.a.Error_Yellow,className:"unavailable-msg-icon"}),Object(I.translateWithI18Next)(c)]})]}),!Object(C.ce)()&&Object(_.jsxs)("span",{className:"item-amount item-desc-bold",children:[t,Object(C.g)((null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.quantity)*(null===e||void 0===e||null===(r=e.item)||void 0===r?void 0:r.unitPrice),a)," "]})]})})})),!Object(C.ce)()&&Object(_.jsxs)("div",{className:"reorder-payment-details mt-4 mb-4",children:[Object(_.jsx)("span",{className:"payment-total",children:Object(I.translateWithI18Next)(l)}),Object(_.jsxs)("span",{className:"payment-total-amount",children:[t,Object(C.g)(v,a)]})]})]},"orderItem-".concat(u))})]})},R=a(36),L=a(995),P=a(76);const{CURRENT_STORE_INFO_STORAGE:w}=T.gd||{},M=e=>{const{isGenericError:t,isPastOrderValidationLoading:a,isAddItemLoading:o,enableButton:i,enableScheduleOrder:n,isFutureDateTimeOrder:d,scheduleOrderFlag:c,selectedTime:r,hasError:s,unavailableItem:u,totalItemsLength:v}=e;return t||a||o||!i||s.error||(null===u||void 0===u?void 0:u.length)===v||n&&d&&c&&l()(r)};var k=e=>{var t,a,n,l,c,r;const{closeButtonHandler:s,onChangeDisposition:u,editDeliveryLocation:v,enableButton:m,onChangeRestaurant:b,currentOrderInfo:O,onClickOrderAgain:j,orderTypeDifferentError:p,storeError:h,locationDifferentError:g,isLocationError:E,isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:y,storeChanged:w,currentStoreInfo:k,enableScheduleOrderFlag:F,selectedDate:U,selectedTime:H,scheduleOrderFlag:W,hasError:B,changeDateValue:G,changeTimeValue:V,orderNowFlag:Y,enableSceduleCA:z,enableScheduleMode:K,dateTimeArr:q,orderSchedulingMode:J,changeScheduleOrder:Q,isFutureDateTimeOrder:X,isStoreClosed:Z,storeClosedError:$,unavailableItem:ee,elementUniqueLocator:te}=e,{userOrderState:ae}=Object(o.useContext)(P.a),oe=((e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1)(F,q),ie=((e,t)=>{var a;return!!e&&!(null!==t&&void 0!==t&&null!==(a=t.timeSlots)&&void 0!==a&&a.length)})(F,U),ne=Object(d.c)((e=>e.tenantReducer)),le=null===ne||void 0===ne||null===(t=ne.savedAddressPage)||void 0===t?void 0:t.showStateCityAddAddress,{disableChangeCTAForDispostion:de,disableChangeCTAForAddressChange:ce,disableChangeCTAForStoreChange:re}=null===ne||void 0===ne||null===(a=ne.componentOptions)||void 0===a||null===(n=a.web)||void 0===n?void 0:n.quickReorder,{modifiedStoreData:se,modifiedService:ue,modifiedDeliveryAddress:ve}=Object(C.ed)(w,k,O,ae),me=w?Object(C.Wb)(null===O||void 0===O?void 0:O.deliveryAddress,le):Object(C.Wb)(ve,le),{REVIEW_ORDER:be,ORDER_TYPE:Oe,ORDER_TYPE_CHANGE:je,YOUR_KFC_RESTAURANT:pe,YOUR_LOCATION:he,ORDER_AGAIN:ge,PICK_UP_TIME:Ie,DELIVERY_TIME:Se}=N.a,{DELIVERY:fe}=T.Jb,Ne=((e,t)=>{const{DELIVERY:a}=T.Jb||{},o=(null===t||void 0===t?void 0:t.toUpperCase())===a?Object(I.translateWithI18Next)(N.a.SELECT_DELIVERY_TIME):Object(I.translateWithI18Next)(N.a.SELECT_PICKUP_TIME);return e?o:Object(I.translateWithI18Next)(N.a.ASAP)})(Q,ue),Ce=Y||W&&!Q,Te=W&&Q,Ee={isGenericError:x,isPastOrderValidationLoading:D,isAddItemLoading:y,enableButton:m,enableScheduleOrder:F,isFutureDateTimeOrder:X,scheduleOrderFlag:W,selectedTime:H,hasError:B,unavailableItem:ee,totalItemsLength:null===e||void 0===e||null===(l=e.orderDetails)||void 0===l||null===(c=l.foodLines)||void 0===c?void 0:c.length};return Object(_.jsx)(i.a.Fragment,{children:Object(_.jsxs)(S.a,{id:"ReOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"re-order-id",show:!0,classNames:"reorder-modal-global extra-small-modal",showCloseBtn:!0,closeButtonHandler:s,backButtonHandler:s,modalTitle:Object(I.translateWithI18Next)(be),closeDataTestId:"close-modal-handler",showBackBtn:!0,showFooterSection:!0,buttonVariant:R.b.secondary,footerBtnText:Object(I.translateWithI18Next)(ge),footerBtnHandler:j,footerBtnTestId:"reorder-order-it-again",disabledBtn:M(Ee),loadingBtn:y,children:[Object(_.jsx)(f.a,{show:!0,sectionHeader:Oe,subSectionValue:Object(I.translateWithI18Next)(ue),orderTypeChange:je,onClickHandler:u,storeUnavailableError:p,isAlert:!0,showChangeButton:!de,dataTestid:"reorder-disposition-change-link",elementUniqueLocator:te}),Object(_.jsx)(f.a,{show:Object(C.Ad)(ue),sectionHeader:he,subSectionValue:me,showChangeButton:!Object(C.Ad)(ue)||!ce,description:(null===ve||void 0===ve?void 0:ve.addressLines)>=1?null===ve||void 0===ve||null===(r=ve.addressLines)||void 0===r?void 0:r[0]:null===ae||void 0===ae?void 0:ae.deliveryAddressLineVal,orderTypeChange:je,onClickHandler:()=>v(me)}),Object(_.jsx)(f.a,{show:!0,sectionHeader:pe,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,onClickHandler:b,showChangeButton:!re,isAlert:Z||!x,storeUnavailableError:x&&h||E&&g||Z&&$,dataTestid:"reorder-store-change-link",elementUniqueLocator:te}),Object(_.jsx)(f.a,{show:Boolean(F&&Ce),sectionHeader:Object(C.Ad)(ue)?Se:Ie,subSectionValue:J,orderTypeChange:je,onClickHandler:K,showChangeButton:z,dataTestid:"reorder-time-date-change-link",elementUniqueLocator:te}),Object(_.jsx)(L.a,{show:Boolean(F&&Te),sectionHeader:Object(C.Ad)(ue)?Se:Ie,subSectionValue:null===se||void 0===se?void 0:se.name,orderTypeChange:je,changeDateValue:G,changeTimeValue:V,dateTimeArr:q,selectedDate:U,selectedTime:H,placeholderText:Ne,disableDateOption:oe,disableTimeOption:ie,scheduleTimeWarning:F&&B&&(null===B||void 0===B?void 0:B.error),scheduleErrMsg:F&&B&&(null===B||void 0===B?void 0:B.errormessage),enableScheduleOrderFlag:F,elementUniqueLocator:te}),Object(_.jsx)(A,{...e})]})})},F=a(14),U=a(38),H=a(111),W=a(101),B=a(22),G=a(11),V=a(332),Y=a(266),z=a(122),K=a(318),q=a(69),J=a(110);const Q=e=>{var t;const{enableScheduleOrder:a,isFutureTimeOrderAvailable:o,updateReorderDetails:i,storename:n,service:l}=e,{STORE_CLOSED_ERROR:d,STORE_CLOSED_NEXT_TIME_APPLIED_PICKUP_MSG:c,STORE_CLOSED_NEXT_TIME_APPLIED_DELIVERY_MSG:r}=N.a;i(a&&o?{storeError:null,storeClosedError:Object(C.ef)(l)===T.Lb.PICKUP?Object(I.translateWithI18Next)(c):Object(I.translateWithI18Next)(r)}:{storeClosedError:null,storeError:null===(t=Object(I.translateWithI18Next)(d))||void 0===t?void 0:t.replace("$storeName",'<b class="item-desc-bold">'.concat(n,"</b>"))})},X=e=>{var t;const{timings:a={},orderingAttribute:o={}}=Object(C.kd)(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.summary),{asap:i={}}=a||{},{isAsapOrder:n=!1}=o||{},l=!(null!==i&&void 0!==i&&i.isAvailable);return Boolean(!l&&n)},Z=(e,t)=>Boolean(e&&t),$=e=>{var t;return e?Object(I.translateWithI18Next)(N.a.TODAY_ASAP):null===(t=Object(I.translateWithI18Next)(N.a.ASAP))||void 0===t?void 0:t.toUpperCase()};t.a=e=>{var t,a,n,c,s,v,S,f,E,x;const{currentOrderInfo:D,reorderModalOpen:y,closeButtonHandler:A,source:R}=e,{service:L,id:w,store:M,name:ee}=Object(C.kd)(D),{storeId:te}=Object(C.kd)(M),ae=Object(d.b)(),oe=Object(b.g)(),{RESET_DELIVERY_ADDRESS_LINE:ie,DISPOSITION_DATA:ne,SCHEDULE_ORDER_DATA:le,SEARCH_ORDER_DATA:de,DISPOSITION_METHOD:ce,USER_LOCALIZED:re,CURRENT_STORE_INFO:se,SET_DISPOSITION:ue,SCHEDULE_ORDER_TIME_DATA:ve,REORDER_MODAL_OPEN:me,SET_ASAP_SCHEDULING:be,SCHEDULE_ORDER_CLICKED:Oe}=F.a,{DISPOSITION_NEW:je,DISPOSITION_OLD:pe,DISPOSITION_TYPE:he,DATE_TIME_ORDER:ge,SELECTED_TILE:Ie,CONFIG_SEARCH_SCREEN:Se,CURRENT_STORE_INFO_STORAGE:fe,STORE_INFO:Ne}=T.gd,{LOCATION_DIFFERENT_ERROR:Ce,STORE_CLOSED_ERROR:Te}=N.a,{userOrderState:Ee,userOrderStateDispatch:xe}=Object(o.useContext)(P.a);let{dispositionNew:De,reorderFlag:{storeChanged:ye=!1},currentStoreInfo:_e={},scheduleOrderData:Ae={},showOrderNowReorder:Re=!1,showScheduleOrderReorder:Le=!1,scheduleModeClicked:Pe=!1}=Ee;const{changeFlow:we=!1,isAddressFlow:Me=!1}=Ae;De=Object(C.Tc)(Object(C.Jd)(De),JSON.parse(localStorage.getItem(je)),De);const ke=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{localized:Fe=!1,loggedIn:Ue=!1}=Object(C.kd)(ke),He=Object(C.gd)(Fe,Ue),We=Object(d.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Be,currencyConversionFactor:Ge,currencySymbol:Ve,componentOptions:Ye}=Object(C.kd)(We),ze=null===We||void 0===We||null===(t=We.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,Ke=null===We||void 0===We||null===(a=We.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress,qe=null===We||void 0===We||null===(n=We.componentOptions)||void 0===n?void 0:n.showComma,{web:Je={}}=Ye,{shouldCheckDropOffAddress:Qe=!1}=Je,Xe=Object(d.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{customerId:Ze}=Object(C.kd)(Xe),{elementUniqueLocator:$e,timeFormat:et}=Object(d.c)((e=>e.tenantReducer||{})),tt=Object(d.c)((e=>null===e||void 0===e?void 0:e.postOrderReducer)),{orderAccepted:at={}}=Object(C.kd)(tt),{addHope:ot,carryBag:it}=We,nt=i.a.useRef(null),lt=Object(d.c)((e=>null===e||void 0===e?void 0:e.reorderReducer)),{flatResponse:dt}=Object(C.kd)(lt),{items:ct=[]}=Object(C.kd)(dt),rt=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),st=Object(d.c)((e=>{var t,a,o;return(null===(t=e.postOrderReducer)||void 0===t?void 0:t.orderAcceptedLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreDetailsLoading)||(null===(o=e.LoaderReducer)||void 0===o?void 0:o.isLoading)})),{cartData:ut,isAddItemLoading:vt,currentItemId:mt}=Object(C.kd)(rt),{discountLines:bt=[],foodLines:Ot=[]}=at,jt=Object(C.db)(bt,(null===bt||void 0===bt?void 0:bt.length)-1),pt=Object(C.db)(bt,bt[jt]),{couponCode:ht="",amount:gt=""}=Object(C.kd)(pt),It=Object(C.g)(gt,Ge),St=null===Ye||void 0===Ye||null===(c=Ye.web)||void 0===c?void 0:c.dispositionConfig,ft=null===Ye||void 0===Ye||null===(s=Ye.web)||void 0===s||null===(v=s.storeSearch)||void 0===v?void 0:v.addPickupAndDropoffLatLngInStatusApi,{enableScheduleOrder:Nt=!1}=St,{modifiedService:Ct}=Object(C.ed)(ye,_e,D),Tt=((e,t,a)=>e&&(null===t||void 0===t?void 0:t.includes(a)))(null===Ye||void 0===Ye||null===(S=Ye.web)||void 0===S||null===(f=S.dispositionConfig)||void 0===f?void 0:f.enableClickCollectScheduleOrder,null===Ye||void 0===Ye||null===(E=Ye.web)||void 0===E||null===(x=E.scheduledDelivery)||void 0===x?void 0:x.allowScheduleOrderForDispositions,Ct),Et=((e,t)=>e||t)(Nt,Tt),xt={unavailableItem:[],showModal:y,orderTypeDifferentError:null,locationDifferentError:null,storeDetail:null,storeError:null,confirmed:!1,orderinfoData:{},isLocalizationSetup:!1,enableButton:!1,orderNowFlag:!0,scheduleOrderFlag:!1,changeScheduleOrder:!1,dateTimeArr:[],selectedDate:{},selectedTime:{},orderSchedulingMode:$(Tt),isFutureDateTimeOrder:!1,isMenuFetched:!1,hasError:{error:!1,errormessage:""},storeClosedError:null,enableSceduleCA:!1,isFlowChangedLoadingFinish:!1},[Dt,yt]=Object(o.useState)(xt),[_t,At]=Object(o.useState)(!1),Rt=Object(o.useCallback)((e=>{yt&&yt((t=>({...t,...e})))}),[]),{YYYY_MM_DD:Lt}=T.sb,Pt=Et?ye:we,wt=Object(J.b)(q.b);Object(o.useEffect)((()=>{var e;(null===ut||void 0===ut||null===(e=ut.foodLines)||void 0===e||!e.length)&&localStorage.removeItem(T.gd.ADD_TO_ORDER)}),[null===ut||void 0===ut?void 0:ut.foodLines]),Object(o.useEffect)((()=>{nt.current=Dt}),[Dt]),Object(o.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&!Dt.changeScheduleOrder){var e;const t={displayStoreInfo:null===(e=Dt.storeDetail)||void 0===e?void 0:e[0],enableScheduleOrder:Et,enableClickCollectScheduleOrderFlag:Tt,fromReorder:!0,scheduleModeClicked:Pe,timeFormat:et},a=Object(W.h)(t);Rt({dateTimeArr:a})}}),[Nt,Dt.storeDetail,L,ye,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(o.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.isFutureDateTimeOrder&&Dt.scheduleOrderFlag&&Dt.changeScheduleOrder){const e={shouldShowScheduleOrder:Dt.scheduleOrderFlag,store:Dt.storeDetail,updateReorderDetails:Rt,changeFlow:we,enableScheduleOrder:Et,selectedDate:Dt.selectedDate,selectedTime:Dt.selectedTime,service:L,fromReorder:!0,scheduleModeClicked:Pe,enableClickCollectScheduleOrderFlag:Tt};Object(W.c)(e)}}),[Et,Dt.scheduleOrderFlag,ye,Dt.storeDetail,Dt.isFutureDateTimeOrder,Dt.changeScheduleOrder]),Object(o.useEffect)((()=>{if(Z(Et,Dt.storeDetail)){var e,t,a;const o=X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),i=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),n=!l()(Dt.selectedDate)&&!l()(Dt.selectedTime),d=u()(null===Dt||void 0===Dt||null===(t=Dt.storeDetail[0])||void 0===t?void 0:t.summary,"name",{}),c=((e,t)=>Boolean(e&&!t))(null===Dt||void 0===Dt?void 0:Dt.storeClosedError,i);((e,t,a,o)=>{var i;(null===e||void 0===e?void 0:e.orderNowFlag)&&t&&a({orderSchedulingMode:o?Object(I.translateWithI18Next)(N.a.TODAY_ASAP):null===(i=Object(I.translateWithI18Next)(N.a.ASAP))||void 0===i?void 0:i.toUpperCase()})})(Dt,o,Rt,Tt);const r=(e=>{const{storeClosedError:t,asapOrderFlag:a,isFutureDateTimeOrder:o,changeScheduleOrder:i,enabledDate:n,isDateTimeSelected:l}=e;return Boolean((t||!a)&&o&&!i&&n&&!l)})({storeClosedError:null===Dt||void 0===Dt?void 0:Dt.storeClosedError,asapOrderFlag:o,isFutureDateTimeOrder:null===Dt||void 0===Dt?void 0:Dt.isFutureDateTimeOrder,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:i,isDateTimeSelected:n});r&&Rt({scheduleOrderFlag:!0,selectedDate:i,selectedTime:null===i||void 0===i?void 0:i.timeSlots[0],orderNowFlag:!1});const s=(e=>{const{storeClosedError:t,isFutureDateTimeOrder:a,scheduleOrderFlag:o,changeScheduleOrder:i,enabledDate:n}=e;return Boolean(!t&&a&&o&&i&&n)})({storeClosedError:Dt.storeClosedError,isFutureDateTimeOrder:Dt.isFutureDateTimeOrder,scheduleOrderFlag:Dt.scheduleOrderFlag,changeScheduleOrder:Dt.changeScheduleOrder,enabledDate:i});s&&l()(Dt.selectedDate)&&Rt({selectedDate:i}),c&&Rt({storeClosedError:null,storeError:null===(a=Object(I.translateWithI18Next)(Te))||void 0===a?void 0:a.replace("$storeName",'<b class="item-desc-bold">'.concat(d,"</b>"))})}}),[Et,Dt.orderNowFlag,Dt.scheduleOrderFlag,Dt.storeClosedError,Dt.changeScheduleOrder,Dt.storeDetail,Dt.isFutureDateTimeOrder,ye,Dt.dateTimeArr]),Object(o.useEffect)((()=>{if(Et&&!l()(Dt.selectedDate)&&!l()(Dt.selectedTime)){const e=Dt.selectedDate.date.value,t=Dt.selectedTime.value,a=qe?",":"",o=" ".concat(e).concat(a," ").concat(t);Rt({orderSchedulingMode:o})}}),[Dt.selectedDate,Dt.selectedTime,Et]),Object(o.useEffect)((()=>{if(Z(Et,Dt.storeDetail)){var e,t,a;const o=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),i=Object(C.Pd)(null===(t=Dt.storeDetail)||void 0===t?void 0:t[0])||Object(C.Od)(null===(a=Dt.storeDetail)||void 0===a?void 0:a[0]),n=((e,t,a)=>Boolean(e&&!t&&a))(i,Dt.changeScheduleOrder,o);Rt({isFutureDateTimeOrder:i,enableSceduleCA:n})}}),[Et,Dt.storeDetail,ye,Dt.dateTimeArr]),Object(o.useEffect)((()=>{null!==Dt&&void 0!==Dt&&Dt.showModal&&Et&&!ye&&xe({type:Oe,value:{scheduleModeClicked:!1}})}),[null===Dt||void 0===Dt?void 0:Dt.showModal,Et,ye]),Object(o.useEffect)((()=>{if(Z(Et,Dt.storeDetail)&&Dt.showModal&&ye&&!Dt.isFlowChangedLoadingFinish){var e,t,a;const o=null===(e=Dt.dateTimeArr)||void 0===e?void 0:e.find((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.date)&&void 0!==t&&t.disabled)})),i=((e,t,a)=>Boolean(e&&t&&a))(X(null===Dt||void 0===Dt?void 0:Dt.storeDetail),Dt.isFutureDateTimeOrder,o);i&&Rt({orderNowFlag:Re,changeScheduleOrder:!Re||Le&&(null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.length),scheduleOrderFlag:!Re||Le&&(null===(a=Dt.dateTimeArr)||void 0===a?void 0:a.length),isFlowChangedLoadingFinish:!0})}}),[Et,Re,Le,ye,Dt.showModal,Dt.storeDetail,Dt.dateTimeArr,Dt.isFlowChangedLoadingFinish,Dt.isFutureDateTimeOrder]);Object(o.useEffect)((()=>{Object(C.db)(Dt.confirmed,mt)&&(Rt({confirmed:!1}),oe.push(T.Ae.CART))}),[Dt.confirmed,mt]);const Mt=Object(C.g)(null===at||void 0===at?void 0:at.total,Ge),kt=Object(o.useCallback)((()=>{var e,t;const a=null===(e=Dt.storeDetail[0])||void 0===e||null===(t=e.addresses[0])||void 0===t?void 0:t.address,o=Object(C.Wb)(a);localStorage.setItem(T.gd.RETAIN_ADDRESS,o),Rt({showModal:!1}),xe({type:ie}),xe({type:ne,value:{showDisposition:!0}}),xe({type:le,value:{showScheduleOrder:!1}}),xe({type:de,value:{showSearchStore:!1}}),xe({type:me,value:{reorderModalOpen:!1}})}),[xe,Dt.storeDetail]),Ft=Object(o.useCallback)((e=>{const t=r()(Dt.storeDetail,{});t&&(xe({type:ce,value:{dispositionType:t.service}}),Object(W.a)(Me,t,H.a,Pt,!0,e,xe),xe({type:me,value:{reorderModalOpen:!1}}))}),[xe,Pt,Me,Dt.storeDetail]),Ut=Object(o.useCallback)((e=>{if(!Object(C.Jd)(e)){var t;const{summary:a}=e,{futureDates:o,scheduled:i,asap:n}=Object(C.kd)(null===a||void 0===a?void 0:a.timings),{interval:l=0,startEndTime:d={}}=i&&i.periods.length&&i.periods[0],{from:c,to:r}=d;return Object(W.j)(c,r,l,null===n||void 0===n?void 0:n.isAvailable,Object(C.db)(1===o.length,Object(C.ce)())),{time:T.t,interval:null===a||void 0===a||null===(t=a.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:T.t}}})),Ht=e=>{const t=e;return e.forEach(((t,a)=>{var o;e[a].modifiers=null===(o=t.modifiers)||void 0===o?void 0:o.filter((e=>!0===e.isAdded))})),t},Wt=(e,t,a)=>{const o=[];let i=0,n=[],l=Object(C.Pb)(e,ot,it);return null===l||void 0===l||l.forEach((e=>{var l;const{isAvailable:d,product:c}=((e,t,a)=>{var o,i,n,l,d,c;const r=a&&"ASAP"!==a?Object(G.C)(a,T.sb.lll):Object(G.e)(T.sb.lll),s=(null===t||void 0===t?void 0:t.filter((t=>(null===t||void 0===t?void 0:t.id)===e)))||{},u=null===(o=s[0])||void 0===o||null===(i=o.availability[0])||void 0===i?void 0:i.availableHours,v=null===u||void 0===u||null===(n=u.startTime)||void 0===n?void 0:n.time,m=null===u||void 0===u||null===(l=u.endTime)||void 0===l?void 0:l.time,b=Object(K.j)(Object(C.y)(v),T.sb.lll,1e3*a),O=Object(K.j)(Object(C.y)(m),T.sb.lll,1e3*a),j=null===(d=s[0])||void 0===d?void 0:d.isNotAvailable,p=Object(G.f)(r,b,O)&&!j;return(null===(c=s[0])||void 0===c?void 0:c.isHidden)?{isAvailable:"hidden",product:s}:{isAvailable:p,product:s}})(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,t,a);var r,s,u,v,m;d?o.push({Id:e.item.id,quantity:e.quantity,categoryUrl:null===c||void 0===c||null===(r=c[0])||void 0===r||null===(s=r.categoryUrl)||void 0===s?void 0:s[0],categoryName:null===c||void 0===c||null===(u=c[0])||void 0===u?void 0:u.categoryName,categoryId:null===c||void 0===c||null===(v=c[0])||void 0===v?void 0:v.categoryId,modGrps:Ht(null===e||void 0===e||null===(m=e.item)||void 0===m?void 0:m.modGrps)}):(i+=1,n.push(e.item))})),Rt({unavailableItem:n}),{unAval:i,itemArr:o}},Bt=(e,t,a)=>{const o=(e=>{var t;return{...e,startDateInEpoch:+(null===(t=sessionStorage)||void 0===t?void 0:t.getItem(null===T.Ke||void 0===T.Ke?void 0:T.Ke.SCHEDULE_DATE_EPOCH))}})({storeId:t,channel:B.b.channel,service:a});Object(z.g)(),ae(Et?Object(p.b)({tenantId:Be,catalogName:e},o,(()=>Rt({isMenuFetched:!0}))):Object(p.b)({tenantId:Be,catalogName:e},{storeId:t,channel:B.b.channel,service:a},(()=>Rt({isMenuFetched:!0}))))};Object(o.useEffect)((()=>{if(Object(C.j)([Ot.length>0,ct.length>0,Dt.isMenuFetched])){var e;const{id:t}=Object(C.kd)(ut),a=Object(C.Pb)(Ot,T.i),o=Wt(a,ct,null===(e=Dt.selectedTime)||void 0===e?void 0:e.key),i={dispatch:ae,response:o,foodLineInfo:Ot,basketId:t,tenantId:Be,updateReorderDetails:Rt,setupLocalization:Vt,storeDetail:Dt.storeDetail,orderinfoData:Dt.orderinfoData,closeButtonHandler:A};_t||((e=>{const{dispatch:t,response:a,foodLineInfo:o,basketId:i,tenantId:n,updateReorderDetails:l,setupLocalization:d,storeDetail:c,orderinfoData:r,closeButtonHandler:s}=e;a.unAval!==o.length&&t(Object(g.a)({params:{basketId:i},tenantId:n,isFromReorder:!0},a.itemArr,(e=>{localStorage.removeItem(T.gd.ADD_TO_ORDER),d(c,r),l({confirmed:!0}),s()})))})(i),Rt({isMenuFetched:!1})),At(!1)}}),[Ot,ct,Dt.isMenuFetched]);const Gt=async function(){var e,t,a,o,i,n,l,d,c,r,s,u,v,b,O,j,p,h,S,f,E,x,D,y;let _=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A||At(!1);const{lang:R,catalog:P,storeId:w,deliveryAddress:M,storename:k,service:F}=Object(C.dd)(A?_:Dt.storeDetail),H=ye?M:null===(e=Dt.orderinfoData)||void 0===e?void 0:e.deliveryAddress,W={date:null!==(t=null===(a=Dt.selectedDate)||void 0===a||null===(o=a.date)||void 0===o?void 0:o.key)&&void 0!==t?t:Object(G.h)(new Date,Lt),time:null!==(i=null===(n=Dt.selectedTime)||void 0===n?void 0:n.value)&&void 0!==i?i:T.t,selectedTime:null!==(l=null===(d=Dt.selectedTime)||void 0===d?void 0:d.value)&&void 0!==l?l:T.t,epochTime:null!==(c=Dt.selectedTime)&&void 0!==c&&c.key&&(null===(r=Dt.selectedTime)||void 0===r?void 0:r.key)!==T.t?null===(s=Dt.selectedTime)||void 0===s?void 0:s.key:T.t},B={time:T.t,date:new Date,selectedTime:T.t,epochTime:T.t},V=Et?W:B;let Y={id:w,summary:{menu:{catalogs:[P]}},addresses:[{lang:R}]};const{addressLines:z=[],customProperties:K}=(null===Dt||void 0===Dt||null===(u=Dt.orderinfoData)||void 0===u?void 0:u.deliveryAddress)||{},[J,X,Z,$,ee,te,oe,ie]=z,ne=null===Dt||void 0===Dt||null===(v=Dt.orderinfoData)||void 0===v||null===(b=v.deliveryAddress)||void 0===b?void 0:b.name,le=null===Dt||void 0===Dt||null===(O=Dt.orderinfoData)||void 0===O||null===(j=O.deliveryAddress)||void 0===j?void 0:j.pinCode,de=null===(p=m()(K,{key:T.V}))||void 0===p?void 0:p.value,ce=null===(h=m()(K,{key:T.S}))||void 0===h?void 0:h.value,re=(null===Dt||void 0===Dt||null===(S=Dt.orderinfoData)||void 0===S||null===(f=S.customProperties)||void 0===f||null===(E=f[0])||void 0===E?void 0:E.value)||{},se=ze&&null!==z&&void 0!==z&&z.length?{addressName:ne,apartmentName:ee,chome:Z,chomeId:ce,cityId:de,cityTown:X,companyName:oe,postalCode:le,prefecture:J,roomNumber:te,specialNote:ie,streetDetailAddress:$}:{},ue=await Object(C.z)(Y,Object(C.Ib)(F),Ze,V,Object(C.Wb)(H,Ke),null,se,null===Dt||void 0===Dt||null===(x=Dt.orderinfoData)||void 0===x||null===(D=x.deliveryAddress)||void 0===D?void 0:D.addressLines);let ve=Object(G.p)();if(Et&&(null===(y=Dt.selectedTime)||void 0===y?void 0:y.key)<ve)Rt({hasError:{...Dt.hasError,error:!0,errormessage:Object(I.translateWithI18Next)(N.a.SCHEDULE_ORDER_CA)}});else{const e=Object(C.Kd)(Dt.selectedTime)?Dt.selectedTime.key:"";Et&&sessionStorage.setItem(T.Ke.SCHEDULE_DATE_EPOCH,e),ae(Object(g.f)({data:ue,tenantId:Be,successCallback:()=>Bt(P,w,F),errorCallback:()=>{var e,t;const a=nt.current,o=Object(C.Pd)(null===a||void 0===a||null===(e=a.storeDetail)||void 0===e?void 0:e[0])||Object(C.Od)(null===a||void 0===a||null===(t=a.storeDetail)||void 0===t?void 0:t[0]);Q({enableScheduleOrder:Nt,isFutureTimeOrderAvailable:o,updateReorderDetails:Rt,storename:k,service:L})}}))}ae(Object(q.d)({key:T.gd.ADD_HOPE_TRIGGER,value:!0})),ae(Object(q.d)({key:null===T.qe||void 0===T.qe?void 0:T.qe.REORDER_FLAG,value:{isReorderFlow:!0}})),ae(Object(q.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SELECTED_NOT_NOW,value:!1})),ae(Object(q.d)({key:null===T.gd||void 0===T.gd?void 0:T.gd.SHOW_ADDHOPE_NOTIFICATION,value:!1})),ae(Object(q.d)({key:null===U.a||void 0===U.a?void 0:U.a.STREET_NUMBER,value:re}))},Vt=(e,t)=>{var a,o,i,n,l,d,c,s,u,v,m,b;const O=r()(e,{});let{deliveryAddress:p,service:h}=ye?Object(C.dd)(e):t;xe({type:ce,value:{dispositionType:h}});const I=ze?Object(G.R)(null===(a=Dt.selectedTime)||void 0===a?void 0:a.value,T.sb.HH_mm,T.sb.hh_mm_A):null===(o=Dt.selectedTime)||void 0===o?void 0:o.value,S={date:null!==(i=null===(n=Dt.selectedDate)||void 0===n||null===(l=n.date)||void 0===l?void 0:l.key)&&void 0!==i?i:Object(G.h)(new Date,Lt),time:null!==I&&void 0!==I?I:T.t,selectedTime:null!==I&&void 0!==I?I:T.t,epochTime:null!==(d=Dt.selectedTime)&&void 0!==d&&d.key&&(null===(c=Dt.selectedTime)||void 0===c?void 0:c.key)!==T.t?null===(s=Dt.selectedTime)||void 0===s?void 0:s.key:T.t},f=Et?S:Ut(O),N=Boolean((null===f||void 0===f?void 0:f.key)===T.t),E={type:h,store:O,date:null===f||void 0===f?void 0:f.date,time:null===f||void 0===f?void 0:f.time,epochTime:null===f||void 0===f?void 0:f.epochTime,interval:null===f||void 0===f?void 0:f.interval,selectedTime:null===f||void 0===f?void 0:f.selectedTime,deliveryAddress:Object(C.Wb)(p,Ke),deliveryAddressLine:(null===p||void 0===p||null===(u=p.addressLines)||void 0===u?void 0:u.length)>=1?null===p||void 0===p||null===(v=p.addressLines)||void 0===v?void 0:v[0]:""};xe({type:ue,value:{oldvalue:De,newValue:E}}),localStorage.setItem(pe,JSON.stringify(null)),localStorage.setItem(je,JSON.stringify(E)),localStorage.setItem(je,JSON.stringify({type:h,store:O,date:null===f||void 0===f?void 0:f.date,time:null===f||void 0===f?void 0:f.time,interval:null===f||void 0===f?void 0:f.interval,selectedTime:null===f||void 0===f?void 0:f.selectedTime,epochTime:null===f||void 0===f?void 0:f.epochTime,deliveryAddress:Object(C.Wb)(p,Ke),deliveryAddressLine:(null===p||void 0===p||null===(m=p.addressLines)||void 0===m?void 0:m.length)>=1?null===p||void 0===p||null===(b=p.addressLines)||void 0===b?void 0:b[0]:""})),xe({type:de,value:{showSearchStore:!1}}),xe({type:re,value:{isLocalized:!0}}),xe({type:se,value:O}),ae(Object(j.a)({...ke,localized:!0})),localStorage.setItem(fe,JSON.stringify(O)),localStorage.setItem(Ne,JSON.stringify(O)),Et&&(xe({type:F.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}}),xe({type:be,value:{enableASAPScheduling:N}})),xe({type:ve,value:{selectedDateTime:f}}),localStorage.setItem(Ie,JSON.stringify({})),localStorage.setItem(Se,H.a),localStorage.setItem(he,h),localStorage.setItem(ge,JSON.stringify(f)),xe({type:F.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!1}}),xe({type:F.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),(async()=>{const{deliveryAddress:e=null,service:t}=Object(C.dd)(Dt.storeDetail);if(Object(C.Kd)(e)){const a=Object(C.Wb)(e),o=await Object(Y.geocodeByAddress)(a),i=await Object(Y.getLatLng)(null===o||void 0===o?void 0:o[0]);Object(C.gf)(t,o),ft&&ae(Object(q.d)({key:T.qe.LAT_LONG,value:i}))}localStorage.setItem(T.gd.SERVICE_TYPE,Object(C.Ib)(t));const a=T.p.AUD;let o=[];null===Ot||void 0===Ot||Ot.forEach(((e,t)=>{var i,n,l,d;let c=Object(C.g)(null===e||void 0===e?void 0:e.unitPrice,Ge);o.push({item_name:Object(C.fb)(null===e||void 0===e||null===(i=e.item)||void 0===i||null===(n=i.dname[0])||void 0===n?void 0:n.value,"NA"),item_id:Object(C.fb)(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.id,"NA"),price:Object(C.fb)(parseFloat(c),"NA"),coupon:ht,currency:a,discount:It,item_category:(null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.categoryName)||"NA",item_list_name:R,item_list_id:"",index:t+0,quantity:Object(C.fb)(null===e||void 0===e?void 0:e.quantity,"NA")})})),Object(V.o)(o,He,a,Mt,t),Ot.length>0&&ae(Object(g.r)()),Object(V.p)(He,ee)})()},Yt=(e,t)=>{const{modifiedStoreData:a}=Object(C.ed)(ye,_e,D);if(Rt({showModal:!0,orderinfoData:t,enableButton:!0}),e.length){const t=r()(e,{}),l=u()(t,"summary",{}),{currentStatus:d}=u()(l,"status",{}),c=u()(l,"name",{}),s=Object(C.Pd)(t)||Object(C.Od)(t);if(d===T.Y){Q({enableScheduleOrder:Nt,isFutureTimeOrderAvailable:s,updateReorderDetails:Rt,storename:c,service:L})}var o,i,n;if(ke.localized)((e,t,a)=>{var o,i;Object(C.ef)(null===e||void 0===e?void 0:e.type)!==Object(C.ef)(t)&&a({orderTypeDifferentError:null===(o=Object(I.translateWithI18Next)(N.a.ORDER_TYPE_DIFFERENT_ERROR))||void 0===o?void 0:o.replaceAll("$previousOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===t||void 0===t?void 0:t.toLowerCase()),"</b>")).replaceAll("$currentOrderType",'<b class="item-desc-bold capitalize-text">'.concat(Object(I.translateWithI18Next)(null===e||void 0===e||null===(i=e.type)||void 0===i?void 0:i.toLowerCase()),"</b>"))})})(De,Ct,Rt),te!==(null===(o=De)||void 0===o||null===(i=o.store)||void 0===i?void 0:i.id)&&Rt({locationDifferentError:null===(n=Object(I.translateWithI18Next)(Ce))||void 0===n?void 0:n.replaceAll("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))});At(!0),Gt(e,!0)}else{var l;Rt({storeClosedError:null,storeError:null===(l=Object(I.translateWithI18Next)(Te))||void 0===l?void 0:l.replace("$storeName",'<b class="item-desc-bold">'.concat(null===a||void 0===a?void 0:a.name,"</b>"))})}};return Object(o.useEffect)((()=>{const e=null===D||void 0===D?void 0:D.service,{modifiedStoreId:t,modifiedStoreData:a,modifiedService:o,modifiedDeliveryAddress:i}=Object(C.ed)(ye,_e,D);ae(Object(h.l)({storeId:t,tenantId:Be},(t=>{const n={data:Object(C.B)([a],o,i,Qe,null===wt||void 0===wt?void 0:wt.latLong),store:[{...t,service:o}],tenantId:Be,setStatusFlag:!1,isFavoritePage:!1};ae(Object(h.d)(n,(t=>{Rt({storeDetail:t}),ae(Object(O.f)({tenantId:Be,orderId:w,customerId:Ze,CTO:!!Object(C.Ad)(e)&&void 0},(e=>Yt(t,e))))})))})))}),[]),Object(_.jsx)(_.Fragment,{children:Dt.showModal?Object(_.jsx)(k,{...e,onChangeDisposition:kt,editDeliveryLocation:Ft,onChangeRestaurant:()=>{const{modifiedStoreData:e,modifiedService:t}=Object(C.ed)(ye,_e,D),a=r()(Dt.storeDetail,{});var o;a?(Rt({showModal:!1}),xe({type:ce,value:{dispositionType:a.service}}),Object(C.tf)(xe,null===(o=a.summary)||void 0===o?void 0:o.name),xe({type:me,value:{reorderModalOpen:!1}})):(Rt({showModal:!1}),xe({type:ce,value:{dispositionType:t}}),Object(C.tf)(xe,null===e||void 0===e?void 0:e.name),xe({type:me,value:{reorderModalOpen:!1}}))},onClickOrderAgain:Gt,storeError:Dt.storeError,locationDifferentError:Dt.locationDifferentError,currencySymbol:Ve,currencyConversionFactor:Ge,orderDetails:at,isPastOrderValidationLoading:st,isAddItemLoading:vt,storeChanged:ye,currentStoreInfo:_e,enableScheduleOrderFlag:Et,changeDateValue:e=>{var t,a;const o=null===(t=Dt.dateTimeArr)||void 0===t?void 0:t.find((t=>{var a;return(null===t||void 0===t||null===(a=t.date)||void 0===a?void 0:a.key)===(null===e||void 0===e?void 0:e.key)}));Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedDate:o,storeError:null,storeClosedError:null,selectedTime:{...null===o||void 0===o||null===(a=o.timeSlots)||void 0===a?void 0:a[0]}})},changeTimeValue:e=>{Rt({hasError:{...Dt.hasError,error:!1,errormessage:""},selectedTime:e,storeError:null,storeClosedError:null})},enableScheduleMode:e=>{Rt({changeScheduleOrder:!0,scheduleOrderFlag:!0,orderNowFlag:!1})},isStoreClosed:Boolean(Dt.storeClosedError),isGenericError:Boolean(Dt.storeError),isLocationError:Boolean(Dt.locationDifferentError),...Dt,elementUniqueLocator:$e}):null})}},1004:function(e,t,a){"use strict";var o=a(3),i=a(25),n=a(52),l=a(57),d=a(268),c=a(6),r=a(4),s=a(121),u=a(43),v=a(15),m=a(49),b=a(5),O=a(36),j=a(2);var p=e=>{const{onCancel:t,setOccasionNameHandler:a,updateFavouriteOrder:o,occasionName:i,isNameExist:n,isInValid:l,isEditOrderName:d=!1,onClearTextHandler:s,disaableButton:m,editFavHeading:b=!1,isAddFavOrderBox:p=!1,errorMessage:h}=e,{CANCEL:g,SAVE:I,OCCASSION_ADD_HEADING:S,OCCASSION_EDIT_HEADING:f,ORDER_PLACEHOLDER:N,NAME_EXIST:C,OCCASION_NAME_VALIDATION:T,EDIT_FAVOURITE_HEADING:E,SAVE_FAV_ORDER:x,PLEASE_FILL_OUT_THIS_FIELD:D}=r.a,y=d?b?E:f:S,_=l?"special-char-error":"name-exist-error";return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"InputHeading",children:Object(c.translateWithI18Next)(p?x:y)}),Object(j.jsx)("form",{children:Object(j.jsxs)("div",{className:"inputLookUpNumbox",children:[Object(j.jsx)("input",{value:i,type:"text","data-testid":"occasion-input",className:n||l?"error-input":"occasion-input-box",required:!0,maxLength:20,onChange:e=>a(e,d),title:Object(c.translateWithI18Next)(D)}),Object(j.jsx)("label",{children:Object(c.translateWithI18Next)(N)}),l&&Object(j.jsxs)("div",{className:"error-text-container ".concat(_),children:[Object(j.jsx)(u.a,{srcFile:v.a.Error}),Object(j.jsx)("span",{className:"error-text","data-testid":"error-text",children:Object(c.translateWithI18Next)(h)})]}),""!==i?Object(j.jsx)("img",{src:v.a.clearTextIcon,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:()=>s()}):null]})}),Object(j.jsxs)("div",{className:"buttonItems",children:[Object(j.jsx)(O.a,{"data-testid":"occasion-cancel-button",className:"button whiteButton blackBorder closebtn-cls",onClick:()=>t(),children:Object(c.translateWithI18Next)(g)}),Object(j.jsx)(O.a,{disabled:m,"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClickHandler:()=>o(),children:Object(c.translateWithI18Next)(I)})]})]})};t.a=e=>{const{isMobile:t,editItemId:a,setEditItemId:O,showOccassionModal:h,setOccassionModalOpen:g,cardInfo:I,toastmessage:S,hasEdit:f=!1,occasionName:N,setOccasionName:C,isAddFavOrderBox:T,updateSetOrderDetails:E,userParams:x,currencyShortName:D,currencyConversionFactor:y,orderDetail:_,productMapById:A}=e,R=Object(i.b)(),[L,P]=Object(o.useState)(""),[w,M]=Object(o.useState)(""),[k,F]=Object(o.useState)(!0),[U,H]=Object(o.useState)([]),W=Object(i.c)((e=>{var t;return Object(b.jd)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)})),{id:B,phone:G}=Object(i.c)((e=>{var t;return Object(b.kd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{favouriteOrderRegex:V,favouriteNameMinLength:Y}=Object(i.c)((e=>Object(b.jd)(e.tenantReducer))),{tenantId:z}=Object(i.c)((e=>Object(b.kd)(e.tenantReducer))),[K,q]=Object(o.useState)(!1),[J,Q]=Object(o.useState)(!1),[X,Z]=Object(o.useState)(""),{FavoriteActiveWhite:$}=v.a,ee=Object(j.jsx)(u.a,{srcFile:$}),te=Object(c.translateWithI18Next)(r.a.FAVORITE_ORDER_NAME_EDITED),ae=Object(b.Tc)(f,"occassion-modal","OccassionModal"),oe=Object(b.Tc)(f,"edit-modal",""),{NAME_EXIST:ie,OCCASION_NAME_VALIDATION:ne,OCCASION_NAME_LENGTH_INVALID_CHARS_ERROR:le,OCCASION_NAME_LENGTH_ERROR:de}=r.a;Object(o.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]),Object(o.useEffect)((()=>{M(N),P(N)}),[h]),Object(o.useEffect)((()=>{L&&Object(b.db)(!K,!J)&&(null===L||void 0===L?void 0:L.length)>=Y?F(!1):F(!0)}),[L,K,J]);const ce=Object(b.Tc)(f,(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===U||void 0===U?void 0:U.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),o=null===V||void 0===V?void 0:V.test(L);let i=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.fb)(!o,0===i))q(!0);else if(o&&t>=0&&w!==L)Q(!0),q(!1);else{const e={tenantId:z,customerId:B,phoneNumber:Object(b.Ic)(G)},t={orderId:a,name:L};R(Object(d.a)(e,t)),O(""),se(),Object(b.qf)(te,ee,"favorites-added-toast"),setTimeout((()=>{n.b.dismiss()}),3e3)}}),(()=>{let e=null===L||void 0===L?void 0:L.trim();const t=null===U||void 0===U?void 0:U.indexOf(null===e||void 0===e?void 0:e.toUpperCase()),a=null===V||void 0===V?void 0:V.test(L);let o=null===e||void 0===e?void 0:e.replace(/ /g,"").length;if(Object(b.fb)(!a,0===o))q(!0);else if(a&&t>=0)Q(!0),q(!1);else{const{id:e}=I;R(Object(d.a)({customerId:B,tenantId:z,phoneNumber:Object(b.Ic)(G)},{orderId:e,name:L})),Object(b.db)(h,E)&&E({saveFavoriteSummarySucess:!0}),se(),Object(b.qf)(S,ee,"favorites-added-toast"),setTimeout((()=>{n.b.dismiss()}),3e3);const t=[],a={userType:Object(b.gd)(null===x||void 0===x?void 0:x.localized,null===x||void 0===x?void 0:x.loggedIn),coupon:(null===_||void 0===_?void 0:_.discountLines)||"NA",value:((null===_||void 0===_?void 0:_.total)/y).toFixed(2),currency:D},o=(null===_||void 0===_?void 0:_.orderedItemDetails)||(null===_||void 0===_?void 0:_.filteredFoodLines);null===o||void 0===o||o.forEach(((e,a)=>{var i,n,l,d,c,r,s,u,v,m,b,O;const{categoryId:j="NA",categoryName:p="NA"}=null!==(i=null===A||void 0===A?void 0:A[null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.id])&&void 0!==i?i:{};t.push({item_name:(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.name)||"NA",item_id:void 0!==(null===_||void 0===_?void 0:_.orderedItemDetails)?(null===e||void 0===e?void 0:e.id)||"NA":null===e||void 0===e||null===(d=e.item)||void 0===d?void 0:d.id,price:Number(((null===e||void 0===e?void 0:e.amount)/y).toFixed(2))||0,item_category:""!==p?(null===(c=o[a])||void 0===c?void 0:c.categoryUrl)||(null===(r=o[a])||void 0===r||null===(s=r.item)||void 0===s?void 0:s.categoryUrl):p,item_list_name:""!==p?(null===(u=o[a])||void 0===u?void 0:u.categoryUrl)||(null===(v=o[a])||void 0===v||null===(m=v.item)||void 0===m?void 0:m.categoryUrl):p,item_list_id:void 0!==(null===_||void 0===_?void 0:_.orderedItemDetails)?""!==j?null===(b=o[a])||void 0===b?void 0:b.id:j:null===e||void 0===e||null===(O=e.item)||void 0===O?void 0:O.id,index:a,quantity:(null===e||void 0===e?void 0:e.quantity)||0})})),Object(m.i)(t,a)}}));Object(o.useEffect)((()=>{const e=[];null===W||void 0===W||W.map((t=>{var a,o;return null===e||void 0===e?void 0:e.push(null===t||void 0===t||null===(a=t.name)||void 0===a||null===(o=a.toUpperCase())||void 0===o?void 0:o.trim())})),H(e),a&&(q(!1),Q(!1))}),[a]);const re={id:"occassion-modal",role:"dialog",modalTitleId:ae,show:h,classNames:"Base-modal ".concat(Object(b.Tc)(t,"Mobile-occassion-modal","Occassion-modal")),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>se(),modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0},se=Object(b.Tc)(f,(()=>{Q(!1),q(!1),g(!1)}),(()=>{g(!1)}));return Object(o.useEffect)((()=>{((e,t,a,o)=>{if(e){const i={customerId:t,tenantId:e,phoneNumber:Object(b.Ic)(a),updateUserData:!0};o(Object(l.d)(i))}})(z,B,G,R)}),[R,z,B,G]),Object(j.jsx)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:Object(j.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(j.jsx)("section",{children:Object(j.jsx)(s.a,{...re,children:Object(j.jsx)("div",{className:"OccassionModal add-occassion-global",children:Object(j.jsx)(p,{onCancel:se,setOccasionNameHandler:(e,t)=>{var a;const o=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.value,i=null===U||void 0===U?void 0:U.includes(null===o||void 0===o?void 0:o.toUpperCase()),n=null===V||void 0===V?void 0:V.test(o),l=(null===o||void 0===o?void 0:o.length)<3;let d="";""!==o&&(l&&!n?d=le:l?d=de:n?i&&(d=ie):d=ne),F(!!d),q(!!d),Q(d===ie),Z(d),C(o),P(o)},updateFavouriteOrder:ce,occasionName:L,isNameExist:J,isInValid:K,onClearTextHandler:()=>{C(""),P(""),Q(!1),q(!1)},disaableButton:k,isEditOrderName:f,editFavHeading:f,"data-testid":oe,isAddFavOrderBox:T,errorMessage:X})})})})})})}},1005:function(e,t,a){"use strict";var o=a(24),i=a(50),n=a(174),l=a.n(n),d=a(3),c=a.n(d),r=a(191),s=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],v=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,d=e.noGutters,v=e.as,m=void 0===v?"div":v,b=Object(i.a)(e,s),O=Object(r.a)(a,"row"),j=O+"-cols",p=[];return u.forEach((function(e){var t,a=b[e];delete b[e];var o="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&p.push(""+j+o+"-"+t)})),c.a.createElement(m,Object(o.a)({ref:t},b,{className:l.a.apply(void 0,[n,O,d&&"no-gutters"].concat(p))}))}));v.displayName="Row",v.defaultProps={noGutters:!1},t.a=v},1006:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var o=a(3),i=a.n(o),n=a(6),l=a(36),d=a(996),c=a(4),r=a(43),s=a(15),u=(a(1015),a(2));const{Error:v}=s.a,m=e=>{const{showConfirmBtn:t=!1,onClickHandler:a}=e,{CONFIRM_BTN_TEXT:o}=c.a;return Object(u.jsxs)(i.a.Fragment,{children:[Object(u.jsxs)("div",{className:"delivery-address-section",children:[Object(u.jsx)(d.a,{...e}),t&&Object(u.jsx)("form",{children:Object(u.jsx)(l.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"btn-confirm",disabled:!e.confirm,onClick:a,children:Object(n.translateWithI18Next)(o)})})]}),Object(u.jsx)("div",{className:"placesautocomplete-border"}),Object(u.jsx)("span",{className:"d-none",children:Object(u.jsx)(r.a,{srcFile:v,className:"location-alert-icon"})})]})},b=i.a.memo(m)},1007:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var o=a(3),i=a.n(o),n=a(6),l=a(212),d=a(43),c=a(216),r=a(318),s=a(15),u=a(2);const{LocationImage:v}=s.a,m=e=>{const{loggedIn:t=!1,formContent:a={},useCurrentLocation:o,storeSelection:i,hideLocationLink:s,showLocationConfirmModal:m}=e,{signInLink:b,useMyLocation:O}=i,{memberText:j="",singInLink:p={},currentLocationText:h=""}=a;return Object(u.jsxs)("div",{className:"login-section",children:[b&&Object(u.jsx)("span",{className:"delivery-member-signin",children:!t&&Object(c.f)(j,r.R,p)}),O&&Object(u.jsx)("span",{className:"".concat(m?"disable-location-link":""),children:Object(u.jsxs)(l.a,{onClickHandler:o,className:"delivery-location-link","data-testid":"use-my-location",children:[Object(u.jsx)(d.a,{"data-testid":"",srcFile:v,alt:" ",className:"location-img"}),Object(n.translateWithI18Next)(h)]})})]})},b=i.a.memo(m)},1008:function(e,t,a){"use strict";var o=a(5),i=a(3),n=a(1013),l=a(43),d=a(981),c=a(111),r=a(15),s=a(0),u=a(25),v=a(2);const{UseLocationIcon:m}=r.a,b=e=>{var t,a,r,b,O;const{eligibleStores:j,loggedIn:p,defaultStoreId:h,selectedCoords:g,passAddress:I,configSearchKey:S,useCurrentLocation:f,showLocationConfirmModal:N,findAKFC:C,favouriteStores:T,useLatLngForReverseGeocode:E,disableMapSelection:x=!1,disableUseLocationIcon:D=!1,markerDragValue:y=!1,zoomLevel:_=12}=e,A=Object(u.c)((e=>(null===e||void 0===e?void 0:e.tenantReducer)||{})),{componentOptions:R,countryCode:L}=A,P=null===A||void 0===A||null===(t=A.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(r=a.dispositionConfig)||void 0===r?void 0:r.showLabelOnMapPin,w=null===R||void 0===R||null===(b=R.web)||void 0===b?void 0:b.dispositionConfig,{shouldShowStoresLocation:M,shouldShowStoreCardsMap:k,shouldShowMarkerWithText:F,shouldIgnoreStoreList:U,storeOpenBtnText:H}={...null===c.d||void 0===c.d?void 0:c.d[S],...null===w||void 0===w?void 0:w[S]},[W,B]=Object(i.useState)(Object(o.Ud)(window.innerWidth)),[G,V]=Object(i.useState)(h),[Y,z]=Object(i.useState)({storeDetails:{},storeIndex:0}),[K,q]=Object(i.useState)([]),[J,Q]=Object(i.useState)(!0),[X,Z]=Object(i.useState)(200),[$,ee]=Object(i.useState)(400),te=e=>{let t=null===j||void 0===j?void 0:j.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e));t=-1===t?0:t,z({storeDetails:null===j||void 0===j?void 0:j[t],storeIndex:t}),Q(Boolean(null===j||void 0===j?void 0:j.length))},ae=()=>{var e,t;const a=Object(o.Ud)(window.innerWidth);B(a);const i=null===(e=document.getElementById("search-store-global-content"))||void 0===e?void 0:e.clientHeight,n=null===(t=document.querySelector(".modal-body"))||void 0===t?void 0:t.clientHeight;let l=.9*(n-i);if(a){var d,c;l=n-i-(null===(d=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(c=Y.storeDetails)||void 0===c?void 0:c.id)))||void 0===d?void 0:d.clientHeight)}ee(l)};Object(i.useEffect)((()=>(window.addEventListener("resize",ae),()=>{window.removeEventListener("resize",ae)})),[W]),Object(i.useEffect)((()=>{te(G)}),[G,T]),Object(i.useEffect)((()=>{j.length>0&&te(G)}),[j,G]),Object(i.useEffect)((()=>{const e=s.cd[L]||{lat:-35.2809,lng:149.13},t=null===j||void 0===j?void 0:j.map((e=>({lat:+e.location.latitude,lng:+e.location.longitude})));let a=null!==g&&void 0!==g&&g.lat?g:e;null!==t&&void 0!==t&&t.length?q(t):q(a)}),[T,G,j]),Object(i.useEffect)((()=>{var e,t;const a=null===(e=document.getElementById("store-card-".concat(null===Y||void 0===Y||null===(t=Y.storeDetails)||void 0===t?void 0:t.id)))||void 0===e?void 0:e.clientHeight;a&&Z(a)}),[null===Y||void 0===Y||null===(O=Y.storeDetails)||void 0===O?void 0:O.id]),Object(i.useEffect)((()=>{ae()}),[]);const oe=Object(o.xe)(J,k);return Object(v.jsxs)("div",{className:"takeawayDineInMap delivery-map global-map ".concat(x&&"block-map"),children:[Object(v.jsxs)("div",{className:C?"".concat(Object(o.Tc)(oe,"mapcard-container","no-mapcard-container")):"selectkfc-map-container",children:[Object(v.jsx)(n.a,{latLongValue:K,loadingElement:Object(v.jsx)("div",{style:{height:"100%"}}),containerElement:Object(v.jsx)("div",{style:{height:"400px"}}),mapElement:Object(v.jsx)("div",{style:{height:"100%"}}),passAddress:I,isVisible:M,isMobile:W,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,onPositionChangeHandler:e=>{if(0===e){var t;const e=null===j||void 0===j||null===(t=j[(null===Y||void 0===Y?void 0:Y.storeIndex)-1])||void 0===t?void 0:t.id;te(e),V(e)}else if(1===e){var a;const e=null===j||void 0===j||null===(a=j[(null===Y||void 0===Y?void 0:Y.storeIndex)+1])||void 0===a?void 0:a.id;te(e),V(e)}},setShowCard:Q,setStoreMarker:e=>{const t=Object(o.U)(j,e);t&&(te(null===t||void 0===t?void 0:t.id),V(null===t||void 0===t?void 0:t.id))},storeCardHeight:X,isMarkerVisible:U||Boolean(null===j||void 0===j?void 0:j.length),shouldShowMarkerWithText:F,locationAlertProp:F,style:{height:"".concat($,"px")},defaultZoom:_,useLatLngForReverseGeocode:E,markerDragValue:y,showLabelOnMapPin:P}),!D&&Object(v.jsx)("div",{className:"use-location-icon ".concat(N?"disable-location-icon":""),children:Object(v.jsx)(l.a,{srcFile:m,alt:"",onClick:f,"data-testid":"use-location-icon"})})]}),Object(v.jsx)("div",{className:C?"".concat(Object(o.Tc)(oe,"store-dynamic-mapcard-container","store-no-mapcard-container")):"selectkfc-mapcard-container",children:oe&&(null===Y||void 0===Y?void 0:Y.storeDetails)&&Object(v.jsx)(d.a,{store:null===Y||void 0===Y?void 0:Y.storeDetails,isMapView:!0,loggedIn:p,centerIndex:null===Y||void 0===Y?void 0:Y.storeIndex,storeLength:null===j||void 0===j?void 0:j.length,findAKFC:C,storeOpenBtnText:H})})]})};b.defaultProps={eligibleStores:[],loggedIn:!1,defaultStoreId:"",selectedCoords:{},passAddress:null,configSearchKey:"FORM",useCurrentLocation:null},t.a=b},1010:function(e,t,a){"use strict";a.d(t,"c",(function(){return f})),a.d(t,"b",(function(){return V})),a.d(t,"a",(function(){return oe}));var o=a(3),i=a.n(o),n=a(25),l=a(219),d=a(5),c=a(62),r=a(511),s=a(920),u=a(37),v=a.n(u),m=a(932),b=a(811),O=a(61),j=a(267),p=a(156),h=a(0),g=a(2);const I=e=>{const{hostUrl:t}=e;return Object(o.useEffect)((()=>{window.history.go(-2),window.open(t,"Popup"+(new Date).getTime())}),[t]),Object(g.jsx)(g.Fragment,{})},S=e=>{var t,a,i,u;const{routePath:S,hideNav:f}=e,[N,C]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),T=Object(O.g)(),{marketPageContent:E,tenantReducerContent:x,userParams:D,brandPageContent:y,homePageContent:_}=Object(n.c)((e=>{var t,a,o,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(a=e.appStateReducer)||void 0===a?void 0:a.userStatus,brandPageContent:null===(o=e.brandPageReducer)||void 0===o?void 0:o.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),{header:A={},footer:R={}}=null!==(t=E.headerData)&&void 0!==t?t:{},{headerData:L={}}=null!==y&&void 0!==y?y:{},P=v()(L,"hostUrl",""),w=Object(d.cc)(A),M=Object(d.Sb)(R),k=null!==(a=Object(d.bc)(_))&&void 0!==a?a:{},{DISPOSITION:F}=b.default,U=Object(n.b)(),H='<iframe src="'.concat(P,'" onload=\'(function(o){o.style.height=o.contentWindow.document.body.scrollHeight+"px";}(this));\' style="height:100vh;width:100%;border:none;overflow:hidden;"></iframe>'),W=Object(g.jsx)("div",{children:Object(g.jsx)("div",{id:"hostedContentFrame",dangerouslySetInnerHTML:{__html:H}})}),B=()=>{const e=Object(d.Ud)(window.innerWidth);C(e)};return Object(o.useEffect)((()=>(window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)})),[N]),Object(o.useEffect)((()=>{S&&U(Object(l.c)({object:Object(c.a)(),contentFull:{content_type:p.c.Template1,select:"sys.id,fields","fields.routePath":S,include:5}}))}),[U,S]),Object(o.useEffect)((()=>{U(Object(j.l)(x))}),[U,null===x||void 0===x?void 0:x.country]),Object(g.jsxs)(g.Fragment,{children:[w&&(!f||!1===f)&&Object(g.jsx)(r.default,{contentData:w,tenantReducerData:x,userParams:D}),Object(g.jsx)(m.a,{contentData:{segmentedHomePageData:null!==(i=null===k||void 0===k?void 0:k[F])&&void 0!==i?i:{},contentDispositionData:null!==(u=null===k||void 0===k?void 0:k[F])&&void 0!==u?u:{}},userParams:D,showHeader:!1}),N&&L.title===h.Jd?Object(g.jsx)(I,{hostUrl:P}):W,M&&(!f||!1===f)&&Object(g.jsx)(s.a,{history:T,contentData:M,tenantReducerData:x})]})};S.defaultProps={history:{},hideNav:!1};var f=S,N=a(214);var C=e=>{const{body:t,headline:a}=e;return Object(g.jsxs)("div",{className:"container brand-page",children:[Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("div",{className:"row pt-3 pb-3",children:Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("h1",{className:"title text-uppercase font-weight-bold position-relative ng-binding",children:a})})})}),Object(g.jsx)("div",{className:"col-12",children:Object(g.jsx)("div",{className:"description",dangerouslySetInnerHTML:{__html:Object(N.documentToHtmlString)(t)}})})]})};var T={YES_CONSTANT:"YES",NO_CONSTANT:"NO",SLIDE_CHANGE_INTERVAL:5e3,LIGHT:"LIGHT",BLACK_COLOR:"#202124",WHITE_COLOR:"#ffffff",CAROUSEL_IMAGE_CLICK:"carouselImgClick",daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],localizedUserSampleData:{type:"",store:{id:"",name:[{value:""}]}}},E=(a(19),a(9),a(49));const x=async(e,t,a,o)=>{const i=Object(d.Q)(e,t,o),{ecommerceObject:n,itemsArray:l}=i;let c=[];c.push({event:"view_promotion",ecommerce:n,userType:a,items:l}),Object(E.p)("view_promotion",{data:c[0]})};var D=a(900),y=a(36),_=a(43);class A extends i.a.Component{constructor(){super(),this.state={valuesIndex:0},this.progressInterval=null}componentDidMount(){this.progressInterval=setInterval((()=>{this.setState({valuesIndex:this.state.valuesIndex+1})}),this.props.interval)}componentWillUnmount(){clearInterval(this.progressInterval)}render(){return this.props.children(this.props.values[this.state.valuesIndex])}}A.defaultProps={interval:1e3};var R=A,L=a(982),P=a(350);a(983);const w=(e,t)=>e?h.fg:t/h.Yf,M=e=>{const{SLIDE_CHANGE_INTERVAL:t,LIGHT:a,BLACK_COLOR:l,WHITE_COLOR:c}=T,{contentData:r=[],animationSpeed:s=t,clickHandler:u,clickImageAnalytics:v,isMobile:m=!1}=e,[b,O]=Object(o.useState)(0),j=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer));let p=Object(n.c)((e=>e.appStateReducer.userStatus));const{currencyShortName:h}=j,[I,S]=Object(o.useState)([]),[f,N]=Object(o.useState)(0);let C=(()=>{var e;return(null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.textColor.toUpperCase())===a?"white-color":"black-color"})();const E={nextIndex:b,viewPromotionEventCall:I,setviewPromotionEventCall:S,isElementInViewport:d.Hd};Object(P.c)(r,x,h,E,p);const A={dots:!0,infinite:!0,autoplaySpeed:1e3*s,slidesToShow:1,slidesToScroll:1,arrows:!1,adaptiveHeight:!0,autoplay:!0,accessibility:!0,beforeChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b;N(t!==r.length?t:0),C=(()=>{var e,t;return C=(null===r||void 0===r||null===(e=r[f])||void 0===e||null===(t=e.textColor)||void 0===t?void 0:t.toUpperCase())===a?"white-color":"black-color",C})(),O(Object(d.Tc)(t!==r.length,t,0))},customPaging:e=>{let t=(e+1).toLocaleString("en-US",{minimumIntegerDigits:2}),a="white-color"===C?c:l;return e===f?Object(g.jsx)(R,{values:[0,33,66,100],children:e=>Object(g.jsx)(L.a,{value:e,text:t,styles:Object(L.b)({pathTransitionDuration:w(false,s),textColor:a,pathColor:a}),tabIndex:"0"})}):Object(g.jsx)("div",{className:"".concat(C," carausel-paging"),"data-testid":"carausel-paging-handler-".concat(e),onClick:()=>N(e),"aria-label":"Slide ".concat(t),tabIndex:"0",role:"button",children:Object(g.jsx)("span",{className:"carausel-pagingNo",children:t})})}},[M,k]=Object(o.useState)(window.innerHeight>window.innerWidth);Object(o.useEffect)((()=>{if("onorientationchange"in window)return window.addEventListener("orientationchange",F),()=>{window.removeEventListener("orientationchange",F)}}),[]);const F=()=>{k(window.innerHeight<window.innerWidth)};return Object(g.jsx)(D.a,{settings:A,children:r.map(((e,t)=>{const{smallText:o,largeText:n,buttonText:l,showButton:c,desktopSrc:r,mobileSrc:s,alt:b,textColor:O,analyticsData:j}=e||{},p=c.toUpperCase()===T.YES_CONSTANT,I=M||m?s:r,S="".concat(l," for ").concat(n);return Object(g.jsx)(i.a.Fragment,{children:Object(g.jsxs)("div",{className:Object(d.Tc)(p,"removePointer","marketing-hero-img-div"),tabIndex:"0",role:"button","data-testid":"click-image-analytics-".concat(t),onClick:a=>(e=>{let{displayButton:t,e:a,clickImageAnalytics:o,analyticsData:i,ind:n,item:l,currencyShortName:d,clickHandler:c}=e;t||a.preventDefault(),o(i,n,l,d,c)})({displayButton:p,e:a,clickImageAnalytics:v,analyticsData:j,ind:t,item:e,currencyShortName:h,clickHandler:u}),children:[Object(g.jsx)(_.a,{"data-testid":"image-component",srcFile:I,isContentfulImage:!0,alt:b,className:"carausel-image"}),o&&Object(g.jsx)("div",{className:"".concat(O.toUpperCase()===a?"color-white":"color-black"," smallTxtHero"),children:o}),n&&Object(g.jsx)("div",{className:"".concat(O.toUpperCase()===a?"color-white":"color-black"," largeTextHero"),children:n}),p&&l&&Object(g.jsx)(y.a,{className:"button redButton carauselOrderNow ","aria-label":Object(d.md)(S),"data-testid":"click-handler-".concat(t),onClickHandler:()=>u(j,t,null,e),children:Object(g.jsx)("span",{children:l})})]},t)},t)}))})};M.defaultProps={};var k=M,F=a(18),U=a.n(F),H=a(908),W=a(76),B=a(173);const G=e=>{var t,a,i,u;const{routePath:v,hideNav:I}=e,[S,f]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),{userOrderStateDispatch:N}=Object(o.useContext)(W.a),T=Object(O.g)(),{marketPageContent:E,tenantReducerContent:x,userParams:D,brandPageContent:y,homePageContent:_}=Object(n.c)((e=>{var t,a,o,i;return{marketPageContent:null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response,tenantReducerContent:e.tenantReducer,userParams:null===(a=e.appStateReducer)||void 0===a?void 0:a.userStatus,brandPageContent:null===(o=e.brandPageReducer)||void 0===o?void 0:o.response,homePageContent:null===(i=e.contentReducer)||void 0===i?void 0:i.response}})),{header:A={},footer:R={}}=null!==(t=E.headerData)&&void 0!==t?t:{},{headerData:L={}}=null!==y&&void 0!==y?y:{},{carousalContent:{fields:{carousalContent:P=""}={}}={},seoPage:{fields:{title:w=""}={}}={}}=L,M=null!==(a=P&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var t,a,o,i;const{headline:n="",subHeadline:l,altText:d="",showButton:c="",buttonType:r="",background:s="",onClick:u,name:v}=e.fields,{fields:m={}}=e.fields.analyticsData||{},{url:b}=(null===(t=e.fields.desktopImage)||void 0===t||null===(a=t.fields)||void 0===a?void 0:a.file)||{},{url:O}=(null===(o=e.fields.mobileImage)||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.file)||{};return{smallText:n,largeText:l,alt:d,desktopSrc:b,mobileSrc:O,buttonText:r,showButton:c,textColor:s,analyticsData:m,linkTo:u,name:v}}))}(P))&&void 0!==a?a:[],F=Object(d.cc)(A),G=Object(d.Sb)(R),V=null!==(i=Object(d.bc)(_))&&void 0!==i?i:{},Y=Object(n.b)(),{DISPOSITION:z}=b.default,K=Object(g.jsxs)(g.Fragment,{children:[null!==(u=Object(d.Kd)(M)&&Object(g.jsx)("div",{className:"market-hero",children:Object(g.jsx)(k,{contentData:M,isMobile:S})}))&&void 0!==u?u:null,Object(g.jsx)(C,{...L})]}),q=()=>{const e=Object(d.Ud)(window.innerWidth);f(e)};return Object(o.useEffect)((()=>{L.title&&v&&v===h.N&&(document.title=L.title)}),[L.title]),Object(o.useEffect)((()=>(window.addEventListener("resize",q),()=>{window.removeEventListener("resize",q)})),[S]),Object(o.useEffect)((()=>(N({type:B.a.SET_HIDE_DISPOSITION_BAR,value:{hideDispositionBar:!0}}),()=>{N({type:B.a.SET_HIDE_DISPOSITION_BAR,value:{hideDispositionBar:!1}})})),[N]),Object(o.useEffect)((()=>{v&&Y(Object(l.c)({object:Object(c.a)(),contentFull:{content_type:p.c.Template2,"fields.routePath":v,include:5}}))}),[Y,v]),Object(o.useEffect)((()=>{Y(Object(j.l)(x))}),[Y,null===x||void 0===x?void 0:x.country]),Object(g.jsxs)(g.Fragment,{children:[!U()(w)&&Object(g.jsx)(H.a,{page:w}),F&&(!I||!1===I)&&Object(g.jsx)(r.default,{contentData:F,tenantReducerData:x,userParams:D}),Object(g.jsx)(m.a,{contentData:{segmentedHomePageData:null===V||void 0===V?void 0:V[z],contentDispositionData:null===V||void 0===V?void 0:V[z]},userParams:D,showHeader:!1}),!U()(L)&&K,G&&(!I||!1===I)&&Object(g.jsx)(s.a,{history:T,contentData:G,tenantReducerData:x})]})};G.defaultProps={history:{}};var V=G;var Y=e=>{var t;let{scrollRotation:a,isPositionRight:o,data:i,isSocialImpactPage:n}=e;const{ctaButton:l,description:d,headline:c,image:r,imageText:s}=(null===(t=i[0])||void 0===t?void 0:t.fields)||{},{buttonText:u=""}=(null===l||void 0===l?void 0:l.fields)||{},{file:v}=(null===r||void 0===r?void 0:r.fields)||{},m=Object(O.g)();return Object(g.jsx)("div",{className:"block-container",children:Object(g.jsx)("div",{className:"sub-container",children:Object(g.jsxs)("div",{className:"two-column-section",children:[Object(g.jsxs)("div",{className:(b=a,j=o,p=n,"image-section \n  ".concat(b&&(j?"position-right":"position-left")," \n  ").concat(j&&"image-right"," \n  ").concat(p&&"img-order","\n ")),children:[s&&Object(g.jsx)("span",{className:"image-text",children:s}),Object(g.jsx)(_.a,{srcFile:null===v||void 0===v?void 0:v.url})]}),Object(g.jsxs)("div",{className:"desc-section ".concat(a?"pr":"pl"," ").concat(o?"right-desc":"left-desc"),children:[c&&Object(g.jsx)("h2",{className:"heading-section",children:c}),Object(g.jsx)("div",{className:"short-desc-section",children:null===d||void 0===d?void 0:d.content.map(((e,t)=>{var a,o,i,c;const{content:r}=e;return Object(g.jsxs)(g.Fragment,{children:[(!n||(null===d||void 0===d||null===(a=d.content)||void 0===a?void 0:a.length)-1!==t)&&Object(g.jsx)("span",{className:"p2 ".concat(0!==t&&"mtop"),children:null===(o=r[0])||void 0===o?void 0:o.value}),(null===d||void 0===d||null===(i=d.content)||void 0===i?void 0:i.length)-1===t&&l&&Object(g.jsxs)("div",{className:"learn-more-container mtop",children:[Object(g.jsx)("span",{className:"learn-more-text",children:null===(c=r[0])||void 0===c?void 0:c.value}),Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button transparent-btn black-border",onClick:()=>{var e,t,a;return null!==l&&void 0!==l&&null!==(e=l.fields)&&void 0!==e&&e.url?m.push(null===l||void 0===l||null===(t=l.fields)||void 0===t?void 0:t.url):window.open(null===l||void 0===l||null===(a=l.fields)||void 0===a?void 0:a.externalUrl,"_blank")},"data-testid":"find-out-more",children:u})})]})]})}))})]})]})})});var b,j,p},z=a(15);var K=e=>{let{data:t}=e;const[a,i]=Object(o.useState)(0),[n,l]=Object(o.useState)([]),[c,r]=Object(o.useState)(null),[s,u]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),v=Object(O.g)(),m=function(){var e,a,o,i,n;let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const c=null===(e=t[d])||void 0===e||null===(a=e.fields)||void 0===a||null===(o=a.description)||void 0===o?void 0:o.content,s=null===(i=t[d])||void 0===i||null===(n=i.fields)||void 0===n?void 0:n.ctaButton,u=[];null===c||void 0===c||c.map((e=>u.push(null===e||void 0===e?void 0:e.content[0]))),l(u),r(s)};Object(o.useEffect)((()=>{m()}),[]),Object(o.useEffect)((()=>{window.addEventListener("resize",b)}),[s]);const b=()=>{u(Object(d.Ud)(window.innerWidth))},j=e=>{var t;return Object(g.jsxs)(g.Fragment,{children:[n.forEach((e=>(null===e||void 0===e?void 0:e.value)&&Object(g.jsx)("span",{className:"banner-desc",children:null===e||void 0===e?void 0:e.value}))),c&&Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button blackButton blackBorder local-theme-btn",onClick:()=>{var e,t,a;return null!==c&&void 0!==c&&null!==(e=c.fields)&&void 0!==e&&e.url?v.push(null===c||void 0===c||null===(t=c.fields)||void 0===t?void 0:t.url):window.open(null===c||void 0===c||null===(a=c.fields)||void 0===a?void 0:a.externalUrl,"_blank")},"data-testid":e,children:null===c||void 0===c||null===(t=c.fields)||void 0===t?void 0:t.buttonText})})]})};return Object(g.jsx)("div",{className:"local-theme-banner",children:Object(g.jsxs)("div",{className:"banner-container",children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsxs)("div",{className:"column-container",children:[Object(g.jsx)("div",{className:"column-one",children:t.map(((e,o)=>{var n;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"banner-heading ".concat(a!==o&&"inactive"),onClick:()=>{m(o),i(o)},"data-testId":"banner-heading-theme",children:null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.headline}),a===o&&s&&Object(g.jsx)(g.Fragment,{children:j("find-out-more-theme-mobile")}),o!==(null===t||void 0===t?void 0:t.length)-1&&Object(g.jsx)("div",{className:"line"})]})}))}),!s&&Object(g.jsx)("div",{className:"column-two",children:j("find-out-more-theme")})]})]})})};var q=e=>{let{data:t}=e;const{headline:a,description:o}=null===t||void 0===t?void 0:t.fields,{content:i}=null===o||void 0===o?void 0:o.content[0];return Object(g.jsxs)("div",{className:"\n      para-container \n      d-flex \n      flex-column \n      align-items-md-center\n      text-lg-center text-left",children:[a&&Object(g.jsx)("span",{className:"para-heading",children:a}),i.map((e=>Object(g.jsx)("span",{className:"p1",children:null===e||void 0===e?void 0:e.value})))]})};var J=e=>{let{data:t}=e;const{headline:a,bg:o,fg:i}=t,{file:n}=(null===o||void 0===o?void 0:o.fields)||(null===i||void 0===i?void 0:i.fields);return Object(g.jsxs)("div",{className:"social-impact-banner","data-testid":"social-impact-banner",children:[Object(g.jsx)("div",{className:"strip-icon d-flex justify-content-center",children:Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIconWhite})}),Object(g.jsxs)("div",{className:"banner-container d-flex align-items-center flex-column flex-lg-row justify-content-around",children:[Object(g.jsx)("div",{className:"column-one",children:Object(g.jsx)("h1",{className:"banner-heading",children:a})}),Object(g.jsx)("div",{className:"column-two",children:Object(g.jsx)(_.a,{srcFile:null===n||void 0===n?void 0:n.url})})]})]})};var Q=e=>{let{data:t}=e;return Object(g.jsx)("div",{className:"d-flex flex-column flex-lg-row  three-column-container",children:t.map((e=>{const{description:t,headline:a}=null===e||void 0===e?void 0:e.fields,{content:o}=null===t||void 0===t?void 0:t.content[0];return Object(g.jsxs)("div",{className:"coulm-container d-flex flex-column align-items-lg-center align-items-start",children:[Object(g.jsxs)("h3",{className:"column-heading text-center",children:[a," ",Object(g.jsx)("span",{className:"d-sm-block d-md-none",children:":"})," "]}),o.map((e=>Object(g.jsx)("span",{className:"column-desc text-lg-center text-left",children:null===e||void 0===e?void 0:e.value})))]})}))})};var X=e=>{let{data:t}=e;const a=Object(O.g)();return Object(g.jsx)("div",{className:"card-banner",children:Object(g.jsx)("div",{className:"card-row",children:t.map(((e,t)=>{const{ctaButton:o,description:i,headline:n}=null===e||void 0===e?void 0:e.fields,{content:l}=null===i||void 0===i?void 0:i.content[0],{buttonText:d}=null===o||void 0===o?void 0:o.fields;return Object(g.jsxs)("div",{className:"card-container ".concat(0===t&&"container-margin"),children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsx)("span",{className:"card-heading",children:n}),null===l||void 0===l?void 0:l.map((e=>Object(g.jsx)("span",{className:"card-short-desc",children:null===e||void 0===e?void 0:e.value}))),o&&Object(g.jsx)("span",{className:"find-more-btn",children:Object(g.jsx)(y.a,{className:"button transparent-btn black-border",onClick:()=>{var e,t,i;return null!==o&&void 0!==o&&null!==(e=o.fields)&&void 0!==e&&e.url?a.push(null===o||void 0===o||null===(t=o.fields)||void 0===t?void 0:t.url):window.open(null===o||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.externalUrl,"_blank")},"data-testid":"btn-two-coloumn",children:d})})]})}))})})};var Z=e=>{let{text:t}=e;return Object(g.jsxs)("div",{className:"quotes-section d-flex justify-content-center",children:[Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.RightQuotes}),Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.RightQuotes})]}),Object(g.jsx)("span",{className:"quote-desc text-center",children:t}),Object(g.jsxs)("div",{className:"d-flex align-items-center",children:[Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.LeftQuotes}),Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.LeftQuotes})]})]})};var $=e=>{var t,a,o;let{data:i}=e;const{headline:n,ctaButton:l,noteLine:c,image:r}=Object(d.kd)(null===i||void 0===i?void 0:i.fields),s=Object(O.g)();return Object(g.jsx)("div",{className:"kfc-timeline-banner container-fluid d-flex align-items-center justify-content-center",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-12 col-md-6 d-flex align-items-center flex-column justify-content-center mb-5 mb-md-0",children:[Object(g.jsx)("span",{className:"banner-heading text-center",children:n}),Object(g.jsx)("span",{className:"learn-more-text text-center",children:c}),l&&Object(g.jsx)("span",{className:"text-center",children:Object(g.jsx)(y.a,{className:"button black-border redButton",onClick:()=>{var e,t,a;return null!==l&&void 0!==l&&null!==(e=l.fields)&&void 0!==e&&e.url?s.push(null===l||void 0===l||null===(t=l.fields)||void 0===t?void 0:t.url):window.open(null===l||void 0===l||null===(a=l.fields)||void 0===a?void 0:a.externalUrl,"_blank")},"data-testid":"company-history",children:null===l||void 0===l||null===(t=l.fields)||void 0===t?void 0:t.buttonText})})]}),Object(g.jsx)("div",{className:"col-12 col-md-6 d-flex text-center align-items-center justify-content-center",children:Object(g.jsx)(_.a,{srcFile:null===r||void 0===r||null===(a=r.fields)||void 0===a||null===(o=a.file)||void 0===o?void 0:o.url})})]})})},ee=a(978);var te=e=>{let{data:t}=e;const{headline:a,noteLine:o,bg:i,fg:n}=t,{file:l}=(null===i||void 0===i?void 0:i.fields)||(null===n||void 0===n?void 0:n.fields),d=null===a||void 0===a?void 0:a.trim().split(" ");return Object(g.jsxs)("div",{className:"brand-page-banner d-flex align-items-center flex-column","data-testid":"brand-page-banner",children:[Object(g.jsx)("div",{className:"strip-icon",children:Object(g.jsx)(_.a,{srcFile:null===z.a||void 0===z.a?void 0:z.a.StripesIcon})}),Object(g.jsxs)("div",{className:"banner-container text-center d-flex align-items-center flex-column",children:[Object(g.jsx)("h1",{className:"banner-heading-sm",children:null===d||void 0===d?void 0:d.slice(0,2).join(" ")}),Object(g.jsx)("h1",{className:"banner-heading-lg",children:null===d||void 0===d?void 0:d[2]}),Object(g.jsx)("div",{className:"banner-short-desc",children:o})]}),Object(g.jsx)("div",{className:"banner-ribbon-icon",children:Object(g.jsx)(_.a,{srcFile:null===l||void 0===l?void 0:l.url})})]})};const ae=e=>{const{pageData:t,routePath:a}=e,{BRAND_PAGE_HERO:o,INTROCOPY:i,FEATURE:n,KEY_FIGURES:l,FEATURE_INTERACTIVE:d,SECTION_LINK_CARDS:c,QUOTES:r,BRAND_PAGE_TEXT:s,SECTION_LINK_HERO:u,STATIC_BRAND_PAGE:v}=h.D,{meetTheColonel:m,socialImpact:b}=p.b;return null===t||void 0===t?void 0:t.map(((e,t)=>{var O,j,p,h,I;const{imageAlign:S="",body:f,columncontent:N,scrollRotation:C="",description:T}=null===e||void 0===e?void 0:e.fields;switch(null!==(O=null===e||void 0===e||null===(j=e.sys)||void 0===j||null===(p=j.contentType)||void 0===p||null===(h=p.sys)||void 0===h?void 0:h.id)&&void 0!==O?O:""){case o:return a===m?Object(g.jsx)(te,{data:null===e||void 0===e?void 0:e.fields}):Object(g.jsx)(J,{data:null===e||void 0===e?void 0:e.fields});case i:case s:return Object(g.jsx)(q,{data:f||e});case n:return Object(g.jsx)(Y,{isPositionRight:"Left"!==S,scrollRotation:!!C,data:f,isSocialImpactPage:a===b,index:t});case l:return Object(g.jsx)(Q,{data:N});case d:return Object(g.jsx)(K,{data:f});case c:return Object(g.jsx)(X,{data:f});case r:return Object(g.jsx)(Z,{text:T});case u:return Object(g.jsx)($,{data:null===e||void 0===e||null===(I=e.fields)||void 0===I?void 0:I.headline});case v:return Object(g.jsx)(ee.a,{data:null===e||void 0===e?void 0:e.fields});default:return null}}))};ae.defaultProps={pageData:[]};var oe=ae},1011:function(e,t,a){"use strict";var o=a(3),i=a(73),n=a(25),l=a(5),d=a(11),c=a(121),r=a(36),s=a(102),u=a(0),v=a(15),m=a(2);const b=e=>{const{isOpen:t,handleClose:a,OrderReducerData:i}=e,[n,d]=Object(o.useState)(Object(l.Ud)(window.innerWidth)),r=window.google,{RedMarker:s,BlackMarker:b}=v.a;Object(o.useEffect)((()=>(window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)})));const O=()=>{d(Object(l.Ud)(window.innerWidth))},j=n?{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,closeButtonHandler:a,autoFocus:!0}:{id:"OrderSaveModalPopup",role:"dialog",modalTitleId:"OrderSaveModalPopup",show:t,classNames:"LookUpmap-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:a,autoFocus:!0};function p(){var e,t,a,o;const n=new r.maps.DirectionsService,l=new r.maps.DirectionsRenderer,d=new r.maps.Map(document.getElementById("maps"),{zoom:16,center:{lat:Number(null===i||void 0===i||null===(e=i.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===i||void 0===i||null===(a=i.store)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude)}});l.setMap(d),function(e,t){var a,o,n,l,d,c,s,u,v,m,O,j;const p={lat:Number(null===i||void 0===i||null===(a=i.store)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.latitude),lng:Number(null===i||void 0===i||null===(n=i.store)||void 0===n||null===(l=n.location)||void 0===l?void 0:l.longitude)},h=new r.maps.Map(document.getElementById("maps"),{zoom:16,center:p});e.route({origin:{lat:Number(null===i||void 0===i||null===(d=i.store)||void 0===d||null===(c=d.location)||void 0===c?void 0:c.latitude),lng:Number(null===i||void 0===i||null===(s=i.store)||void 0===s||null===(u=s.location)||void 0===u?void 0:u.longitude)},destination:{lat:Number(null===i||void 0===i||null===(v=i.store)||void 0===v||null===(m=v.location)||void 0===m?void 0:m.latitude),lng:Number(null===i||void 0===i||null===(O=i.store)||void 0===O||null===(j=O.location)||void 0===j?void 0:j.longitude)},travelMode:r.maps.TravelMode.DRIVING},((e,a)=>{if("OK"===a){t.setDirections(e);var o=e.routes[0].legs[0];new r.maps.Marker({position:o.end_location,map:h,visible:!0,icon:b,title:"Delivery-Location"})}else new r.maps.Map(document.getElementById("maps"),{zoom:6,center:{lat:20.5937,lng:78.9629}})}))}(n,l)}return Object(o.useEffect)((()=>{null!==(null===i||void 0===i?void 0:i.deliveryAddress)&&null!==(null===i||void 0===i?void 0:i.store)&&Object(l.ef)(null===i||void 0===i?void 0:i.service)===Object(l.ef)(u.yb)?p():Object(l.ef)(null===i||void 0===i?void 0:i.service)!==Object(l.ef)(u.ee)&&Object(l.ef)(null===i||void 0===i?void 0:i.service)!==Object(l.ef)(u.Eb)||null===(null===i||void 0===i?void 0:i.store)||function(){var e,t,a,o;const n={lat:Number(null===i||void 0===i||null===(e=i.store)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude),lng:Number(null===i||void 0===i||null===(a=i.store)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.longitude)},l=new r.maps.Map(document.getElementById("maps"),{zoom:16,center:n});new r.maps.Marker({position:n,map:l,visible:!0,icon:s,title:"KFC Store"})}()})),Object(m.jsx)("div",{children:t&&Object(m.jsx)(c.a,{...j,children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{id:"maps"})})})})};b.defaultProps={isOpen:!1,closeModal:null};var O=b,j=a(924),p=a(6),h=a(103),g=a(220),I=a(62),S=a(277),f=a(336);const{phoneImg:N,Direction:C}=v.a;let T=0;const E=(e,t,a)=>{let o={...e},i=o.errorMessage;var n;return o.value=t,t?(n=t,j.a.EMAIL_REGEX.test(n)?(T=0,o.error=!1,o.errorMessage=""):(o.error=!0,o.errorMessage=Object(p.translateWithI18Next)("invalidYourEmailErrText"),a(!0))):(o.error=!0,o.errorMessage=Object(p.translateWithI18Next)("yourEmailHelpText"),a(!0)),i!==o.errorMessage&&(T=0),o.error&&0===T&&(T=1,Object(l.Kb)("OrderLookup",o.errorMessage)),o},x=(e,t,a,o)=>{var i,n;return(null===e||void 0===e||null===(i=e.discountLines)||void 0===i?void 0:i.length)>0&&Object(m.jsxs)("div",{className:"priceList",children:[Object(m.jsxs)("span",{className:"fonts",children:[Object(p.translateWithI18Next)(o)," (",null===e||void 0===e||null===(n=e.discountLines[0])||void 0===n?void 0:n.couponCode,")"]}),Object(m.jsxs)("span",{className:"amount",children:[" ","- ",t,a]})]})};t.a=e=>{var t,a,u;const{isOpen:v=!1,handleClose:b}=e,T=Object(n.b)(),D=Object(n.c)((e=>e.tenantReducer)),{tenantId:y,currencySymbol:_,currencyConversionFactor:A,addHope:R,carryBag:L}=D,[P,w]=Object(o.useState)(Object(l.Ud)(window.innerWidth)),[M,k]=Object(o.useState)(""),[F,U]=Object(o.useState)(0),[H,W]=Object(o.useState)([]),[B,G]=Object(o.useState)([]),[V,Y]=Object(o.useState)(0),[z,K]=Object(o.useState)(""),[q,J]=Object(o.useState)(""),[Q,X]=Object(o.useState)(!1),[Z,$]=Object(o.useState)(!1),[ee,te]=Object(o.useState)(!1),[ae,oe]=Object(o.useState)({}),[ie,ne]=Object(o.useState)(!0),[le,de]=Object(o.useState)(""),[ce,re]=Object(o.useState)(""),[se,ue]=Object(o.useState)(""),[ve,me]=Object(o.useState)(0),[be,Oe]=Object(o.useState)(0),[je,pe]=Object(o.useState)([]),[he,ge]=Object(o.useState)({value:"",errorMessage:"",error:!1}),[Ie,Se]=Object(o.useState)({value:"",errorMessage:"",error:!1}),[fe,Ne]=Object(o.useState)({value:"",errorMessage:"",error:!1}),{PHONE_NUM:Ce,ORDER_NUMBER:Te,CANCEL:Ee,SUBMIT:xe,ORDERHASH:De,YOUR_ORDER:ye,DELIVER_TO:_e,ORDER_FROM:Ae,GET_DIRECTION:Re,DISCOUNT:Le,TOTAL:Pe,COMPLETED:we,SUB_TOTAL:Me,PAYMENT:ke,ORDER_LOOKUP:Fe,EMAIL_ADDRESS:Ue,DELIVERY:He,SEARCH_IN_CART:We,largeCarryBagText:Be,addHopeText:Ge}=j.a;Object(o.useEffect)((()=>(window.addEventListener("resize",Ve),()=>{window.removeEventListener("resize",Ve)})),[P]);const Ve=()=>{w(Object(l.Ud)(window.innerWidth))};Object(o.useEffect)((()=>{T(Object(g.a)({object:Object(I.a)(),contentFull:{content_type:"tenders",include:5,select:"sys.id,fields"}}))}),[]),Object(o.useEffect)((()=>{""===he.value||he.error||""===Ie.value||Ie.error||""===fe.value||fe.error||ne(!1)})),Object(o.useEffect)((()=>{""===fe.value.trim()&&ne(!0)}),[null===fe||void 0===fe?void 0:fe.value]);const{tendersContent:Ye}=Object(n.c)((e=>e.paymentsContentReducer)),{items:ze}=Ye,Ke=e=>(e/A).toFixed(2);Object(o.useEffect)((()=>T(Object(s.a)({emailId:he.value,phoneNo:Ie.value,orderNo:fe.value}))),[]);const qe=Object(n.c)((e=>e.orderReducer)),{pastOrderResponse:Je=[{}]}=qe,Qe=Je[0];Object(o.useEffect)((()=>{Object(l.db)(null===ze||void 0===ze?void 0:ze.length,null===Qe||void 0===Qe?void 0:Qe.paymentReferences)&&ze.forEach((e=>{e.fields.title===Qe.paymentReferences[0].paymentType&&oe(e)}))}),[Qe]),Object(o.useEffect)((()=>{if(null!==Qe&&void 0!==Qe&&Qe.id){X(!1),te(!0);const e=Qe.fulfillmentDateTime,t=Object(d.h)(Object(d.M)(e),"ll"),a=Object(d.h)(Object(d.M)(e),"h:mm A");if(k(t+" at "+a),W(Qe.taxLines),G(Qe.additionalChargeLines),Y(Ke(Qe.discountTotal)),J(function(e){e.substr(0,e.indexOf(" "));const t=e.substr(e.indexOf(" ")+1);return t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}(Qe.store.phoneNumber)),U(Ke(Qe.subTotal)),K(Ke(Qe.total)),de(Qe.service),Object(l.db)(R,L)){((e,t,a,o,i,n,d)=>{const{setAddHopeDataExistsId:c,setAddHopeDataPrice:r}=i,{setCarryBagDataExistsId:s,setCarryBagDataPrice:u}=n,{currencyConversionFactor:v}=d;let m=e.foodLines.length?Object(l.bb)(e.foodLines,t,v,o):{},b=Object(l.md)(null===m||void 0===m?void 0:m.id);if(c(b),b){let t=e.foodLines.find((e=>e.id===b));r(Object(S.a)(t.amount,d))}let O=e.foodLines.length?Object(l.nb)(e.foodLines,a,v,o):{},j=Object(l.md)(null===O||void 0===O?void 0:O.id);if(s(j),j){let t=e.foodLines.find((e=>e.id===j));u(Object(S.a)(t.amount,d))}})(Qe,R,L,We,{setAddHopeDataExistsId:ue,setAddHopeDataPrice:me},{setCarryBagDataExistsId:re,setCarryBagDataPrice:Oe},D);let e=((e,t,a)=>e.filter((e=>{var o,i;return(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.name)!==t&&(null===(i=e.item)||void 0===i?void 0:i.name)!==a})))(Qe.foodLines,R,L);pe(e)}}else Qe||(te(!1),X(!0),Object(l.Kb)("OrderLookup",Object(p.translateWithI18Next)("invaidInputs")),ne(!0))}),[Je]);const Xe=P?{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:v,classNames:Object(l.Tc)(ee,"lookup-order-modal","Base-modal"),showCloseBtn:!0,closeButtonHandler:b,autoFocus:!0,modalTitle:Object(p.translateWithI18Next)(Fe),closeDataTestId:"close-quick-reorder-modal"}:{id:"OrderlookUpPopup",role:"dialog",modalTitleId:"OrderlookUpPopup",show:v,classNames:Object(l.Tc)(ee,"lookup-order-modal","Base-modal"),showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:b,modalTitle:"ORDER LOOKUP",autoFocus:!0,closeDataTestId:"close-quick-reorder-modal"};const Ze=(e,t)=>{X(!1);let a=e.target.value;if(Object(l.we)(a,t)){let e=a.replace(/\+|-/gi,"");Se({...Object(l.vf)(Ie,e,ne)})}t===Ue&&ge({...E(he,a,ne)}),t===Te&&Ne({...Object(l.wf)(fe,a,ne)})},$e=Object(m.jsxs)("div",{className:"priceList",children:[Object(m.jsx)("span",{className:"fonts",children:"GST"}),Object(m.jsxs)("span",{className:"amount",children:[_,Ke(null===Qe||void 0===Qe?void 0:Qe.inclusiveTaxTotal)," "]})]}),et=B.map((function(e,t){return Object(m.jsxs)("div",{className:"priceList",children:[Object(m.jsxs)("span",{className:"fonts",children:[" ",e.chargeType]}),Object(m.jsxs)("span",{className:"amount",children:[_,Ke.call(this,e.amount)," "]})]},t)})),tt=Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"InputArea",children:[Object(m.jsx)("h3",{className:"InputHeading",children:"Enter your order Number"}),Object(m.jsxs)("div",{className:"inputLookUpNumbox",children:[!P&&Object(m.jsx)("p",{className:"lookup-mandatory-note",children:Object(p.translateWithI18Next)("mandatorynote")}),Object(m.jsx)(h.a,{"data-testid":"user-phoneNum",type:"number",autoComplete:"on",value:Ie.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Ce),onChange:e=>Ze(e,Ce),helperText:Ie.errorMessage,error:Ie.error}),Object(m.jsx)(h.a,{"data-testid":"user-orderId",autoComplete:"off",value:fe.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Te),onChange:e=>Ze(e,Te),helperText:fe.errorMessage,error:fe.error}),Object(m.jsx)(h.a,{"data-testid":"user-email",autoComplete:"on",value:he.value,labelClassName:"info-labelData",inputClassName:"info-inputData",helperTextClassName:"error-text",placeholder:Object(p.translateWithI18Next)(Ue),onChange:e=>Ze(e,Ue),helperText:he.errorMessage,error:he.error})]}),Q&&Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"exMark",children:"!"}),Object(m.jsx)("span",{className:"errorMessage",children:Object(p.translateWithI18Next)("invaidInputs")})]})]}),Object(m.jsxs)("div",{className:"buttonItems",children:[Object(m.jsx)(r.a,{"data-testid":"cancel-button",ariaLable:"cancel",className:"button whiteButton blackBorder closebtn-cls",onClick:e=>ot(),children:Ee}),Object(m.jsx)(r.a,{"data-testid":"submit-button",ariaLable:"submit",className:"button blackButton blackBorder save-button",onClick:e=>at(e),disabled:ie,children:xe})]})]}),at=e=>{""!==Object(l.db)(he.value,Object(l.db)(Ie.value,fe.value))&&T(Object(s.d)({emailId:he.value,phoneNo:Ie.value,orderNo:fe.value,tenantId:y}))},ot=()=>{te(!1),b(),T(Object(s.a)({emailId:he.value,phoneNo:Ie.value,orderNo:fe.value}))};const it="tel:"+(null===Qe||void 0===Qe||null===(t=Qe.store)||void 0===t?void 0:t.phoneNumber);return Object(i.createPortal)(Object(m.jsxs)("div",{children:[v&&!ee&&Object(m.jsx)(c.a,{...Xe,children:Object(m.jsx)("div",{className:"LookUpmodalContants",children:tt})}),v&&ee&&Qe&&Object(m.jsx)(c.a,{...Xe,children:Object(m.jsx)("div",{className:"LookUpmodalContants",children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"orderLookUpData",children:[Object(m.jsxs)("div",{className:"Orderheading",children:[Object(m.jsx)("span",{className:"yourOrder",children:ye}),Object(m.jsxs)("span",{className:"idNumber",children:[De,Qe.posOrderId]})]}),Object(m.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(m.jsx)("span",{className:"completed",children:we}),Object(m.jsx)("span",{className:"dateCompleted",children:M})]}),Object(l.ef)(null===Qe||void 0===Qe?void 0:Qe.service)===He&&null!==(null===Qe||void 0===Qe?void 0:Qe.deliveryAddress)&&Object(m.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(m.jsx)("span",{className:"completed",children:_e}),Object(m.jsx)("span",{className:"dateCompleted",children:Object(l.a)(null===Qe||void 0===Qe?void 0:Qe.deliveryAddress)})]}),Object(m.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(m.jsx)("span",{className:"completed",children:ke}),Object(m.jsx)("span",{className:"dateCompleted",children:"Only image"===ae.fields.displayFormat?Object(m.jsx)("img",{src:ae.fields.icon.fields.desktopImage.fields.file.url,alt:"paymentMethod"}):Object(m.jsx)("span",{className:"dateCompleted",children:ae.fields.displayName})})]}),Object(m.jsxs)("div",{className:"CompletedDateAndTime",children:[Object(m.jsxs)("span",{className:"completed",children:[" ",Ae]}),null!==Qe.store&&void 0!==Qe.store&&Object(m.jsxs)("span",{className:"dateCompleted",children:[Qe.store.name,Object(m.jsx)("br",{}),null===Qe||void 0===Qe||null===(a=Qe.store)||void 0===a||null===(u=a.address)||void 0===u?void 0:u.addressLines]})]}),Object(m.jsxs)("div",{className:"CompletedCallAndDirection",id:"DirectionTest",children:[Object(m.jsx)("span",{children:" "}),Object(m.jsxs)("span",{className:"callAndDirection",children:[Object(m.jsxs)("span",{className:"KfcphoneNums",children:[Object(m.jsx)("img",{src:N,alt:"phone",className:"KfcphoneIcon"}),Object(m.jsx)("a",{href:it,className:"anchorTags",children:q})]}),Object(m.jsxs)("span",{className:"KfcphoneNums",id:"DirectionClick",onClick:()=>{$(!0)},children:[Object(m.jsx)("img",{src:C,alt:"phone",className:"KfcDirectionIcon"}),Object(p.translateWithI18Next)(Re)]})]})]}),Object(m.jsx)("div",{className:"detailsAccordian",children:Object(f.d)(je,_,A)}),Object(m.jsxs)("div",{className:"price",children:[Object(m.jsx)("span",{className:"fonts",children:Object(p.translateWithI18Next)(Me)}),Object(m.jsxs)("span",{className:"amount",children:[_,F]})]}),H&&Object(m.jsx)("div",{children:$e}),B&&Object(m.jsx)("div",{children:et}),x(Qe,_,V,Le),"PICKUP"===le.toUpperCase()&&ce&&Object(m.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(m.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(p.translateWithI18Next)(Be)}),Object(m.jsx)("span",{className:"amount",id:"amountStyle",children:be})]}),Boolean(se)&&Object(m.jsxs)("div",{className:"priceList",id:"priceListData",children:[Object(m.jsx)("span",{className:"fonts",id:"fontStyle",children:Object(p.translateWithI18Next)(Ge)}),Object(m.jsx)("span",{className:"amount",id:"amountStyle",children:ve})]}),z&&Object(m.jsxs)("div",{className:"totalAmount",children:[Object(m.jsx)("span",{className:"total",children:Pe}),Object(m.jsxs)("span",{className:"total",children:[_,z]})]})]}),Object(m.jsxs)("div",{className:"buttonItemsDone",children:[Object(m.jsx)(r.a,{"data-testid":"cancel-button",className:"button whiteButton blackBorder closebtn-cls",id:"lookupButton",onClick:e=>{te(!1)},children:Object(p.translateWithI18Next)("backButton")}),Object(m.jsx)(r.a,{"data-testid":"submit-button",className:"button blackButton blackBorder save-button",onClick:e=>ot(),children:Object(p.translateWithI18Next)("popoverDoneButton")})]})]})})}),Z&&Object(m.jsx)("div",{children:Object(m.jsx)(O,{"data-testid":"map-modal",isOpen:Z,handleClose:()=>$(!1),OrderReducerData:Qe})})]}),document.getElementById("modal-popups"))}},1013:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(38),l=a(325),d=a(6),c=a(5),r=a(76),s=a(0),u=a(15),v=a(2);t.a=e=>{const{userOrderState:t}=i.a.useContext(r.a),{dispositionStateData:a={}}=t,{DISPOSITION_TYPE:m}=s.gd,{dispositionType:b=localStorage.getItem(m)}=a,{locationAlertProp:O,negativeScenarioAlertProp:j,isMobile:p,onPositionChangeHandler:h,centerIndex:g,isVisible:I,setShowCard:S,locationAlert:f,setStoreMarker:N=c.L,passAddress:C,storeCardHeight:T,latLongValue:E,isMarkerVisible:x=!0,style:D,defaultZoom:y=10,shouldShowMarkerWithText:_=b!==s.Af,useLatLngForReverseGeocode:A=!1,markerDragValue:R=!1,showLabelOnMapPin:L}=e,{PLACE_PIN:P}=n.a,{RedMarker:w,RedMarkerNoText:M,BlackMarker:k,ArrowIcon:F}=u.a,U=Object(o.useRef)(null),H=Object(o.useRef)(null),W=Object(o.useRef)([]),[B,G]=Object(o.useState)(!1),[V,Y]=Object(o.useState)(y),[z,K]=Object(o.useState)(E),[q,J]=Object(o.useState)(!1),[Q,X]=Object(o.useState)(g);Object(o.useEffect)((()=>{H.current=Z(z),W.current=ee(z)}),[]),Object(o.useEffect)((()=>{B||K(E)}),[E]),Object(o.useEffect)((()=>{if(W.current&&H.current){const e=H.current,t=W.current;z.length!==t.length&&(t.forEach((e=>{e.setMap(null)})),W.current=ee(z)),Array.isArray(z)&&z.length>0?(z.forEach(((e,a)=>{t[a]&&t[a].setPosition(e)})),e.setCenter(z[g])):(t[0]&&t[0].setPosition(z),e.setCenter(z))}}),[z,g]),Object(o.useEffect)((()=>{if(W.current&&H.current){W.current.forEach(((e,t)=>{t===Q?e.setIcon($()):e.setIcon(k)}))}}),[Q]);const Z=e=>new window.google.maps.Map(U.current,{zoom:V,center:Array.isArray(e)&&e.length>0?e[g]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!p,gestureHandling:"greedy"}),$=()=>_&&L?w:M,ee=e=>{const t=new window.google.maps.Geocoder;let a=e;const o=H.current;I?(o.addListener("zoom_changed",(()=>{const e=W.current[g];e&&(N(e.internalPosition),S(!0)),J(!0)})),o.addListener("drag",(()=>{J(!0)}))):(o.addListener("drag",(()=>{R||(Y(null===o||void 0===o?void 0:o.getZoom()),a={lat:o.getCenter().lat(),lng:o.getCenter().lng()},W.current[0]&&W.current[0].setPosition(a))})),o.addListener("dragend",(function(){R||(Y(null===o||void 0===o?void 0:o.getZoom()),te(t,o,a),G(!0))})));let i=(Array.isArray(a)&&a.length>0?a:[a]).map(((e,a)=>{let i=new window.google.maps.Marker({position:e,map:o,draggable:R,visible:x,icon:Object(c.id)(!I,I&&a===Q)?$():k});return((e,t)=>{null===e||void 0===e||e.addListener("click",(function(e){N(e.latLng),X(t),S(!0)}))})(i,a),R&&((e,t,a)=>{null===e||void 0===e||e.addListener("dragend",(function(e){var o,i;let n={lat:null===e||void 0===e||null===(o=e.latLng)||void 0===o?void 0:o.lat(),lng:null===e||void 0===e||null===(i=e.latLng)||void 0===i?void 0:i.lng()};te(a,t,n),G(!0)}))})(i,o,t),i}));return i};function te(e,t,a){e.geocode({location:a},((e,t)=>{if(t===s.Kd){let t=((e,t)=>{let a=[];return e&&(a=null===t||void 0===t?void 0:t.filter((e=>{var t;return null===e||void 0===e||null===(t=e.types)||void 0===t?void 0:t.includes(s.he)}))),Object(c.Id)(a)?null===t||void 0===t?void 0:t.filter((e=>{var t;return!(null!==e&&void 0!==e&&null!==(t=e.types)&&void 0!==t&&t.includes(s.he))})):a})(A,e);var o;if(t[0])C(null===t||void 0===t||null===(o=t[0])||void 0===o?void 0:o.formatted_address,a)}}))}const ae=Object(c.xe)(p,!q,x,_);return Object(v.jsxs)(i.a.Fragment,{children:[!O&&((null===b||void 0===b?void 0:b.toUpperCase())!==s.Af||""!==j&&j?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.Tc)(f,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(P)})})),ae&&Object(v.jsxs)("div",{className:"arrows",children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.db)(0===g,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.Tc)(0===g,e.preventDefault(),h(0)),children:Object(v.jsx)(l.a,{srcFile:F,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(g===z.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>g===z.length-1?e.preventDefault():h(1),children:Object(v.jsx)(l.a,{srcFile:F,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:U,style:{height:"240px",...D}})]})}},1015:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(61),d=a(57),c=a(6),r=a(4),s=a(36),u=a(15),v=a(5),m=a(2);const b=i.a.createRef();var O=e=>{var t;const{onClickHandler:a,currencyConversionFactor:o,isDarkMode:i=!1,dataTestId:l,title:d,onEditOccasionName:s,itemId:O,itemName:j,showContent:p,setCurrentIndex:h,currentIndex:g,index:I}=e,{AccordianArrow:S,AccordianUpArrow:f,AccordianDownDark:N,AccordianUpDark:C}=u.a,T=Object(n.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{flatResponse:{productMapById:E={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},x=e=>{h(Object(v.Tc)(g!==I,I,null)),!p&&(null===a||void 0===a||a(O,T,E,b.current,o))};return Object(m.jsxs)("div",{className:"global-accordian-container favorite-container-global ".concat(p?"account-accordian-open":""),ref:b,children:[Object(m.jsxs)("div",{className:"global-accordian-header-container",children:[Object(m.jsx)("span",{className:"global-accordian-header",children:d&&Object(m.jsxs)("div",{className:"occasion-accordian-header-global",children:[Object(m.jsx)("span",{className:"order-accordian-heading",children:d}),Object(m.jsx)("div",{className:"edit-occasion-link","data-testid":"edit-occasion-modal",onClick:()=>{s(O,j)},children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.EDIT_FAVORITE_NAME)})]})}),Object(m.jsx)("div",{className:"global-accordian-right","data-testid":"favorite-order-dropdown",children:i?Object(m.jsx)("img",{src:p&&C||N,onClick:x,className:"global-accordian-arrow","data-testid":"acordian-handle-dark",alt:""}):Object(m.jsx)("img",{src:p&&f||S,onClick:x,className:"global-accordian-arrow","data-testid":l,alt:""})})]}),p&&Object(m.jsx)("div",{className:"global-accordian-content",children:e.children})]})},j=a(43),p=a(332);a(336);var h=e=>{const{occassionOrder:t,tenantReducer:a,imageContainerSize:o,plpbackgroundImageData:n}=e,{currencySymbol:l,addHope:d,carryBag:c,currencyConversionFactor:r,taxAmountRoundOff:s}=a,{items:u}=t;let b=Object(p.k)(u,d,c);return Object(m.jsx)(i.a.Fragment,{children:null===b||void 0===b?void 0:b.map((e=>{var t;return Object(m.jsx)("div",{className:"account-accordian-details-section",children:Object(m.jsxs)("div",{className:"option-section option-section-fav-menu default-img",children:[Object(m.jsx)("div",{style:Object(v.ib)(n,o.width,o.height),className:"product-image-parent-container-fav-menu",children:e.content&&Object(m.jsx)(j.a,{className:"favourite-order-img-sopac",srcFile:Object(v.lc)(e.content,o.width,o.height),alt:"No-Image",defaultPath:Object(v.Xb)(e.imageName,a,!0)})}),Object(m.jsxs)("div",{className:"favourite-order-details fav-order-details-global",children:[Object(m.jsxs)("span",{className:"fav-orders-item-name",children:[null===e||void 0===e?void 0:e.quantity,"x ",null===e||void 0===e?void 0:e.name]}),Object(m.jsx)("span",{className:"fav-item-price","data-testid":"".concat(e.id,"-fav-item-price"),children:Object(v.I)(null!==(t=null===e||void 0===e?void 0:e.priceWithTax)&&void 0!==t?t:null===e||void 0===e?void 0:e.price,{currencySymbol:l,currencyConversionFactor:r},"",s)})]})]})})}))})},g=a(268),I=a(121);var S=e=>{const{onCancelHandler:t,onRemoveHandler:a}=e,{REMOVE:o,CANCEL:i,REMOVE_FROM_FAVMODAL_MSG:n}=r.a;return Object(m.jsxs)("div",{className:"remove-from-favorite-orders-modal",children:[Object(m.jsx)("div",{className:"remove-message-section",children:Object(m.jsx)("p",{className:"remove-message",children:Object(c.translateWithI18Next)(n)})}),Object(m.jsxs)("div",{className:"buttonItems remove-from-fav-modal-btns",children:[Object(m.jsx)(s.a,{"data-testid":"cancel-remove-favOrders",className:"button whiteButton blackBorder closebtn-cls",onClickHandler:t,children:Object(c.translateWithI18Next)(i)}),Object(m.jsx)(s.a,{"data-testid":"yes-keep-it-btn",className:"button blackButton blackBorder save-button",onClickHandler:a,children:Object(c.translateWithI18Next)(o)})]})]})};var f=e=>{const{item:t,setIsModalOpen:a,tenantId:o,customerId:i,currentItemId:l}=e,d=Object(n.b)(),s=Object(m.jsx)(j.a,{srcFile:u.a.FavoriteInActiveWhite}),b=Object(c.translateWithI18Next)(r.a.REMOVED_FROM_FAVORDERS),O=()=>{a(!1)},p={id:"removeFromFavOrders",role:"dialog",modalTitleId:"FavouriteOrdersRemove",show:!0,classNames:"test",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:O,modalTitle:"",modalTitleRequired:!1,closeDataTestId:"close-modal",autoFocus:!0};return Object(m.jsx)("div",{children:Object(m.jsx)(I.a,{...p,children:Object(m.jsx)(S,{onCancelHandler:O,setIsModalOpen:a,onRemoveHandler:e=>{var t,n,c;const r=null===(t=e.target)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(c=n.parentElement)||void 0===c?void 0:c.parentElement;null!==r&&void 0!==r&&r.classList.contains("account-accordian-open")&&(null===r||void 0===r||r.classList.remove("account-accordian-open")),a(!1),(async(e,t,a)=>{await d(Object(g.b)({tenantId:e,customerId:t,itemId:a}))})(o,i,l),Object(v.qf)(b,s,"favorites-added-toast")},item:t,"data-testid":"remove-modal"})})})},N=a(1003),C=a(0),T=a(1004),E=a(76),x=a(14),D=a(9),y=a(49);var _=a(327);const A=(e,t,a,o,i)=>{var n,l,d,c;const{ACCOUNT_FAV_PAGE:r}=_.d;null!==o&&void 0!==o&&null!==(n=o.classList)&&void 0!==n&&n.contains("account-accordian-open")?null===o||void 0===o||null===(l=o.classList)||void 0===l||l.remove("account-accordian-open"):null===o||void 0===o||null===(d=o.classList)||void 0===d||d.add("account-accordian-open");const s=null===t||void 0===t?void 0:t.find((t=>e===(null===t||void 0===t?void 0:t.id))),u=null===s||void 0===s?void 0:s.service;((e,t)=>{var a,o,i;Object(y.p)(null===D.a||void 0===D.a||null===(a=D.a.accountViewFavItemList)||void 0===a?void 0:a.name,{data:{event:"view_item_list",disposition:Object(v.h)(t),ecommerce:{item_list_id:null===e||void 0===e||null===(o=e[0])||void 0===o?void 0:o.item_list_id,item_list_name:null===e||void 0===e||null===(i=e[0])||void 0===i?void 0:i.item_list_name,items:e}}})})(null===s||void 0===s||null===(c=s.items)||void 0===c?void 0:c.map(((e,t)=>{var o;const{categoryId:n="NA",categoryName:l="NA"}=null!==(o=null===a||void 0===a?void 0:a[e.id])&&void 0!==o?o:{};return{item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:Object(v.fb)(Number(((null===e||void 0===e?void 0:e.price)/i).toFixed(C.dg)),0),item_category:l,item_list_name:r,item_list_id:n,index:t,quantity:null===e||void 0===e?void 0:e.quantity,coupon:Object(v.fb)(null===s||void 0===s?void 0:s.couponCode,"NA"),discount:Object(v.fb)((null===s||void 0===s?void 0:s.discountTotal)/i,0),currency:C.p.AUD}})),u)};t.a=e=>{const{updateMenu:t,imageContainerSize:a}=e,i=Object(n.b)(),b=Object(l.g)(),{userOrderState:j,userOrderStateDispatch:p}=Object(o.useContext)(E.a),[g,I]=Object(o.useState)(""),[S,D]=Object(o.useState)(""),_=Object(n.c)((e=>{var t;return(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteOrders)||[]})),{id:R,phone:L}=Object(n.c)((e=>{var t;return Object(v.kd)(null===(t=e.profileReducer)||void 0===t?void 0:t.basic)})),{tenantId:P,currencyConversionFactor:w}=Object(n.c)((e=>e.tenantReducer||{})),M=Object(n.c)((e=>e.tenantReducer)),{cartData:k}=Object(n.c)((e=>e.cartReducer||{})),[F,U]=Object(o.useState)(!1),[H,W]=Object(o.useState)(!1),[B,G]=Object(o.useState)(!1),[V,Y]=Object(o.useState)(!1),[z,K]=Object(o.useState)(null),{SingleArrowback:q,FavouriteActiveBlack:J}=u.a,{reorderFlag:{reorderModalOpen:Q=!1}}=j,[X,Z]=Object(o.useState)({}),{headerData:{plpBackgroundImage:$={}}={}}=Object(n.c)((e=>{var t;return Object(v.kd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),ee=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(v.hb)($),{REORDER_MODAL_OPEN:ae,FROM_REORDER_MODAL_OPEN:oe,REORDER_STORE_CHANGED:ie}=x.a;Object(o.useEffect)((()=>{var e;null===(e=window)||void 0===e||e.scrollTo(0,0)}),[]);const ne=()=>{p({type:ae,value:{reorderModalOpen:!1}}),p({type:oe,value:{fromReorderFlag:!1}}),p({type:ie,value:{storeChanged:!1}})};Object(o.useEffect)((()=>()=>ne()),[]);const le=(e,t)=>{U(!0),e&&(I(e),D(t),W(!1),G(!1))};Object(o.useEffect)((()=>{((e,t,a,o)=>{if(e){const i={customerId:t,tenantId:e,phoneNumber:Object(v.Ic)(a),updateUserData:!0};o(Object(d.d)(i))}})(P,R,L,i)}),[i,P,R,L]);const[de,ce]=Object(o.useState)(null);return Object(m.jsxs)("div",{className:"account-order-desktop",id:"favourite-orders-global",children:[Object(m.jsxs)("div",{className:"account-settings-header-mobile",children:[Object(m.jsx)("img",{className:"backArrow-account-setting","data-testid":"fav-menu-backArrow",onClick:()=>t(""),src:q,alt:"back button"}),Object(m.jsx)("span",{className:"account-setting-text-header",children:Object(c.translateWithI18Next)(r.a.FAVOURITES)})]}),Object(m.jsxs)("div",{className:"page-header page-header-favourite-occasion",children:[Object(m.jsx)("img",{src:J,className:"account-icon mr-2",alt:""}),Object(m.jsx)("span",{className:"page-heading",children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.ORDER_AGAIN)})]}),!(null!==_&&void 0!==_&&_.length)&&Object(m.jsx)("div",{className:"no-occasion-container",children:Object(m.jsx)("p",{children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.MY_OCCASSION_UNAVAILABLE_TITLE)})}),_&&(null===_||void 0===_?void 0:_.map(((t,o)=>Object(m.jsx)("div",{className:"sub-section sub-section-favourite",children:Object(m.jsxs)("section",{children:[Object(m.jsx)("section",{className:"account-accordian",children:Object(m.jsxs)(O,{onClickHandler:A,currencyConversionFactor:w,title:null===t||void 0===t?void 0:t.name,onEditOccasionName:le,itemId:null===t||void 0===t?void 0:t.id,itemName:null===t||void 0===t?void 0:t.name,"data-testid":"order-details",setOccassionModalOpen:U,currentIndex:de,setCurrentIndex:ce,index:o,showContent:de===o,children:[Object(m.jsx)(h,{occassionOrder:t,tenantReducer:M,"data-testid":"occasion-component",plpbackgroundImageData:te,imageContainerSize:a}),Object(m.jsx)("section",{className:"fav-menu-event",children:Object(m.jsxs)("div",{className:"global-accordian-header-container mobile-accordian-reorder-container",children:[Object(m.jsx)("span",{className:"global-accordian-header mobile-accordian-header",children:Object(m.jsx)("span",{className:"order-receipt-option remove-from-fav","data-testid":"delete-occassion",onClick:()=>{Y(!0),K(null===t||void 0===t?void 0:t.id)},children:Object(c.translateWithI18Next)(null===r.a||void 0===r.a?void 0:r.a.REMOVE_FAVOURITES)})}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"global-accordian-right",children:Object(m.jsx)(s.a,{className:"button re-order-btn ".concat(Object(v.yd)(null===t||void 0===t?void 0:t.service)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var a;Object(v.yd)(null===t||void 0===t?void 0:t.service)?(a={...e,history:b},Object(v.yd)(null===k||void 0===k?void 0:k.service)?Object(v.Fe)(a):p({type:null===C.Ne||void 0===C.Ne?void 0:C.Ne.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===C.Ae||void 0===C.Ae?void 0:C.Ae.CATERING_PAGE,title:null===r.a||void 0===r.a?void 0:r.a.CATERING_NAVALERT_TITLE,contentMsg:null===r.a||void 0===r.a?void 0:r.a.CATERING_NAVALERT_SUBTITLE}})):(e=>{(null===ee||void 0===ee||!ee.localized)&&Object(y.o)(),Z(e),p({type:ae,value:{reorderModalOpen:!0}}),p({type:oe,value:{fromReorderFlag:!0}}),sessionStorage.setItem(C.gd.REORDER_CLICK,!0)})(t)},children:Object(m.jsx)("span",{children:Object(c.translateWithI18Next)(Object(v.yd)(null===t||void 0===t?void 0:t.service)?null===r.a||void 0===r.a?void 0:r.a.EXPLORE_CATERING:null===r.a||void 0===r.a?void 0:r.a.ORDER_AGAIN)})})})]})})]},o)}),V&&Object(m.jsx)(f,{item:t,setIsModalOpen:Y,isModalOpen:V,tenantId:P,customerId:R,itemId:null===t||void 0===t?void 0:t.id,currentItemId:z}),F&&Object(m.jsx)(T.a,{showOccassionModal:F,setOccassionModalOpen:U,occasionName:S,setOccasionName:D,editItemId:g,setEditItemId:I,hasEdit:!0})]})})))),Q&&Object(m.jsx)(N.a,{currentOrderInfo:X,reorderModalOpen:Q,closeButtonHandler:ne,source:C.ve.ACCOUNT_FAVOURITES})]})}},1016:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(76),l=a(25),d=a(14),c=a(1035),r=a(1036),s=a(2);var u=e=>{const{unavailableItems:t,priceChangedItems:a,confirmChangesHandler:i,discardChangesHandler:l}=e,{userOrderStateDispatch:u}=Object(o.useContext)(n.a),{CART_STATES_DATA:v="",ADD_TO_CART_CLICK:m=""}=d.a,b=Object(s.jsx)(c.a,{onCartStatesMethodSubmit:(e,t)=>{e.stopPropagation(),e.preventDefault(),"discardChanges"===t?l():i()},unavailableItems:t,priceChangedItems:a});return Object(s.jsx)(r.a,{handleClose:e=>{e.stopPropagation(),e.preventDefault(),u({type:v,value:{showCartModal:!1}}),u({type:m,value:{addToCart:!1}})},CartStatesModuleForm:b})},v=a(30),m=a(122),b=a(61),O=a(5);const j=e=>{const t=Object(l.c)((e=>e.tenantReducer)),{flatResponse:{itemMapById:a={}}={},isLoading:c=!1}=Object(O.Lb)(Object(l.c)((e=>{let{menuReducer:t}=e;return t}))),{userOrderState:r,userOrderStateDispatch:b}=Object(o.useContext)(n.a),{CART_STATES_DATA:j,ADD_TO_CART_CLICK:p,MENU_URL:h}=d.a,{currencyConversionFactor:g,tenantId:I}=t,S=r.productItemId,f=r.oldProduct,N=r.categoryId,[C,T]=Object(o.useState)([]),[E,x]=Object(o.useState)([]),D=Object(l.c)((e=>e.cartReducer)),y=Object(l.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),_=Object(l.b)();Object(o.useEffect)((()=>{if(b({type:j,value:{showCartModal:!0}}),a&&g&&!c)if(S){let e=((e,t,a,o,i)=>{let n={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===o||void 0===o?void 0:o.productName,imageName:null===o||void 0===o?void 0:o.productImage,id:i}},cartPrice:null===o||void 0===o?void 0:o.productPrice,isItemPriceSame:!1};const l=null===t||void 0===t?void 0:t[e];if(l){var d,c;n.findings=[],n.toRemove=!1;const{price:e=0}=null!==(d=null===l||void 0===l||null===(c=l.availability)||void 0===c?void 0:c[0])&&void 0!==d?d:{};let t=e/a,i=o.productPrice;t!==i?(n.findings.push("Item Price has changed Cart Price(".concat(i,"), Menu price(").concat(t,")")),n.requireModification=!0,n.menuPrice=t,n.cartPrice=i):(n.menuPrice=t,n.cartPrice=i,n.isItemPriceSame=!0)}return n})(S,a,g,f,S),t=[];e.toRemove&&t.push(e),T(t);let o=[];e.requireModification&&o.push(e),x(o);const i=Object(O.l)(e.isItemPriceSame,D.cartData.id);Object(O.zf)(i,A)}else T([]),x([])}),[g,S,JSON.stringify(a),c,D.cartData.id]),Object(o.useEffect)((()=>{y&&N&&_(Object(v.v)({showProductListingModal:!0,categorySelected:N}))}),[y]);const A=()=>{var e;(console.log("test"),C.length)?r.fromPdpPage&&R():r.customizable?_(Object(m.c)({tenantId:I,catalogName:r.catalogs,itemId:S})):(_(Object(v.a)({params:{basketId:null===D||void 0===D||null===(e=D.cartData)||void 0===e?void 0:e.id},tenantId:I},[{Id:S,categoryId:N,quantity:1,modGrps:[]}])),_(Object(v.u)(new Date)));b({type:j,value:{showCartModal:!1}}),b({type:p,value:{addToCart:!1}})},R=()=>{e.history.push({pathname:"".concat(h)})};return Object(s.jsx)(i.a.Fragment,{children:r.cartStateData.showCartState&&(C.length||E.length)&&Object(s.jsx)(u,{"data-testid":"productStatesModule",unavailableItems:C,priceChangedItems:E,confirmChangesHandler:A,discardChangesHandler:()=>{b({type:j,value:{showCartModal:!1}}),b({type:p,value:{addToCart:!1}}),r.fromPdpPage&&R()}})})};j.defaultProps={};t.a=Object(b.j)(j)},1017:function(e,t,a){"use strict";var o=a(24),i=a(50),n=a(174),l=a.n(n),d=a(3),c=a.n(d),r=a(191),s=["bsPrefix","className","as"],u=["xl","lg","md","sm","xs"],v=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,d=e.as,v=void 0===d?"div":d,m=Object(i.a)(e,s),b=Object(r.a)(a,"col"),O=[],j=[];return u.forEach((function(e){var t,a,o,i=m[e];if(delete m[e],"object"===typeof i&&null!=i){var n=i.span;t=void 0===n||n,a=i.offset,o=i.order}else t=i;var l="xs"!==e?"-"+e:"";t&&O.push(!0===t?""+b+l:""+b+l+"-"+t),null!=o&&j.push("order"+l+"-"+o),null!=a&&j.push("offset"+l+"-"+a)})),O.length||O.push(b),c.a.createElement(v,Object(o.a)({},m,{ref:t,className:l.a.apply(void 0,[n].concat(O,j))}))}));v.displayName="Col",t.a=v},1019:function(e,t,a){"use strict";a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"a",(function(){return O}));var o=a(977),i=a.n(o),n=a(318),l=a(6),d=a(4),c=a(5),r=a(11),s=a(0),u=a(2);function v(e){var t,a;let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Object(r.s)(null===e||void 0===e?void 0:e.day,"DD");return Object(u.jsxs)("span",{className:o&&+Object(r.u)()===+n?"row-highlight":null,children:[Object(l.translateWithI18Next)(i()(null===e||void 0===e?void 0:e.day))," ",o&&Object(r.s)(null===e||void 0===e?void 0:e.day),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.to)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})}const m=e=>{var t,a;return Object(u.jsxs)(u.Fragment,{children:[Object(l.translateWithI18Next)(i()(null===e||void 0===e?void 0:e.dayOfWeek)),(null===e||void 0===e?void 0:e.isSpecialHour)&&Object(u.jsx)("p",{className:"special-day",children:(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.endTime)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_CLOSE):Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SPECIAL_HOURS)})]})};function b(e){var t,a,o,i;let c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const m=Object(r.s)(null===e||void 0===e?void 0:e.day,"DD"),b=v?s.sb.HH_mm:s.sb.H_MM_AA;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)!==Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)||(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.to)!==Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_HOURS)?Object(u.jsxs)("p",{className:c&&+Object(r.u)()===+m?"row-highlight":null,children:[Object(n.j)(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.from,b)," - ",Object(n.j)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.to,b)]}):Object(u.jsx)("p",{children:Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED)})}const O=e=>{var t,a,o,i;return(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.startTime)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)&&(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.endTime)===Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED_TIME)?Object(l.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.CLOSED):"".concat(Object(n.j)(Object(c.y)(null===e||void 0===e||null===(o=e.availableHours)||void 0===o?void 0:o.startTime))," - ").concat(Object(n.j)(Object(c.y)(null===e||void 0===e||null===(i=e.availableHours)||void 0===i?void 0:i.endTime)))}},1025:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(213),l=a(25),d=a(63),c=a(6),r=a(30),s=a(192),u=a(84),v=a(15),m=a(76),b=a(5),O=a(927),j=a(77),p=a(943),h=a(46),g=a(347),I=a(4),S=a(900),f=a(985),N=a(986),C=a(987),T=a(909),E=a(910),x=a(0),D=a(14),y=a(923),_=a(988),A=a(971),R=a(43),L=a(55),P=a(54),w=a(110),M=a(69),k=a(2);const{ANALYTICS_EVENTS:F}=P.a;t.a=e=>{var t,a,P,U,H,W,B,G,V,Y;const{page:z,isMobile:K,onClickScroll:q}=e,{PROMOS_REWARDS:J,MEMBERS_ONLY:Q,VIEW_ALL_PROMOS:X,CANCEL:Z,PROMO_REMOVE_CONFIRMATION:$,PROMO_SUCCESS_TOAST_MESSAGE:ee,PROMO_REMOVE_TOAST_MESSAGE:te,YES_REMOVE:ae}=I.a,{COUPON_MULTI_PRODUCT:oe}=h.a,{StripesIcon:ie,ViewDetailsArrowBlack:ne,tickWhiteToast:le,TimerRibbonRedOutlined:de,TimerIcon:ce}=v.a,{CAROUSAL_CONFIG:re,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:se,SILCK_RESPONSIVE_PROPERTY:ue}=y.a,{SPEED:ve,SLIDES_TO_SHOW:me,SLIDES_TO_SCROLL:be}=re,{DISPOSITION_DATA:Oe,clearCartChangeFlag:je,orderTypeAlertTitle:pe,SHOW_CLEAR_CART_ALERT:he,CLEAR_CART_CONFIRM_CANCEL_MODAL:ge}=D.a,Ie=Object(w.a)(),Se=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{loggedIn:fe,localized:Ne}=Se,[Ce,Te]=Object(o.useState)([]),[Ee,xe]=Object(o.useState)(!1),[De,ye]=Object(o.useState)(!1),[_e,Ae]=Object(o.useState)({}),[Re,Le]=Object(o.useState)(null),[Pe,we]=Object(o.useState)({}),[Me,ke]=Object(o.useState)(!1),[Fe,Ue]=Object(o.useState)(!1),[He,We]=Object(o.useState)("null"),Be=Object(l.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{tenantId:Ge="",componentOptions:Ve={},allowMultipleCoupon:Ye,showRevampedRewards:ze,showOnlineCouponsNonLocalizedUsers:Ke}=Be,qe=Object(b.md)(null===Ve||void 0===Ve||null===(t=Ve.web)||void 0===t||null===(a=t.coupons)||void 0===a?void 0:a.sendViewAllDealsEvent),Je=Object(l.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{showPromoRewardsMessage:Qe=!1,navigateToPromosPage:Xe}=null===Ve||void 0===Ve||null===(P=Ve.web)||void 0===P?void 0:P.cartPage,Ze=null===Ve||void 0===Ve||null===(U=Ve.routes)||void 0===U||null===(H=U.Home)||void 0===H||null===(W=H.offersAndDeals)||void 0===W?void 0:W.shouldCheckLocalization,$e=Object(l.c)((e=>e.profileReducer)),{applicableCoupons:et=[],cartData:tt={}}=Je,{discountLines:at=[]}=tt||{},{userOrderState:ot,userOrderStateDispatch:it}=Object(o.useContext)(m.a),nt=Object(l.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),lt=Object(l.b)(),dt=Object(p.a)(ot),ct=Object(o.useMemo)((()=>{var e;return{dispositionType:null!==dt&&void 0!==dt&&dt.type?Object(b.Ib)(dt.type):Object(b.Ib)(null===Be||void 0===Be||null===(e=Be.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[dt,Be]),{dispositionType:rt}=ct,[st,ut]=Object(o.useState)(0),[vt,mt]=Object(o.useState)(0),[bt,Ot]=Object(o.useState)(0),[jt,pt]=Object(o.useState)("");let ht={};const gt=i.a.useRef(null),[It,St]=Object(o.useState)(0),ft=Object(l.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.getCouponLoading})),[Nt,Ct]=Object(o.useState)(!0),Tt=()=>{ye(!1)},Et=(e,t)=>{Ae({item:null===e||void 0===e?void 0:e.item,titleValue:null===e||void 0===e?void 0:e.titleValue,promoParams:null===e||void 0===e?void 0:e.promoParameters,priceDetails:null===e||void 0===e?void 0:e.priceDetails}),Le(t),lt(Object(r.v)({showProductListingModal:!0})),it({type:oe,value:{fromCouponSection:!0}}),ke(!0)},xt=e=>{we({item:null===e||void 0===e?void 0:e.item}),xe(!0)},Dt=e=>{const t=(null===e||void 0===e?void 0:e.couponCode)||"";ye(!0),pt(t)},yt={dots:!1,infinite:!1,speed:ve,slidesToShow:me,slidesToScroll:be,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(k.jsx)(T.a,{clickNextCard:()=>{if(vt<Ce.length-1){let e;e=vt+be>Ce.length-me-1?Ce.length-me:vt+be,mt(e),gt.current.slickGoTo(e)}}}),prevArrow:Object(k.jsx)(E.a,{clickPrevCard:()=>{vt>0&&(mt(vt-be),gt.current.slickGoTo(vt-be))}}),beforeChange:(e,t)=>ut(t),afterChange:(e,t)=>mt(e),variableWidth:!0,accessibility:!0,responsive:ue};Object(o.useLayoutEffect)((()=>{const e=()=>{const[e,t]=Object(b.Ud)(window.innerWidth)?[287,20]:[347,.1*window.innerWidth],a=window.innerWidth-t;let o=Math.ceil(a/e);return 1===o&&(o+=1),o},t=()=>{Ot(e()),St(window.innerWidth)};window.addEventListener(x.we,t),t()}),[]),Object(o.useEffect)((()=>{if(et.length>0){const e=Object(O.b)(fe,Object(O.f)(et,Be));_t(e,He)}else{if(!Ce.length){const e=Object(O.b)(fe,[],ft);Te(e)}Ct(Object(b.Tc)(Object(b.fb)(Ce.length,et.length),!1,!0))}}),[et,Ce.length]),Object(o.useEffect)((()=>{Ne&&Ge&&(null===dt||void 0===dt?void 0:dt.basketId)!==(null===tt||void 0===tt?void 0:tt.id)?(pt(""),We("null"),Rt()):(!Ne&&!Ze||Ke)&&(fe?(null===$e||void 0===$e?void 0:$e.customerId)&&lt(Object(r.j)({tenantId:Ge,userId:null===$e||void 0===$e?void 0:$e.customerId})):lt(Object(r.k)({tenantId:Ge})))}),[Ne,fe,null===tt||void 0===tt?void 0:tt.id,null===tt||void 0===tt||null===(B=tt.customer)||void 0===B?void 0:B.id,Ge,null===dt||void 0===dt||null===(G=dt.store)||void 0===G?void 0:G.id,null===dt||void 0===dt?void 0:dt.type]),Object(o.useEffect)((()=>{var e,t;null!==nt&&void 0!==nt&&null!==(e=nt.foodLines)&&void 0!==e&&e.length||null!==nt&&void 0!==nt&&null!==(t=nt.discountLines)&&void 0!==t&&t.length||(localStorage.removeItem(x.gd.ADD_TO_ORDER),pt(""),We("null"))}),[null===nt||void 0===nt||null===(V=nt.foodLines)||void 0===V?void 0:V.length,null===nt||void 0===nt||null===(Y=nt.discountLines)||void 0===Y?void 0:Y.length]),Object(o.useEffect)((()=>{if("null"!==He){var e;Rt();let t=He?Object(c.translateWithI18Next)(ee):Object(c.translateWithI18Next)(te);(null===ot||void 0===ot||null===(e=ot.searchStoreData)||void 0===e||!e.showSearchStore)&&At(t)}if((null===at||void 0===at?void 0:at.length)>0&&!jt){var t;let e=null===at||void 0===at||null===(t=at[0])||void 0===t?void 0:t.couponCode;pt(e)}}),[null===at||void 0===at?void 0:at.length]);const _t=(e,t)=>{ht={};for(let i=0;i<(null===at||void 0===at?void 0:at.length);i++){var a;let e=null===(a=at[i])||void 0===a?void 0:a.couponCode;ht[e]=e}Object.keys(ht).length>0?localStorage.setItem(x.gd.ADD_TO_ORDER,JSON.stringify(ht)):localStorage.removeItem(x.gd.ADD_TO_ORDER);for(let i in ht){let t=ht[i];e=e.map((e=>e.couponCode===t?{...e,isApplied:!0}:e))}Te(e);const o=e.some((e=>e.isApplied&&!e.employeePromotion));!Ye&&Ue(o),Ct(Object(b.Tc)(Object(b.fb)(Ce.length,et.length),!1,!0))},At=e=>{let t=Object(k.jsx)(R.a,{srcFile:le});Object(b.qf)(e,t,"promos-rewards-toast promos-rewards-toast-pos",1e3)},Rt=()=>{var e;const{customerId:t}=L.a.getInstance();Ne&&null!==tt&&void 0!==tt&&tt.id&&t===(null===tt||void 0===tt||null===(e=tt.customer)||void 0===e?void 0:e.id)&&lt(Object(r.h)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge}))},Lt=()=>{lt(Object(d.u)()),it({type:Oe,value:{showDisposition:!0}}),localStorage.setItem(x.gd.RETAIN_ADDRESS,""),localStorage.setItem(x.gd.SET_LOCATION,!0),pt(null===e||void 0===e?void 0:e.couponCode)},Pt=t=>{e.history.push({pathname:null===x.Ae||void 0===x.Ae?void 0:x.Ae[null===t||void 0===t?void 0:t.toUpperCase()]}),qe&&Object(g.c)({event:"viewAllDeals"})},wt=e=>{if(null!==e&&void 0!==e&&e.showTimer&&Object(O.e)(null===e||void 0===e?void 0:e.validityEndTime)){const t=Object(k.jsxs)("span",{"data-testid":"promos-time-block",className:"promos-time-block",children:[Object(k.jsx)("img",{className:"promos-time-icon",src:ce,alt:"Timer Icon"}),Object(k.jsx)(f.a,{endTime:null===e||void 0===e?void 0:e.validityEndTime})]});return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.ge&&"plp-promosRibbon-container"),children:[Object(k.jsx)(n.a,{src:de,className:"promos-ribbon timer"}),Object(k.jsx)("span",{className:"ribbon-text time-text",children:t})]})}if(null!==e&&void 0!==e&&e.header){const t=null===e||void 0===e?void 0:e.header;return Object(k.jsxs)("div",{className:"promosRibbon-container ".concat(z===x.ge&&"plp-promosRibbon-container"),children:[Object(k.jsx)("div",{className:"angle-down"}),Object(k.jsx)("span",{className:"ribbon-text-svg",children:Object(O.h)(t)})]})}},Mt=e=>{const t=null===e||void 0===e?void 0:e.couponCode;lt(Object(r.b)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge},{couponCode:t})),We(!0),pt(t)},kt=(t,a)=>{const o=null===t||void 0===t?void 0:t.couponCode;z===x.ge?q():e.history.push({pathname:Object(b.Tc)(Object(b.yd)(rt),null===x.Ae||void 0===x.Ae?void 0:x.Ae.CATERING_PAGE,"".concat(x.Ae.MENU_PAGE)),isStartOrderClick:!0}),qe&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:o})},Ft=t=>{const a=null===t||void 0===t?void 0:t.couponCode;e.history.push({pathname:x.Ae.CART}),qe&&Object(g.d)({event:F.REDEEM_OFFER,offerTitle:a})},Ut=e=>{var t;if((null===nt||void 0===nt||null===(t=nt.foodLines)||void 0===t?void 0:t.length)>0){let e={flag:je,onConfirm:pe};Object(b.ue)(it,e,he,ge)}else it({type:Oe,value:{showDisposition:!0}})};return Qe&&!ze&&Object(k.jsxs)("div",{id:"promosRewards",className:"promos-container ".concat(Object(b.Tc)(Object(b.db)(z===x.ge,Ne),"plp-promos-container","")," ").concat(Object(b.Tc)(Object(b.db)(Nt,Ne),"plp-promos-loading","")),"data-testid":"promos-container-test",children:[Object(k.jsxs)("div",{className:"promosCard-container grid-container ".concat(Object(b.db)(z===x.ge,"plp-promosCard-container")," ").concat(Object(b.db)(z===x.ge,Ne)&&"plp-promocard"),"data-testid":"promosCard-container-test",children:[z!==x.ge&&Object(k.jsx)("div",{className:"promos-Icon",children:Object(k.jsx)(n.a,{src:ie})}),Object(k.jsxs)("div",{className:"promosContainerHeader-items ".concat(Object(b.db)(z===x.ge,"plp-promosContainerHeader-items")),children:[Object(k.jsx)("h2",{className:"promosContainer-header","data-testid":"plp-promo-name",children:Object(c.translateWithI18Next)(J)}),Ne&&!fe&&Object(k.jsx)("div",{className:"promosHeader-text","data-testid":"plp-members-only",children:Object(c.translateWithI18Next)(Q)}),Ne&&Object(b.fb)(!K,z!==x.ge)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"view-all-text ".concat(z===x.ge&&"plp-view-all-promo-link"),children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(c.translateWithI18Next)(X)}),Object(k.jsx)(n.a,{className:"promosViewAlldeals-arrow",src:ne})]})}),Object(b.db)(K,Ne)&&z===x.ge&&Object(k.jsxs)("div",{className:"plp-card-count",children:[vt+1,"/",Ce.length]})]}),(Ne||!Ze||Ke)&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"promosCard-list",children:[Nt&&Object(k.jsx)("div",{className:"placeholder",children:Array(3).fill().map((()=>Object(k.jsxs)("div",{className:"table store-card-container",children:[Object(k.jsx)("div",{className:"loading card-title shorter-s"}),Object(k.jsx)("div",{className:"loading table-content"}),Object(k.jsx)("div",{className:"loading table-content"})]})))}),Object(b.db)(Ce.length,!Nt)&&Object(k.jsx)("div",{className:"promosCarousal-list ".concat(Object(b.db)(z===x.ge,"plp-promosCarousal-list")),children:Object(k.jsx)(S.b,{settings:yt,carousalRef:gt,children:(Ht=Ce,null===Ht||void 0===Ht?void 0:Ht.map(((e,t)=>{const{couponCode:a,smallText:o,titleValue:i,imageName:n,validityEndTime:l,promoParameters:d,itemDetails:c}=e,r=null===c||void 0===c?void 0:c.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));return Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"slick-slide offers-deals-card-container ".concat(Object(b.db)(z===x.ge,"plp-slick-slide")),children:Object(k.jsxs)("div",{className:"promos-card ".concat(t===vt+bt-1&&"offersCard-fade lastOffersCard-fade"," ").concat(z===x.ge&&"plp-promo-card"," ").concat(!wt(e)&&Object(b.db)(z===x.ge,"overflow-class")),children:[wt(e),Object(k.jsx)(N.a,{"data-testid":"promos-rewards-card",loggedIn:fe,localized:Ne,couponCode:a,smallText:o,titleValue:i,imageName:n,item:e,promoParameters:d,priceDetails:r,validityEndTime:l,tenantId:Ge,setModal:xe,setViewDetailsHandler:xt,setConfirmationModal:Dt,showMultiProductModal:Et,dispositionType:rt,addToOrderClickHandler:Mt,startOrderClickHandler:kt,promosApplied:Fe,basketData:tt,setViewCartHandler:Ft,setDispositionHandler:Ut,createSignInURL:j.b,page:z,setLocationClickHandler:Lt,setAlertPopupCouponCode:pt,setIsAppliedInApplicableCoupon:_t})]})})},t)})))})}),Object(b.db)(Ce.length>se,!Nt)&&Object(k.jsx)("div",{className:"promos-slideContainer ".concat(Object(b.db)(z===x.ge,"plp-promos-slideContainer")),children:Object(k.jsx)("input",{className:"promos-slider",type:"range","data-testid":"promo-slider-id",min:"0",max:Ce.length-me,value:st,id:"myRange",onChange:e=>{ut(e.target.value),gt.current.slickGoTo(e.target.value)},tabIndex:"-1","aria-hidden":"true"})})]}),Object(b.db)(K,z===x.ge)&&Object(k.jsxs)("div",{className:"view-all-text plp-view-all-promo-text",children:[Object(k.jsx)("button",{className:"offersViewAll-link promosHeader-right-text promos-link",onClick:()=>Pt(Xe),"data-testid":"view-all-deals-handler",children:Object(c.translateWithI18Next)(X)}),Object(k.jsx)(n.a,{className:"promosViewAlldeals-arrow",src:ne})]})]})]}),!Ne&&Ze&&Object(k.jsx)(C.a,{"data-testid":"promos-banner-id",setLocationClickHandler:Lt,page:z}),Ee&&Object(k.jsx)(_.a,{history:e.history,"data-testid":"view-details-modalId",tenantId:Ge,viewDetailsData:Pe,handleClose:()=>{xe(!1)}}),Object(b.db)(Me,It)&&Object(k.jsx)(A.a,{"data-testid":"multi-product-modalId",viewProductEvent:Re,history:e.history,tenantId:Ge,viewProductCardData:_e,handleClose:()=>{ke(!1),lt(Object(r.v)({showProductListingModal:!1})),Ie(Object(M.c)({key:x.gd.VIEW_PRODUCT})),it({type:oe,value:{fromCouponSection:!1}})},imageContainerSize:It,addToOrderClickHandler:Mt,cartReducer:Je,setAlertPopupCouponCode:pt}),De&&Object(k.jsx)(s.a,{"data-testid":"remove-promo-modal",handleClose:Tt,classNames:"promos-rewards-warning-msg",CartAlertForm:Object(k.jsx)(u.a,{splitTitle:{MSGTXT1:"".concat(Object(c.translateWithI18Next)($))},imageSrc:v.a.CartError,confirmButtonText:Object(c.translateWithI18Next)(ae),cancelButtonText:Object(c.translateWithI18Next)(Z),confirmHandler:(e,t)=>{jt&&(lt(Object(r.p)({basketId:null===tt||void 0===tt?void 0:tt.id,tenantId:Ge,couponCode:jt})),Tt(),We(!1))},cancelHandler:Tt,buttonContainerClass:"deeplink-alert-btn-container alert-btn-container","data-testid":"alert-form-modalId"})})]});var Ht}},1026:function(e,t,a){"use strict";a(3);var o=a(1065),i=a.n(o),n=a(2);t.a=e=>{let{children:t,disabled:a,onClick:o,theme:l="dark"}=e;return Object(n.jsx)("div",{onClick:()=>!a&&o?o():"",style:{color:a?"#A6A6A7":"",pointerEvents:a?"none":"auto"},className:"".concat(i.a.option," ").concat(i.a[l]),children:t})}},1027:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},1028:function(e,t,a){},1029:function(e,t,a){"use strict";var o=a(3),i=a(818),n=a(25),l=a(2);var d=e=>{const{className:t,clickNextCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler"})};var c=e=>{const{className:t,clickPrevCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler"})},r=a(938),s=a(122),u=a(30),v=a(76),m=a(14),b=a(5),O=a(22),j=a(0),p=a(322),h=a(61),g=a(900),I=a(919);var S=e=>{const{cardRenderer:t,productList:a,carousal:o,header:i="",subHeader:n="",settings:d,maxLengthToScroll:c,slidesToShow:r,rangeValue:s,onUpdateRange:u,showProductListingModal:v,isMobile:m,recommendedRule:O,flagUpsellCrossell:j}=e;return Object(l.jsxs)(l.Fragment,{children:[Boolean(null===a||void 0===a?void 0:a.length)&&Object(l.jsxs)("div",{className:"recommendedCard-container recommendedCard-container-in","data-testid":"recommendedCard-container-test",children:[Object(l.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(l.jsxs)("div",{className:n?"pdp-carousal-header":"recommendedContainer-header",children:[Object(l.jsx)("span",{className:"main-header",children:i}),n&&Object(l.jsx)("span",{className:"sub-header",children:n})]}),Object(l.jsxs)("span",{className:"count_box",children:[Math.round(s+1),"/",a.length]})]}),Object(l.jsxs)("div",{className:"recommendedCard-list",children:[Object(l.jsx)("div",{className:"recommendedCarousal-list",children:Object(l.jsx)(g.b,{settings:d,carousalRef:o,children:t()})}),a.length>c&&Object(l.jsx)("div",{className:"recommended-slideContainer",children:Object(l.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:a.length-r,value:s,id:"myRange","data-testid":"myRange",onChange:u})})]})]}),Object(b.db)(v,O===j)&&Object(l.jsx)("div",{className:"pdp-custm-container ".concat(m?"mobile":""),children:Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)(I.a,{})})})]})},f=a(993),N=a(78),C=a(328);const{PDP_RECOMMENDATIONS:T,CAROUSAL_CONFIG:E,SLIDES_TO_SCROLL_MOBILE:x,BREAKPOINT:D,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:y,FADE_CARD_INDEX:_}=i.RECOMMENDED_CONSTANTS,{ADD_TO_CART_CLICK:A,MINI_PDP_DATA:R,FROMFLAGPLP:L,EDIT_CLICKED:P,PDP_URL:w}=m.a,{RESET_MODGROUP_IDS_UPDATE:M,UPSELL:k,PDP:F}=p.a,{SPEED:U,SLIDES_TO_SHOW:H,SLIDES_TO_SCROLL:W}=E,{PDP_SLIDES_TO_SHOW:B,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:G}=T,V=(e,t)=>{let a="recommended-card";return e===t+_&&(a+=" recommendedCard-fade"),a};var Y=e=>{var t,a,i,m,p;const{products:g,storeClosedData:I,header:T="",subHeader:E="",cssClass:_="",recommendedRule:w,source:Y=""}=e,[z,K]=Object(o.useState)(0),[q,J]=Object(o.useState)(0),Q=Object(o.useRef)(null),[X,Z]=Object(o.useState)(Object(b.Ud)(window.innerWidth)),{userOrderState:$,userOrderStateDispatch:ee}=Object(o.useContext)(v.a),te=Object(n.b)(),{maxLengthToScroll:ae,slidesToShow:oe}=(e=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?G:y,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?B:H}))(_),{dispositionStateData:ie=j.bg}=$,{dispositionType:ne=localStorage.getItem("dispositionType")}=ie,[le,de]=Object(o.useState)(),{tenantReducer:ce,cartReducer:re,userParams:se,menuReducer:ue}=Object(n.c)((e=>({tenantReducer:Object(b.kd)(e.tenantReducer),cartReducer:Object(b.kd)(e.cartReducer),userParams:Object(b.kd)(e.appStateReducer.userStatus),menuReducer:Object(b.kd)(e.menuReducer)}))),{flatResponse:ve={}}=ue,{showProductListingModal:me=!1}=Object(b.kd)(re),be=Object(h.h)(),{PlpProductCard:Oe=j.bg}=(null===ce||void 0===ce?void 0:ce.componentOptions)||j.bg,je=Object(b.Jd)($.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):$.dispositionNew,pe=je?je.store:j.bg,he=(null===pe||void 0===pe||null===(t=pe.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(i=a.catalogs)||void 0===i?void 0:i.length)&&(null===pe||void 0===pe||null===(m=pe.summary)||void 0===m||null===(p=m.menu)||void 0===p?void 0:p.catalogs[0])||(null===ce||void 0===ce?void 0:ce.genericMenuName)||"",ge=null===g||void 0===g?void 0:g.filter((e=>!e.isHidden)),Ie=Y===F?ge:null===ge||void 0===ge?void 0:ge.filter((e=>{let t=O.b.channel,a=(e=>{let t=j.ee;return e===j.Bb&&(t=j.yb),e===j.Fb&&(t=j.Eb),t})(ne);return e.channel===t&&e.service===a})),{showCartAlert:Se}=Object(C.a)(void 0,void 0,void 0,void 0,ee,te,void 0),fe=()=>{Se(!0)},Ne={dots:!1,infinite:!1,speed:U,slidesToShow:oe,slidesToScroll:W,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:[{breakpoint:D,settings:{slidesToShow:x,arrows:!0,swipeToSlide:!0}}]},Ce=()=>{const e=Object(b.Ud)(window.innerWidth);Z(e)};Object(o.useEffect)((()=>{window.addEventListener("resize",Ce)}),[X]);const Te={...Ne,nextArrow:Object(l.jsx)(d,{clickNextCard:()=>{if(q<Ie.length-1){let e=0;e=q+W>Ie.length-oe-1?Ie.length-oe:q+W,Object(f.a)(e),J(e),Q.current.slickGoTo(e)}}}),prevArrow:Object(l.jsx)(c,{clickPrevCard:()=>{q>0&&(J(q-W),Q.current.slickGoTo(q-W)),Object(f.a)(q-W)}}),beforeChange:(e,t)=>K(t),afterChange:(e,t)=>J(e)},Ee=(e,t,a,o)=>{var i,n,l,d;const{id:c,product:r}=o,v=(null===c||void 0===c?void 0:c.split("_")[0])||"",{categoryId:m=""}=null!==(i=null===ve||void 0===ve||null===(n=ve.productMapById)||void 0===n?void 0:n[v])&&void 0!==i?i:{},{id:b="",name:O="",url:p=""}=null!==(l=null===ve||void 0===ve||null===(d=ve.categoryMapById)||void 0===d?void 0:d[m])&&void 0!==l?l:{};var h;(w===k&&Object(N.b)(),e&&e.stopPropagation(),se.localized)?t?(de(w),ee({type:R,value:{id:c,flag:L,foodLineId:""}}),ee({type:M}),ee({type:P,value:{cartEditClicked:!0}}),te(Object(s.c)({tenantId:ce.tenantId,catalogName:he,itemId:c}))):(te(Object(u.a)({params:{basketId:null===re||void 0===re||null===(h=re.cartData)||void 0===h?void 0:h.id},tenantId:ce.tenantId},[{Id:c,categoryId:b,quantity:1,modGrps:j.ag,categoryName:O,categoryUrl:p}])),te(Object(u.u)(new Date))):ee({type:A,value:{addToCart:!0,productItemId:c,categoryId:b,oldProduct:r,customizable:t,catalogs:he,fromPdpPage:!1}})},xe=Object(n.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t}));Object(o.useEffect)((()=>{let e=Object(b.Wc)(xe,$);Object(b.db)(e,le===w)&&te(Object(u.v)({showProductListingModal:!0,categorySelected:""}))}),[xe,$.minipdpData.itemId,$.cartEditClicked]),Object(o.useEffect)((()=>{me&&te(Object(u.v)({showProductListingModal:!1,categorySelected:""}))}),[be]);const De=(e,t,a)=>{te(Object(s.a)({tenantId:e,customerId:a},t))},ye=(e,t,a)=>{te(Object(s.b)({tenantId:e,customerId:t,itemId:a}))};return Boolean(null===Ie||void 0===Ie?void 0:Ie.length)&&Object(l.jsx)(S,{cardRenderer:()=>Ie.map(((e,t)=>{const a=Object(b.jd)(e.additionalProperties),o=a.length&&a.reduce(((e,t)=>{let{key:a,value:o}=t;return{...e,[a]:"True"===o||"False"!==o&&o}}),j.bg);return Object(l.jsx)("div",{className:V(t,q),children:Object(l.jsx)(r.b,{item:e,cardId:e.id,cardType:"medium",cardFor:"recommended",configureOptions:Oe,tenantData:ce,servingCount:null===o||void 0===o?void 0:o.servings,button:e.button,categoryId:"",clickHandler:Ee,customizable:e.customizable,onCardClickHandler:b.L,userParams:se,storeClosedData:I,addFavourite:De,removeFavourite:ye,"data-testid":"menu-card-component",openAlertModal:fe,...o,...e},e.id)})})),productList:[...Ie],carousal:Q,header:T,subHeader:E,settings:Te,maxLengthToScroll:ae,slidesToShow:oe,rangeValue:z,onUpdateRange:e=>{K(e.target.value),Q.current.slickGoTo(e.target.value),Object(f.a)(e.target.value)},showProductListingModal:me,isMobile:X,flagUpsellCrossell:le,...e})},z=a(101),K=a(320);t.a=e=>{var t,a;const{products:i,country:n,cssClass:d=""}=e,{userOrderState:c}=Object(o.useContext)(v.a),[r,s]=Object(o.useState)(!1),u=Object(o.useMemo)((()=>Object(b.Jd)(c.currentStoreInfo)?Object(b.b)(localStorage.getItem("currentStoreInfo")):c.currentStoreInfo),[c.currentStoreInfo]),{futureDates:m,scheduled:O,asap:j}=Object(b.kd)(null===u||void 0===u||null===(t=u.summary)||void 0===t?void 0:t.timings),{unavailibilities:p}=Object(b.kd)(O),{interval:h=0,startEndTime:g={}}=Object(b.kd)((null===O||void 0===O||null===(a=O.periods)||void 0===a?void 0:a.length)&&(null===O||void 0===O?void 0:O.periods[0])),{from:I,to:S}=g,f=Object(o.useCallback)((()=>{if(Object(b.Kd)(u)){var e,t;let a=null===(e=u.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,o=Object(z.j)(I,S,h,null===j||void 0===j?void 0:j.isAvailable,1===(null===m||void 0===m?void 0:m.length)&&(null===n||void 0===n?void 0:n.toUpperCase())===K.m,p);"CLOSED"!==a||o.length?s(!1):s(!0)}else s(!1)}),[u]);return Object(o.useEffect)((()=>{f()}),[f]),Object(l.jsx)("div",{className:"recommended-container ".concat(d),"data-testid":"recommended-container",children:Object(l.jsx)(Y,{"data-testid":"recommended-items",products:i,storeClosedData:{isStoreClosed:r},...e})})}},1030:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(3),a(25),a(5),a(352),a(353);var o=a(54);a(6),a(2);a(36),a(136),a(15);a(43),a(360),a(61),a(49);const{EMPTY_CART:i}=o.a;a(820);var n=a(101),l=(a(76),a(320));const d=(e,t,a,o,i,d,c)=>Object(n.j)(e,t,a,null===o||void 0===o?void 0:o.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===d||void 0===d?void 0:d.toUpperCase())===l.m,c)},1031:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(61),d=a(948),c=a(94),r=a.n(c),s=a(909),u=a(910),v=a(900),m=a(122),b=a(14),O=a(925),j=a(76),p=a(944),h=a(822),g=a(49),I=a(945),S=a(2);var f=e=>{const{DISPOSITION_DATA:t=""}=b.a,{userOrderState:a,userOrderStateDispatch:n}=Object(o.useContext)(j.a)||{};return Object(o.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(S.jsx)(i.a.Fragment,{children:Object(S.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(S.jsx)(p.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(S.jsx)(h.SearchStoreModule,{onStoreSelectFinish:g.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(S.jsx)(I.a,{onStoreSelectFinish:g.y})]})})},N=a(5),C=a(1027);var T=()=>{var e,t,a,o;const{DISPOSITION:i}=C.a;let l=null,d=null,c=Object(n.c)((e=>e.appStateReducer.userStatus));const r=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};l=Object(N.bc)(r.homePageContent)||null,d=Object(N.Rc)(e)}return Object(S.jsx)(f,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[i])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[i])&&void 0!==a?a:{}},userParams:c,tenantReducerData:r.tenantReducerContent})},E=a(30),x=a(110),D=a(69),y=a(321),_=a(190),A=a(0),R=a(923),L=a(54),P=a(63),w=a(355),M=a(192),k=a(84),F=a(6),U=a(15),H=a(4),W=a(943),B=a(121),G=(a(36),a(319)),V=a(898),Y=a(43),z=a(18),K=a.n(z),q=a(950);const J=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},Q=(e,t,a)=>e?Object(S.jsx)(Y.a,{"data-testid":"",className:"indulgentaddOns-card-image-global",defaultPath:Object(N.Xb)(null,t,!0),srcFile:Object(N.lc)(e,a.containerWidth,a.containerWidth)}):null;var X=e=>{var t,a,l,d,c,r,s,u,v;const{isMobile:m,openIndulgentModal:b,handleClose:O,removeItemCart:p,IndulgentData:h,modalTitle:g,continueButtonText:I,productId:f="",ruleNameDetails:C={}}=e,T={containerHeight:165,containerWidth:768},{ruleName:E,recommendationType:x=""}=C,{INDULGENT_ADD_ON:D}=L.a,{userOrderState:y}=Object(o.useContext)(j.a),_=Object(n.b)(),{cartReducer:R,userParams:P,tenantReducer:w,storesReducer:M,menuReducer:k,marketConfigReducer:U}=Object(n.c)((e=>{var t,a;return{cartReducer:e.cartReducer||{},userParams:(null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(a=e.marketConfigReducer)||void 0===a?void 0:a.response}})),{couponCode:H,discountTotal:W}=Object(N.vb)(null===R||void 0===R?void 0:R.cartData),{headerData:{pdpBackgroundImage:Y={}}={}}=U,z=Object(N.hb)(Y),{flatResponse:X={}}=k||{},Z=(null===M||void 0===M||null===(t=M.storesWithStatus)||void 0===t?void 0:t.length)&&(null===M||void 0===M||null===(a=M.storesWithStatus[0])||void 0===a||null===(l=a.summary)||void 0===l?void 0:l.timeZoneIANA),{loggedIn:$,localized:ee}=P,te=(ae=y,K()(ae.dispositionNew)?JSON.parse(localStorage.getItem(A.gd.DISPOSITION_NEW)):ae.dispositionNew);var ae;var oe;const ie=((e,t)=>{var a,o,i,n,l;return(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.menu)||void 0===o||null===(i=o.catalogs)||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l?void 0:l.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((oe=te)?oe.store:{},w),ne=null===w||void 0===w||null===(d=w.componentOptions)||void 0===d||null===(c=d.web)||void 0===c||null===(r=c.global)||void 0===r?void 0:r.pricewithNumberofDecimalDigit,[le,de]=Object(o.useState)(0),[ce,re]=Object(o.useState)(0),[se,ue]=Object(o.useState)(1),ve=null===w||void 0===w||null===(s=w.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.cartPage)||void 0===v?void 0:v.showIndulgentSectionView,me=i.a.useRef(null),be={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:b,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==R&&void 0!==R&&R.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:O,modalTitle:Object(F.translateWithI18Next)(g),autoFocus:!0},Oe=Object(G.n)(m),je={INDULGENT_ADD_ON:D,IndulgentData:h,isMobile:m,recommendationType:x,ruleName:E,productId:f,userType:Object(N.gd)(ee,$),flatResponse:X,catalogs:ie,tenantReducer:w,cartReducer:R,dispatch:_,indulgentAddToCartHandler:G.u,rangeValue:le,updateRangeValue:de,currentSlide:ce,updateCurrentSlide:re,caroselCount:se,setCaroselCount:ue,carousal:me,setPrevArrowCSS:J,couponCode:H,discountTotal:W};return ve?Object(q.a)(je):Object(S.jsx)("div",{className:"cart-indulgent-global",children:b&&!p&&ee&&Object(S.jsx)(B.a,{...be,children:Object(S.jsx)("div",{className:"indulgent-container-global",children:Object(S.jsx)("div",{className:"indulgent-card-list-global",children:null===h||void 0===h?void 0:h.map(((t,a)=>{var o,i;return Object(S.jsxs)("div",{style:Object(N.ib)(z,Oe.cardWidth,Oe.cardHeight),className:"indulgent-card-global","data-testid":"indulgent-item-card-".concat(a),onClick:a=>{a.preventDefault(),a.stopPropagation(),(t=>{var a,o;localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(N.sc)(t.categoryUrl,null===t||void 0===t?void 0:t.url,null===(a=e.history)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.pathname)})})(t)},children:[Q(null===t||void 0===t?void 0:t.content,w,T),Object(S.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(S.jsx)("div",{className:"indulgent-card-header-global",children:null===t||void 0===t||null===(o=t.dname[0])||void 0===o?void 0:o.value}),Object(S.jsxs)("div",{className:"indulgent-card-price-global",children:[null===w||void 0===w?void 0:w.currencySymbol,Object(N.yc)((i=null===t||void 0===t?void 0:t.availability,i.length>1?Object(V.k)(i,Z):i[0]),null===w||void 0===w?void 0:w.currencyConversionFactor,Z).toFixed(ne)]})]})]},null===t||void 0===t?void 0:t.id)}))})})})})};const{CAROUSAL_CONFIG:Z}=R.a,{SLIDES_TO_SHOW:$,SLIDES_TO_SCROLL:ee}=Z,{ADD_TO_CART:te,INDULDENT_ADD_ON_MSG:ae,INDULDENT_ADD_ONS_HEADING:oe,CONTINUE:ie}=H.a,ne={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:A.G},le=(e,t)=>!!e.length&&e.map((e=>t(e))),de=(e,t,a)=>{var o;return{foodName:null===t||void 0===t||null===(o=t.productName[0])||void 0===o?void 0:o.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:a}},ce=(e,t,a)=>e&&(null===t||void 0===t?void 0:t.length)>0&&Object(S.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:a()}),re=e=>{const{cardType:t,caroselCount:a,productList:o,settings:i,cardRenderer:n}=e;return Object(S.jsx)(S.Fragment,{children:"carousal"===t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"individual-card-counter",children:[a,"/",o.length]}),Object(S.jsx)(v.b,{settings:i,children:le(o,n)})]}):le(o,n)})},se=e=>{const{searchMode:t,isMobileView:a,localizationFlow:o,carousal:i,productList:n,cardRenderer:l,caroselCount:d,currentSlide:c,updateCurrentSlide:r,setCaroselCount:m,cardType:b,serviceType:O}=e,j={...ne,nextArrow:Object(S.jsx)(s.a,{clickNextCard:()=>{if(c<n.length-1){let e;e=c+ee>n.length-$-1?n.length-$:c+ee,r(e),i.current.slickGoTo(e)}}}),prevArrow:Object(S.jsx)(u.a,{clickPrevCard:()=>{c>0&&(r(c-ee),i.current.slickGoTo(c-ee))}}),afterChange:(e,t)=>r(e),beforeChange:(e,t)=>{m(Math.round(t+1))},variableWidth:!1};return Object(S.jsx)(S.Fragment,{children:null!==t&&void 0!==t&&t.isSearchedMode&&!a?Object(S.jsxs)("div",{className:"product-container product-slider-container",children:[o&&Object(S.jsx)(T,{}),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"product-slider",children:Object(S.jsx)(v.b,{settings:j,carousalRef:i,children:le(n,l)})})})]}):Object(S.jsxs)("div",{className:"product-container ".concat(O),children:[o&&Object(S.jsx)(T,{}),re({cardType:b,caroselCount:d,productList:n,settings:j,cardRenderer:l})]})})};t.a=Object(l.j)((e=>{var t,a,c,s,u,v,p,h;const{productList:g=[],cardType:I="",tenantData:f={},categoryId:C,catalogs:T,storeClosedData:R,setShowTopScrollBtn:B,isMobileView:V,searchMode:Y,viewUp:z}=e,{VIEW_MENU:K,STORE_TEXT:q,STORE_CLOSED_TEXT:J,CHANGE:Q,CATERING_STORE_CLOSED_MSG:Z}=H.a,{QUANTITY_ACTION:$}=L.a,{ADD_TO_CART_CLICK:ee,PLP_PDP_DETAILS:ne,MINI_PDP_DATA:le,FROMFLAGPLP:re,CLOSED:ue,NOT_WITHIN_OPERATING_HOURS:ve,STORE_NOT_ALIVE:me,SCHEDULE_ORDER_DATA:be,DOORDASH_NOT_SERVICEABLE:Oe}=b.a,{PlpProductCard:je={},web:pe={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{showGenericMenuForNonLocalizedUsers:he=!1}=null===e||void 0===e?void 0:e.tenantData,{shouldCheckDropOffAddress:ge=!1}=pe,{RESET_MODGROUP_IDS_UPDATE:Ie,UPSELL:Se}=_.a,{plpWarningMsg:fe=!1}=je,[Ne,Ce]=Object(o.useState)(1),Te=Object(n.b)(),Ee=i.a.useRef(null),xe=Object(n.c)((e=>e.cartReducer)),De=Object(n.c)((e=>{var t;return(null===(t=e.menuReducer)||void 0===t?void 0:t.data)||{}})),ye=Object(n.c)((e=>e.tenantReducer)),{categories:_e=[]}=De||{},{cartData:Ae={}}=Object(N.kd)(xe),{discountTotal:Re,couponCode:Le}=Object(N.vb)(Ae),Pe=null===Ae||void 0===Ae||null===(a=Ae.requestedDateTime)||void 0===a?void 0:a.isForNow,we=null===Ae||void 0===Ae||null===(c=Ae.requestedDateTime)||void 0===c?void 0:c.futureDateTime,Me=Object(n.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),ke=Object(N.gd)(null===Me||void 0===Me?void 0:Me.localized,null===Me||void 0===Me?void 0:Me.loggedIn),[Fe,Ue]=Object(o.useState)(e.selectedCat),[He,We]=Object(o.useState)(!1),{userOrderState:Be,userOrderStateDispatch:Ge}=Object(o.useContext)(j.a),Ve=Object(W.a)(Be),Ye=Object(n.c)((e=>{var t;return(null===(t=e.storesReducer)||void 0===t?void 0:t.storesWithStatus)||[]})),[ze,Ke]=Object(o.useState)(!1),[qe,Je]=Object(o.useState)(null),[Qe,Xe]=Object(o.useState)(0),[Ze,$e]=Object(o.useState)(null),{headerData:{plpBackgroundImage:et={},plpEventBackgroundImage:tt={}}={}}=Object(n.c)((e=>{var t;return Object(N.kd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),{enableUpsellItemsModalInPLP:at=!1,componentOptions:ot}=Object(n.c)((e=>e.tenantReducer||{})),it=Object(N.Ib)(null!==(s=null===Ve||void 0===Ve?void 0:Ve.type)&&void 0!==s?s:null===ye||void 0===ye||null===(u=ye.authoredContent)||void 0===u?void 0:u.defaultdisposition),nt=Object(l.h)(),lt=Object(N.Md)(null===Ve||void 0===Ve?void 0:Ve.type)|(Object(N.Nd)(nt.pathname)&&(null===ot||void 0===ot||null===(v=ot.web)||void 0===v||null===(p=v.plp)||void 0===p?void 0:p.showEventBackgroundImage))?tt:et,dt=Object(N.hb)(lt),ct=Object(x.b)(D.b),{specialEventItemAvailability:rt}=Object(n.c)((e=>e.specialEventReducer||{})),[st,ut]=Object(o.useState)(!1),[vt,mt]=Object(o.useState)({}),[bt,Ot]=Object(o.useState)([]),{menuReducer:{exclusionsResponse:jt=[]}={}}=Object(n.c)((e=>e)),{NA:pt}=_.a;Object(o.useEffect)((()=>{We(!1)}));const{addToCartAnalyticsOnly:ht}=Object(O.a)({cartId:null===Ae||void 0===Ae?void 0:Ae.id},null===f||void 0===f?void 0:f.tenantId,void 0,void 0,_e,void 0,Te,void 0,void 0,f.currencyShortName),gt=(e,t,a,o,i,n,l)=>{null===e||void 0===e||e.stopPropagation(),$e(t);const d=r()(t)?null===t||void 0===t?void 0:t.id:t;if(Me.localized){if(a)Ue(o),Ge({type:le,value:{id:d,flag:re,foodLineId:""}}),Ge({type:Ie}),Te(Object(m.c)({tenantId:f.tenantId,catalogName:T,itemId:d}));else if(0===i){var c;Te(Object(E.a)({params:{basketId:null===xe||void 0===xe||null===(c=xe.cartData)||void 0===c?void 0:c.id},tenantId:f.tenantId},[{Id:t,categoryId:C,quantity:i+1,modGrps:[]}])),Te(Object(E.u)(new Date)),ht(de(t,n,l),$.Increase,ke,Le,Re,f.currencyConversionFactor,f.currencyShortName)}else if(i>0){var s;Te(Object(E.x)({params:{basketId:null===xe||void 0===xe||null===(s=xe.cartData)||void 0===s?void 0:s.id,basketLineItemId:l},tenantId:f.tenantId},{quantity:i+1,isBundle:Object(G.e)(d)})),Te(Object(E.u)(new Date)),ht(de(t,n,l),$.Increase,ke,Le,Re,f.currencyConversionFactor,f.currencyShortName)}}else localStorage.setItem(A.gd.RETAIN_ADDRESS,""),We(!0),Ge({type:ee,value:{addToCart:!0,productItemId:t,categoryId:C,oldProduct:n,customizable:a,catalogs:T,fromPdpPage:!1}})};let It=Object(n.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(o.useEffect)((()=>{It&&Fe&&Be.minipdpData.itemId===It.id&&Te(Object(E.v)({showProductListingModal:!0,categorySelected:Fe}))}),[It]),Object(o.useEffect)((()=>{var e,t;if(null!==(e=It)&&void 0!==e&&e.id&&null!==vt&&void 0!==vt&&vt.productId&&(null===(t=It)||void 0===t?void 0:t.id)==(null===vt||void 0===vt?void 0:vt.productId)){var a,o,i,n,l;It={...It,dname:null===vt||void 0===vt||null===(a=vt.productInfo)||void 0===a?void 0:a.productName};const e=null===(o=It)||void 0===o||null===(i=o.recommendationRules)||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.recommendationType)===Se)),t=((e,t,a)=>{let o=[];return null===e||void 0===e||e.forEach((e=>{null!==t&&void 0!==t&&t.some((t=>(null===t||void 0===t?void 0:t.itemId)===(null===e||void 0===e?void 0:e.id)))||o.push(e)})),o})(null===e||void 0===e||null===(n=e[0])||void 0===n||null===(l=n.recommendedItems)||void 0===l?void 0:l.filter((e=>{var t;return(null===Ae||void 0===Ae||null===(t=Ae.foodLines)||void 0===t?void 0:t.findIndex((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===(null===e||void 0===e?void 0:e.id)})))<0})),jt);(null===t||void 0===t?void 0:t.length)>0?(Ot([It,...t]),ut(!0)):Ct(vt)}}),[null===(h=It)||void 0===h?void 0:h.id,null===vt||void 0===vt?void 0:vt.productId]);const St=Object(N.b)(localStorage.getItem(A.kb)),ft=(e,t,a,o,i)=>{if(fe){var n,l,d;const c=Object(N.B)([St],it,null,ge,null===ct||void 0===ct?void 0:ct.latLong),r={storeid:null===(n=c[0])||void 0===n?void 0:n.storeId,service:null===(l=c[0])||void 0===l?void 0:l.service,channel:null===(d=c[0])||void 0===d?void 0:d.channel},s=(e=>{let{isForNow:t,futureDateTime:a,payload:o}=e;return t?o:{...o,futureDateTimeInEpochFormat:a}})({isForNow:Pe,futureDateTime:we,payload:r});(e=>{const{e:t,userParams:a,dispatch:o,finalPayload:i,tenantData:n,productId:l,customizable:d,catId:c,productInfo:r,currentStoreInfo:s,serviceType:u,shouldCheckDropOffAddress:v,onCardClickHandler:m,latLong:b}=e;a.localized?o(Object(P.n)({data:i,tenantId:null===n||void 0===n?void 0:n.tenantId},(e=>m({e:t,productId:l,customizable:d,catId:c,productInfo:r,storesWithStatus:e})))):o(Object(P.d)({data:Object(N.B)([s],u,null,v,b),tenantId:null===n||void 0===n?void 0:n.tenantId},(e=>m({e:t,productId:l,customizable:d,catId:c,productInfo:r,storesWithStatus:e}))))})({e:e,userParams:Me,dispatch:Te,finalPayload:s,tenantData:f,productId:t,customizable:a,catId:o,productInfo:i,currentStoreInfo:St,serviceType:it,shouldCheckDropOffAddress:ge,onCardClickHandler:Nt,latLong:null===ct||void 0===ct?void 0:ct.latLong})}else Nt({e:e,productId:t,customizable:a,catId:o,productInfo:i,storesWithStatus:Ye})},Nt=e=>{var t,a,o;let{e:i,productId:n,customizable:l,category_id:d,productInfo:c,storesWithStatus:r}=e;i.preventDefault(),i.stopPropagation();if((null===Be||void 0===Be||null===(t=Be.timeBasedCetegory)||void 0===t?void 0:t.isTimeExpired)&&Object(y.c)({categoryUrl:null===c||void 0===c?void 0:c.categoryURL[0],itemInCart:null===Be||void 0===Be||null===(a=Be.timeBasedCetegory)||void 0===a?void 0:a.timebasedItemInCart,alertType:Object(y.j)(null===Be||void 0===Be||null===(o=Be.timeBasedCetegory)||void 0===o?void 0:o.timebasedItemInCart,null===A.Sb||void 0===A.Sb?void 0:A.Sb.ITEM)},null===Be||void 0===Be?void 0:Be.timeBasedCetegory,Ge))return;if(fe){var s,u;const e=r.find((e=>Object(N.fb)((null===e||void 0===e?void 0:e.storeId)===(null===St||void 0===St?void 0:St.id),(null===e||void 0===e?void 0:e.id)===(null===St||void 0===St?void 0:St.id)))),{summary:t={}}=Object(N.kd)(e),{status:a={}}=Object(N.kd)(t),{currentStatus:o="",message:i=""}=Object(N.kd)(a),n=(null===St||void 0===St||null===(s=St.summary)||void 0===s?void 0:s.orderingAttribute)&&!Object(N.wd)(St)&&Pe&&(null===xe||void 0===xe||null===(u=xe.cartData)||void 0===u?void 0:u.service)===A.yb;if(o===ue||n)return Ke(!0),void Je(Object(N.Tc)(Object(N.l)(i!==ve,i!==me,Object(N.Tc)(i.includes(Oe),Oe,"")!==Oe),i,null))}let v={productId:n,customizable:l,category_id:d,catalogName:T,productInfo:c,isFromPlp:!0};if(at){const e=()=>{mt(v)};Te(Object(m.c)({tenantId:null===f||void 0===f?void 0:f.tenantId,catalogName:T,itemId:n},e))}else Ct(v)},Ct=t=>{var a,o;Ge({type:ne,value:t}),localStorage.setItem("ProductDetails",JSON.stringify(t)),e.history.push({pathname:Object(N.sc)(null===t||void 0===t?void 0:t.productInfo.categoryURL,null===t||void 0===t?void 0:t.productInfo.prodURL,null===(a=e.history)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.pathname)})},Tt=(e,t,a)=>{Te(Object(m.a)({tenantId:e,customerId:a},t))},Et=(e,t,a)=>{Te(Object(m.b)({tenantId:e,customerId:t,itemId:a}))},xt=Object(N.Tc)(ze,Object(S.jsx)(M.a,{handleClose:()=>Ke(!1),classNames:"plp-warning-msg plp-page-model",CartAlertForm:Object(S.jsx)(k.a,{title:"".concat(Object(F.translateWithI18Next)(J)),contentMsg:"".concat(Object(F.translateWithI18Next)(Z)),imageSrc:U.a.LocationWithoutError,confirmButtonText:"".concat(Object(F.translateWithI18Next)(Q)," ").concat(Object(F.translateWithI18Next)(q)),confirmHandler:()=>{Ge({type:be,value:{showScheduleOrderCatering:!0,selectedStoreInfo:localStorage.getItem(A.gd.STORE_INFO),changeFlow:!0}}),Ke(!1)},cancelHandler:()=>Ke(!1),cancelButtonText:Object(F.translateWithI18Next)(K)})}),null),Dt=Object(S.jsx)(w.a,{handleClose:()=>Ke(!1),showAlert:ze,onClickBtnHandler:()=>{Ke(!1),Object(N.tf)(Ge,localStorage.getItem(A.gd.RETAIN_ADDRESS))},stoerName:null===R||void 0===R?void 0:R.storeName,storeClosedMsg:qe,contentMsg:A.K});return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(se,{searchMode:Y,isMobileView:V,localizationFlow:He,carousal:Ee,productList:g,cardRenderer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t],dname:a,url:o,content:i}=e,n=Object(N.me)(t.additionalProperties);let l=((e,t)=>""!==e?e:t.category_id)(C,e),c=!0,r=null;if(rt&&(null===Ve||void 0===Ve?void 0:Ve.type)===A.zf){const t=rt.find((t=>t.id===e.id));r=null===t||void 0===t?void 0:t.nextAvailable,c=null===t||void 0===t?void 0:t.available}return Object(S.jsx)(d.a,{item:t,activeId:Ze,cardId:t.id,cardType:I,configureOptions:{...je,showGenericMenuForNonLocalizedUsers:he},tenantData:f,servingCount:n.servings,button:e.button,categoryId:l,clickHandler:gt,customizable:t.customizable,onCardClickHandler:ft,userParams:Me,storeClosedData:R,addFavourite:Tt,removeFavourite:Et,setShowTopScrollBtn:B,"data-testid":"menu-card-component",dName:a,prodURL:o,productContent:i,plpbackgroundImageData:dt,...n,...t,nextAvailableTime:r,isAvailable:c,viewUp:z,dispositionNew:Ve},t.id)},caroselCount:Ne,currentSlide:Qe,updateCurrentSlide:Xe,setCaroselCount:Ce,cardType:I,serviceType:it}),Object(N.Tc)(Object(N.yd)(null===Ve||void 0===Ve?void 0:Ve.type),xt,Dt),ce(st,bt,(()=>Object(S.jsx)(X,{isMobile:!1,openIndulgentModal:!0,handleClose:()=>(ut(!1),void mt({})),removeItemCart:!1,IndulgentData:bt,modalTitle:oe,continueButtonText:ie,toastMassage:ae,"data-testid":"indulgetAddon-modal",addToCart:te,history:null===e||void 0===e?void 0:e.history})))]})}))},1032:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a(3),i=a(25),n=a(1);var l=a(5),d=a(22),c=a(15),r=a(2);const s=e=>{const{smartBannerData:t,showBanner:a}=Object(i.c)((e=>{var t,a,o;return{smartBannerData:(null===e||void 0===e||null===(t=e.contentReducer)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.smartBanner)||null,showBanner:(null===e||void 0===e||null===(o=e.splashLoaderReducer)||void 0===o?void 0:o.showSmartBanner)||null}})),{BannerCloseButton:s}=c.a,{bannerImage:u={}}=t||{},[v,m]=Object(o.useState)(Object(l.Ud)(window.innerWidth)),b=Object(i.b)(),O=()=>{const e=Object(l.Ud)(window.innerWidth);m(e)};Object(o.useEffect)((()=>{window.addEventListener("resize",O)}),[v]);const j=()=>{var e;b((e=!1,{type:n.Gl,showSmartBanner:e}))};return v?(()=>{var e,o,i;return Object(r.jsx)(r.Fragment,{children:a&&d.b.isBrowser&&Object(l.Kd)(u)&&Object(r.jsxs)("div",{id:"kfc-banner-image",className:"kfc-banner-image","data-testid":"banner",children:[Object(r.jsx)("img",{src:s,alt:"closeButton",className:"close-button",onClick:j,"data-testid":"close-banner"}),Object(r.jsx)("img",{src:null===u||void 0===u||null===(e=u.fields)||void 0===e||null===(o=e.file)||void 0===o?void 0:o.url,alt:null===u||void 0===u||null===(i=u.fields)||void 0===i?void 0:i.title,className:"banner-image",useMap:"#areaClickable"}),Object(r.jsx)("map",{name:"areaClickable",children:Object(r.jsx)("area",{shape:"rect",coords:"302,0,395,63",href:null===t||void 0===t?void 0:t.url,"data-testid":"install-button",alt:"Install Button"})})]})})})():null}},1033:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i}));const o="outOfService",i="CLOSED";t.c={TAKEAWAY:"PICKUP",ORDER_TYPE_STORE_INFO_FROM:"from",ORDER_TYPE_STORE_INFO_TO:"to",ORDER_TYPE_STORE_INFO_AT:"at",HOMEPATH:"",HOMEPATHSELECT:"/"}},1035:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(317),l=a(5),d=a(25),c=a(43),r=a(6),s=a(78),u=a(4),v=a(2);const{DISCARD_BUTTON_TEXT:m,CONFIRM_BUTTON_TEXT:b,INFO_TEXT:O,UNAVAILABLE_CONTENT_TEXT:j,UNAVAILABLE_CONTENT_MAIN:p,UNAVAILABLE_CART_QUERY:h,PRICE_CONTENT_TEXT:g,PRICE_CONTENT_MAIN:I,PRICE_CONTENT_QUERY:S,BOTH_CHANGE_TEXT:f,BOTH_CHANGE_MAIN:N,BOTH_CHANGE_QUERY:C}=u.a,T=(e,t,a)=>"unavailables"===e?t:a,E=(e,t,a)=>"priceChanges"===e&&Object(v.jsxs)("span",{className:"old-price",children:[a.currencySymbol,t]}),x=e=>"".concat(e&&"default-selected"," button whiteButton order-type-button"),D=e=>"".concat(e&&"default-selected"," button whiteButton order-type-button CartStateModuleFormSubmitconfirm"),y=(e,t,a)=>!e.length&&t.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(r.translateWithI18Next)(a.PRICE_CONTENT_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(r.translateWithI18Next)(a.PRICE_CONTENT_MAIN)})," ",Object(r.translateWithI18Next)(a.PRICE_CONTENT_QUERY)]}):null,_=(e,t,a)=>e.length&&t.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(r.translateWithI18Next)(a.BOTH_CHANGE_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(r.translateWithI18Next)(a.BOTH_CHANGE_MAIN)})," ",Object(r.translateWithI18Next)(a.BOTH_CHANGE_QUERY)]}):null,A=(e,t)=>e.length&&t?Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:Object(r.translateWithI18Next)(t)})}):null;t.a=e=>{const{onCartStatesMethodSubmit:t,setRef:a=null,unavailableItems:R,priceChangedItems:L}=e,P=!1,[w,M]=Object(o.useState)(Object(l.Ud)(window.innerWidth)),k=Object(d.c)((e=>e.tenantReducer)),F=()=>{const e=Object(l.Ud)(window.innerWidth);M(e)};Object(o.useEffect)((()=>{window.addEventListener("resize",F)}),[w]);const U=(e,t,a)=>{const{newFoodLineItem:o,cartPrice:i,menuPrice:n}=e,{item:d}=o,{dname:r,imageName:s}=d;return Object(v.jsx)("div",{className:"cart-card-row","data-testid":(u=a,"unavailables"===u?"unavailable-items":"priceChanged-items"),children:Object(v.jsxs)("div",{className:"cart-card d-flex",children:[Object(v.jsx)(c.a,{className:"cart-card-image",defaultPath:Object(l.Xb)(null,k,!0),srcFile:Object(l.Xb)(s,k)}),Object(v.jsxs)("div",{className:"cart-card-name",id:t,tabIndex:"0",children:[Object(v.jsx)("div",{className:"cart-item-dname",children:r[0].value}),Object(v.jsxs)("div",{className:"cart-item-price",children:[k.currencySymbol,T(a,i,n)]}),E(a,i,k)]})]})},t);var u},H=Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(n.a,{"data-testid":"cartstate-button-comp",className:x(P),onClickHandler:e=>{t(e,m)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(m),children:Object(r.translateWithI18Next)(m)},m),Object(v.jsx)(n.a,{"data-testid":"cartstate-button-comp",className:D(P),onClickHandler:e=>{t(e,b)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(r.translateWithI18Next)(b)),children:Object(r.translateWithI18Next)(b)},b)]}),W=Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(n.a,{"data-testid":"cartstate-button-comp",className:D(P),onClickHandler:e=>{t(e,b)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(r.translateWithI18Next)(b)),children:Object(r.translateWithI18Next)(b)},b),Object(v.jsx)(n.a,{"data-testid":"cartstate-button-comp",className:x(P),onClickHandler:e=>{t(e,m)},id:"CartStateModuleFormSubmit",type:"submit","aria-label":"order type ".concat(Object(r.translateWithI18Next)(m)),children:Object(r.translateWithI18Next)(m)},m)]});return Object(o.useEffect)((()=>{R.length&&!L.length?Object(s.c)({popupTitle:[Object(r.translateWithI18Next)(j),Object(r.translateWithI18Next)(p),Object(r.translateWithI18Next)(h)].join(" ")}):!R.length&&L.length?Object(s.c)({popupTitle:[Object(r.translateWithI18Next)(g),Object(r.translateWithI18Next)(I),Object(r.translateWithI18Next)(S)].join(" ")}):R.length&&L.length&&Object(s.c)({popupTitle:[Object(r.translateWithI18Next)(f),Object(r.translateWithI18Next)(N),Object(r.translateWithI18Next)(C)].join(" ")})}),[R,L]),Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{ref:a,className:"cart-module-form","data-testid":"cart-modal-component",children:[(B=R,G=L,V=u.a,B.length&&!G.length?Object(v.jsxs)("div",{className:"content-text","data-testid":"contenttext-component",children:[Object(r.translateWithI18Next)(V.UNAVAILABLE_CONTENT_TEXT)," ",Object(v.jsx)("span",{className:"red-text",children:Object(r.translateWithI18Next)(V.UNAVAILABLE_CONTENT_MAIN)})," ",Object(r.translateWithI18Next)(V.UNAVAILABLE_CART_QUERY)]}):null),y(R,L,u.a),_(R,L,u.a),A(L,O),R&&R.length?Object(v.jsx)(i.a.Fragment,{children:R.map(((e,t)=>U(e,t,"unavailables")))}):null,L&&L.length?Object(v.jsx)(i.a.Fragment,{children:L.map(((e,t)=>U(e,t,"priceChanges")))}):null,Object(v.jsx)("form",{className:"form",onSubmit:t,"data-testid":"form-component",children:Object(v.jsxs)("section",{className:"form__section",children:[Object(v.jsx)("div",{className:"order-button-section",children:w?W:H}),Object(v.jsx)("div",{className:"clearfix"})]})})]})});var B,G,V}},1036:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(121),l=a(2);t.a=e=>{const{handleClose:t,CartStatesModuleForm:a,modalTitleId:o=""}=e;return Object(l.jsx)(i.a.Fragment,{children:Object(l.jsx)(n.a,{id:"CartStatesModulePopup",role:"dialog",modalTitleId:o,show:!0,classNames:"cart-module-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,autoFocus:!0,children:a})})}},1040:function(e,t,a){"use strict";a.d(t,"d",(function(){return I})),a.d(t,"c",(function(){return S})),a.d(t,"a",(function(){return N})),a.d(t,"b",(function(){return C})),a.d(t,"e",(function(){return T})),a.d(t,"f",(function(){return x}));var o=a(6),i=a(92),n=a(84),l=a(5),d=(a(3),a(1031)),c=a(2);var r=e=>Object(l.R)(e.subCategory).map(((t,a)=>{let{categories:o="",products:i=[],id:n="",dname:l}=t;return Object(c.jsxs)("div",{id:n,children:[Object(c.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(c.jsx)("div",{children:l[0].value}),o]}),Object(c.jsx)(d.a,{productList:i,cardType:e.cardType,tenantData:e.tenantData,categoryId:n,catalogs:e.catalogs,storeClosedData:e.storeClosedData,specialEventItemAvailability:e.specialEventItemAvailability})]},a)})),s=a(18),u=a.n(s),v=a(172),m=a(36),b=a(123),O=a(15);const j=null===l.Vd||void 0===l.Vd?void 0:Object(l.Vd)(window.innerWidth),{CARD_TYPE:{CAROUSAL:p,MEDIUM:h}}=v.MENU_PLP_CONSTANT,{CartError:g}=O.a,I=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>0},S=(e,t,a)=>!u()(e)&&e.map(((e,o)=>{var i;let{id:n="",isHidden:l=!1,dname:d="",url:r,categories:s=[]}=e;return Object(c.jsx)("ul",{className:"inner-ul nested",children:!l&&Object(c.jsxs)("li",{children:[Object(c.jsx)(b.Link,{"data-testid":"subcategory-click-test",className:"".concat(I(s)?"caret":""),onClick:e=>{var t;return a(e,null===(t=d[0])||void 0===t?void 0:t.value,r,o)},to:n,spy:!0,smooth:!0,onSetActive:t,activeClass:"".concat(0===o?"active":""),children:null===(i=d[0])||void 0===i?void 0:i.value}),s&&s.length>0&&S(s)]})})})),f=(e,t)=>{e(!1),t.push({pathname:"/menu"})},N=(e,t,a,d,r,s,u)=>{const m={CLEAR_ALL_MSG:{MSGTXT1:"".concat(Object(o.translateWithI18Next)(v.SORRY_THIS_FOOD)," ").concat(Object(o.translateWithI18Next)(e)," ").concat(Object(o.translateWithI18Next)(v.IS)," "),MSGTXT2:Object(o.translateWithI18Next)(v.NOT_AVAILABLE),MSGTXT3:Object(l.Tc)(null===t||void 0===t?void 0:t.type,"".concat(Object(o.translateWithI18Next)(v.FOR)," ").concat(Object(o.translateWithI18Next)(a)),"")},CONTINUE:"continue"};return Object(l.db)(d,!(null!==r&&void 0!==r&&r.isStoreClosed))&&Object(c.jsx)(i.a,{handleClose:()=>f(s,u),classNames:"clear-cart-modal",CartAlertForm:Object(c.jsx)(n.a,{splitTitle:m.CLEAR_ALL_MSG,imageSrc:g,altText:"cart-error",confirmButtonText:Object(o.translateWithI18Next)(null===m||void 0===m?void 0:m.CONTINUE),confirmHandler:()=>f(s,u)})})},C=e=>Object(l.Jd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew,T=e=>{let{productsList:t,cardId:a,cType:o,tenantData:i,catalogs:n,storeClosedData:l,selectedCat:s,getCardCount:u,subCategories:v,specialEventItemAvailability:m,viewUp:b}=e;return null!==v&&void 0!==v&&v.length?Object(c.jsx)(r,{subCategory:v,cardType:o,tenantData:i,catalogs:n,storeClosedData:l,specialEventItemAvailability:m}):Object(c.jsx)(d.a,{productList:t,cardType:o,tenantData:i,categoryId:a,catalogs:n,selectedCat:s,storeClosedData:l,cardCount:u,specialEventItemAvailability:m,viewUp:b})},E=(e,t,a,o,i,n,l,r)=>Object(c.jsx)(d.a,{productList:e,cardType:n,tenantData:t,categoryId:l,catalogs:a,storeClosedData:o,cardCount:i,isMobileView:j,searchMode:r}),x=(e,t,a,i,n,l,d,r,s,u)=>Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:j?"no-mob-search-found-plp":"no-search-found-plp",children:[Object(c.jsx)("span",{children:Object(o.translateWithI18Next)(v.YOUR_SEARCH_TEXT)}),Object(c.jsx)("span",{className:"no-search-found-text-highlighted",children:" \u201c".concat(e.searchedData,"\u201d ")}),Object(c.jsx)("p",{children:Object(o.translateWithI18Next)(v.TURNED_NO_RESULTS_TEXT)}),Object(c.jsx)(m.a,{className:"back-to-menu-plpsearch","data-testid":"back-to-menu",onClick:t,children:Object(o.translateWithI18Next)(v.BACK_TO_MENU)})]}),Object(c.jsx)("div",{className:"horizontalLineBorder-noData"}),!(null===a||void 0===a||!a.length)&&(j?Object(c.jsxs)("div",{className:"carousal-menu-container",children:[Object(c.jsx)("div",{className:"d-flex position-relative",children:Object(c.jsx)("div",{className:"carousal-header",children:Object(o.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),E(a,i,n,l,u,p,v.CATEGORY_ID)]}):Object(c.jsx)("div",{className:"mob-plp-sections  mb-5",children:Object(c.jsx)("div",{className:"mob-plp-col mb-4",children:Object(c.jsxs)("div",{className:"recommended-menu-container recommended-menu-container-sopac medium-menu-container",children:[Object(c.jsx)("div",{className:"d-flex position-relative",children:Object(c.jsx)("div",{className:"carousal-header",children:Object(o.translateWithI18Next)(v.MENU_PLP_CONSTANT.CAROUSAL_HEADER)})}),E(a,i,n,l,"",h,v.CATEGORY_ID,e)]})})})),Object(c.jsx)("div",{className:"horizontalLineBorder-noData-forMobile"})]})},1046:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return v}));var o=a(11),i=a(1033),n=a(6),l=a(5),d=a(101),c=a(19),r=a(0);const s=e=>{var t,a,o,i,n,l,d,c;const{url:r=""}=e.headline&&(null===e||void 0===e||null===(t=e.headline[0])||void 0===t||null===(a=t.fields)||void 0===a||null===(o=a.desktopImage)||void 0===o||null===(i=o.fields)||void 0===i?void 0:i.file)||{},{title:s=""}=e.headline&&(null===e||void 0===e||null===(n=e.headline[0])||void 0===n||null===(l=n.fields)||void 0===l||null===(d=l.desktopImage)||void 0===d?void 0:d.fields)||{},{headline:u="",subHeadline:v=""}=e.headline&&(null===(c=e.headline[1])||void 0===c?void 0:c.fields)||{},{supportedDispositions:m=[]}=e;return{headline:u,subHeadline:v,supportedDispositionsData:m.map((e=>e.fields)),src:r,alt:s}},u=(e,t,a)=>{var c,r,s,u,v;const m=(null===t||void 0===t||null===(c=t.summary)||void 0===c||null===(r=c.status)||void 0===r?void 0:r.currentStatus)||i.a,{futureDates:b,scheduled:O,asap:j}=Object(l.kd)(null===t||void 0===t||null===(s=t.summary)||void 0===s?void 0:s.timings),{unavailibilities:p}=Object(l.kd)(O),{interval:h=0,startEndTime:g={}}=Object(l.kd)((null===O||void 0===O||null===(u=O.periods)||void 0===u?void 0:u.length)&&(null===O||void 0===O?void 0:O.periods[0])),{from:I,to:S}=Object(l.kd)(g);let f=Object(d.j)(I,S,h,null===j||void 0===j?void 0:j.isAvailable,1===(null===b||void 0===b?void 0:b.length)&&"INDIA"===(null===a||void 0===a||null===(v=a.country)||void 0===v?void 0:v.toUpperCase()),p);if(m===i.a&&!f.length||null===e||void 0===e||!e.time)return Object(n.translateWithI18Next)(i.b);const N=e.time,C=e.interval,T="object"==typeof e.date?e.date:new Date(e.date),E=Object(o.Q)(Object(o.h)(T,"YYYY-MM-DD")+" "+N,"YYYY-MM-DD hh:mm A"),x=Object(o.a)(E,C,"minutes"),D=Object(o.k)(x,"LT");return"ASAP"===N?"".concat(N):"".concat(N," - ").concat(D)},v=async e=>{const t=[];t.push({event:"orderType",dispositionSelected:e}),await c.a.registerEvent(void 0,{data:t[0]},l.xb)},{ORDER_TYPE_STORE_INFO_FROM:m,ORDER_TYPE_STORE_INFO_TO:b,ORDER_TYPE_STORE_INFO_AT:O}=i.c,{DELIVERY:j,DINE_IN:p,PICKUP:h}=r.Jb||{}},1065:function(e,t,a){e.exports={option:"Option_option__1S_nM",dark:"Option_dark__2ZNrn",light:"Option_light__15g6S"}},1066:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(513),l=a(15),d=a(43),c=a(1067),r=a.n(c),s=a(2);const{ChevronUp:u,ChevronDown:v}=l.a,m=e=>{let{options:t,onOptionClick:a,label:l,disabled:c,value:m,placeholder:b,dropdownId:O,theme:j="dark"}=e;const[p,h]=Object(o.useState)(!1),g=Object(o.useMemo)((()=>p||m.key?r.a.onTop:m.key||b?"":r.a.asPlaceholder),[b,p,m]),I=Object(o.useMemo)((()=>p||m.key?r.a.selected:""),[p,m]);Object(o.useEffect)((()=>{const e=e=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation();const t=null===e||void 0===e?void 0:e.target;null!==t&&void 0!==t&&t.matches("#".concat(O))||null!==t&&void 0!==t&&t.closest("#".concat(O))||h(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[O]);return Object(s.jsxs)("div",{style:{color:c?"grey":""},className:Object(n.b)("".concat(r.a.dropdown," ").concat(r.a[j]," ").concat(I)),id:O,children:[l&&Object(s.jsx)("label",{className:g,children:l}),Object(s.jsxs)("div",{onClick:()=>c?"":h(!p),className:r.a.dropdownInput,"data-testid":"dropdown-selected-value",children:[Object(s.jsx)("span",{children:m.key||b}),p?Object(s.jsx)(d.a,{className:r.a.icon,srcFile:u}):Object(s.jsx)(d.a,{className:r.a.icon,srcFile:v})]}),!(null===t||void 0===t||!t.length)&&p&&Object(s.jsx)("div",{className:r.a.options,children:t.map((e=>Object(s.jsx)("div",{children:i.a.cloneElement(e.element,{onClick:()=>(e=>{c||(h(!p),a(e))})(e.value),theme:j})},e.value.key)))})]})};m.Option=Option,t.a=m},1067:function(e,t,a){e.exports={dropdown:"Select_dropdown__3LQLO",dropdownInput:"Select_dropdownInput__d7vjD",asPlaceholder:"Select_asPlaceholder__3Hwrv",onTop:"Select_onTop__vvmiD",options:"Select_options__32bi1",icon:"Select_icon__2qeoI",dark:"Select_dark__2dxKT",light:"Select_light__1q9vB",selected:"Select_selected__1y3TN"}},1084:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(2);t.a=e=>{const{ariaLable:t,className:a="",variant:l="secondary",onClickHandler:d,onKeyDownHandler:c,specialEventItemAvailability:r,cartData:s,availableSlots:u,itemMapById:v,setDisplayMagicButton:m,displayMagicButton:b,setUnavailableData:O,...j}=e,[p,h]=Object(o.useState)([]);Object(o.useEffect)((()=>{var e;if((null===s||void 0===s||null===(e=s.foodLines)||void 0===e?void 0:e.length)>0&&v&&r){var t;const e=null===s||void 0===s||null===(t=s.foodLines)||void 0===t?void 0:t.reduce(((e,t)=>(v[t.item.id]&&(e[t.item.id]=v[t.item.id]),e)),{}),a=e&&Object.values(e).map((e=>e.parentID)),o=r.filter((e=>a.includes(e.id))).filter((e=>""!==e.nextAvailable));O&&O(o),h(o),m(g(o,s,u))}}),[null===s||void 0===s?void 0:s.foodLines,r]),Object(o.useEffect)((()=>{m(g(p,s,u))}),[p,s,u]);const g=(e,t,a)=>{var o;return!!(null!==e&&void 0!==e&&e.length&&null!==t&&void 0!==t&&null!==(o=t.foodLines)&&void 0!==o&&o.length&&a)};return Object(n.jsx)(i.a.Fragment,{children:b&&Object(n.jsx)("button",{className:"button-contained ".concat(a),type:"button","data-type":l,onClick:d,onKeyDown:c,"data-testid":"magic-button",...j,children:e.children})})}},1085:function(e,t,a){"use strict";var o=a(3),i=a(123),n=a(43),l=a(15),d=a(2);t.a=e=>{const{showThreshold:t=300}=e,{GoTop:a}=l.a,[c,r]=Object(o.useState)(!1),[s,u]=Object(o.useState)(0);return Object(o.useEffect)((()=>{const e=()=>{let e=document.documentElement.scrollTop;r(!(e<t)),u(e<=0?0:e)};return i.scroller.scrollTo("root",{duration:1500,delay:100,smooth:!0,containerId:"root"}),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[s]),c&&Object(d.jsx)(i.Link,{className:"backToTop show",to:"root",spy:!0,smooth:!0,activeClass:"active",children:Object(d.jsx)(n.a,{srcFile:a,className:"back-to-top-icon",alt:"back-to-top"})})}},1087:function(e,t,a){"use strict";var o=a(6),i=a(3),n=a(0),l=a(5),d=a(76);var c=()=>{const{userOrderState:e}=Object(i.useContext)(d.a);return{currentStoreInfoData:Object(i.useMemo)((()=>{const t=Object(l.Tc)(Object(l.Jd)(e.currentStoreInfo),Object(l.b)(localStorage.getItem(n.gd.CURRENT_STORE_INFO_STORAGE)),e.currentStoreInfo);return null!==t&&void 0!==t&&t.id?t:{...t,id:null===t||void 0===t?void 0:t.storeId}}),[e.currentStoreInfo])}},r=a(212),s=a(36),u=a(1114),v=a.n(u),m=a(15);const b={key:"",timeSlot:"",isProductCapacityAvailable:!1,isOrderCapacityAvailable:!1,availableProductCount:0,requestedProductCount:0};let O=function(e){return e.SUCCESS="SUCCESS",e.PARTIAL_SUCCESS="PARTIAL SUCCESS",e.ERROR="",e}({});var j=a(2);var p=e=>{let{children:t,type:a}=e;const o={[O.SUCCESS]:{backgroundColor:"#E6F3E6",iconPath:null===m.a||void 0===m.a?void 0:m.a.GreenCheck},[O.PARTIAL_SUCCESS]:{backgroundColor:"#FFF6E3",iconPath:null===m.a||void 0===m.a?void 0:m.a.Error_Yellow},[O.ERROR]:{backgroundColor:"#FEE",iconPath:null===m.a||void 0===m.a?void 0:m.a.Error_Red}},n=Object(i.useRef)(null),l=Object(i.useRef)(null);return Object(i.useEffect)((()=>{const e=n.current,t=l.current;if(e&&t){const a=parseInt(window.getComputedStyle(e).lineHeight,10);e.offsetHeight/a>1?(t.style.alignSelf="flex-start",t.style.marginTop=".3rem"):t.style.alignSelf="center"}}),[t]),Object(j.jsxs)("div",{style:{backgroundColor:o[a].backgroundColor},className:v.a.notification,children:[Object(j.jsx)("img",{ref:l,className:v.a.icon,src:o[a].iconPath,alt:"notification-status-icon"}),Object(j.jsx)("div",{ref:n,className:v.a.content,children:t})]})},h=a(1066),g=a(349),I=a(111),S=a(14),f=(a(1028),a(63)),N=a(11),C=a(911),T=a(25),E=a(929),x=a(61);var D=e=>{let{selectedDate:t,selectedTime:a}=e;const{dispositionNew:o}=Object(C.a)(),{userOrderStateDispatch:l}=Object(i.useContext)(d.a),{fetchEventItemAvailabilityForDisposition:r}=Object(E.a)(),{cartData:s}=Object(T.c)((e=>e.cartReducer))||{},{tenantId:u}=Object(T.c)((e=>e.tenantReducer))||{},v=Object(T.b)(),m=Object(x.g)(),b=Object(N.C)(t.epochTime,n.sb.YYYY_MM_DD),O=Object(N.T)(a.key),j=Object(N.A)(b+" "+O,"YYYY-MM-DD hh:mm"),p=Object(N.C)(j,n.sb.h_mm_A),{currentStoreInfoData:h}=c();return{handleSetTime:Object(i.useCallback)((()=>{const e={...o,epochTime:j,selectedTime:p,time:p,date:b};l({type:null===S.a||void 0===S.a?void 0:S.a.SET_DISPOSITION_NEW,value:{dispositionNew:e}}),localStorage.setItem("dispositionNew",JSON.stringify(e)),r({date:b,storeId:h.id,time:p}),v(Object(f.q)({params:{basketId:null===s||void 0===s?void 0:s.id},tenantId:u,postBody:{isForNow:!1,futureDateTime:j},orderReadyDateTimeUpdateSuccessCallback:()=>{m.push("/cart")},orderReadyDateTimeUpdateErrorCallback:()=>{throw Error("Error updating order ready date time")}}))}),[o,j,p,b,l,r,h.id,v,null===s||void 0===s?void 0:s.id,u,m])}},y=a(51),_=a(1026);var A=e=>e.map((e=>({value:e,element:Object(j.jsx)(_.a,{children:e.key})}))),R=a(38),L=a(959),P=a(4);const w=e=>{const t=Object(N.v)(e,n.Qf),a=Object(N.h)(e,"MMMM D").split(" ");return"".concat(Object(o.translateWithI18Next)(a[0])," ").concat(a[1]).concat(Object(o.translateWithI18Next)(P.a.DAY)," ").concat(Object(o.translateWithI18Next)(null===n.ub||void 0===n.ub?void 0:n.ub[t]))};var M=()=>{var e,t,a;const o=Object(T.c)((e=>e.tenantReducer)),n=Object(T.c)((e=>e.storesReducer)),{currentStoreInfoData:l}=c(),d={...n.store},r=(null===o||void 0===o?void 0:o.orderServDateFormat)||"",s=(null===o||void 0===o||null===(e=o.componentOptions)||void 0===e||null===(t=e.app)||void 0===t||null===(a=t.scheduledDelivery)||void 0===a?void 0:a.dateFormat)||"DD/MM/YYYY",[u,v]=Object(i.useState)([]),{data:m,error:b}=Object(L.g)(),O=Object(T.b)();return Object(i.useEffect)((()=>{if(m&&!b&&d.id){const e=k(m,s);v(A(e))}}),[m,b,d.id,s,r]),Object(i.useEffect)((()=>{const e=[{disposition:{}},{store:l},{fulfillment:{}},{geolocationResult:{}}];O(Object(f.y)(e))}),[l,O]),{dateOptions:u}};const k=(e,t)=>{const a=null===e||void 0===e?void 0:e.response,i=new Date,n="".concat(i.getFullYear().toString().padStart(4,"0")).concat((i.getMonth()+1).toString().padStart(2,"0")).concat(i.getDate().toString().padStart(2,"0"));return Object.keys(a).filter((e=>e>=n)).map((e=>y.a.format({date:e,time:"",dateFormat:"YYYYMMDD",timeFormat:"",outPutFormat:t}))).map(((e,t)=>{var i,n;return{key:w(e)+"".concat(Object(o.translateWithI18Next)(null===R.a||void 0===R.a?void 0:R.a.AVAILABLE)," ").concat(Object(o.translateWithI18Next)(null===(i=a[Object.keys(a)[t]])||void 0===i||null===(n=i.availability)||void 0===n?void 0:n.toLowerCase())),epochTime:Object(N.A)(e)}}))};var F=e=>{var t;let{data:a,selectedTime:i}=e;if(null!==a&&void 0!==a&&a.closestTime)return{type:O.SUCCESS,text:"".concat(Object(N.T)(null===a||void 0===a?void 0:a.closestTime)," ").concat(Object(o.translateWithI18Next)("newTimeFound"))};const n=null===a||void 0===a||null===(t=a.availableSlots)||void 0===t?void 0:t.find((e=>e.timeSlot===i));return n&&n.availableProductCount<n.requestedProductCount&&n.availableProductCount>=1?{type:O.PARTIAL_SUCCESS,text:Object(o.translateWithI18Next)("partialListAvailable")}:n&&n.availableProductCount===n.requestedProductCount?{type:O.SUCCESS,text:Object(o.translateWithI18Next)("newTimeFound")}:(n&&n.availableProductCount,{type:O.ERROR,text:Object(o.translateWithI18Next)("noListAvailable")})};var U=e=>e.map((e=>{const{key:t,isOrderCapacityAvailable:a,availableProductCount:i,requestedProductCount:n}=e;return{value:e,element:(()=>{if(i===n){const e="".concat(t," (").concat(Object(o.translateWithI18Next)("allItemsAvailable"),")");return Object(j.jsx)(_.a,{children:e})}if(i<n&&i>=1)return Object(j.jsx)(_.a,{children:t});if(0===i){const e="".concat(t," (").concat(Object(o.translateWithI18Next)("noItemsAvailable"),")");return Object(j.jsx)(_.a,{disabled:!0,children:e})}if(!a){const e="".concat(t," (").concat(Object(o.translateWithI18Next)("outOfStock"),")");return Object(j.jsx)(_.a,{disabled:!0,children:e})}})()}}));var H=()=>{var e,t,a,o;const{dispositionNew:n}=Object(C.a)(),l=Object(T.c)((e=>e.storesReducer)),d=(null===l||void 0===l||null===(e=l.storesWithStatus[0])||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.timings)||void 0===a?void 0:a.futureDates)||[],[c,r]=Object(i.useState)({epochTime:n.epochTime,key:w(n.date)}),[s,u]=Object(i.useState)({...b,key:Object(N.W)(n.time)}),[v,m]=Object(i.useState)(null),[j,p]=Object(i.useState)([]),[h,g]=Object(i.useState)([]),[I,S]=Object(i.useState)(!0),[f,E]=Object(i.useState)(null),{isFetching:x,data:D,error:y,refetch:_}=Object(L.i)(Object(N.A)((null===n||void 0===n?void 0:n.date)+" "+(null===s||void 0===s?void 0:s.key),"YYYY_MM_DD_hh_mm")),A=Object(i.useCallback)((()=>{f?u(f):m({type:O.ERROR,text:"No items available"})}),[f]),R=Object(i.useCallback)((()=>{_(),S(!1)}),[_]);return Object(i.useEffect)((()=>{if(null!==D&&void 0!==D&&D.response){const{response:e}=D;if(null!==e&&void 0!==e&&e.availableSlots){const t=(()=>{const e=new Date;return e.getHours().toString().padStart(2,"0")+e.getMinutes().toString().padStart(2,"0")})(),a=null===c||void 0===c?void 0:c.epochTime,o=new Date(1e3*a),i=new Date,n=o.toDateString()===i.toDateString(),l=null===e||void 0===e?void 0:e.availableSlots.map((e=>({...e,key:Object(N.T)(e.timeSlot)}))).filter((e=>n?e.timeSlot>=t:e.timeSlot));p(l),g(U(l));const d=l.find((e=>e.requestedProductCount<=e.availableProductCount||e.availableProductCount>=1&&e.availableProductCount<e.requestedProductCount));d&&E(d),s&&(null===s||void 0===s?void 0:s.key)<(null===d||void 0===d?void 0:d.key)&&u(d)}}}),[D,c]),Object(i.useEffect)((()=>{var e,t;if(!I&&!x)if((null===D||void 0===D||null===(e=D.response)||void 0===e?void 0:e.closestTime)!==s&&m(F({data:null===D||void 0===D?void 0:D.response,selectedTime:s.timeSlot})),null!==D&&void 0!==D&&null!==(t=D.response)&&void 0!==t&&t.closestTime&&!x){var a;const e=String(null===D||void 0===D||null===(a=D.response)||void 0===a?void 0:a.closestTime),t=j.find((t=>t.timeSlot===e));t&&u(t)}else A()}),[A,c,x,null===D||void 0===D||null===(o=D.response)||void 0===o?void 0:o.closestTime,j,null===D||void 0===D?void 0:D.response,s,I]),{selectedDate:c,setSelectedDate:r,selectedTime:s,setSelectedTime:u,notification:v,isFetching:x,data:D,error:y,refetch:_,futureDates:d,timeOptions:h,setSkipRecheck:S,handleSetSelectedTime:e=>{m(null),S(!0),u(e)},handleSetSelectedDate:e=>{m(null),r(e),S(!0)},handleOnFindAgainClick:R}};var W=()=>Object(j.jsx)("div",{style:{borderBottom:"1px solid #DEE2E6"}}),B=a(1115),G=a.n(B);t.a=e=>{var t,a;let{visibility:n,setVisibility:l}=e;const{selectedDate:u,selectedTime:v,handleSetSelectedTime:m,handleSetSelectedDate:b,notification:O,isFetching:f,timeOptions:N,handleOnFindAgainClick:C}=H(),{userOrderState:T,userOrderStateDispatch:E}=Object(i.useContext)(d.a),{currentStoreInfoData:x}=c(),{handleSetTime:y}=D({selectedDate:u,selectedTime:v}),{dateOptions:_}=M(),A={id:"TimeFinderPopup",role:"dialog",show:!0,showCloseBtn:!0,closeButtonHandler:()=>{l(!n)},modalTitle:Object(o.translateWithI18Next)("eventModalHeader"),autoFocus:!0};return Object(j.jsx)("section",{children:n&&!(null!==T&&void 0!==T&&null!==(t=T.searchStoreData)&&void 0!==t&&t.showSearchStore)&&Object(j.jsx)(g.a,{...A,children:Object(j.jsx)("div",{className:G.a.timeFinderModal,children:Object(j.jsxs)("div",{className:G.a.contentContainer,children:[Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(o.translateWithI18Next)("setLocation")}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[Object(j.jsx)("p",{children:(null===x||void 0===x||null===(a=x.name[0])||void 0===a?void 0:a.value)||""}),Object(j.jsx)(r.a,{onClickHandler:()=>{l(!n),E({type:S.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:I.c}})},className:G.a.cta,children:Object(o.translateWithI18Next)("change")})]}),Object(j.jsx)(W,{})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:Object(o.translateWithI18Next)("ScheduleOrder")}),O&&!f&&Object(j.jsx)("div",{className:G.a.notificationContainer,children:Object(j.jsx)(p,{type:O.type,children:O.text})}),Object(j.jsxs)("div",{className:G.a.inputContainer,children:[u&&Object(j.jsx)("div",{className:G.a.dateSelectContainer,children:Object(j.jsx)(h.a,{dropdownId:"dateDropdown",disabled:f,placeholder:"Select date",label:Object(o.translateWithI18Next)("date"),value:u,options:_,onOptionClick:b})}),v&&Object(j.jsx)(h.a,{dropdownId:"timeDropdown",disabled:f,placeholder:"Select time",label:Object(o.translateWithI18Next)("time"),options:N,value:v,onOptionClick:m})]})]}),Object(j.jsxs)("div",{className:G.a.buttonsContainer,children:[Object(j.jsx)(s.c,{variant:s.b.tertiary,onClickHandler:()=>C(),"data-testid":"confirm-button-handler",children:Object(j.jsxs)("span",{children:[" ",Object(o.translateWithI18Next)("findAgain")]})}),Object(j.jsx)(s.c,{variant:s.b.secondary,onClickHandler:()=>{y(),l(!n)},"data-testid":"confirm-button-handler",children:Object(j.jsx)("span",{children:Object(o.translateWithI18Next)("toTheCart")})})]})]})})})})}},1114:function(e,t,a){e.exports={notification:"Notification_notification__2okmg",icon:"Notification_icon__1YHwX"}},1115:function(e,t,a){e.exports={timeFinderModal:"TimeFinderModal_timeFinderModal__SorX6",contentContainer:"TimeFinderModal_contentContainer__3zPSq",inputContainer:"TimeFinderModal_inputContainer__3UeVT",dateSelectContainer:"TimeFinderModal_dateSelectContainer__1eU03",buttonsContainer:"TimeFinderModal_buttonsContainer__25_dt",cta:"TimeFinderModal_cta__2r_vr",notificationContainer:"TimeFinderModal_notificationContainer__2Y9_e"}},1122:function(e,t,a){"use strict";a.d(t,"b",(function(){return qe})),a.d(t,"a",(function(){return Ze}));var o=a(214),i=a(6),n=a(375),l=a(3),d=a.n(l),c=a(61),r=a(2);var s=e=>{var t,a;let{value:o,className:i}=e,n=o,{category_name:l}=Object(c.i)(),d={};return l=l?l.trim().toLowerCase().replace(/-/g," "):"menu",o=null===(t=o)||void 0===t?void 0:t.replace(/ &|'/g,""),i&&(d={className:i}),Object(r.jsx)(r.Fragment,{children:l===(null===(a=o)||void 0===a?void 0:a.trim().toLowerCase())?Object(r.jsx)("h1",{...d,children:n}):Object(r.jsx)("h2",{...d,children:n})})},u=a(43),v=a(326),m=a(15),b=a(0),O=a(4),j=a(917),p=a(904),h=a(129),g=a(62),I=a(11),S=a(5),f=a(76),N=a(37),C=a.n(N),T=a(1025),E=a(38),x=a(14),D=a(1017),y=a(1005),_=a(25),A=a(123),R=a(370),L=a(369),P=a(1027),w=a(172),M=a(1040),k=a(324),F=a(213),U=a(1031),H=a(318),W=a(329),B=a(321),G=a(959);const{FROM:V,TILL:Y}=O.a,{CARD_TYPE:{SMALL:z,CAROUSAL:K}}=w.MENU_PLP_CONSTANT,{View_1UP_Icon:q,View_1UP_Icon_Inactive:J,View_carousal_Icon:Q,View_carousal_Icon_Inactive:X,Product_Card_Icon:Z,ribbonRedOutlined:$,TimerIcon:ee}=m.a,te=e=>{let{productsList:t,cardId:a,cType:o,subCategories:i,tenantData:n,catalogs:l,storeClosedData:d,selectedCat:c,getCardCount:r,viewUp:s,specialEventItemAvailability:u}=e;return"viewup"===o&&(o=s?z:K),Object(M.e)({productsList:t,cardId:a,cType:o,tenantData:n,catalogs:l,storeClosedData:d,selectedCat:c,getCardCount:r,subCategories:i,specialEventItemAvailability:u,viewUp:s})},ae=e=>Object(S.ce)()?"medium-category-name":0===e?"large-category-name":"medium-category-name",oe=function(e,t,a,o){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const l=null!==n&&void 0!==n&&n.showMDPTimeIn24HourTimeFormat?b.sb.HH_mm:b.sb.H_MM_AA;return e&&null!==(null===a||void 0===a?void 0:a.startTime)?Object(r.jsxs)("div",{className:t,children:[Object(i.translateWithI18Next)(V)," ",Object(H.j)(Object(S.y)(null===a||void 0===a?void 0:a.startTime),l)," ",Object(i.translateWithI18Next)(Y)," ",Object(H.j)(Object(S.y)(null===a||void 0===a?void 0:a.endTime),l)]}):null},ie=e=>Object(S.ce)()?Object(S.Tc)(Object(S.yd)(e),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):"medium-menu-container",ne=e=>{var t;let{dname:a,index:o,specials:n,discount:l,exclusive:d,timer:c,id:u,products:v,subCategories:m,tenantData:b,catalogs:O,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,showCategoryTimings:I,specialEventItemAvailability:S,availability:f,timeZone:N}=e;const C={section:{availability:f}},{startTime:T,endTime:E}=Object(G.h)(C),x={startTime:T,endTime:E};return Object(r.jsxs)("div",{children:[Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:ae(o),children:Object(r.jsx)(s,{value:null===(t=a[0])||void 0===t?void 0:t.value})}),oe(I,"dynamic-menu-time-desk",x,N,b)]}),Object(r.jsx)(F.a,{src:n?Z:l||d&&$||"",className:n?"specials-product-ribbon":d?"exclusive-product-ribbon":"discount-product-ribbon"}),Object(r.jsx)("span",{className:n?"specials-ribbon-text":"discount-ribbon-text",children:c?Object(r.jsxs)("div",{children:[Object(r.jsx)(F.a,{src:ee,className:"product-timer"}),Object(r.jsx)("span",{className:"product-timer-text",children:Object(i.translateWithI18Next)(w.TIMER_I18Next)})]}):n||l||d||null}),te(0===o?{productsList:v,cardId:u,cType:"large",subCategories:m,tenantData:b,catalogs:O,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:S}:{productsList:v,cardId:u,cType:"medium",subCategories:m,tenantData:b,catalogs:O,storeClosedData:j,selectedCat:p,getCardCount:h,viewUp:g,specialEventItemAvailability:S})]})},le=(e,t,a)=>{var o,i;return e&&(null===(o=document)||void 0===o||null===(i=o.getElementById("select-start-order-items"))||void 0===i?void 0:i.clientHeight)>40?0===a?"offsetFirstIndex":t||0!==a?"offsetOtherIndex":"offsetFirstIndexWithBanner":e?"offsetWithLocalized":t||0!==a?void 0:"offsetFirstIndexWithBanner"},de=e=>{var t,a,o;let{products:n,index:l,dname:d,id:c,subCategories:u,viewUp:v,changeViewtoUp:m,viewCarousal:b,changeViewtoCarousal:O,carouselCount:j,tenantData:p,storeClosedData:h,catalogs:g,selectedCat:I,getCardCount:f,localized:N,isSmartBannerVisible:C,showCategoryTimings:T,specialEventItemAvailability:E,availability:x,timeZone:D}=e;const y=0===l?"carousal":"viewup",_=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(a=t.PlpProductCard)||void 0===a?void 0:a.changeProductView,A={section:{availability:x}},{startTime:R,endTime:L}=Object(G.h)(A),P={startTime:R,endTime:L};return Object(r.jsx)(r.Fragment,{children:_?Object(r.jsxs)("div",{children:[Object(S.S)(n)>1&&1===l&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"product-view-section",children:[Object(r.jsxs)("span",{className:"product-view",children:[Object(i.translateWithI18Next)(w.MENU_PLP_CONSTANT.PRODUCT_VIEW_TEXT),":"]}),Object(r.jsx)(F.a,{src:v&&q||J,className:"product-view-up-icon",onClick:m,"data-testid":"change-view-to-up"}),Object(r.jsx)(F.a,{src:b&&Q||X,className:"product-view-carousal-icon",onClick:O,"data-testid":"change-view-to-carousal"})]}),Object(r.jsx)("hr",{className:"product-view-divider"})]}),Object(r.jsxs)("div",{className:"d-flex position-relative",children:[Object(r.jsx)("div",{className:"small-category-name",children:d[0].value}),!v&&Object(r.jsxs)("div",{className:"card-counter",children:[j,"/",Object(S.S)(n)]})]}),oe(T,"dynamic-menu-time-mob",P,D),te({productsList:n,cardId:c,cType:y,subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:I,getCardCount:f,viewUp:v,specialEventItemAvailability:E})]}):Object(r.jsxs)("div",{className:le(N,C,l),children:[Object(r.jsx)("div",{className:"d-flex position-relative",children:Object(r.jsx)(s,{className:"small-category-name",value:null===(o=d[0])||void 0===o?void 0:o.value})}),oe(T,"dynamic-menu-time-mob",P,D,p),te({productsList:n,cardId:c,cType:"viewup",subCategories:u,tenantData:p,catalogs:g,storeClosedData:h,selectedCat:I,getCardCount:f,viewUp:v,specialEventItemAvailability:E})]})})},ce=e=>{let{searchMode:t,filterList:a,dietaryList:o,products:i,isMobile:n,viewUp:l,tenantData:d,getCardCount:c,catalogs:s,storeClosedData:u,clearSearch:v,recommendProducts:m,carouselCount:b,dispositionType:O}=e;return(t.isSearchedMode||[...a,...o].length)&&null!==i&&void 0!==i&&i.length?Object(r.jsx)("div",{className:n?"sopac-small-menu-container":ie(O),children:Object(r.jsx)(U.a,{productList:i,cardType:n?l?"small":"carousal":"medium",tenantData:d,cardCount:n&&c,categoryId:"",catalogs:s,storeClosedData:u})}):t.isSearchedMode&&Object(M.f)(t,v,m,d,s,u,n,"carousal","CAT86",b,c)},re=(e,t,a,o)=>Object(S.ce)()?e?"sopac-small-menu-container":Object(S.Tc)(Object(S.yd)(o),"sopac-medium-menu-container sopac-medium-catering-container","sopac-medium-menu-container"):e?0===t||a?"carousal-menu-container":"small-menu-container":0===t?"large-menu-container":"medium-menu-container",se=e=>{let{isMobile:t,specialEventItemAvailability:a,searchMode:o,categories:i,viewCarousal:n,viewUp:d,changeViewtoUp:c,changeViewtoCarousal:s,carouselCount:u,tenantData:v,catalogs:m,storeClosedData:b,selectedCat:O,getCardCount:j,filterList:p,dietaryList:h,products:g,clearSearch:I,recommendProducts:N,localized:C,dispositionType:T}=e;const E=(null===i||void 0===i?void 0:i.length)&&Object(k.a)(i),{userOrderState:x}=Object(l.useContext)(f.a),{timeBasedCetegory:y,timeBasedAlertModalData:A}=x,{menuReducer:R}=Object(_.c)((e=>e)),L=Object(_.c)((e=>Object(S.kd)(e.storesReducer))),P=(null===L||void 0===L?void 0:L.storesWithStatus)&&Object(W.b)(null===L||void 0===L?void 0:L.storesWithStatus[0]),w=null===P||void 0===P?void 0:P.timeZone;return Object(r.jsx)(D.a,{className:t?"mob-plp-col":"",children:null!==o&&void 0!==o&&o.isSearchedMode||null===E||void 0===E||!E.length?ce({searchMode:o,filterList:p,dietaryList:h,products:g,isMobile:t,viewUp:d,tenantData:v,getCardCount:j,catalogs:m,storeClosedData:b,clearSearch:I,recommendProducts:N,carouselCount:u,dispositionType:T}):E.filter((e=>{let{isHidden:t}=e;return!t})).map(((e,o)=>{let{id:i,name:l,dname:p,products:h,categories:g,isHidden:I,specials:S,exclusive:f,timer:N,discount:E,isTimeSpecific:D,availability:_,showNoCategoryTimings:L}=e;const M={products:h,index:o,dname:p,id:i,categories:g,viewUp:d,tenantData:v,storeClosedData:b,catalogs:m,selectedCat:O,getCardCount:j,isTimeSpecific:D,specialEventItemAvailability:a,availability:_,timeZone:w,showCategoryTimings:D&&!L};return!I&&!(e=>{var t,a,o;if(null!==y&&void 0!==y&&y.timeDifference&&(null===A||void 0===A||!A.isReviewOrderClick))return!1;const i={categoryName:e},n=null!==x&&void 0!==x&&null!==(t=x.dispositionNew)&&void 0!==t&&t.date?null===x||void 0===x||null===(a=x.dispositionNew)||void 0===a?void 0:a.date:null===(o=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===o?void 0:o.date;return Object(B.i)({item:i,getStoreDetail:P,menuReducer:R,showModal:!1,selectedDate:n})})(l)&&(null===h||void 0===h?void 0:h.length)>0&&Object(r.jsx)("div",{id:null===l||void 0===l?void 0:l.trim(),className:re(t,o,n,T),children:t?Object(r.jsx)(de,{changeViewtoUp:c,viewCarousal:n,changeViewtoCarousal:s,carouselCount:u,localized:C,isMobile:t,...M}):Object(r.jsx)(ne,{specials:S,discount:E,exclusive:f,timer:N,...M})},o)}))})};var ue=d.a.memo(se);var ve=d.a.forwardRef(((e,t)=>{let{className:a,filterList:o,dietaryList:n,sortByListMob:d,handleClearItems:c,closeSearchFilterMenu:s,handleFilteredData:b,handleSearchdata:O,setSearchModeData:j,data:p,inputSearchData:h,searchedData:g}=e;const[I,S]=Object(l.useState)(!1),[f,N]=Object(l.useState)([]),[C,T]=Object(l.useState)(""),x=Object(l.useRef)(null),{SEARCHOURMENU:D}=P.a,y=e=>{x.current&&!x.current.contains(e.target)&&S(!1)},{SearchIconGrey:_,CrossCloseIcon:A,ClearIconDark:R}=m.a;Object(l.useEffect)((()=>(document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}))),Object(l.useEffect)((()=>{T(""),S(!1)}),[h]),Object(l.useEffect)((()=>{""===g&&T("")}),[g]);const L=e=>{const{products:t}=p||{};N(t.filter((t=>!t.isHidden&&-1!==t.name.toLowerCase().indexOf(e))).slice(0,5)),window.scrollTo(0,0)};return Object(r.jsxs)("div",{ref:t,"data-testid":"mob-search-filter-testid",className:a,children:[Object(r.jsxs)("div",{className:"refineItemsPartMobPLP",children:[Object(r.jsx)("span",{className:"refineItemsText",children:Object(i.translateWithI18Next)("refineItems")}),Object(r.jsx)("img",{className:"crossCloseIconFilterMobPlp","data-testid":"cross-close-filter-mob",onClick:()=>s("Close"),src:A,alt:"Cross Icon"})]}),Object(r.jsxs)("div",{className:"searchInputMobMenuPlp",children:[Object(r.jsxs)("div",{className:"plp-search-container",children:[Object(r.jsx)(v.a,{"data-testid":"mob-search-input",className:"search-menu-inputMob",onChange:e=>(e=>{T(e.target.value),(o.length||n.length||d.length)&&c(),e.target.value.toString().length>2?I||(S(!0),L(e.target.value.toLowerCase().toString())):I&&(S(!1),O(),L(""),j(!1,C))})(e),onKeyPress:e=>{var t;"Enter"===(t=e).key&&(s(),O(t.target.value.toLowerCase().toString()),j(!0,C),window.scrollTo(0,0))},value:C,placeholder:Object(i.translateWithI18Next)(D)}),Object(r.jsx)("div",{className:"search-iconMob",children:Object(r.jsx)(u.a,{srcFile:_,className:"search-icon-img"})}),C.length>2&&Object(r.jsx)("img",{"data-testid":"mob-cross-icon",className:"input-dark-cross-mob",onClick:()=>(T(""),O(),void j(!1,"")),src:R,alt:"Clear Icon"})]}),I&&Object(r.jsx)("div",{ref:x,"data-testid":"mob-search-dropdown",className:"inputAutoCompletePLP",children:(null===f||void 0===f?void 0:f.length)>0&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"SuggestionHeader",children:Object(i.translateWithI18Next)(null===E.a||void 0===E.a?void 0:E.a.SUUGESTED_ITEMS_TEXT)}),Object(r.jsx)("ul",{className:"autoCompleteListPLP",children:f.map(((e,t)=>{var a,o;return Object(r.jsxs)("li",{onClick:()=>(e=>{Object(k.r)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),b(e.mdmId),s(),T(e.name),j(!0,e.name),window.scrollTo(0,0)})(e),"data-testid":"fiter-data-".concat(null===e||void 0===e?void 0:e.name),className:"wrapperAutoCompletePLP",children:[Object(r.jsx)("span",{className:"searchgrey-icon-img",children:Object(r.jsx)(u.a,{srcFile:_})}),Object(r.jsx)("span",{children:null===e||void 0===e||null===(a=e.dname)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value})]},(null===e||void 0===e?void 0:e.mdmId)+t)}))})]})})]})]})})),me=a(317),be=a(49);const Oe=e=>e?"mob-outer-ul":"outer-ul",je=(e,t)=>"".concat(e(t)?"caret":""),pe=e=>{var t,a,o;let{isMobile:i,menu:n,categories:d,setActiveMenuSelection:c,history:s,hasSubcategory:u,handleSetActive:v,getMenusSubcategory:m,onItemClick:O}=e;const j=Object(l.useCallback)((e=>{let{e:t,index:a,name:o,url:i,filterNotHiddenItem:n,categories:l,scroller:d,menuNavigationAnalyticsData:c,setActiveMenuSelection:r,history:s}=e;Object(k.u)({e:t,index:a,catergoryName:o,url:i,filterNotHiddenItem:n,categories:l,scroller:d,menuNavigationAnalyticsData:c,setActiveMenuSelection:r,history:s})}),[]),p=Object(_.c)((e=>Object(S.kd)(e.storesReducer))),h=(null===p||void 0===p?void 0:p.storesWithStatus)&&Object(W.b)(null===p||void 0===p?void 0:p.storesWithStatus[0]),g=Object(_.c)((e=>e.tenantReducer)),I=null===g||void 0===g||null===(t=g.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.plp)||void 0===o?void 0:o.setMenuScroll,N=Object(k.k)(I),C=(null===n||void 0===n?void 0:n.length)&&Object(k.a)(n),T=(null===C||void 0===C?void 0:C.length)&&Object(S.R)(C),[E,x]=Object(l.useState)(!0),{userOrderState:D,userOrderStateDispatch:y}=Object(l.useContext)(f.a),{timeBasedCetegory:R,timeBasedAlertModalData:L}=D,{menuReducer:P}=Object(_.c)((e=>e)),w=Object(l.useRef)([]);Object(l.useLayoutEffect)((()=>{var e,t,a,o;const i=null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname.split("/").pop(),n=null===T||void 0===T?void 0:T.findIndex((e=>e.url===i));var l,c,r,s;n&&-1!==n&&Object(S.db)((null===(a=window)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.pathname)!==b.Ae.MENU_PAGE,null===d||void 0===d?void 0:d.length)&&!I&&A.scroller.scrollTo(null===(l=T[n])||void 0===l||null===(c=l.name)||void 0===c?void 0:c.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:(null===w||void 0===w||null===(r=w.current[n])||void 0===r||null===(s=r.props)||void 0===s?void 0:s.offset)-10})}),[]);return Object(r.jsx)("ul",{className:Oe(i),children:(null===T||void 0===T?void 0:T.length)&&T.map(((e,t)=>{let{id:a,isHidden:o,url:n,name:l,dname:p,products:g,categories:I}=e;return!o&&(null===g||void 0===g?void 0:g.length)>0&&!(e=>{var t,a,o;const i=null!==D&&void 0!==D&&null!==(t=D.dispositionNew)&&void 0!==t&&t.date?null===D||void 0===D||null===(a=D.dispositionNew)||void 0===a?void 0:a.date:null===(o=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===o?void 0:o.date;if(null!==R&&void 0!==R&&R.timeDifference&&(null===L||void 0===L||!L.isReviewOrderClick))return!1;const n={categoryName:e};return Object(B.i)({item:n,getStoreDetail:h,menuReducer:P,showModal:!1,selectedDate:i})})(l)&&Object(r.jsxs)("li",{id:"category-name-".concat(a),children:[Object(r.jsx)(A.Link,{ref:e=>w.current[t]=e,"data-testid":"category-click-test",to:l.trim(),onClick:e=>((e,t,a,o)=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault(),Object(B.c)({categoryUrl:a,itemInCart:null===R||void 0===R?void 0:R.timebasedItemInCart,alertType:Object(B.j)(null===R||void 0===R?void 0:R.timebasedItemInCart,null===b.Sb||void 0===b.Sb?void 0:b.Sb.CATEGORY)},R,y)||(i?Object(k.m)(null===t||void 0===t?void 0:t.trim(),a,s):(j({e:e,index:o,name:null===t||void 0===t?void 0:t.trim(),url:a,filterNotHiddenItem:S.R,categories:d,scroller:A.scroller,menuNavigationAnalyticsData:k.n,setActiveMenuSelection:c,history:s}),Object(be.q)(t,o)))})(e,l,n,t),spy:!0,offset:Object(S.Tc)(i,N,-130),smooth:!0,duration:1500,delay:100,isDynamic:!0,activeClass:Object(S.Tc)(i,"active",null),className:"".concat(E&&0===t&&"active"," ").concat(!i&&je(u,I)),onSetActive:e=>((e,t)=>{x(!1),v(e,t)})(e,a),children:p[0].value}),!i&&m(I||[],v,O)]},t)}))})};var he=d.a.memo(pe);const{DarkCloseButton:ge}=m.a,Ie=e=>{let{filterList:t,dietaryList:a,sortByList:o,searchMode:n,isMobile:l,clearSearch:d,handleClearItems:c,menu:s,categories:u,setActiveMenuSelection:v,history:m,hasSubcategory:b,handleSetActive:O,getMenusSubcategory:j,onItemClick:p}=e;return[...t,...a,...o].length>0||n.isSearchedMode?Object(r.jsxs)("div",{className:l&&"filterListRowMobView",children:[Object(r.jsx)(me.a,{className:l?"clearAllFilterButtonMob":"clearAllFilterButton","data-testid":"clear-all-handle",onClickHandler:n.isSearchedMode&&d||c,children:n.isSearchedMode&&Object(i.translateWithI18Next)(w.CLEAR_SEARCH)||Object(i.translateWithI18Next)(w.CLEAR_ALL)}),[...t,...a,...o].map((e=>Object(r.jsx)("div",{className:"",children:Object(r.jsxs)("div",{className:l?"selectedFilterButtonsMob":"selectedFilterButtons",children:[Object(r.jsx)("span",{className:"textFilteredMob",children:e}),Object(r.jsx)("img",{className:l?"mlcrossMob":"mlcross","data-testid":"clear-all-items-".concat(e),onClick:()=>c(e),src:ge,alt:"Close Button"})]})})))]}):Object(r.jsx)(he,{isMobile:l,menu:s,categories:u,setActiveMenuSelection:v,history:m,hasSubcategory:b,handleSetActive:O,getMenusSubcategory:j,onItemClick:p})};var Se=d.a.memo(Ie);const fe=e=>{let{searchMode:t,filterList:a,dietaryList:o,isMobile:n,products:l,showItemsTextOnSearch:d=!1}=e;return t.isSearchedMode&&Object(S.S)(l)>0?Object(r.jsx)(y.a,{className:Object(S.Tc)(n,"search-box","pt-5"),children:Object(r.jsxs)("h3",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.S)(l),d&&Object(i.translateWithI18Next)(w.NO_OF_ITEMS),' "'.concat(t.searchedData.toUpperCase(),'"')]})}):[...a,...o].length>0&&0===Object(S.S)(l)&&Object(r.jsx)(y.a,{className:Object(S.Tc)(n,"search-box","pt-5 no-data-found-plp"),children:Object(r.jsxs)("h2",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.S)(l)," ",w.RESULTS.toUpperCase()]})})||[...a,...o].length>0&&Object(S.S)(l)>0&&Object(r.jsx)(y.a,{className:Object(S.Tc)(n,"search-box","pt-5 ".concat((c=o,c.find((e=>"all"===e.toLowerCase()))?"all-data-found-plp":"data-found-plp"))),children:Object(r.jsxs)("h2",{className:"found-text",children:[Object(i.translateWithI18Next)(w.WE_FOUND_TEXT)," ",Object(S.S)(l)," ",w.RESULTS.toUpperCase()]})});var c};var Ne=d.a.memo(fe),Ce=a(63),Te=a(1087),Ee=a(36),xe=a(1084),De=a(349);const{RESULTS:ye,READ_LESS:_e,LOAD_MORE:Ae,NEXT_AVAILABLE_TIME_SLOT:Re,OH_NO_TEXT:Le,TIME_SLOT_NOT_FOUND:Pe,FOR_ALL_PRODUCTS_TEXT:we,FIND_KFC_OTHER_DATA:Me,FOR_ALL:ke,AT_TEXT:Fe}=O.a,{SearchIcon:Ue,SearchIconGrey:He,DarkCloseButton:We,StripesIcon:Be,MobSearchIcon:Ge}=m.a,{YYYY_MM_DD_hh_mm:Ve,YYYY_MM_DD_h_mm_A:Ye,h_mm_A:ze}=b.sb||{},Ke=(e,t,a,o,i)=>{const n=Object(S.xe)(Object(S.Kd)(e),e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]||e[w.MENU_PLP_CONSTANT.OFFERS_DEALS],!Object(h.b)(t.location.pathname));return Object(r.jsx)(D.a,{"data-testid":"plp-promo-section-testid",sm:!o&&12,className:Qe(o,a),children:n&&Object(r.jsx)(T.a,{contentData:Object(S.kd)(e[w.MENU_PLP_CONSTANT.PROMOS_REWARDS]),history:t,page:b.ge,isMobile:o,onClickScroll:i})})},qe=(e,t,a,o,n)=>{var l;return Object(r.jsxs)(De.a,{...e,"data-testid":"address-modal-landing-page",children:[Object(r.jsxs)("span",{className:"time-slot-header-content",children:[Object(r.jsx)("h4",{className:"time-slot-header-text",children:Object(i.translateWithI18Next)(Le)}),Object(r.jsx)("h4",{className:"time-slot-header-text",children:Object(i.translateWithI18Next)(Pe)}),Object(r.jsx)("h4",{className:"time-slot-header-text",children:"".concat(Object(i.translateWithI18Next)(ke)," ").concat(null===n||void 0===n||null===(l=n.foodLines)||void 0===l?void 0:l.length," ").concat(Object(i.translateWithI18Next)(we)," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"short"}))})]}),Object(r.jsxs)("div",{className:"address-content",children:[Object(r.jsx)("p",{className:"address-content-header",children:Object(S.Lc)(null===o||void 0===o?void 0:o.name)}),Object(r.jsx)("p",{className:"address-content-text",children:null===t||void 0===t?void 0:t.deliveryAddress}),Object(r.jsxs)("span",{className:"d-flex",children:[Object(r.jsx)("p",{children:Object(i.translateWithI18Next)(Fe)}),Object(r.jsx)("a",{className:"address-content-link",children:"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(null===t||void 0===t?void 0:t.date).getDay()]," ").concat(new Date(null===t||void 0===t?void 0:t.date).getDate(),"th ").concat(new Date(null===t||void 0===t?void 0:t.date).toLocaleString("default",{month:"long"}))})]})]}),Object(r.jsx)("div",{className:"find-kfc-date-section",children:Object(r.jsx)(Ee.c,{variant:null===Ee.b||void 0===Ee.b?void 0:Ee.b.secondary,"aria-label":"Close","data-testid":"add-new-card-btn",onClick:a,children:Object(i.translateWithI18Next)(Me)})})]})},Je=e=>"plp-filters ".concat(Object(S.db)(e,"margin-top-catering-plp")),Qe=(e,t)=>"plp-promo-section ".concat(e&&"mob-plp-col"," ").concat(Object(S.Tc)(t,"promo-section-container","".concat(e?"mob-plp-promo-section":"plp-promo-non-localized"))),Xe=e=>{var t,a,m,O,N,T,F,U,H,W,B,G,V;let{data:Y,selectedTile:z,tenantData:K,filterList:q=[],dietaryList:J=[],sortByList:Q=[],filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleChangeEventTime:ee,handleClearItems:te,handleCheckbox:ae,handleRadio:oe,handleFilteredData:ie,handleSearchdata:ne,tempData:le={},recommendations:de,catalogs:ce,selectedCat:re,storeClosedData:se,triggerGetRecommends:me,setProductId:be,specialEventItemAvailability:Oe,isMobile:je,contentData:pe}=e,{menu:he,categories:ge,products:Ie}=Object(S.kd)(Y);const fe=null===pe||void 0===pe||null===(t=pe.storeInfo)||void 0===t?void 0:t.id;null!==(a=Object.keys(le))&&void 0!==a&&a.length&&({menu:he,categories:ge,products:Ie}=le);const{userOrderState:De,userOrderStateDispatch:Le}=Object(l.useContext)(f.a),[Pe,we]=Object(l.useState)(!1),Me=Object(l.useRef)(),ke=Object(c.g)(),[Fe,Qe]=Object(l.useState)(!1),[Xe,Ze]=Object(l.useState)(!0),[$e,et]=Object(l.useState)(1),[tt,at]=Object(l.useState)([]),[ot,it]=Object(l.useState)(!0),[nt,lt]=Object(l.useState)(!1),[dt,ct]=Object(l.useState)(!1),[rt,st]=Object(l.useState)(""),[ut,vt]=Object(l.useState)(""),[mt,bt]=Object(l.useState)(!1),[Ot,jt]=Object(l.useState)([]),[pt,ht]=Object(l.useState)(""),[gt,It]=Object(l.useState)([]),St=Object(l.useRef)(null),[ft,Nt]=Object(l.useState)({isSearchedMode:!1,searchedData:""}),[Ct,Tt]=Object(l.useState)(""),Et=Object(_.c)((e=>e.tenantReducer)),{localized:xt}=Object(_.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),Dt=Object(M.b)(De),{SEARCHOURMENU:yt}=P.a,{category_name:_t="",product_name:At=""}=Object(c.i)(),Rt=Object(_.c)((e=>e.cartReducer)),{applicableCoupons:Lt=[],cartData:Pt={}}=Rt,wt=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_DESKTOP,D.a),Mt=Object(j.a)(null===p.f||void 0===p.f?void 0:p.f.MENU_CATEGORY_STYLES_MOBILE,y.a),[kt,Ft]=Object(l.useState)(!1),[Ut,Ht]=Object(l.useState)(""),Wt=Object(_.c)((e=>e.storesReducer)),[Bt,Gt]=Object(l.useState)(!1),{flatResponse:{itemMapById:Vt={}}={}}=null!==(m=Object(_.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==m?m:{},{store:Yt}=Object(S.Kd)(Dt)?Dt:{},[zt,Kt]=Object(l.useState)(!1),[qt,Jt]=Object(l.useState)([]),Qt=null===Et||void 0===Et||null===(O=Et.componentOptions)||void 0===O||null===(N=O.web)||void 0===N||null===(T=N.plp)||void 0===T?void 0:T.showAllResultsOnMenuSearch;Object(l.useEffect)((()=>{window.addEventListener("scroll",(()=>{window.scrollY<15?Ht(""):Ht("scrolled")}))}),[]);const Xt=(null===Dt||void 0===Dt?void 0:Dt.selectedTime)||"",[Zt,$t]=Object(l.useState)(Xt),{componentOptions:{web:{plp:{showItemsTextOnSearch:ea=!1}={}}={}}={},currencyShortName:ta}=Et,{global:{timeSlotModal:aa=!1}={}}=null!==(F=null===Et||void 0===Et||null===(U=Et.componentOptions)||void 0===U?void 0:U.web)&&void 0!==F?F:{},oa=Object(l.useMemo)((()=>{var e;return{tenantReducer:Object(S.Kd)(Et)?Et:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:Object(S.Tc)(Dt,null===Dt||void 0===Dt?void 0:Dt.store,{}),dispositionType:Object(S.Tc)(Object(S.db)(Dt,null===Dt||void 0===Dt?void 0:Dt.type),Object(S.Ib)(null===Dt||void 0===Dt?void 0:Dt.type),Object(S.Ib)(null===Et||void 0===Et||null===(e=Et.authoredContent)||void 0===e?void 0:e.defaultdisposition))}}),[Dt,Et]),{dispositionType:ia}=oa,na=Object(c.h)(),la=ia===b.T,da=Object(_.b)(),ca=Object(l.useMemo)((()=>Object(S.Jd)(De.currentStoreInfo)?Object(S.b)(localStorage.getItem("currentStoreInfo")):De.currentStoreInfo),[De.currentStoreInfo]),[ra,sa]=Object(l.useState)(""),ua=(null===Pt||void 0===Pt?void 0:Pt.foodLines)||[],va=(e,t)=>e.filter((e=>t[e.item.id])).map((e=>({productId:t[e.item.id].parentID,quantity:null===e||void 0===e?void 0:e.quantity}))),ma=localStorage.getItem("timeSlotsAPIFlag");Object(l.useEffect)((()=>{var e,t,a,o,i;aa&&Object(S.Md)(null===Dt||void 0===Dt?void 0:Dt.type)&&null!==qt&&void 0!==qt&&qt.length&&"false"===ma&&null!==Et&&void 0!==Et&&Et.capacityPerformanceTimeslotSearch&&(localStorage.setItem("timeSlotsAPIFlag",!0),(null===Dt||void 0===Dt?void 0:Dt.date)&&Zt&&da(Object(Ce.o)({data:{cart:(null===ua||void 0===ua?void 0:ua.length)>0?va(ua,Vt):[],dayOfPickup:Object(I.A)((null===Dt||void 0===Dt?void 0:Dt.date)+" "+Zt,Ve),storeId:null===Dt||void 0===Dt||null===(e=Dt.store)||void 0===e?void 0:e.id,availableHours:null===Dt||void 0===Dt||null===(t=Dt.store)||void 0===t||null===(a=t.summary)||void 0===a||null===(o=a.timings)||void 0===o||null===(i=o.operatingHours[0])||void 0===i?void 0:i.availableHours}})))}),[Zt,null===qt||void 0===qt?void 0:qt.length]),Object(l.useEffect)((()=>{localStorage.setItem("timeSlotsAPIFlag",!1)}),[null===ua||void 0===ua?void 0:ua.length]),Object(l.useEffect)((()=>{var e,t;aa&&Object(S.Md)(null===Dt||void 0===Dt?void 0:Dt.type)&&(null!==Wt&&void 0!==Wt&&null!==(e=Wt.timeSlotsData)&&void 0!==e&&e.closestTime?sa(null===Wt||void 0===Wt||null===(t=Wt.timeSlotsData)||void 0===t?void 0:t.closestTime):sa(""))}),[null===Wt||void 0===Wt?void 0:Wt.timeSlotsData]);const ba=Object(l.useCallback)((e=>{const t=Object(I.A)("".concat(null===Dt||void 0===Dt?void 0:Dt.date," ").concat(e),Ye),a={...Dt,epochTime:t,selectedTime:e,time:e};Le({type:null===x.a||void 0===x.a?void 0:x.a.SET_DISPOSITION_NEW,value:{dispositionNew:a}}),localStorage.setItem("dispositionNew",JSON.stringify(a))}),[Dt,Le]),Oa=Object(l.useCallback)((e=>{const t=Object(I.T)(e),a=Object(I.A)((null===Dt||void 0===Dt?void 0:Dt.date)+" "+t,Ve),o=Object(I.C)(a,ze);$t(o),ba(o),ee({date:null===Dt||void 0===Dt?void 0:Dt.date,storeId:fe,time:o}),da(Object(Ce.q)({params:{basketId:null===Pt||void 0===Pt?void 0:Pt.id},tenantId:null===Et||void 0===Et?void 0:Et.tenantId,postBody:{isForNow:!1,futureDateTime:a}}))}),[null===Pt||void 0===Pt?void 0:Pt.id,da,null===Dt||void 0===Dt?void 0:Dt.date,ee,ba,fe,null===Et||void 0===Et?void 0:Et.tenantId]);Object(l.useEffect)((()=>{var e;const t=null===na||void 0===na||null===(e=na.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t);Object.fromEntries(e.entries())&&Le({type:x.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}})}}),[]),Object(l.useEffect)((()=>{window.scrollTo(0,0)}),[]),Object(l.useEffect)((()=>{la&&Zt!==Xt&&($t(Xt),ba(Xt))}),[Xt,la,Zt,ba]),Object(l.useEffect)((()=>{Object(S.db)(null===De||void 0===De?void 0:De.isDeepLinkURL,nt)&&Object(S.td)(ke)}),[nt,null===De||void 0===De?void 0:De.isDeepLinkURL,ke]);const ja=Object(l.useCallback)((e=>{if(null!==e&&void 0!==e&&e.parentElement){const t=e.parentElement;t.scrollTo({left:e.offsetLeft-(t.clientWidth-e.offsetWidth)/2,behavior:"smooth"})}}),[]);Object(l.useEffect)((()=>{da(Object(n.a)({object:Object(g.a)(),contentFull:{content_type:"supportContent","fields.title":"PLPDisclaimer",include:"5"}}))}),[da]);const pa=Object(_.c)((e=>{var t,a;return(null===(t=e.PlpDisclaimerReducerContent)||void 0===t||null===(a=t.response)||void 0===a?void 0:a.plpDisclaimerResponseData)||{}}));Object(l.useEffect)((()=>{var e;if((null===pa||void 0===pa||null===(e=pa.items)||void 0===e?void 0:e.length)>0){var t,a,o,i;const e=null===pa||void 0===pa||null===(t=pa.items[0])||void 0===t||null===(a=t.fields.content[0])||void 0===a||null===(o=a.fields)||void 0===o||null===(i=o.richText)||void 0===i?void 0:i.content;It(e)}})),Object(l.useEffect)((()=>{var e;let t=Object(k.j)(null===ke||void 0===ke||null===(e=ke.location)||void 0===e?void 0:e.pathname);Tt(t.menuTitle)}),[null===ke||void 0===ke||null===(H=ke.location)||void 0===H?void 0:H.pathname]),Object(l.useEffect)((()=>(document.addEventListener(b.d[0],Ca),()=>{document.removeEventListener(b.d[0],Ca)}))),Object(l.useEffect)((()=>{var e;if(null!==Y&&void 0!==Y&&null!==(e=Y.products)&&void 0!==e&&e.length&&null!==ft&&void 0!==ft&&ft.isSearchedMode&&null!==de&&void 0!==de&&de.length){let e=Object(k.e)(null===Y||void 0===Y?void 0:Y.products,de);at(e)}}),[Y,ft.searchedData,de]),Object(l.useEffect)((()=>{ft.searchedData&&me(ft.searchedData)}),[ft.searchedData]),Object(l.useEffect)((()=>{const e=Object(k.a)(ge);Object(k.g)(e,_t,At,be,ct,lt,je,Lt,ke,ha,xt)}),[ge]);const ha=()=>{var e,t;const a=Object(k.a)(ge);a.length&&A.scroller.scrollTo(null===a||void 0===a||null===(e=a[0])||void 0===e||null===(t=e.name)||void 0===t?void 0:t.trim(),{duration:1500,delay:100,smooth:!0,containerId:"",offset:Object(S.Tc)(je,-128,-130)})};Object(l.useEffect)((()=>{let e=setTimeout((()=>{if(ut!==rt){const{selectedCategory:e,selectedSubcategory:t}=Object(k.h)(he,rt);let a=Object(k.f)({...e,currencyShortName:ta},t,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.id,null===K||void 0===K?void 0:K.currencyConversionFactor);Object(k.w)(a,ia),vt((()=>rt))}}),500);return()=>{clearTimeout(e)}}),[rt]);const ga=Object(l.useCallback)(((e,t)=>{var a;je&&(null===(a=document.getElementById("category-name-".concat(t)))||void 0===a||a.scrollIntoView({inline:"center"}));st((()=>e))}),[je]),Ia=Object(l.useCallback)((()=>{Ze(!0),Qe(!1)}),[]),Sa=Object(l.useCallback)((()=>{Qe(!0),Ze(!1)}),[]),fa=Object(l.useCallback)((e=>{et(e)}),[]),Na=()=>{var e;const t=null===(e=document)||void 0===e?void 0:e.getElementById("kfc-banner-image"),a=null===t||void 0===t?void 0:t.getBoundingClientRect();it((null===a||void 0===a?void 0:a.bottom)>2)};Object(l.useEffect)((()=>(window.addEventListener("scroll",Na),()=>window.removeEventListener("scroll",Na))),[je]);const Ca=e=>{St.current&&!St.current.contains(e.target)&&bt(!1)},Ta=Object(l.useCallback)((e=>{Object(M.d)(e)}),[]),Ea=Object(l.useCallback)(((e,t,a,o)=>{var i;Object(k.n)(t,o+1),st((()=>t));const n=null===e||void 0===e?void 0:e.target.parentElement.querySelector(".nested");n&&(n.classList.toggle("active-tree"),e.target.classList&&e.target.classList.toggle("caret-down")),ke.push({pathname:Object(S.Tc)(Object(h.b)(null===ke||void 0===ke||null===(i=ke.location)||void 0===i?void 0:i.pathname),"".concat(b.Ae.CATERING_PAGE).concat(a),"".concat(b.Ae.MENU_PAGE).concat(a))})}),[ke]),xa=Object(l.useCallback)(((e,t)=>{Object(M.c)(e,t,ga,Ea)}),[ga,Ea]),Da=Object(l.useCallback)((e=>{var t;(null===(t=Ie)||void 0===t?void 0:t.length)>0&&jt(Ie.filter((t=>{var a,o;return Object(S.db)(!t.isHidden,Object(k.b)(null===t||void 0===t||null===(a=t.dname)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value,e))})).slice(0,5))}),[Ie]),ya=Object(l.useCallback)((()=>{ht(""),bt(!1),Da(""),ne(),Nt({isSearchedMode:!1,searchedData:""})}),[Da,ne]),_a=Object(l.useCallback)((()=>{Object(k.d)(q,J,$,Me,we)}),[J,q,$]),Aa=Object(_.c)((e=>({contentReducerData:C()(e,"contentReducer.response",null)}))),Ra=Object(S.od)(Object(S.bc)(Aa.contentReducerData)),La=()=>{var e,t,a,o;const n=0===(null===ca||void 0===ca||null===(e=ca.summary)||void 0===e||null===(t=e.timings)||void 0===t||null===(a=t.scheduled)||void 0===a||null===(o=a.periods)||void 0===o?void 0:o.length)||!1,l=(()=>{var e;if(!fe||null===Wt||void 0===Wt||!Wt.orderCapacity||null===Wt||void 0===Wt||!Wt.orderCapacity[fe])return[];const t=null!==(e=Object.keys(null===Wt||void 0===Wt?void 0:Wt.orderCapacity[fe])[0])&&void 0!==e?e:null;if(!t)return[];const{date:a}=Dt,o=Object(I.p)(),i=null===Wt||void 0===Wt?void 0:Wt.orderCapacity[fe][t];return Object.keys(i).filter((e=>{const t=Object(I.A)("".concat(a," ").concat(Object(I.T)(e)),"YYYY_MM_DD_hh_mm")>o;return parseInt(i[e])>0&&t})).sort(((e,t)=>Object(I.A)("".concat(a," ").concat(Object(I.T)(e)),"YYYY_MM_DD_hh_mm")-Object(I.A)("".concat(a," ").concat(Object(I.T)(t)),"YYYY_MM_DD_hh_mm")))||[]})(),d=n?[]:l,c=d&&d.length>7;return Object(r.jsxs)("div",{className:"special-event-time-nav ".concat(kt?"":"abridged"),"data-testid":"special-event-time-nav-test",children:[Object(r.jsx)("div",{className:"special-event-time-slots","data-testid":"special-event-time-slots",children:d.map((e=>{const t=Object(I.W)(Zt)===Object(I.T)(e);return Object(r.jsx)("button",{className:"button ".concat(t?"redButton":""),onClick:()=>{Oa(e)},ref:t?ja:null,children:Object(S.y)(e)},e)}))}),Object(r.jsxs)("div",{className:"".concat(zt&&"special-event-time-slots-options"),children:[c&&Object(r.jsx)("button",{className:"".concat(zt?"special-event-time-slots-show-more-only":"special-event-time-slots-show-more"),"data-testid":"show-more-test",onClick:()=>{Ft(!kt)},children:Object(r.jsxs)("div",{className:"button-content",children:[Object(r.jsx)("span",{children:kt?Object(i.translateWithI18Next)(_e):Object(i.translateWithI18Next)(Ae)}),Object(r.jsx)("img",{src:kt?L.a:R.a,alt:kt?"arrow up":"arrow down"})]})}),Object(r.jsx)(xe.a,{variant:Ee.b.primary,fullWidth:!0,"data-testid":"magic-button",onClick:()=>Ma(),cartData:Pt,specialEventItemAvailability:Oe,availableSlots:ra,itemMapById:Vt,setDisplayMagicButton:Kt,displayMagicButton:zt,setUnavailableData:Jt,children:"".concat(Object(I.T)(ra)," ").concat(Object(i.translateWithI18Next)(Re))})]})]})},[Pa,wa]=Object(l.useState)(!1),Ma=()=>{ra?wa(!0):Gt(!0)},ka={id:"AddressModalPopup",role:"dialog",modalTitleId:"AddressModalPopup",show:!0,classNames:"time-slot-unavailable-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>{Gt(!1)},autoFocus:!0};return Object(r.jsxs)(d.a.Fragment,{children:[Object(S.db)(!(null!==De&&void 0!==De&&De.isDeepLinkURL),Object(M.a)(dt,Dt,ia,nt,se,lt,ke)),Object(S.Tc)(je,Object(r.jsxs)("div",{className:"mob-plp-au",children:[Mt&&Object(r.jsxs)(Mt,{id:"mob-searchinput-id","data-testid":"mob-searchinput-id",isSmartBannerVisible:ot,topValue:null===(W=document)||void 0===W||null===(B=W.getElementById("select-start-order-items"))||void 0===B?void 0:B.clientHeight,className:"mob-nav-row ".concat(Object(S.Tc)(Pe,"hide-mob-nav-row","")).concat(Object(S.Tc)(xt," localized","".concat(Ut," nonlocalized"))),children:[Object(r.jsxs)("div",{onClick:()=>(Me.current.style.width="100%",void we(!0)),"data-testid":"open-search-menu",className:"mob-search-input",children:[Object(r.jsx)(u.a,{srcFile:Ge,className:"mob-search-img",alt:""}),Object(S.db)(Object(S.fb)([...q,...J].length,ft.isSearchedMode),Object(r.jsx)("div",{className:"totalFilterAppliedCount",children:Object(S.S)(Ie)}))]}),Object(r.jsx)(Se,{filterList:q,dietaryList:J,sortByList:Q,searchMode:ft,isMobile:je,clearSearch:ya,handleClearItems:te,menu:he,categories:ge,setActiveMenuSelection:st,history:ke,hasSubcategory:Ta,handleSetActive:ga,getMenusSubcategory:xa,onItemClick:Ea})]}),Object(r.jsx)(Ne,{searchMode:ft,filterList:q,dietaryList:J,isMobile:je,products:Ie,showItemsTextOnSearch:ea}),Object(r.jsx)(y.a,{className:"mob-plp-sections",children:!la&&Ke(Ra,ke,xt,je,ha)}),la?La():null,Object(r.jsxs)(y.a,{className:(Fa=Object(h.b)(null===ke||void 0===ke||null===(G=ke.location)||void 0===G?void 0:G.pathname),"mob-plp-sections ".concat(Object(S.db)(Fa,"margin-top-mob-plp-sections"))),children:[Object(r.jsx)(ue,{isMobile:je,searchMode:ft,categories:ge,viewCarousal:Fe,viewUp:Xe,changeViewtoUp:Ia,changeViewtoCarousal:Sa,carouselCount:$e,tenantData:K,recommendProducts:tt,localized:xt,catalogs:ce,storeClosedData:se,selectedCat:re,getCardCount:fa,filterList:q,dietaryList:J,products:Ie,clearSearch:ya,dispositionType:ia}),Object(S.eb)(Object(S.ce)(),pa,Object(r.jsx)("div",{className:"mob-disclimer-content",children:null===gt||void 0===gt?void 0:gt.map(((e,t)=>{const a=null===gt||void 0===gt?void 0:gt.length;return Object(r.jsx)("div",{className:"info-content-mobile",id:Object(S.Tc)(a===t+1,"lastElement-disclimer",""),dangerouslySetInnerHTML:{__html:Object(o.documentToHtmlString)(e)}},"disclaimer-".concat(t))}))}))]}),Object(r.jsx)(ve,{ref:Me,className:"sidenav-filter",selectedTile:z,filterList:q,dietaryList:J,sortByListMob:Q,filterOptions:X,dietaryOptions:Z,sortByOptions:$,handleCheckbox:ae,handleClearItems:te,handleRadio:oe,closeSearchFilterMenu:_a,tempData:le,data:Y,inputSearchData:pt,handleFilteredData:ie,handleSearchdata:ne,setSearchModeData:(e,t)=>{Nt({isSearchedMode:e,searchedData:t})},searchedData:ft.searchedData})]}),Object(r.jsxs)(y.a,{className:"plp-menu-row","data-testid":"menus-container",children:[wt&&Object(r.jsxs)(wt,{md:"3",className:"plp-left-nav plp-side-panel".concat(Object(S.Tc)(xt," localized","")),children:[Object(r.jsx)(y.a,{className:"plp-stripes-section",children:Object(r.jsx)(u.a,{srcFile:Be,className:"stripes-img",alt:""})}),Object(r.jsx)(s,{className:"kfc-menu-title","data-testid":"kfc-menu-heading",value:Object(S.Tc)(Object(S.fb)([...q,...J].length,ft.isSearchedMode),"".concat(Object(S.S)(Ie)," ").concat(Object(i.translateWithI18Next)(ye)),Ct)}),Object(r.jsx)(Se,{filterList:q,dietaryList:J,sortByList:Q,searchMode:ft,isMobile:je,clearSearch:ya,handleClearItems:te,menu:he,categories:ge,setActiveMenuSelection:st,history:ke,hasSubcategory:Ta,handleSetActive:ga,getMenusSubcategory:xa,onItemClick:Ea})]}),Object(r.jsxs)(D.a,{md:"9",className:"plp-right-nav",children:[!la&&Ke(Ra,ke,xt,je,ha),Object(r.jsx)(D.a,{sm:12,className:Je(Object(h.b)(null===ke||void 0===ke||null===(V=ke.location)||void 0===V?void 0:V.pathname)),children:Object(r.jsxs)("div",{"data-testid":"menu-search-testid",className:"search-menu",children:[Object(r.jsx)(v.a,{name:"searchInput",className:"search-menu-input",onKeyPress:e=>(e=>{if(e.key===w.ENTER){if(""===e.target.value)return;bt(!1),ne(e.target.value.toLowerCase().toString()),Nt({isSearchedMode:!0,searchedData:pt}),window.scrollTo(0,0)}})(e),onChange:e=>(e=>{ht(e.target.value),Object(S.ob)(q.length,J.length,Q.length)&&te(),e.target.value.toString().length>2?(bt(!0),Da(e.target.value.toString())):mt&&(bt(!1),Da(""),ne(),Nt({isSearchedMode:!1,searchedData:""}))})(e),value:pt,placeholder:Object(i.translateWithI18Next)(yt),"aria-label":"Search our menu",onBlur:e=>e.target.placeholder="".concat(Object(i.translateWithI18Next)(yt))}),Object(r.jsx)("span",{className:"search-icon",children:Object(r.jsx)(u.a,{srcFile:Ue,className:"search-icon-img",alt:""})}),Object(S.Tc)(Object(S.fb)(Object(S.db)(pt.length>2,!ft.isSearchedMode),Object(S.db)(Object(S.db)(pt.length>2,ft.isSearchedMode),Object(S.fb)(Object(S.S)(Object(S.od)(Ie))>0,0===Object(S.S)(Object(S.od)(Ie))))),Object(r.jsx)("img",{className:"input-dark-cross","data-testid":"clear-all-input",onClick:()=>ya(),src:We,alt:""}),null),Object(S.db)(mt,Object(r.jsx)("div",{ref:St,className:"inputAutoCompletePLP",children:(null===Ot||void 0===Ot?void 0:Ot.length)>0&&Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"SuggestionHeader",children:[" ",Object(i.translateWithI18Next)(E.a.SUUGESTED_ITEMS_TEXT)]}),Object(r.jsx)("ul",{className:"autoCompleteListPLP",children:Ot.map(((e,t)=>{var a,o;return Object(r.jsxs)("li",{onClick:()=>(e=>{var t,a,o,i;Object(k.r)({eventType:"suggestedSearchClick",selectedData:e.name},"suggestedSearchTerm"),Qt?ne(e.name,!1):ie(e.mdmId),bt(!1),ht(null===(t=e.dname)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.value),Nt({isSearchedMode:!0,searchedData:null===(o=e.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value}),window.scrollTo(0,0)})(e),"data-testid":"suggestion-click-".concat(e.name),className:"wrapperAutoCompletePLP",children:[Object(r.jsx)("span",{className:"searchgrey-icon-img",children:Object(r.jsx)(u.a,{srcFile:He,alt:""})}),Object(r.jsx)("span",{children:null===(a=e.dname)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value})]},e.mdmId+t)}))})]})}))]})}),Object(r.jsx)(Ne,{searchMode:ft,filterList:q,dietaryList:J,isMobile:je,products:Ie,showItemsTextOnSearch:ea}),la?La():null,Object(r.jsx)(y.a,{className:Object(S.Tc)(Object(S.ob)(ft.isSearchedMode,q.length>0,J.length>0),"","plp-sections"),children:Object(r.jsx)(ue,{isMobile:je,searchMode:ft,categories:ge,viewCarousal:Fe,viewUp:Xe,changeViewtoUp:Ia,changeViewtoCarousal:Sa,carouselCount:$e,tenantData:K,catalogs:ce,storeClosedData:se,selectedCat:re,getCardCount:fa,filterList:q,dietaryList:J,products:Ie,clearSearch:ya,recommendProducts:tt,localized:xt,dispositionType:ia,specialEventItemAvailability:Oe})}),Object(S.eb)(Object(S.ce)(),pa,Object(r.jsx)("div",{className:"info-content",children:null===gt||void 0===gt?void 0:gt.map(((e,t)=>Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:Object(o.documentToHtmlString)(e)}},"some-disc-".concat(t))))}))]})]})),Pa&&Object(r.jsx)(Te.a,{visibility:Pa,setVisibility:wa}),Bt&&qe(ka,Dt,(()=>{wa(!Pa),Gt(!1)}),Yt,Pt)]});var Fa},Ze=d.a.memo(Xe)},511:function(e,t,a){"use strict";a.r(t);var o=a(3),i=a(329),n=a(61),l=a(5),d=a(321),c=a(76),r=a(14),s=a(25),u=a(0),v=a(1011),m=a(36),b=a(325),O=a(2);const j=e=>{const{headerLinks:t,onNavigateHandler:a,menuImageWidth:o,menuImageHeight:i,elementUniqueLocator:n}=e;return Object(O.jsx)("div",{className:"menu-links-container",children:null===t||void 0===t?void 0:t.map(((e,t)=>Object(O.jsxs)("div",{className:"menu-link","data-testid":"menu-link-".concat(null===e||void 0===e?void 0:e.name),onKeyPress:t=>((e,t,o)=>{const{SPACE:i,ENTER:n}=u.Xf.KEY_CHAR_CODE;[i,n].includes(null===e||void 0===e?void 0:e.charCode)&&a(t,o)})(t,null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.pathname),onClick:()=>a(null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.pathname),children:[Object(O.jsx)("div",{"data-testid":"menu-name-".concat("".concat(n?t:null===e||void 0===e?void 0:e.name)),className:"menu-link-name".concat(n?" menu-link-name--jp":""),children:null===e||void 0===e?void 0:e.name}),Object(O.jsx)("div",{className:"menu-link-image",style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.imageUrl,"?h=").concat(i,"&w=").concat(o,")")}})]},"menu-link-".concat(null===e||void 0===e?void 0:e.name))))})};var p=a(973),h=a(965),g=a(193),I=a.n(g),S=a(173),f=a(30);const N=(e,t,a,o,i)=>Object(O.jsxs)("div",{className:"shopping-cart ".concat(i?"active":""),onClick:()=>t(S.a.CART,u.Ae.CART),"data-testid":i?"animated-icon":"normal-icon",name:S.a.CART,children:[Object(O.jsxs)("div",{className:"lines",children:[Object(O.jsx)("span",{className:"line first"}),Object(O.jsx)("span",{className:"line second"}),Object(O.jsx)("span",{className:"line third"})]}),Object(O.jsx)(m.a,{className:"basket basket-link ".concat(o>0?"":"blank"),style:{background:"url(".concat(null===a||void 0===a?void 0:a.url,") no-repeat")},children:o})]}),C=e=>{const{navRight:t,gotoCart:a}=e,[i,n]=Object(o.useState)(!1),[d,c]=Object(o.useState)(0),{CART_ICON_100_PERCENT:r,CART_ICON_120_PERCENT:v}=S.a,m=Object(s.b)(),b=Object(s.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),j=Object(s.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{addHope:p,carryBag:h,showCarryBagInLineItem:g}=j,{cartData:C={},isItemAdded:T=!1,isUpdateQuantityLoading:E=!1,isRemoveItemLoading:x=!1}=b,{foodLines:D=[]}=null!==(y=C)&&void 0!==y?y:{};var y;const _=Object(l.ab)(D,u.i);return Object(o.useEffect)((()=>{var e,t;let a;return(0===(null===D||void 0===D||null===(e=D.filter)||void 0===e||null===(t=e.call(D,(e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.isHidden})))||void 0===t?void 0:t.length)||_)&&Object(l.ob)(T,E,x)&&(m(Object(f.l)()),n(!0)),i&&(a=setTimeout((()=>{n(!1)}),600)),()=>{a&&clearTimeout(a)}}),[T,E,b,D,x,m,i]),Object(o.useEffect)((()=>{if(p&&h){const e=Object(l.Pb)(D,p,h,g);c(I()(e,((e,t)=>e+t.quantity),0))}}),[D,p,h]),Object(O.jsx)("div",{className:"cart-image","data-testid":"cart-image",children:null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map(((e,t)=>Object(l.eb)(null===e||void 0===e?void 0:e.url,r===(null===e||void 0===e?void 0:e.title),!i)?N(0,a,e,d,!1):Object(l.eb)(null===e||void 0===e?void 0:e.url,v===(null===e||void 0===e?void 0:e.title),i)?N(0,a,e,d,!0):null)):null})};var T=a(904),E=a(917),x=a(15),D=a(934);const y=(e,t)=>e&&Object(O.jsx)(D.a,{history:t}),_=e=>{var t,a,o,i,n,d,c,r;const{navRight:u,headerLinks:v,kfcLogo:g,history:I,onNavigateHandler:S,openHamburger:f,elementUniqueLocator:N}=e,D=Object(E.a)(null===T.f||void 0===T.f?void 0:T.f.HEADER_STYLES),{HamburgerMenuIcon:_,HeaderLogo:A}=x.a,{allowHiddenMenuViaExternalUrl:R}=Object(s.c)((e=>null===e||void 0===e?void 0:e.tenantReducer));return D&&Object(O.jsxs)("div",{children:[Object(O.jsxs)(D,{className:"root-header-view ".concat(Object(l.Tc)(Object(l.ob)(null===I||void 0===I||null===(t=I.location)||void 0===t||null===(a=t.pathname)||void 0===a?void 0:a.includes("privacy-policy"),null===I||void 0===I||null===(o=I.location)||void 0===o||null===(i=o.pathname)||void 0===i?void 0:i.includes("terms-conditions"),null===I||void 0===I||null===(n=I.location)||void 0===n||null===(d=n.pathname)||void 0===d?void 0:d.includes("protected-disclosure")),"root-header-view-policies","")),children:[Object(O.jsx)(m.a,{"data-testid":"hamburger-button",className:"header-item-buttons header-hamburger-icon",onClick:f,children:Object(O.jsx)(b.a,{srcFile:_,alt:"hamburger-icon"})}),Object(O.jsx)("div",{"data-testid":"kfc-logo",className:"header-logo-mobile ".concat(Object(l.Tc)(null===I||void 0===I||null===(c=I.location)||void 0===c||null===(r=c.pathname)||void 0===r?void 0:r.includes("cart"),"header-logo-mobile-cart","")),onClick:()=>Object(l.Me)({history:I}),children:Object(O.jsx)(b.a,{srcFile:(null===g||void 0===g?void 0:g.src)||A,alt:"KFC LOGO"})}),Object(O.jsx)(j,{headerLinks:v,onNavigateHandler:S,elementUniqueLocator:N}),Object(O.jsxs)("div",{className:"right-nav-container",children:[Object(O.jsx)(p.a,{defaultTooltipShow:!0}),Object(O.jsx)(h.a,{navRight:u}),Object(O.jsx)(C,{gotoCart:S,navRight:u})]})]}),Object(O.jsx)("div",{className:"border",children:" "}),y(R,I)]})};var A=a(73),R=a(43),L=a(213),P=a(6),w=a(1001),M=a(136);var k=e=>{const{subCategories:t,onClickHandler:a}=e;return Object(O.jsx)("div",{children:Object(O.jsx)(M.a,{header:Object(P.translateWithI18Next)(S.a.SUPPORT),isDarkMode:!1,shouldDefaultOpen:!0,dataTestId:"support-accordian",open:!0,children:Object(O.jsx)("ul",{className:"footer-links",children:Object(O.jsx)(O.Fragment,{children:(o=t,o.map(((e,t)=>Object(O.jsxs)(w.a,{onClickHandler:a,dataTestId:"listItems-component-".concat(e.name),className:"footer-links",...e,children:[Object(O.jsx)(R.a,{srcFile:null===e||void 0===e?void 0:e.icon,alt:"location-map",className:"find-A-kfc-img"}),e.name]},t))))})})})});var o};const F=e=>{const{categoryHeaderText:t,subCategories:a,onClickHandler:o}=e;return Object(O.jsxs)("div",{className:"ul-title",children:[Object(O.jsx)("span",{role:"heading","aria-level":"2",className:"header-text-footer",children:t}),Object(O.jsx)(k,{subCategories:a,onClickHandler:o})]})},U=e=>{var t,a,i,n;const{navRight:l,navLeft:d,navMobileMenu:c,onNavigateHandler:r,showHamburger:u,closeHamburger:v,languageObj:b,menuImageWidth:g,menuImageHeight:I}=e,{supportCategory:f={}}=c,{LETS_GET_COOK:N}=S.a,T=null===f||void 0===f||null===(t=f.subCategories)||void 0===t?void 0:t.length,E=Object(s.c)((e=>e.tenantReducer)),{basic:D}=E,{PopupCloseBtn:y}=x.a;return Object(o.useEffect)((()=>{var e,t,a,o,i;return null===(e=sessionStorage)||void 0===e||e.setItem("currentPosY",null===(t=window)||void 0===t?void 0:t.scrollY),null===(a=document)||void 0===a||null===(o=a.getElementById("app-container"))||void 0===o||null===(i=o.classList)||void 0===i||i.add("scroll-lock-background"),()=>{var e,t,a,o,i,n,l;null===(e=window)||void 0===e||e.scrollTo(0,null!==(t=null===(a=sessionStorage)||void 0===a?void 0:a.getItem("currentPosY"))&&void 0!==t?t:0),null===(o=sessionStorage)||void 0===o||o.removeItem("currentPosY"),null===(i=document)||void 0===i||null===(n=i.getElementById("app-container"))||void 0===n||null===(l=n.classList)||void 0===l||l.remove("scroll-lock-background")}}),[]),Object(A.createPortal)(Object(O.jsx)("div",{className:"root-header-au",children:Object(O.jsxs)("div",{id:"hamburger-menu-comp",className:"hamburger-container".concat(u?" side-nav-open":""),children:[Object(O.jsxs)("div",{className:"hamburger-header-container",children:[Object(O.jsx)(m.a,{className:"hamburger-close-button","data-testid":"hamburger-close",onClickHandler:v,children:Object(O.jsx)(R.a,{srcFile:y,alt:"close"})}),(null===D||void 0===D||null===(a=D.allowedLanguages)||void 0===a?void 0:a.length)<=1&&Object(O.jsx)("span",{"data-testid":"header-stripes-icon",className:"header-stripes-icon",children:Object(O.jsx)(L.a,{src:x.a.Strips})}),(null===D||void 0===D||null===(i=D.allowedLanguages)||void 0===i?void 0:i.length)<=1&&Object(O.jsx)(C,{gotoCart:r,navRight:l}),Object(O.jsx)(p.a,{languageObj:b,closeHamburger:v,hamburgerMenu:!0})]}),(null===D||void 0===D||null===(n=D.allowedLanguages)||void 0===n?void 0:n.length)>1&&Object(O.jsx)("div",{className:"langmodal-stripe-icon",children:Object(O.jsx)(L.a,{src:x.a.Strips})}),Object(O.jsxs)("div",{className:"hamburger-body-container",children:[Object(O.jsx)("div",{"data-testid":"language-head-container",className:"language-head-container",children:Object(O.jsx)("div",{"data-testid":"hamburger-heading",className:"hamburger-heading",children:Object(P.translateWithI18Next)(N)})}),Object(O.jsx)(h.a,{navRight:l,closeHamburger:v,hamburgerComp:!0}),Object(O.jsx)(j,{headerLinks:d,onNavigateHandler:r,menuImageWidth:g,menuImageHeight:I}),T&&Object(O.jsx)(F,{className:"footer-links",onClickHandler:r,...f})]})]})}),document.getElementById("modal-popups"))};var H=a(92),W=a(84),B=a(129),G=a(4),V=a(12),Y=a(13),z=a(994),K=a(69),q=a(110),J=a(966);const{Timeout:Q}=x.a,{STORE_CLOSING_SOON:X,STORE_CLOSE_SOON_CONTENT:Z,COMPLETE_ORDER_BUTTON:$,FIND_NEARBY_STORE:ee}=G.a;t.default=e=>{var t,a;const{contentData:m={}}=e,{MENU_LINK_IMAGES:b}=u.Oc,{MENU_IMAGE_HEIGHT_MOBILE:j,MENU_IMAGE_WIDTH_MOBILE:p}=b,[h,g]=Object(o.useState)(!1),[I,f]=Object(o.useState)(!1),[N,C]=Object(o.useState)(0),[T,E]=Object(o.useState)(!1),{userOrderState:D,userOrderStateDispatch:y}=Object(o.useContext)(c.a),{alertModalData:A={},timeBasedCetegory:R}=D,L=Object(s.b)(),w=Object(n.g)(),M=Object(s.c)((e=>Object(l.kd)(e.storesReducer))),k=Object(s.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),F=Object(s.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),te=Object(s.c)((e=>e.cartReducer)),{cartData:ae={}}=Object(l.kd)(te),{CartError:oe}=x.a,{START_NEW_ORDER:ie,KEEP_ORDER:ne}=G.a,le=Object(l.Tc)(Object(l.Jd)(D.dispositionNew),JSON.parse(localStorage.getItem(u.gd.DISPOSITION_NEW)),D.dispositionNew),de=Object(q.b)(K.b),ce=Object(q.a)(),{basic:re,country:se,tenantId:ue,elementUniqueLocator:ve,isSpecialEventEnabled:me,enableDeliveryMenuOption:be}=k,{navLeft:Oe,navRight:je,kfcLogo:pe,navMobileMenu:he,languageObj:ge}=Object(i.c)({headerData:m,basic:re,country:se,isSpecialEventEnabled:me,enableDeliveryMenuOption:be}),{handleMenuNavigation:Ie,handleDeliveryMenuNavigation:Se}=Object(J.a)(),fe=()=>{y({type:r.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!1,pathname:"",title:"",contentMsg:""}})},Ne=(null===M||void 0===M?void 0:M.storesWithStatus)&&Object(i.b)(null===M||void 0===M?void 0:M.storesWithStatus[0]),Ce=Object(o.useCallback)((e=>N?clearInterval(e):null),[N]);Object(o.useEffect)((()=>{var e,t,a,o;const i=setInterval((()=>{var e;const t=Object(l.u)(null===M||void 0===M||null===(e=M.storesWithStatus[0])||void 0===e?void 0:e.summary,Object(Y.a)(V.Ib),!0);null!==R&&void 0!==R&&R.isTimeExpired||Object(d.m)(R,te,y),Object(l.lf)(le,te,t,C,E)}),15e3);return Ce(i),R&&null!==R&&void 0!==R&&null!==(e=R.foodLinesItems)&&void 0!==e&&e.length&&(null===R||void 0===R||null===(t=R.foodLinesItems)||void 0===t?void 0:t.length)!==(null===te||void 0===te||null===(a=te.cartData)||void 0===a||null===(o=a.foodLines)||void 0===o?void 0:o.length)&&Object(d.m)(R,te,y),()=>{clearInterval(i)}}),[N,null===M||void 0===M?void 0:M.storesWithStatus,le,null===te||void 0===te||null===(t=te.cartData)||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.length,Ce,te,R,y]);const Te=(e,t)=>{(e=>{let{headerItemSelected:t,pathname:a,userOrderStateDispatch:o,userParams:n,dispositionNew:d,setShowHamburger:c,history:s,setShowOrderLookupModal:v}=e;const{CATERING_NAVALERT_TITLE:m,CATERING_NAVALERT_SUBTITLE:b,MENU_NAVALERT_TITLE:O,MENU_NAVALERT_SUBTITLE:j}=G.a;if(Object(i.d)({headerItemSelected:t}),c(!1),t===S.a.CART)s.push({pathname:a});else if((null===t||void 0===t?void 0:t.name)===r.a.ORDER_LOOKUP)v(!0);else if(a){if(a===u.Ae.EVENT_PAGE||Object(l.Md)(null===d||void 0===d?void 0:d.type))return Ie(a);if(be&&(a===u.Ae.DELIVERY_PAGE||Object(l.Ad)(null===d||void 0===d?void 0:d.type)))return Se(a);switch(Object(B.d)(n.localized,null===d||void 0===d?void 0:d.type,a)){case u.uf:o({type:r.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:a,title:m,contentMsg:b}});break;case u.vf:o({type:r.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:a,title:O,contentMsg:j}});break;default:s.push({pathname:a})}}})({headerItemSelected:e,pathname:t,userOrderStateDispatch:y,userParams:F,dispositionNew:le,setShowHamburger:g,history:w,setShowOrderLookupModal:f})};return Object(o.useEffect)((()=>{null!==R&&void 0!==R&&R.isAlert1&&Object(l.hf)({key:null===u.gd||void 0===u.gd?void 0:u.gd.HIDE_ALERT_1_POPUP,value:!0},ce)}),[null===R||void 0===R?void 0:R.isAlert1]),Object(o.useEffect)((()=>{(null===de||void 0===de?void 0:de.HIDE_ALERT_1_POPUP)&&setTimeout((()=>{Object(l.cf)({key:u.gd.HIDE_ALERT_1_POPUP},ce)}),6e4)}),[null===de||void 0===de?void 0:de.HIDE_ALERT_1_POPUP]),Object(O.jsxs)("div",{className:"root-header au ".concat(se),"data-testid":"HeaderItems-component",role:"banner","data-id":u.qb.HEADER_ATTR_DATA_ID,children:[Object(O.jsx)(_,{history:w,navRight:je,headerLinks:Oe,kfcLogo:pe,languageObj:ge,onNavigateHandler:(e,t)=>Te(e,t),openHamburger:()=>g(!0),elementUniqueLocator:ve}),Object(l.Tc)(h,Object(O.jsx)(U,{showHamburger:h,closeHamburger:()=>g(!1),navRight:je,navLeft:Oe,menuImageWidth:p,menuImageHeight:j,languageObj:ge,navMobileMenu:he,onNavigateHandler:(e,t)=>Te(e,t)}),null),I&&Object(O.jsx)(v.a,{isOpen:!0,handleClose:()=>f(!1)}),Object(l.Tc)(A.flag,Object(O.jsx)(H.a,{handleClose:fe,classNames:"clear-cart-modal item-unavailable catering-menu-nav-alert",CartAlertForm:Object(O.jsx)(W.a,{title:Object(P.translateWithI18Next)(A.title),contentMsg:Object(P.translateWithI18Next)(A.contentMsg),imageSrc:oe,altText:"",confirmButtonText:Object(P.translateWithI18Next)(ie),confirmHandler:()=>{Object(B.a)(null===ae||void 0===ae?void 0:ae.id,ue,F,L,y,Object(B.b)(A.pathname),le),w.push({pathname:A.pathname}),fe()},cancelButtonText:Object(P.translateWithI18Next)(ne),cancelHandler:fe})}),Object(O.jsx)(O.Fragment,{})),Object(l.Tc)(T,Object(O.jsx)(H.a,{"data-testid":"alert-modal",handleClose:()=>E(!1),classNames:"clear-cart-modal item-unavailable store-time-msg",CartAlertForm:Object(O.jsx)(W.a,{splitTitle:{MSGTXT2:"".concat(null===Ne||void 0===Ne?void 0:Ne.storeName),MSGTXT3:"".concat(Object(P.translateWithI18Next)(X))},contentMsg:Object(P.translateWithI18Next)(Z),imageSrc:Q,cancelButtonText:Object(P.translateWithI18Next)(ee),cancelHandler:()=>{E(!1),y({type:r.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0}})},confirmButtonText:Object(P.translateWithI18Next)($),confirmHandler:()=>E(!1)})}),null),!(null!==de&&void 0!==de&&de.HIDE_ALERT_1_POPUP)&&Object(O.jsx)(z.a,{})]})}},531:function(e,t,a){"use strict";a.r(t),a.d(t,"checkLocationToShowModal",(function(){return he})),a.d(t,"onClickBtnHandler",(function(){return ge})),a.d(t,"showModalIftrue",(function(){return Ie})),a.d(t,"removeStatefromPDP",(function(){return Se})),a.d(t,"getFinalPayloadData",(function(){return fe})),a.d(t,"getStoreClosureMessage",(function(){return Ne}));var o=a(3),i=a.n(o),n=a(61),l=a(76),d=a(25),c=a(5),r=a(122),s=a(30),u=a(129),v=a(172),m=a(919),b=a(324),O=a(14),j=a(1035),p=a(1036),h=a(2);var g=e=>{const{unavailableItems:t,priceChangedItems:a,confirmChangesHandler:i,discardChangesHandler:n}=e,{userOrderStateDispatch:d}=Object(o.useContext)(l.a),{CART_STATES_DATA:c="",ADD_TO_CART_CLICK:r=""}=O.a,s=Object(h.jsx)(j.a,{onCartStatesMethodSubmit:(e,t)=>{e.stopPropagation(),e.preventDefault(),"discardChanges"===t?n():i()},unavailableItems:t,priceChangedItems:a});return Object(h.jsx)(p.a,{handleClose:e=>{e.stopPropagation(),e.preventDefault(),d({type:c,value:{showCartModal:!1}}),d({type:r,value:{addToCart:!1}})},CartStatesModuleForm:s})};var I=Object(n.j)((e=>{const{flatResponse:t={},tenantReducer:a={}}=e,{userOrderState:n,userOrderStateDispatch:u}=Object(o.useContext)(l.a),{CART_STATES_DATA:v,ADD_TO_CART_CLICK:m,MENU_URL:b}=O.a,{currencyConversionFactor:j,tenantId:p}=a,I=n.productItemId,S=n.oldProduct,f=n.categoryId,N=Object(c.Jd)(n.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):n.dispositionNew,{date:C="",time:T=""}=N||{},[E,x]=Object(o.useState)([]),[D,y]=Object(o.useState)([]),_=Object(d.c)((e=>{let{menuReducer:{isLoading:t}}=e;return t})),A=Object(d.c)((e=>e.cartReducer)),R=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),L=Object(d.b)();Object(o.useEffect)((()=>{if(u({type:v,value:{showCartModal:!0}}),Object(c.Kd)(t)&&j&&!_){const e=t.items.filter((e=>P(e)));if(I){let t=((e,t,a,o,i)=>{let n={toRemove:!0,requireModification:!1,findings:["Item not available"],menuPrice:void 0,newFoodLineItem:{item:{dname:null===o||void 0===o?void 0:o.productName,imageName:null===o||void 0===o?void 0:o.productImage,id:i}},cartPrice:null===o||void 0===o?void 0:o.productPrice};for(let l=0;l<(null===t||void 0===t?void 0:t.length);l++){const i=t[l];if(i.id===e){console.log("flatItem >>>",i),n.findings=[],n.toRemove=!1;let e=Object(c.yc)(i.availability[0],a),t=o.productPrice;e!==t?(n.findings.push("Item Price has changed Cart Price(".concat(t,"), Menu price(").concat(e,")")),n.requireModification=!0,n.menuPrice=e,n.cartPrice=t):(n.menuPrice=e,n.cartPrice=t);break}}return n})(I,e,j,S,I),a=[];t.toRemove&&a.push(t),x(a);let o=[];t.requireModification&&o.push(t),y(o)}else x([]),y([])}}),[j,I,JSON.stringify(t),_]),Object(o.useEffect)((()=>{R&&f&&L(Object(s.v)({showProductListingModal:!0,categorySelected:f}))}),[R]);const P=e=>!!Object(c.Bc)(e.availability,C,T),w=()=>{e.history.push({pathname:"".concat(b)})};return console.log(D),Object(h.jsx)(i.a.Fragment,{children:n.cartStateData.showCartState&&(E.length||D.length)&&Object(h.jsx)(g,{"data-testid":"productStatesModule",unavailableItems:E,priceChangedItems:D,confirmChangesHandler:()=>{var e;E.length?n.fromPdpPage&&w():n.customizable?L(Object(r.c)({tenantId:p,catalogName:n.catalogs,itemId:I})):(L(Object(s.a)({params:{basketId:null===A||void 0===A||null===(e=A.cartData)||void 0===e?void 0:e.id},tenantId:p},[{Id:I,categoryId:f,quantity:1,modGrps:[]}])),L(Object(s.u)(new Date)));u({type:v,value:{showCartModal:!1}}),u({type:m,value:{addToCart:!1}})},discardChangesHandler:()=>{u({type:v,value:{showCartModal:!1}}),u({type:m,value:{addToCart:!1}}),n.fromPdpPage&&w()}})})})),S=a(52),f=a(274),N=a(101),C=a(1122),T=a(992),E=a(943),x=a(929);const D=[{filterBy:["exclusive","topseller","newitem"],dietry:["all","veg"]}],y=[{name:"New",selected:!1},{name:"Bestsellers",selected:!1},{name:"Best Value",selected:!1}],_=(e,t)=>"true"===e===t,A=(e,t)=>{let a=[];return e.forEach((e=>{e[t].forEach((e=>{let t={name:e,checked:!1};a.push(t)}))})),a},R=function(e,t,a){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"equals",i=[],n=e.categories.filter((e=>{let{isHidden:t}=e;return!t})).map((e=>{var n;let l=e.products.filter((e=>!e.isHidden&&e[t]===a));return"exists"===o&&(l="name"===t?e.products.filter((e=>{var o,i;return!e.isHidden&&-1!==e[t].toLowerCase().indexOf(a)||Object(b.b)(null===e||void 0===e||null===(o=e.dname)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value,a)})):e.products.filter((e=>{var t,o;return!e.isHidden&&-1!==(null===e||void 0===e||null===(t=e.dname)||void 0===t||null===(o=t[0])||void 0===o?void 0:o.value.toLowerCase().indexOf(a))}))),!(null===(n=l)||void 0===n||!n.length)&&(e.products=l,i.push(l),e)})).filter(Boolean);return{productArr:i,filteredObj:n}},L=(e,t)=>e.filter((e=>e.items.find((e=>e.additionalProperties.find((e=>e.key===t.name&&_(e.value.toLowerCase(),t.checked))))))),P=(e,t)=>e.flat().filter((e=>e.items.find((e=>e.additionalProperties.find((e=>e.key===t.name&&_(e.value.toLowerCase(),t.checked))))))),w=e=>{var t,a,O,j,p,g,_,w;const[M,k]=Object(o.useState)(Object(c.Ud)(window.innerWidth)),F=Object(n.h)(),{contentData:U,selectedCat:H}=e,{userOrderState:W,userOrderStateDispatch:B}=Object(o.useContext)(l.a),{selectedTile:G,storeInfo:V,dispositionType:Y,tenantReducer:z}=U,{SERVICE_CHANNEL:K}=v.MENU_PLP_CONSTANT,q=Object(d.b)(),J=Object(u.c)({path:null===F||void 0===F?void 0:F.pathname,genericMenuName:null===z||void 0===z?void 0:z.genericMenuName,genericCateringName:null===z||void 0===z?void 0:z.genericCateringName,defaultdisposition:null===z||void 0===z||null===(t=z.authoredContent)||void 0===t?void 0:t.defaultdisposition,defaultcateringdisposition:null===z||void 0===z||null===(a=z.authoredContent)||void 0===a?void 0:a.defaultcateringdisposition}),Q=Object(c.ob)(null===V||void 0===V||null===(O=V.summary)||void 0===O||null===(j=O.menu)||void 0===j||null===(p=j.catalogs)||void 0===p?void 0:p[0],null===J||void 0===J?void 0:J.defaultMenuName,""),X=null===V||void 0===V?void 0:V.id,Z=Y,$=Object(d.c)((e=>e.cartReducer)),ee=Object(d.c)((e=>e.menuReducer)),te=(Object(E.a)(W),Object(c.kd)(null===ee||void 0===ee?void 0:ee.data)),ae=Object(c.kd)(ee.flatResponse),oe=Object(c.kd)(ee.recommendedProducts),[ie,ne]=Object(o.useState)([]),[le,de]=Object(o.useState)([]),[ce,re]=Object(o.useState)([]),[se,ue]=Object(o.useState)([]),[ve,me]=Object(o.useState)([]),[be,Oe]=Object(o.useState)([]),[je,pe]=Object(o.useState)(A(D,"filterBy")),[he,ge]=Object(o.useState)(A(D,"dietry")),[Ie,Se]=Object(o.useState)(y),[fe,Ne]=Object(o.useState)(!1),[Ce,Te]=Object(o.useState)(!1),[Ee,xe]=Object(o.useState)("STORE"),[De,ye]=Object(o.useState)(!1),[_e,Ae]=Object(o.useState)(""),[Re,Le]=Object(o.useState)(""),{eventAvailabilities:Pe,fetchEventItemAvailabilityForDisposition:we}=Object(x.a)({enabled:!0}),Me=Object(o.useMemo)((()=>Object(c.Jd)(W.currentStoreInfo)?Object(c.b)(localStorage.getItem("currentStoreInfo")):W.currentStoreInfo),[W.currentStoreInfo]),{futureDates:ke,scheduled:Fe,asap:Ue}=Object(c.kd)(null===Me||void 0===Me||null===(g=Me.summary)||void 0===g?void 0:g.timings),{unavailibilities:He}=Object(c.kd)(Fe),{interval:We=0,startEndTime:Be={}}=Object(c.kd)((null===Fe||void 0===Fe||null===(_=Fe.periods)||void 0===_?void 0:_.length)&&(null===Fe||void 0===Fe?void 0:Fe.periods[0])),{from:Ge,to:Ve}=Be,Ye=Object(o.useCallback)((()=>{if(Object(c.Kd)(Me)){var e,t,a,o,i,n,l;let d=null===(e=Me.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,c=null===(a=Me.summary)||void 0===a?void 0:a.name,r=0===(null===(o=Me.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length),s=((e,t,a,o,i,n,l)=>{var d;return Object(N.j)(e,t,a,null===o||void 0===o?void 0:o.isAvailable,1===(null===i||void 0===i?void 0:i.length)&&(null===n||void 0===n||null===(d=n.country)||void 0===d?void 0:d.toUpperCase())===v.INDIA,l)})(Ge,Ve,We,Ue,ke,z,He);xe(c),((e,t,a,o)=>{let{setIsStoreClosed:i,setIsStoreNone:n,setIsModalOpen:l}=o;"CLOSED"!==a&&!e||t.length?(i(!1),n(!1),l(!1)):(i(!0),n(!1),l(!0))})(r,s,d,{setIsStoreClosed:Ne,setIsStoreNone:Te,setIsModalOpen:ye})}else Ne(!1),Te(!1),ye(!1)}),[Me]);Object(o.useEffect)((()=>{Ye()}),[Ye]),Object(o.useEffect)((()=>{const{coupons:e={}}=(null===z||void 0===z?void 0:z.componentOptions)||{},{showCouponCopied:t=!1,couponCopiedMessage:a="Coupon Copied"}=e;t&&null!==W&&void 0!==W&&W.showCouponCopied&&(S.b.dark(Object(h.jsx)("div",{className:"img-text-div","data-testid":"toast-msg",children:Object(h.jsx)("span",{className:"text",children:a})}),{className:"copied-toast-position",bodyClassName:"success-copied-toast",hideProgressBar:!0,position:S.b.POSITION.BOTTOM_CENTER}),setTimeout((()=>{S.b.dismiss(),B({type:f.a})}),4e3))}),[]);const ze=e=>{let t,a=JSON.parse(JSON.stringify(te)),o=[...a.products],i=[];if(e.find((e=>{let{name:t}=e;return"all"===t})))i.push(a.products);else{let t=e.filter((e=>{let{flag:t}=e;return t===v.FILTER_BY})),n=e.filter((e=>{let{flag:t}=e;return t===v.DIETARY})),l=((e,t,a)=>e.length>0?(e.forEach(((e,o)=>{if(0===t.length){let o=L(a,e);o.length>0&&t.push(o)}else{let o=P(a,e);t[0].push(...o)}})),t):[])(t,i,o);i=((e,t,a,o)=>(e&&e.forEach(((e,i)=>{if(0===t.length)if("all"===e.name)t.push(o.products);else{let o=L(a,e);o.length>0&&t.push(o)}else{if("all"===e.name)return null;t=P(t,e)}})),t))(n,l,o,a)}t=0===e.length?{...a}:{...a,menu:[],categories:[],products:i.flat()},ne(t)};Object(o.useEffect)((()=>{$.showProductListingModal&&q(Object(s.v)({showProductListingModal:!1,categorySelected:""}))}),[F]),Object(o.useEffect)((()=>{Q&&Z&&null!==z&&void 0!==z&&z.tenantId&&q(Object(r.e)({channel:K,service:Z,tenantId:z.tenantId}))}),[X,Z,null===z||void 0===z?void 0:z.tenantId,_e]);const Ke=()=>{const e=Object(c.Ud)(window.innerWidth);k(e)};return Object(o.useEffect)((()=>{window.addEventListener("resize",Ke)}),[M]),Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)("div",{onClick:()=>{const e=document.getElementById(Re);e&&(e.style.border="none")},className:!M&&"plp-container plp-au-container grid-container",children:Object(h.jsx)(C.a,{...e,tenantData:z,data:te,selectedTile:G,filterList:le,dietaryList:ce,sortByList:se,filterOptions:je,dietaryOptions:he,sortByOptions:Ie,handleChangeEventTime:we,handleCheckbox:(e,t)=>{if(Object(c.Ud)(window.innerWidth)||Object(b.s)({eventType:"filterItems",selectedData:{filterSelected:t===v.FILTER_BY?e.target.value:"",dietarySelected:t===v.DIETARY?e.target.value:"",sortSelected:""}},"filterSelected","dietarySelected","sortSelected"),t===v.FILTER_BY){let t=[...je].map((t=>{if(t.name===e.target.value){if(t.checked){let t=[...le];t.splice(le.indexOf(e.target.value),1),de(t)}else{let t=[...le];t.push(e.target.value),de(t)}return{...t,checked:!t.checked,flag:v.FILTER_BY}}return{...t}})),a=t.filter((e=>e.checked));ze([...be,...a]),me(a),pe(t)}else if(t===v.DIETARY){let t=[...he].map((t=>{if(t.name===e.target.value){if(t.checked){let t=[...ce];t.splice(ce.indexOf(e.target.value),1),re(t)}else{let t=[...ce];t.push(e.target.value),re(t)}return{...t,checked:!t.checked,flag:v.DIETARY}}return{...t}})),a=t.filter((e=>e.checked));ze([...ve,...a]),Oe(a),ge(t)}},handleClearItems:e=>{let t="";if("string"===typeof e){let a=[...he].map((a=>e===a.name?(t="dietary",{...a,checked:!1}):{...a}));if("dietary"===t){let t=a.filter((e=>e.checked));ze([...ve,...t]),Oe(t),ge(a);let o=[...ce];o.splice(ce.indexOf(e),1),re(o)}let o=[...je].map((a=>e===a.name?(t="filter",{...a,checked:!1}):{...a}));if("filter"===t){let t=o.filter((e=>e.checked));ze([...be,...t]),me(t),pe(o);let a=[...le];a.splice(le.indexOf(e),1),de(a)}""===t&&(Se(Ie.map((e=>({...e,selected:!1})))),ue([]))}else{let e=[...he].map((e=>({...e,checked:!1})));ge(e);let t=[...je].map((e=>({...e,checked:!1})));pe(t),Se(Ie.map((e=>({...e,selected:!1})))),ze([]),de([]),re([]),ue([]),me([]),Oe([])}},handleRadio:e=>{Object(c.Ud)(window.innerWidth)||Object(b.s)({eventType:"filterItems",selectedData:{filterSelected:"",dietarySelected:"",sortSelected:e.target.value}},"filterSelected","dietarySelected","sortSelected");let t=[...Ie].map((t=>t.name===e.target.value?{...t,selected:!t.selected}:{...t,selected:!1}));ue([t.find((e=>e.selected)).name]),Se(t)},handleFilteredData:e=>{let t=JSON.parse(JSON.stringify(te)),{productArr:a,filteredObj:o}=R(t,"mdmId",e,"equals");const i=Object.assign(t,{menu:[],categories:o,products:a.flat()});ne(i)},handleSearchdata:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){let a=JSON.parse(JSON.stringify(te)),{productArr:o,filteredObj:i}=R(a,"name",e,"exists");const n=Object.assign(a,{menu:[],categories:i,products:o.flat()});ne(n),t&&Object(b.t)({eventType:"userSearch",selectedData:{searchTerm:e,resultsFound:o.flat().length}},"searchTerm","resultsFound")}else ne({})},tempData:ie,recommendations:oe,catalogs:Q,selectedCat:H,triggerGetRecommends:e=>{Ae(e)},storeClosedData:{isStoreClosed:fe,isStoreNone:Ce,storeName:Ee,isModalOpen:De},setProductId:Le,specialEventItemAvailability:Pe,isMobile:M})}),W.addToCart&&W.isLocalized&&!W.fromPdpPage?Object(h.jsx)(I,{flatResponse:ae,tenantReducer:z}):null,$.showProductListingModal&&!W.fromCouponSection&&Object(h.jsx)(m.a,{}),(null===(w=W.cartAlertData)||void 0===w?void 0:w.showCartAlert)&&Object(h.jsx)(T.a,{})]})};a(267),a(932);a(920),a(912),a(317),a(43),a(1017),a(1005),a(326),a(123),a(933),a(960),a(213),a(907);var M=a(320),k=(a(946),a(6)),F=(a(92),a(84)),U=(a(904),a(917),a(15));const{SearchIcon:H,SearchIconGrey:W,DarkCloseButton:B,StripsIcon:G,Product_Card_Icon:V,ribbonRedOutlined:Y,TimerIcon:z,CartError:K}=U.a;a(128);const{MobSearchIcon:q,View_1UP_Icon:J,View_1UP_Icon_Inactive:Q,View_carousal_Icon:X,View_carousal_Icon_Inactive:Z,DarkCloseButton:$,CartError:ee}=U.a;a(121),a(1016),a(219),a(62),a(156),a(18),a(1010);var te=a(908),ae=a(0),oe=a(902),ie=a(1085);const ne=(e,t,a)=>{let o=ae.qd,i={};const n=null===t||void 0===t?void 0:t[a];if(n){var l;const{dname:[{value:t}={}]=[],shortDescription:[{value:a}={}]=[],productMapByProductUrl:d={},imageName:r=[],content:s}=null!==n&&void 0!==n?n:{},u=Object(c.Xb)(r,e),{shortDescription:v=(null!==a&&void 0!==a?a:t),image:{mainImage:m=u}={}}=s||{};i={Category:t,CategoryDescription:v,CategoryImage:m,Products:null===(l=Object.values(d))||void 0===l?void 0:l.map((e=>{var t,a,o;const{dname:[{value:i}={}]=[],shortDescription:[{value:n}={}]=[],content:l,url:d}=null!==e&&void 0!==e?e:{},c="".concat(null!==(t=null===(a=window)||void 0===a||null===(o=a.location)||void 0===o?void 0:o.href)&&void 0!==t?t:"","/").concat(d),{shortDescription:r=n}=null!==l&&void 0!==l?l:{};return{"@type":ae.Ie,name:i,description:r,url:c}}))},o=ae.od}return{seoPageName:o,seoObject:i}};var le=a(190),de=a(1032),ce=a(340),re=a.n(ce),se=a(37),ue=a.n(se),ve=a(355),me=a(835),be=a(192),Oe=a(69),je=a(110),pe=a(4);const he=(e,t)=>{var a;return(null===t||void 0===t||null===(a=t.state)||void 0===a?void 0:a.frompdp)&&e(!0)},ge=e=>{var t;let{event:a,setShowAlert:o,props:i,stoerName:n,getLocationParam:l,userOrderStateDispatch:d}=e;a.preventDefault(),a.stopPropagation(),o(!1),null===i||void 0===i||null===(t=i.history)||void 0===t||t.replace({state:{}}),l&&Object(c.td)(),!l&&Object(c.tf)(d,n)},Ie=(e,t,a)=>{var o;return(null===e||void 0===e||null===(o=e.state)||void 0===o?void 0:o.frompdp)&&t&&a},Se=(e,t)=>{var a;null===e||void 0===e||null===(a=e.history)||void 0===a||a.replace({state:{}}),t(!1)},fe=e=>{let{isForNow:t,dispositionNew:a,selectedEpochTime:o,payload:i}=e;return t||(null===a||void 0===a?void 0:a.time)===ae.s?i:{...i,futureDateTimeInEpochFormat:o}},Ne=e=>{const{NOT_WITHIN_OPERATING_HOURS:t,STORE_NOT_ALIVE:a,DOORDASH_NOT_SERVICEABLE:o}=O.a,i=e.includes(o)?o:"";return Object(c.l)(e!==t,e!==a,i!==o)?e:null};t.default=e=>{var t,a,r,s,u,v,m,j,p,g,I,S,f,N,C;const[T,E]=Object(o.useState)(ae.qd),[x,D]=Object(o.useState)(),[y,_]=Object(o.useState)(!1),{userOrderStateDispatch:A,userOrderState:R}=Object(o.useContext)(l.a),L=Object(d.c)((e=>e.tenantReducer)),P=Object(d.c)((e=>e.cartReducer)),H=Object(n.g)(),{flatResponse:{categoryMapByUrl:W={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{data:{categories:B},searchResults:{categories:G=[]}={}}=Object(c.kd)(Object(d.c)((e=>{let{menuReducer:t}=e;return t})));let V={};for(let o of B)V[o.url]=o.products.map((e=>{var t;return{"@type":"MenuItem",name:Object(c.md)(null===e||void 0===e?void 0:e.name),description:Object(c.md)(null===e||void 0===e?void 0:e.url),url:Object(c.md)(null===e||void 0===e||null===(t=e.longDescription[0])||void 0===t?void 0:t.value)}}));const Y=Object(d.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{tenantId:z}=Object(c.kd)(L),K=(null===L||void 0===L||null===(a=L.componentOptions)||void 0===a||null===(r=a.web)||void 0===r||null===(s=r.global)||void 0===s||s.showVipBanner,null===L||void 0===L||null===(u=L.componentOptions)||void 0===u||null===(v=u.web)||void 0===v||null===(m=v.plp)||void 0===m?void 0:m.showAdInPlp),{category_name:q}=Object(n.i)(),[J,Q]=Object(o.useState)(!0),[X,Z]=Object(o.useState)(null),[$,ee]=Object(o.useState)(!1),ce=Object(d.b)(),se=Object(n.h)(),fe=Object(je.a)(),{VIEW_MENU:Ce,STORE_TEXT:Te,STORE_CLOSED_TEXT:Ee,CHANGE:xe,CATERING_STORE_CLOSED_MSG:De}=pe.a,{START_ORDER_CLICK:ye,IS_DEEPLINK_URL:_e,SCHEDULE_ORDER_DATA:Ae,STATUS_API_CALLED:Re}=O.a,{ITME_NOT_AVAILABLE:Le,BROWSE_MENU_TITLE:Pe,BROWSE_MENU:we}=le.a,Me=JSON.parse(localStorage.getItem(ae.gd.DISPOSITION_NEW)),ke=null===se||void 0===se||null===(j=se.state)||void 0===j?void 0:j.frompdp,Fe=Object(d.c)((e=>{var t;return null===(t=e.storesReducer)||void 0===t?void 0:t.storesWithStatus})),Ue=Object(c.Lc)(null===Me||void 0===Me||null===(p=Me.store)||void 0===p?void 0:p.name)||(null===Me||void 0===Me||null===(g=Me.store)||void 0===g||null===(I=g.summary)||void 0===I?void 0:I.name)||(null===Fe||void 0===Fe||null===(S=Fe[0])||void 0===S||null===(f=S.summary)||void 0===f?void 0:f.name),He=ue()(R,ae.Xe,!1),We=Object(o.useMemo)((()=>{var e;return{tenantReducer:Object(c.Kd)(L)?L:JSON.parse(localStorage.getItem(ae.gd.TENANT_REDUCER)),storeInfo:Me?Me.store:{},selectedTile:R&&Object(c.Kd)(R.selectedTile)?R.selectedTile:JSON.parse(localStorage.getItem(ae.gd.SELECTED_TILE)),dispositionType:null!==Me&&void 0!==Me&&Me.type?Object(c.Ib)(Me.type):Object(c.Ib)(null===(e=L.authoredContent)||void 0===e?void 0:e.defaultdisposition)}}),[Me,R,L]);Object(o.useEffect)((()=>{He&&(A({type:Re,value:{statusAPICalled:!1}}),Be(Fe))}),[He]),Object(o.useEffect)((()=>{var e,t,a,o,i,n;(null===Fe||void 0===Fe?void 0:Fe.length)<2&&(null===Fe||void 0===Fe||null===(e=Fe[0])||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===O.a.CLOSED&&(null===Fe||void 0===Fe||null===(o=Fe[0])||void 0===o||null===(i=o.summary)||void 0===i||null===(n=i.name)||void 0===n?void 0:n.length)>1&&Be(Fe)}),[Fe]),Object(o.useEffect)((()=>{var e,t,a;0===(null===P||void 0===P||null===(e=P.cartData)||void 0===e||null===(t=e.foodLines)||void 0===t?void 0:t.length)&&fe(Object(Oe.d)({key:ae.gd.ADD_HOPE_TRIGGER,value:!0})),fe(Object(Oe.d)({key:ae.gd.INDULGENT_ADDONS_TRIGGERED,value:!1}));const o=null===se||void 0===se||null===(a=se.search)||void 0===a?void 0:a.split("?")[1];if(o){const e=new URLSearchParams(o),t=Object.fromEntries(e.entries());Object(c.fb)(Object(c.db)(null===t||void 0===t?void 0:t.ordertype,null===t||void 0===t?void 0:t.storeid),null===t||void 0===t?void 0:t.action)&&(A({type:_e,value:{isDeepLinkURL:!0}}),Object(c.Xd)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid&&Object(me.deepLinkWithPickupData)({storesWithStatusData:Fe,userOrderStateDispatch:A,userParams:Y,qParams:t,tenantReducer:L,history:H,setDeeplinkFlagAddToCart:_,params:We,dispatch:ce,dispositionNew:Me}),(Object(c.Ad)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid||Object(c.Fd)(null===t||void 0===t?void 0:t.ordertype)&&null!==t&&void 0!==t&&t.storeid||(null===t||void 0===t?void 0:t.ordertype)===ae.Dd)&&Object(me.deepLinkWithDeliveryData)(Y,Fe,A,H,t))}}),[]),Object(o.useEffect)((()=>{const t={pathname:null===se||void 0===se?void 0:se.pathname,userParams:Y,baseCategory:G,history:null===e||void 0===e?void 0:e.history,menuNavRestricted:R.menuNavRestricted,userOrderStateDispatch:A};Object(b.o)(t),he(ee,se)}),[null===se||void 0===se?void 0:se.pathname]),Object(o.useEffect)((()=>{var e;const{seoPageName:t,seoObject:a}=null!==(e=ne(L,W,q))&&void 0!==e?e:{};E(t),D(a)}),[z,q,JSON.stringify(W)]),Object(o.useEffect)((()=>()=>{window.removeEventListener(ae.ie,(e=>Object(b.p)(e,Y,A)),!0)}),[]),Object(o.useEffect)((()=>{var e;Object(c.db)(Y.localized,null===Me||void 0===Me||null===(e=Me.store)||void 0===e?void 0:e.id)&&(window.removeEventListener(ae.ie,(e=>Object(b.p)(e,Y,A)),!0),window.addEventListener(ae.ie,(e=>Object(b.p)(e,Y,A))))}),[null===Me||void 0===Me||null===(N=Me.store)||void 0===N?void 0:N.id,Y]);const Be=e=>{var t,a,o,i,n,l;null===L||void 0===L||null===(t=L.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.orderPages)||void 0===o||o.scheduleOrderStoreClosePopUp;const d=ue()(re()(e),"summary",{}),r=(null===d||void 0===d||null===(i=d.timings)||void 0===i||null===(n=i.futureScheduled)||void 0===n||n.length,ue()(d,"status",{})),s=ue()(r,"message",""),u=ue()(R,"startOrderBtnClicked",!1);var v,m;ue()(r,ae.mb,"")===M.g?(null===R||void 0===R||null===(v=R.scheduleOrderData)||void 0===v||null===(m=v.selectedDateTimeInfo)||void 0===m?void 0:m.time)===ae.s&&(Z(Ne(s)),ee(!0)):null!==d&&void 0!==d&&d.orderingAttribute&&(null===Me||void 0===Me?void 0:Me.selectedTime)===ae.s&&!Object(c.wd)(null===Me||void 0===Me?void 0:Me.store)&&(null===P||void 0===P||null===(l=P.cartData)||void 0===l?void 0:l.service)===ae.yb&&ee(!0);u&&A({type:ye,value:{startOrderBtnClicked:!1}})},Ge=Object(c.Tc)($,Object(h.jsx)(be.a,{handleClose:()=>ee(!1),classNames:"plp-warning-msg plp-page-model",CartAlertForm:Object(h.jsx)(F.a,{title:"".concat(Object(k.translateWithI18Next)(Ee)),contentMsg:"".concat(Object(k.translateWithI18Next)(De)),imageSrc:U.a.LocationWithoutError,confirmButtonText:"".concat(Object(k.translateWithI18Next)(xe)," ").concat(Object(k.translateWithI18Next)(Te)),confirmHandler:()=>{A({type:Ae,value:{showScheduleOrderCatering:!0,selectedStoreInfo:localStorage.getItem(ae.gd.STORE_INFO),changeFlow:!0}}),ee(!1)},cancelHandler:()=>ee(!1),cancelButtonText:Object(k.translateWithI18Next)(Ce)})}),null),Ve=Object(h.jsx)(ve.a,{handleClose:()=>ee(!1),showAlert:$,onClickBtnHandler:t=>ge({event:t,setShowAlert:ee,props:e,stoerName:localStorage.getItem(ae.gd.RETAIN_ADDRESS),getLocationParam:ke,userOrderStateDispatch:A}),stoerName:Ue,storeClosedMsg:X,contentMsg:ae.K}),Ye=Object(h.jsx)(ve.a,{handleClose:()=>{Se(e,ee)},showAlert:$,imageSrc:U.a.CartError,onClickBtnHandler:t=>ge({event:t,setShowAlert:ee,props:e,stoerName:Ue,getLocationParam:ke,userOrderStateDispatch:A}),stoerName:"",storeClosedMsg:Le,contentMsg:Pe,confirmButtonText:we});return Object(h.jsxs)(i.a.Fragment,{children:[K&&Object(h.jsx)(de.a,{}),Object(h.jsx)(te.a,{page:T,seoObj:x}),Object(h.jsx)(w,{setShowTopScrollBtn:Q,contentData:We,selectedCat:null===e||void 0===e||null===(C=e.location)||void 0===C?void 0:C.selectedCat,history:e.history}),R.showCartClearAlert&&Object(h.jsx)(oe.a,{}),J&&Object(h.jsx)(ie.a,{showThreshold:500}),Object(c.Tc)(Object(c.yd)(null===We||void 0===We?void 0:We.dispositionType),Ge,Ve),Ie(se,$,Ye)]})}},811:function(e,t,a){"use strict";a.r(t);t.default={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message",RECOMMENDATION:"Recommendation",INDIA:"INDIA",PAYMENT_FAILED_MESSAGE:"paymentdeclined",PAYMENT_PRE_VALIDATION_FAILED_MESSAGE:"paymentPreValidationFailed",SERVICE_CHANNEL:"web",OFFERS_DEALS_MODE:"Web",KFC_Gift_Card:"KFC Gift Card",LOGIN_ACTION:"login-actions/registration?client_id=",REDIRECT_PATH_NAME:"redirect_path_name",SIGNOUT:"/signout",OPEN_ID_CONNECT:"/openid-connect/",CODE_CHALLENGE:"code_challenge",CODE_VERIFIER:"code_verifier",REGISTRATIONS:"registrations?"}},812:function(e,t,a){"use strict";a.r(t),a.d(t,"removeCouponHandler",(function(){return u})),a.d(t,"quantityModifierOnClickHandler",(function(){return v}));var o=a(3),i=a(317),n=a(25),l=a(54),d=a(918),c=a(6),r=a(4),s=a(2);const u=e=>{let{setCartItem:t,item:a,setCouponModal:o,setQuantityActionData:i,quantityAction:n}=e;o(!0),t(a),i(n)},v=e=>{let{paymentDiscountAmounts:t,setCartItem:a,item:o,setCouponModal:i,setQuantityActionData:n,quantityAction:l,event:d,updateItemQuantity:c}=e;null!==t&&void 0!==t&&t.length?u({setCartItem:a,item:o,setCouponModal:i,setQuantityActionData:n,quantityAction:l}):c(o,l,d)};t.default=e=>{var t,a;const{itemQuantity:u,itemCount:m,updateItemQuantity:b,quantityAction:O,item:j,itemName:p,cartItemCount:h,maxItemCountPerLineItem:g,hideChild:I=!1,type:S="",paymentDiscountAmounts:f=[],removeSingleItem:N=!1}=e,{QUANTITY_INCREASE_DECREASE:C}=l.a;var T="".concat(Object(c.translateWithI18Next)(r.a.DECREASE_QUANTITY_BY)," ").concat(p),E="".concat(Object(c.translateWithI18Next)(r.a.INCREASE_QUANTITY_BY),"  ").concat(p);const x=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isUpdateQuantityLoading})),[D,y]=Object(o.useState)(!1),[_,A]=Object(o.useState)({}),[R,L]=Object(o.useState)(""),P=Object(n.c)((e=>{var t,a,o,i,n,l;return(null===(t=e.cartReducer)||void 0===t?void 0:t.isBasketDetailsLoading)||(null===(a=e.cartReducer)||void 0===a?void 0:a.isUpdateQuantityLoading)||(null===(o=e.cartReducer)||void 0===o?void 0:o.isValidateBasketLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreStatusLoading)||(null===(n=e.orderReducer)||void 0===n?void 0:n.isCreateOrderLoading)||(null===(l=e.orderReducer)||void 0===l?void 0:l.isPlaceOrder)}));return Object(s.jsxs)("div",{className:"cart-food-quantity-change",children:[!N&&+m===+u||null!==j&&void 0!==j&&j.isProductPromo&&(null===j||void 0===j?void 0:j.minQuantity)===(null===j||void 0===j?void 0:j.maxQuantity)?Object(s.jsx)(i.a,{className:"button quantity-decrease",disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!I&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(i.a,{className:"button quantity-decrease",ariaLable:T,disabled:x||P,onClickHandler:e=>v({paymentDiscountAmounts:f,setCartItem:A,item:j,setCouponModal:y,setQuantityActionData:L,quantityAction:O.Decrease,event:e,updateItemQuantity:b}),"data-testid":"quantity-minus",type:S,children:!I&&Object(s.jsx)("span",{children:"-"})}),Object(s.jsx)("span",{className:"cart-food-quantity",children:m}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"Quantity updated to ".concat(m)}),Object(s.jsx)(i.a,{className:".transparent-btn button quantity-increase",ariaLable:E,"data-testid":"quantity-plus",type:S,onClickHandler:e=>v({paymentDiscountAmounts:f,setCartItem:A,item:j,setCouponModal:y,setQuantityActionData:L,quantityAction:O.Increase,event:e,updateItemQuantity:b}),disabled:!!(0!==g&&h+m>g||null!==j&&void 0!==j&&null!==(t=j.discountComponents)&&void 0!==t&&null!==(a=t[0])&&void 0!==a&&a.isDiscounteditem)||(x||P),children:!I&&Object(s.jsx)("span",{children:"+"})}),D&&Object(s.jsx)(d.a,{cartItem:_,setCouponModal:y,quantityAction:R,updateItemQuantity:b,flag:C})]})}},813:function(e,t,a){"use strict";a.r(t),a.d(t,"ScheduleOrder",(function(){return m}));var o=a(3),i=a.n(o),n=a(936),l=a(121),d=a(2);var c=e=>{const{handleClose:t,ScheduleOrderForm:a,headerText:o,modalTitleId:n="",handleGoBack:c}=e;return Object(d.jsx)(i.a.Fragment,{children:Object(d.jsx)(l.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:o,closeDataTestId:"close-modal-handler",showBackBtn:!0,backButtonHandler:c,children:a})})},r=a(76),s=a(14),u=a(6),v=a(4);const m=e=>{const{onStoreSelectFinish:t}=e,{userOrderState:a,userOrderStateDispatch:i}=Object(o.useContext)(r.a),{SEARCH_ORDER_DATA:l,SCHEDULE_ORDER_DATA:m}=s.a,{scheduleOrderData:b}=a,{changeFlow:O=!1}=b,j=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),i({type:m,value:{selectedStoreInfo:a.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),i({type:l,value:{showSearchStore:!1}})};Object(o.useEffect)((()=>{const e=e=>{27===e.keyCode&&j(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const p=Object(d.jsx)(n.a,{onStoreSelectFinish:t});return Object(d.jsx)(c,{handleGoBack:()=>{i({type:l,value:{showSearchStore:!0}}),i({type:m,value:{showScheduleOrderCatering:!1}})},handleClose:j,ScheduleOrderForm:p,modalTitleId:"schedule-order",headerText:O?Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.SCHEDULE_ORDER):Object(u.translateWithI18Next)(null===v.a||void 0===v.a?void 0:v.a.CHANGE_ORDER_TITLE)})};t.default=m},814:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchStoreModule",(function(){return vt}));var o=a(12),i=a(13),n=a(6),l=a(269),d=a(63),c=a(155),r=a(22),s=a(5),u=a(76),v=a(3),m=a.n(v),b=a(25),O=a(807),j=a(14),p=a(128),h=a(330),g=a(212),I=a(43),S=a(266),f=a.n(S),N=a(36),C=a(928),T=a(323),E=a(49),x=a(15),D=a(2);const y=e=>!0===e.includes(",")?e.replace(",",", "):e;var _=e=>{var t,a;const{onMapClickHandler:o,startOrderFormSavedAddress:i}=e,{MapImage:l}=x.a,{SAVED_ADDRESS:d,SAVED_ADDRESSES:c,START_ORDER_TEXT:r}=p.a,{savedAddresses:s}=Object(b.c)((e=>e.profileReducer)),u=null===(t=s.filter((e=>{let{isPrimary:t}=e;return t}))[0])||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.join(" ");return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"savedAddress-store-count",children:[Object(D.jsxs)("span",{className:"saved-address-count-title",children:[s.length>1?"".concat(Object(n.translateWithI18Next)(c)," "):"".concat(Object(n.translateWithI18Next)(d))," ","(",s.length,")"," "]}),Object(D.jsx)("div",{"data-testid":"saved-map-link",onClick:e=>o(e,"",u),children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:l,alt:"map",className:"map-img"})}),"Map"]})})]}),s.map((e=>Object(D.jsx)("div",{className:"savedAddress-module-card",children:Object(D.jsxs)("div",{className:"inside-card",children:[Object(D.jsxs)("div",{className:"address-section",children:[Object(D.jsxs)("div",{className:"address-type",children:[e.name," : "]}),Object(D.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[1])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.addressLines[0])&&Object(D.jsxs)("span",{children:[" ",y(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(D.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)(N.a,{className:"button redButton search-store-card-btn",onClickHandler:t=>((e,t)=>{var a;const{latitude:o,longitude:n}=t.location,l={userLat:o,userLong:n},d=(null===t||void 0===t||null===(a=t.addressLines)||void 0===a?void 0:a.reduce(((e,t)=>e+" "+t)))+", "+(null===t||void 0===t?void 0:t.city)+", "+(null===t||void 0===t?void 0:t.state)+", "+(null===t||void 0===t?void 0:t.country);i(d,l)})(0,e),"data-testid":"savedaddress-click-test",children:Object(n.translateWithI18Next)(r)})})]})})))]})})},A=a(124);var R=e=>{const{errorMsgToShow:t,onClearTextHandler:a,dispositionType:o,onRetryClickHandler:i,onMapClickHandler:l,showMap:d}=e,{userOrderStateDispatch:c}=Object(v.useContext)(u.a),{DISPOSITION_METHOD:r}=j.a,{DELIVERY_UNAVAILABLE_WITH_CTA:s,TAKE_AWAY:b,TYPE_TAKE_WAY:O,RETRY_TEXT:h,CTA1_SEARCH_DIFF_ADDRESS:g,CTA2_ORDER_TAKEAWAY:S,CTA2_VIEW_MAP_BUTTON_TEXT:f}=p.a,{Error:C}=x.a,T=Object(A.a)({"error-alert-location-popup":!0,"error-alert-location-popup-with-map-view":d});return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"Delivery"===o?T:"error-alert-location-popup error-adjust",children:[Object(D.jsx)(I.a,{srcFile:C,className:"location-alert-icon"}),t!==s&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>(e=>{e.preventDefault(),a()})(e),children:Object(n.translateWithI18Next)(g)}),o.toLowerCase()!==b.toLowerCase()&&Object(D.jsx)(N.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>(e=>{e.preventDefault(),c({type:r,value:{dispositionType:O}})})(e),children:Object(n.translateWithI18Next)(S)})]})]}),t===s&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(t)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-onRetryClick",className:"button whiteButton blackBorder location-warning-button mr retrybtn",onClickHandler:e=>i(e),children:Object(n.translateWithI18Next)(h)}),o!==b&&Object(D.jsx)(N.a,{"data-testid":"btn-onMapClick",className:"button whiteButton blackBorder location-warning-button ml retrybtn",onClickHandler:e=>l(e),children:Object(n.translateWithI18Next)(f)})]})]})]})})},L=a(0),P=a(110),w=a(69),M=a(318);const{LocationImage:k,GoogleMapLocationImage:F,SuggestionItemSearchPin:U,clearTextIcon:H,Time_Clock:W,Error:B,MapImage:G}=x.a,{MIN_SEARCH_CHARACTER_LIMIT:V,SUUGESTED_ITEMS_TEXT:Y,ALLOWED_SUGGESTION_LIST:z,ALREADY_SERACHED_LOCATIONS:K,COUNTRY_CODE:q,SUGGESTION_ACTIVE_COLOR:J,SUGGESTION_ACTIVE_OPACITY:Q,BRAND_BLACK:X,COLOR_BLACK:Z,CONFIRM_BUTTON_TEXT:$,LOCATION_WARNING_MESSAGE:ee,RETRY_TEXT:te,USE_THIS_ADDRESS_TEXT:ae,DELIVERY_UNAVAILABLE:oe,DELIVERY_UNAVAILABLE_WITH_CTA:ie,NOTAVAILABLE:ne,CTA1_SEARCH_DIFF_ADDRESS:le,TAKE_AWAY:de,CTA2_ORDER_TAKEAWAY:ce}=p.a,re=(e,t)=>{t()},se=e=>{var t;let{eligibleStoreData:a,suggestedAddress:o,setNegativeScenarioAlert:i,getNegativeView:l}=e,d=null===a||void 0===a?void 0:a.filter((e=>{var t,a,o;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(o=a.catalogs)||void 0===o?void 0:o.length)>0})),c=d.filter((e=>{var t,a,o,i,n,l;const d="CLOSED"===e.summary.status.currentStatus,c=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(o=a.message)||void 0===o?void 0:o.indexOf("EMERGENCY_SHUTDOWN")),r=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(n=i.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN"));return d&&(c||r)})),r=Object(T.a)("delivery",d);var u;return Object(s.id)(r,Object(s.id)(!(null!==(t=o[0])&&void 0!==t&&t.description),(null===c||void 0===c?void 0:c.length)===d.length))?(Object(s.db)((null===c||void 0===c?void 0:c.length)===(null===d||void 0===d?void 0:d.length),null===d||void 0===d?void 0:d.length)?r=oe:null!==(u=o[0])&&void 0!==u&&u.description||(r=ie),i(r),Object(s.Kb)(Object(n.translateWithI18Next)(h.a.contentData.deliveryHeaderText),Object(n.translateWithI18Next)(r)),l(r)):void 0},ue=(e,t,a)=>Object(D.jsx)(N.a,{className:"button blackButton blackBorder delivery-confirm-button delivery-confirm-button-in","data-testid":"btn-confirm",disabled:!e||t,onClick:a,"data-loading":t,children:Object(n.translateWithI18Next)($)}),ve=(e,t,a)=>{var o,i,n,l,d;return null===e||void 0===e||null===(o=e.toString())||void 0===o||null===(i=o.replace)||void 0===i||null===(n=i.call(o,t,""))||void 0===n||null===(l=n.trim())||void 0===l||null===(d=l.replace)||void 0===d?void 0:d.call(l,a,"")};var me=e=>{var t;const{formContent:a={},userPositionHandler:o,singInClickhandler:i,eligibleStoreData:l}=e,{memberText:d="",singInLink:c={},currentLocationText:O="",addressBoxPlaceHolderForDelivery:p=""}=a,{RETAIN_ADDRESS:C}=L.gd,{SCHEDULE_ORDER_DATA:x,DISPOSITION_METHOD:y}=j.a,A=Object(b.c)((e=>e.appStateReducer.userStatus)),{loggedIn:G}=Object(s.kd)(A),{userOrderState:Z,userOrderStateDispatch:$}=Object(v.useContext)(u.a),{searchStoreData:ie={},dispositionStateData:me={}}=Z,[pe,he]=Object(v.useState)(""),[ge,Ie]=Object(v.useState)(!1),[Se,fe]=Object(v.useState)(!1),[Ne,Ce]=Object(v.useState)(!1),[Te,Ee]=Object(v.useState)({lat:28.7,lng:77.1}),[xe,De]=Object(v.useState)(!1),[ye,_e]=Object(v.useState)(!1),[Ae,Re]=Object(v.useState)([]),[Le,Pe]=Object(v.useState)(""),we=Object(v.useRef)(null),[Me,ke]=Object(v.useState)(""),[Fe,Ue]=Object(v.useState)(""),[He,We]=Object(v.useState)(!1),[Be,Ge]=Object(v.useState)(!1),[Ve,Ye]=Object(v.useState)(!1),[ze,Ke]=Object(v.useState)(""),[qe,Je]=Object(v.useState)(!1),{dispositionType:Qe=localStorage.getItem("dispositionType")}=me,[Xe,Ze]=Object(v.useState)({}),$e=Object(b.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),et=Object(P.a)(),{componentOptions:{web:{storeSearch:{postalCodeRemoval:tt=!1,addPickupAndDropoffLatLngInStatusApi:at}}},postalcodeRemoveRegex:ot=null,specialCharRemoveRegex:it=null}=Object(b.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),nt=Object(b.c)((e=>{var t,a,o,i;return(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isNearByStoresLoading)||(null===(i=e.storesReducer)||void 0===i?void 0:i.isStoreTimeSlotsLoading)}));Object(v.useEffect)((()=>{Object(T.e)(ye,Fe,h.a)}),[ye,Fe]);const lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:Object(s.id)(Fe,e),onClearTextHandler:mt,onRetryClickHandler:rt,onMapClickHandler:dt,dispositionType:Qe,showMap:Ne})})},dt=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.preventDefault(),Object(T.i)(Ne,Qe),Ce(!0),Ue(!1),t&&!pe&&st(t)},ct=e=>{var t;const a=null===(t=e.toString())||void 0===t?void 0:t.split(" "),o=null===a||void 0===a?void 0:a.filter((e=>!(null!==e&&void 0!==e&&e.includes("+"))));return null===o||void 0===o?void 0:o.join(" ")},rt=e=>{we.current.select(),Ie(!1),De(!1),Ue(!1),_e(!1)},st=async function(e,t,a){var i;let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Je(!1),Ke(""),Object(s.db)(null===t,null===a)&&(null===(i=Ae[0])||void 0===i?void 0:i.description)&&_e(!0),We(!0),De(!0);const l=await Object(S.geocodeByAddress)(e),d=await Object(S.getLatLng)(l[0]);at&&et(Object(w.d)({key:L.qe.LAT_LONG,value:d})),Ee(d),ut(e);const c=tt?ve(e,ot,it):ct(e);he(c),n||Ie(!0),o({userLat:d.lat,userLong:d.lng}),fe(!1)};Object(v.useEffect)((()=>{var e;let t=null===(e=localStorage)||void 0===e?void 0:e.getItem(C);Object(T.b)(t,Re,st)}),[]),Object(v.useEffect)((()=>{let e=null===l||void 0===l?void 0:l.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a?void 0:a.catalogs[0])!==ne})),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return"CLOSED"!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)}));qe&&ze&&t&&(null===t||void 0===t?void 0:t.length)>=1?(Ye(!1),$({type:x,value:{deliveryAddress:ze,showScheduleOrderCatering:!0,selectedStoreInfo:t[0]}})):ze&&Ye(!0)}),[l,ze,qe]),Object(v.useEffect)((()=>{}),[Te]);Object(v.useEffect)((()=>{(null===pe||void 0===pe?void 0:pe.length)>2?Ie(!ye):(Ie(!1),_e(!1),Ue(""));let e=Object(s.d)(pe,V);Ge(e)}),[pe]),Object(v.useEffect)((()=>{if(Se){const e=ct(Me);he(e),ut(Me),fe(!1)}}),[ie]);const ut=e=>{Object(s.pe)(e,K)},vt=e=>{return t=e,Object(s.jd)(JSON.parse(localStorage.getItem(K))).includes(t);var t},mt=()=>{he(""),Ie(!1),Ue(""),Re(""),Ye(!1)},bt=async(e,t)=>{Ee({lat:t.userLat,lng:t.userLong}),Je(!0);const a=ct(e);he(a),Ze(t),ut(e),Ke(e),o(t)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"delivery-module-form","data-testid":"delivery-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"login-section",children:[Object(D.jsx)("span",{className:"delivery-member-signin",children:!G&&je(d,i,c)}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(E.o)(),await r.b.BindLocation($e),Object(T.m)(),Re([]),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),o({userLat:e,userLong:t}),ke(r.b.address);const a=ct(r.b.address);he(a),st(r.b.address),fe(!0),Re([{description:r.b.address}])}Object(M.s)($,!r.b.coordinates)},className:"delivery-location-link","data-testid":"use-my-location",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:k,alt:" ",className:"location-img"}),Object(n.translateWithI18Next)(O)]})})]}),Object(D.jsxs)("div",{className:"delivery-address-section",children:[Object(D.jsx)("div",{className:"search-delivery-address",children:Object(D.jsx)("div",{className:"input-delivery-address",children:Object(D.jsx)(f.a,{value:pe,onChange:e=>{We(!1),De(!1);const t=ct(e);he(t),((e,t,a)=>{(null===e||void 0===e?void 0:e.length)<3&&(t(""),a(!1))})(e,Re,Ge),Je(!1),Ke(""),Ye(!1)},onSelect:st,searchOptions:{componentRestrictions:{country:q}},shouldFetchSuggestions:!0,onError:re,children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:o,loading:i}=e;return Object(D.jsxs)("div",{children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:F,alt:" ",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",className:"".concat(Object(s.Tc)(Object(s.id)(ye,Fe),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:Object(n.translateWithI18Next)(p),ref:we})}),pe&&Object(D.jsx)("img",{src:H,className:"clearTextIcon",onClick:mt,alt:"Clear Text Icon"}),Object(s.db)(Object(s.kc)(a),Be)?Object(D.jsx)("div",{className:"suggestion-list",children:a.map(((e,t)=>{var i;if(null!==e&&void 0!==e&&null!==(i=e.types)&&void 0!==i&&i.some((e=>z.includes(e)))){Re(a);const i=Object(s.Tc)(e.active,{backgroundColor:J,opacity:Q},{backgroundColor:X});return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",children:Object(n.translateWithI18Next)(Y)}),Object(D.jsx)("div",{style:i,children:Object(D.jsx)("div",{...o(e,{className:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(D.jsx)("div",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:Object(s.Tc)(vt(e.description),W,U),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))}):null]})}})})}),Object(D.jsx)("form",{children:ue(ge,nt,(e=>{var t;if(e.preventDefault(),qe)return Ve&&Ie(!1),void bt(pe,Xe);if(!(He&&se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt})||(null===(t=Ae[0])||void 0===t||!t.description)&&se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt}))){if(Ue(""),!xe){var a,o;const e=null===(a=Ae[0])||void 0===a?void 0:a.description;return Pe(e),(null===(o=Ae[0])||void 0===o?void 0:o.description)&&_e(!0),Ie(!1),void st(e,null===Ae||void 0===Ae?void 0:Ae.placeId,Ae,!0)}l[0]&&(De(!1),$({type:x,value:{deliveryAddress:pe,showScheduleOrderCatering:!0,selectedStoreInfo:l[0]}}))}}))})]})]}),Ve&&!nt&&Object(D.jsxs)("div",{className:"error-popup-saved-address error-popup-saved-address-map-view1",children:[Object(D.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-address",children:Object(n.translateWithI18Next)(oe)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{"data-testid":"btn-searchDifferentAddressClick",className:"button whiteButton blackBorder location-warning-button mr",onClickHandler:e=>Ye(!1),children:Object(n.translateWithI18Next)(le)}),Object(D.jsx)(N.a,{"data-testid":"btn-orderTakeawayClick",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>{e.preventDefault(),$({type:y,value:{dispositionType:de}})},children:Object(n.translateWithI18Next)(ce)})]})]}),!Ne&&Object(D.jsx)("div",{className:"my-3 store-form-separation"}),Ne||G||ye||Fe?null:Oe(dt),!ye&&G&&!Fe&&!Ne&&!Ve&&Object(D.jsx)(_,{userPositionHandler:o,startOrderFormSavedAddress:bt,allowOrderNow:Ve,onMapClickHandler:dt})]}),pe.length>0&&Object(s.db)(ye,!Fe)?Object(D.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[Object(D.jsx)(I.a,{srcFile:B,className:"location-alert-icon"}),Object(D.jsx)("div",{className:"location-error-message",children:Object(n.translateWithI18Next)(ee)}),Object(D.jsx)("div",{className:"location-error-address",children:Object(s.id)(null===(t=Ae[0])||void 0===t?void 0:t.description,pe)}),Object(D.jsxs)("div",{className:"location-error-button-section",children:[Object(D.jsx)(N.a,{className:"button whiteButton blackBorder location-warning-button mr",onClick:rt,children:Object(n.translateWithI18Next)(te)}),Object(D.jsx)(N.a,{className:"button whiteButton blackBorder location-warning-button ml","data-testid":"use-this-address",onClick:async e=>{var t;const a=se({eligibleStoreData:l,suggestedAddress:Ae,setNegativeScenarioAlert:Ue,getNegativeView:lt});pe.length>0&&ye&&a||!l[0]&&a||(null!==(t=Ae[0])&&void 0!==t&&t.description&&$({type:x,value:{deliveryAddress:Le,showScheduleOrderCatering:!0,selectedStoreInfo:Object(s.kd)(l[0])}}),De(!1))},children:Object(n.translateWithI18Next)(ae)})]})]}):Fe&&lt(),Ne?be(ye,Te,(e=>{const t=ct(e);st(t),he(t)}),Fe):null]})};function be(e,t,a,o){return Object(D.jsx)("div",{className:"delivery-map deliver-map-zoom ".concat(Object(s.Tc)(e,"pointer-disabled","")),children:Object(D.jsx)("div",{"data-testid":"view-map-div",className:"view-map",children:Object(D.jsx)(C.a,{"data-testid":"map-comp",latLongValue:t,passAddress:a,locationAlertProp:e,negativeScenarioAlertProp:o,locationAlert:e})})})}function Oe(e){return Object(D.jsx)("div",{className:"map-button-form",children:Object(D.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:e,children:[Object(D.jsx)("span",{className:"delivery-map-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:G,alt:" ",className:"map-img"})}),Object(n.translateWithI18Next)("map")]})]})})}function je(e,t,a){return Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,children:[Object(n.translateWithI18Next)(e),Object(D.jsx)("span",{onClick:t,children:Object(D.jsx)(g.a,{targetType:a.targetType,href:a.linkUrl,className:"delivery-signin-link",children:Object(n.translateWithI18Next)(a.linkText)})})]})}var pe=a(121);var he=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:o,headerText:i,modalTitleId:n="",showLocationError:l}=e;return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(pe.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:n,show:!0,classNames:"search-store-modal extra-small-modal",isNoGrid:l,showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:i,autoFocus:!0,children:o})})},ge=a(61),Ie=a(52),Se=a(30),fe=a(97),Ne=a(921),Ce=a(101);const{FavoriteUnfillImage:Te,FavoriteFillImage:Ee,GreenTickImage:xe}=x.a,De=(e,t)=>{var a,o;return"INDIA"===(null===t||void 0===t||null===(a=t.country)||void 0===a?void 0:a.toUpperCase())?"".concat((parseFloat(e)/1e3).toFixed(1)," ").concat(null===t||void 0===t||null===(o=t.storeSearch)||void 0===o?void 0:o.distanceMetrics):(parseFloat(e)/1600).toFixed(1)+" mi"};var ye=Object(ge.j)((e=>{var t,a,o,i,l;const{storeDistance:d="",addresses:c={},isOpen:r=!1,buttonData:m={},map:O={},storeName:h="",currentMarket:S,storeInfo:f={},channels:C=[],storeStatus:E={},onStoreSelectFinish:x,onClickMapHandler:y,isMapView:_,isMobile:A,isFavoriteStore:R,addToFavoriteHandler:P,removeFromFavoriteHandler:w,loggedIn:M,centerIndex:k,storeLength:F}=e,U=null===f||void 0===f||null===(t=f.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.message,{unavailibilities:H}=(null===f||void 0===f||null===(o=f.summary)||void 0===o||null===(i=o.timings)||void 0===i?void 0:i.scheduled)||{},{buttonText:W=""}=Object(s.kd)(null===m||void 0===m?void 0:m.scheduleOrderButtonData),{buttonText:B="",display:G=!1}=Object(s.kd)(null===m||void 0===m?void 0:m.orderNowButtonData),{userOrderState:V,userOrderStateDispatch:Y}=Object(v.useContext)(u.a),{SCHEDULE_ORDER_DATA:z="",SEARCH_ORDER_DATA:K="",SELECTED_TILE_DATA:q="",SCHEDULE_ORDER_TIME_DATA:J="",MENU_URL:Q,SET_DISPOSITION:X,USER_LOCALIZED:Z,CURRENT_STORE_INFO:$,SCHEDULE_ORDER_TIME_PRESERVE_TIME:ee,SET_FORCERELOAD:te}=j.a,{STORE_STATUS_CLOSED:ae}=p.a,{mapText:oe=""}=O,ie=C&&Object(T.g)(C),{services:ne=[]}=Object(s.jd)(ie[0]),{operatingHours:le=[]}=null!==E&&void 0!==E&&null!==(l=E.timings)&&void 0!==l&&l.operatingHours?E.timings:[],de=Object(T.c)(r,le,U,H),ce=Object(b.b)(),re=Object(b.c)((e=>e.profileReducer)),se=Object(b.c)((e=>e.tenantReducer)),{dispositionType:ue=localStorage.getItem("dispositionType")}=V.dispositionStateData,{allowScheduleOrder:ve}=se.componentOptions.ScheduledDeliveryComponent;let me=Object(b.c)((e=>e.appStateReducer.userStatus));const be=Object(s.Jd)(V.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):V.dispositionNew,Oe=async(t,a)=>{var o,i,n,l,d,c,r,u;t.preventDefault(),t.stopPropagation(),Object(T.l)();const{futureDates:v,scheduled:m={},asap:b}=(null===a||void 0===a||null===(o=a.summary)||void 0===o?void 0:o.timings)||{},{interval:O=0,startEndTime:j={}}=Object(s.db)(null===m||void 0===m||null===(i=m.periods)||void 0===i?void 0:i.length,m.periods[0]),{from:p,to:h}=j,{unavailibilities:g,unavailibilityType:I}=m;Object(Ce.j)(p,h,O,null===b||void 0===b?void 0:b.isAvailable,1===v.length&&"INDIA"===(null===se||void 0===se?void 0:se.country),g,I);let S={time:"ASAP",interval:null===(n=a.summary.timings.scheduled.periods[0])||void 0===n?void 0:n.interval,date:new Date,selectedTime:"ASAP"};if(null===be||be.type!==ue||be.store.id!==a.id||be.deliveryAddress!==(null===V||void 0===V||null===(l=V.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress)){let e=await Object(s.z)(a,Object(s.Ib)(ue),re.customerId,S);ce(Object(Se.m)("")),ce(Object(Se.f)({data:e,tenantId:se.tenantId}))}localStorage.setItem("renderComp",!0),Y({type:X,value:{oldvalue:be,newValue:{type:ue,store:a,date:S.date,time:S.time,interval:S.interval,selectedTime:S.selectedTime,deliveryAddress:null===V||void 0===V||null===(d=V.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress}}}),localStorage.setItem("dispositionOld",JSON.stringify(be)),localStorage.setItem("dispositionNew",JSON.stringify({type:ue,store:a,date:S.date,time:S.time,selectedTime:S.selectedTime,interval:S.interval,deliveryAddress:null===V||void 0===V||null===(c=V.scheduleOrderData)||void 0===c?void 0:c.deliveryAddress})),Object(s.if)();const f={storeID:null===a||void 0===a?void 0:a.id,disposition:ue,postCode:null===a||void 0===a||null===(r=a.addresses[0])||void 0===r||null===(u=r.address)||void 0===u?void 0:u.pinCode};x(f),Y({type:K,value:{showSearchStore:!1}}),Y({type:Z,value:{isLocalized:!0}}),((t,a)=>{let o=Object(s.Tc)(t,t,null);Y({type:q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),Y({type:$,value:o}),ce(Object(fe.a)({...me,localized:!0})),Y({type:J,value:{selectedDateTime:a}}),Y({type:ee,value:{selectContentTime:"ASAP"}}),Y({type:te,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(se)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",ue),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP");const i=localStorage.getItem(L.gd.SET_LOCATION);setTimeout((()=>{!V.fromPdpPage&&!i&&e.history.push({pathname:"".concat(Q)})}),500)})(a,S)},je=(e,t)=>{var a,o,i;console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),e.preventDefault(),e.stopPropagation(),Y({type:Z,value:{isLocalized:!0}}),Y({type:z,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}}),Y({type:K,value:{showSearchStore:!1}});const{futureDates:n,scheduled:l={},asap:d}=(null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings)||{},{interval:c=0,startEndTime:r={}}=Object(s.db)(null===l||void 0===l||null===(o=l.periods)||void 0===o?void 0:o.length,null===l||void 0===l||null===(i=l.periods)||void 0===i?void 0:i[0])||{},{from:u,to:v}=r,{unavailibilities:m,unavailibilityType:b}=l;Object(Ce.j)(u,v,c,null===d||void 0===d?void 0:d.isAvailable,1===(null===n||void 0===n?void 0:n.length)&&"INDIA"===(null===se||void 0===se?void 0:se.country),m,b),Object(T.k)(),(e=>{let t=Object(s.Tc)(e,e,null);Y({type:q,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),Y({type:$,value:t})})(t)},pe=Object(Ne.a)(f),he=Object(D.jsxs)("div",{className:"store-card ".concat(Object(s.db)(_,!A)?"store-card-map-view":"store-card-mobile-view"),style:(()=>{if(_&&A)return{margin:"0",position:"absolute","max-height":"325px",bottom:"0"}})(),"data-testid":"store-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(_&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:h})}),Object(D.jsx)("span",{className:"store-distance",children:De(d,se)})]}),_&&Object(D.jsx)("span",{className:"store-index",children:"".concat(k+1," of ").concat(F)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(ge=ne,!!Object(s.Kd)(ge)&&ge.map(((e,t)=>{const{PICK_UP:a,TAKE_AWAY:o}=p.a;return Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:xe,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:e===a?Object(n.translateWithI18Next)(o):e})]},t)})))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(s.Wb)(c)}),!_&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>y(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:oe})})]}),Object(D.jsxs)("div",{className:"info-timing ".concat(!r&&"info-timingClosed"),children:[r?"":Object(D.jsx)("span",{children:Object(n.translateWithI18Next)(ae)}),Object(D.jsx)("span",{className:"".concat(!r&&"list-circle"),children:de})]}),Object(D.jsx)("div",{className:"facilities",children:pe&&pe.map((e=>Object(D.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))})]}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2 searchstoreBtn",children:[M?R&&Object(D.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Ee,alt:"favorite",className:"favorite-img",onClick:()=>w()})||Object(D.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Te,alt:"favorite",className:"favorite-img",onClick:()=>P()}):"",G&&r&&Object(D.jsx)(N.a,{"data-testid":"order-now",className:"button redButton search-store-card-btn ".concat(_&&!A?"cardMapView":null),onClickHandler:e=>Oe(e,f),children:B}),ve&&Object(D.jsx)(N.a,{"data-testid":"schedule-order",className:"button whiteButton blackBorder search-store-card-btn schedule-order-btn ".concat(Object(s.db)(_,!A)?"cardMapView":null),onClickHandler:e=>je(e,f),children:W})]})]});var ge;return S!==p.a.COUNTRY_CODE_INDIA||r?he:null})),_e=a(11),Ae=a(4);const{FavoriteUnfillImage:Re,FavoriteFillImage:Le,GreenTickImage:Pe}=x.a,{BROWSE_MENU:we,PICK_UP:Me,TAKE_AWAY:ke,STORE_STATUS_CLOSED_CAPS:Fe,STORE_STATUS_CLOSED:Ue,INDIA:He}=p.a,We=e=>e===Me?ke:e,Be=(e,t)=>{if(e&&t)return{"max-height":"325px",margin:"0",position:"absolute",bottom:"0"}};var Ge=Object(ge.j)((e=>{var t,a,o,i,l,d,c,r,m,O,p,h;const{key:S="",storeName:f="",storeDistance:C="",orderTypes:x=[],addresses:y={},storeStatus:_={},onClickMapHandler:A,isMapView:R,isMobile:P,isFavoriteStore:w,addToFavoriteHandler:M,removeFromFavoriteHandler:k,map:F,loggedIn:U,storeInfo:H={},centerIndex:W,storeLength:B,onStoreSelectFinish:G}=e,V=((e,t)=>{var a,o,i,n,l;if((null===e||void 0===e||null===(a=e.timings)||void 0===a||null===(o=a.operatingHours[0])||void 0===o?void 0:o.day)===L.cc)return null===(i=e.timings)||void 0===i||null===(n=i.operatingHours[0])||void 0===n||null===(l=n.availableHours)||void 0===l?void 0:l.from;{var d;const a=null===e||void 0===e||null===(d=e.timings)||void 0===d?void 0:d.operatingHours,o=Object(_e.E)(null===e||void 0===e?void 0:e.timeZone,t).toLowerCase();let i=0,n=[],l=[];var c,r,u,v;return null===a||void 0===a||a.forEach(((e,t)=>{var a;(null===e||void 0===e||null===(a=e.day)||void 0===a?void 0:a.toLowerCase())===o&&(i=t,l.push(e))})),null!==l&&void 0!==l&&l.length&&(null===l||void 0===l||l.forEach((t=>{var a;const o=Object(s.D)(null===e||void 0===e?void 0:e.timeZone,L.sb.HHmm);Object(s.Ze)(null===t||void 0===t||null===(a=t.availableHours)||void 0===a?void 0:a.from)>o&&n.push(t)}))),null!==n&&void 0!==n&&n.length?null===(c=n[0])||void 0===c||null===(r=c.availableHours)||void 0===r?void 0:r.from:null===(u=a[i<(null===a||void 0===a?void 0:a.length)-1?i+1:i])||void 0===u||null===(v=u.availableHours)||void 0===v?void 0:v.from}})(_,L.Of),Y=V,z=null===_||void 0===_||null===(t=_.timings)||void 0===t||null===(a=t.scheduled)||void 0===a?void 0:a.unavailibilities,K=null===_||void 0===_||null===(o=_.status)||void 0===o?void 0:o.message,{mapText:q=""}=Object(s.kd)(F),{MENU_URL:J,SEARCH_ORDER_DATA:Q,CURRENT_STORE_INFO:X,DISPOSITION_DATA:Z,USER_LOCALIZED:$,SCHEDULE_ORDER_DATA:ee="",SELECTED_TILE_DATA:te=""}=j.a,{userOrderState:ae,userOrderStateDispatch:oe}=Object(v.useContext)(u.a);let ie=Object(b.c)((e=>e.appStateReducer.userStatus));const ne=Object(b.c)((e=>e.tenantReducer)),le=Object(b.b)(),{futureDates:de,scheduled:ce,asap:re}=Object(s.kd)(null===H||void 0===H||null===(i=H.summary)||void 0===i?void 0:i.timings),{unavailibilities:se,unavailibilityType:ue}=Object(s.kd)(ce),{interval:ve=0,startEndTime:me={}}=Object(s.kd)((null===ce||void 0===ce||null===(l=ce.periods)||void 0===l?void 0:l.length)&&(null===ce||void 0===ce?void 0:ce.periods[0])),{from:be,to:Oe}=Object(s.kd)(me),{dispositionType:je=localStorage.getItem("dispositionType")}=ae.dispositionStateData,pe=Object(s.Jd)(ae.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):ae.dispositionNew,he=()=>{var e;return Object(Ce.j)(be,Oe,ve,null===re||void 0===re?void 0:re.isAvailable,1===de.length&&(null===ne||void 0===ne||null===(e=ne.country)||void 0===e?void 0:e.toUpperCase())===He,se,ue)},ge=(e,t)=>{var a,o,i,n;e.preventDefault(),e.stopPropagation(),console.log("{{ }} schedule order button click",{event:e,store:t,module:null===t||void 0===t?void 0:t.module}),oe({type:$,value:{isLocalized:!0}}),oe({type:Q,value:{showSearchStore:!1}}),oe({type:ee,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t}});const{futureDates:l,scheduled:d,asap:c}=null===t||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timings,{interval:r=0,startEndTime:s={}}=(null===d||void 0===d||null===(o=d.periods)||void 0===o?void 0:o.length)&&(null===d||void 0===d?void 0:d.periods[0]),{from:u,to:v}=s;Object(Ce.j)(u,v,r,null===c||void 0===c?void 0:c.isAvailable,1===l.length&&"INDIA"===(null===ne||void 0===ne?void 0:ne.country),se,ue),Object(T.k)(),(e=>{let t=e||null;oe({type:te,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(t)),oe({type:X,value:t})})(t);const m={storeID:null===t||void 0===t?void 0:t.id,disposition:je,postCode:null===t||void 0===t||null===(i=t.addresses[0])||void 0===i||null===(n=i.address)||void 0===n?void 0:n.pinCode};G(m)},Ie=e=>he().length?"Today":"Tomorrow",Se=Object(Ne.a)(H);return Object(D.jsxs)("div",{className:"store-card ".concat(R&&!P?"store-card-map-view":"store-card-mobile-view"),style:Be(R,P),"data-testid":"closed-card",id:"map-store-card",children:[Object(D.jsxs)("div",{className:"d-flex",children:[Object(D.jsxs)("div",{className:"store-dist-container ".concat(R&&"map-view"),children:[Object(D.jsx)("div",{className:"store-name-container",children:Object(D.jsx)("span",{className:"card-store-name",children:f})}),Object(D.jsx)("span",{className:"store-distance",children:De(C,ne)})]}),R&&Object(D.jsx)("span",{className:"store-index",children:"".concat(W+1," of ").concat(B)})]}),Object(D.jsxs)("div",{className:"card-content",children:[Object(D.jsx)("div",{className:"order-items",children:(Te=x,Te.map(((e,t)=>Object(D.jsxs)("div",{className:"store-order-options",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:Pe,alt:"tick",className:"tick-image"})}),Object(D.jsx)("span",{children:We(e)})]},t))))}),Object(D.jsxs)("div",{className:"w-100",children:[Object(D.jsx)("span",{className:"store-address",children:Object(s.Wb)(y)}),!R&&Object(D.jsx)("span",{className:"map-link","data-testid":"map-handler",onClick:()=>A(),children:Object(D.jsx)(g.a,{className:"card-map-link",children:q})})]}),Object(D.jsx)("div",{className:"info-timingClosed",children:Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:Object(s.fb)((null===(d=_.status)||void 0===d?void 0:d.currentStatus)===Fe,0===(null===_||void 0===_||null===(c=_.timings)||void 0===c||null===(r=c.scheduled)||void 0===r||null===(m=r.periods)||void 0===m?void 0:m.length))?Object(D.jsx)("span",{className:"closed-text",children:Ue}):""}),Object(D.jsx)("li",{children:(null===z||void 0===z?void 0:z.length)>0&&Object(_e.R)(null===(O=z[0])||void 0===O?void 0:O.to,"HH MM","HH:MM")<=Object(_e.R)(Oe,"HH MM","HH:MM")?(()=>{var e,t,a,o,i,n;return K===L.Hc?"Open Today ".concat((null===(e=z[0])||void 0===e?void 0:e.from)&&Object(_e.R)(null===(t=z[0])||void 0===t?void 0:t.from,"hh mm","hh:mm a")):K===L.Ic?"Open ".concat(Ie(null===(a=_.timings)||void 0===a||null===(o=a.scheduled)||void 0===o||o.date)," ").concat(Y&&Object(_e.R)(Y,"hh mm","hh:mm a")):"Open Today ".concat((null===(i=z[0])||void 0===i?void 0:i.to)&&Object(_e.R)(null===(n=z[0])||void 0===n?void 0:n.to,"hh mm","hh:mm a"))})():"Open ".concat(Ie(null===(p=_.timings)||void 0===p||null===(h=p.scheduled)||void 0===h||h.date)," ").concat(Y&&Object(_e.R)(Y,"hh mm","hh:mm a"))})]})}),Object(D.jsx)("div",{className:"facilities",children:Se&&Se.map((e=>Object(D.jsx)(I.a,{"data-testid":"",srcFile:e.image,alt:e.label||"",className:"facility-img",title:e.label},e.key)))}),Object(D.jsxs)("div",{className:"w-100 d-flex mt-2",children:[U&&(w?Object(D.jsx)(I.a,{"data-testid":"favorite-img",srcFile:Le,alt:"favorite",className:"favorite-img",onClick:()=>k()}):Object(D.jsx)(I.a,{"data-testid":"unfavorite-img",srcFile:Re,alt:"favorite",className:"favorite-img",onClick:()=>M()})),0===he().length?Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn","data-testid":"browser-menu-closed-store",onClickHandler:()=>{var t,a;const o={storeID:null===H||void 0===H?void 0:H.id,disposition:null===H||void 0===H?void 0:H.service,postCode:null===H||void 0===H||null===(t=H.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};Object(E.y)(o),Object(s.jf)(H,oe,pe,je),le(Object(fe.a)({...ie,localized:!0})),Object(s.if)(),oe({type:Z,value:{showDisposition:!1}}),oe({type:Q,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(J)})},children:Object(n.translateWithI18Next)(we)}):Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn schedule-btn","data-testid":"schedule-order-closed-store",onClickHandler:e=>ge(e,H),children:Object(n.translateWithI18Next)(Ae.a.SCHEDULE_ORDER_BTN)})]})]})]},S);var Te})),Ve=a(342),Ye=a(55);const{Error:ze,LocationImage:Ke,MapImage:qe,Union:Je,GoogleMapLocationImage:Qe,SuggestionItemSearchPin:Xe,Time_Clock:Ze,SuccessImg:$e}=x.a,et=e=>!0===e?"store-count-title fav-store savedKFC":"store-count-title active-tab fav-store savedKFC",tt=(e,t)=>e&&t?"store-count-title active-tab savedKFC":e&&!t?"store-count-title savedKFC":e?void 0:"store-count-title  guest-color",at=e=>{var t,a,o;return(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(o=a.catalogs)||void 0===o?void 0:o.length)>0},ot=e=>e?Je:qe,it=e=>{let t=document.querySelector(".searchStore-module-form .store-count a.store-location-link");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()};var nt=Object(ge.j)((e=>{var t;const{formContent:a={},storeData:o=[],eligibleStoreData:i=[],favoriteStoreData:l=[],userPositionHandler:c,singInClickhandler:O,currentMarket:x,storeCardLimit:y=1/0,onStoreSelectFinish:_,handleGoBack:A,noStoresList:P,favoriteStoreHandler:w}=e,{memberText:k="",singInLink:F={},currentLocationText:U="",addressBoxPlaceHolderForSearchStore:H="",mapText:W=""}=a,{MIN_SEARCH_CHARACTER_LIMIT:B,SUUGESTED_ITEMS_TEXT:G,ALLOWED_SUGGESTION_LIST:V,ALREADY_SERACHED_LOCATIONS:Y,COUNTRY_CODE:z,SUGGESTION_ACTIVE_COLOR:K,SUGGESTION_ACTIVE_OPACITY:q,BRAND_BLACK:J,STORE_STATUS_OPEN:Q,LIST_TEXT:X,TYPE_TAKE_WAY:Z,STORE_STATUS_CLOSED_CAPS:$,BROWSE_MENU:ee,CTA1_SEARCH_DIFF_ADDRESS:te,DINEIN_UNAVAILABLE:ae,CTA2_ORDER_TAKEAWAY:oe,TAKEAWAY_UNAVAILABLE_WITH_CTA:ie,DINE_IN_SERVICE:ne,DINE_IN:le,TYPE_DELIVERY:de,TAKE_AWAY:ce}=p.a,{DISPOSITION_METHOD:re}=j.a,{MENU_URL:se,SEARCH_ORDER_DATA:ue,CURRENT_STORE_INFO:me,DISPOSITION_DATA:be,INDIA:Oe}=j.a,{userOrderState:je}=m.a.useContext(u.a),{searchStoreData:pe={},dispositionStateData:he={},scheduleOrderData:ge={}}=je,{dispositionType:Se=localStorage.getItem("dispositionType")}=he,[fe,Ne]=m.a.useState(""),[Te,Ee]=Object(v.useState)({}),[xe,De]=Object(v.useState)({}),[_e,Ae]=Object(v.useState)(!1),[Re,Le]=Object(v.useState)(!1),[Pe,we]=m.a.useState([]),[Me,ke]=m.a.useState(!1),[Fe,Ue]=Object(v.useState)(null),[He,We]=Object(v.useState)(Object(s.Ud)(window.innerWidth));let Be=0;const[qe,Je]=Object(v.useState)(0),[et,nt]=Object(v.useState)(""),[ct,rt]=m.a.useState(!1),[st,ut]=m.a.useState([]),[vt,mt]=m.a.useState([]),{userOrderStateDispatch:bt}=Object(v.useContext)(u.a);let Ot,jt=0;const pt=Object(b.b)(),ht=Object(b.c)((e=>e.tenantReducer)),{tenantId:gt={},componentOptions:{web:{storeSearch:{postalCodeRemoval:It=!1}}},postalcodeRemoveRegex:St=null,specialCharRemoveRegex:ft=null}=ht||{};let Nt=0;const[Ct,Tt]=m.a.useState(!1),Et=Object(b.c)((e=>e.appStateReducer)),{isLoading:xt}=Object(b.c)((e=>Object(s.kd)(e.LoaderReducer))),{userStatus:Dt={}}=Et,{loggedIn:yt=!1}=Dt,[_t,At]=m.a.useState([]),[Rt,Lt]=m.a.useState(!0),{customerId:Pt}=Ye.a.getInstance(),[wt,Mt]=Object(v.useState)(325),[kt,Ft]=Object(v.useState)(!1),Ut=()=>{const e=Object(s.Ud)(window.innerWidth);We(e)};Object(v.useEffect)((()=>(window.addEventListener("resize",Ut),()=>{window.removeEventListener("resize",Ut)})),[He]),Object(v.useEffect)((()=>(window.addEventListener("keydown",it),()=>{window.removeEventListener("keydown",it)})));const Ht=null===(t=document.getElementById("map-store-card"))||void 0===t?void 0:t.clientHeight;Object(v.useEffect)((()=>{Ht&&wt!==Ht&&Mt(Ht)}),[Ht]);const Wt=async e=>{const t=await Object(S.geocodeByAddress)(e),a=await Object(S.getLatLng)(t[0]);Ee(a),De(a),Be=0,Vt(e),Ne(e),c({userLat:a.lat,userLong:a.lng}),ke(!1);const o=Boolean(Object(s.db)(Object(s.id)(fe,e),Object(s.db)(0===Be,0===jt)));rt(o)},Bt=()=>{localStorage.setItem("currentStoreInfo",JSON.stringify(null)),bt({type:me,value:null}),bt({type:be,value:{showDisposition:!1}}),bt({type:ue,value:{showSearchStore:!1}}),e.history.push({pathname:"".concat(se)})},Gt=(e,t,a)=>Object(D.jsx)("div",{className:"store-card",children:Se.toUpperCase()===Z?Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(N.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn",onClickHandler:zt,children:Object(n.translateWithI18Next)(a)})]}):Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:e()}),Object(D.jsx)(N.a,{"data-testid":"menupageBtn-id",className:"button whiteButton blackBorder store-card-btn dine-in-error-btn",onClickHandler:zt,children:Object(n.translateWithI18Next)(a)}),Object(D.jsx)(N.a,{"data-testid":"orderTakeaway-click-btn",className:"button whiteButton blackBorder location-warning-button ml dine-in-error-btn",onClick:e=>(e=>{e.preventDefault(),bt({type:re,value:{dispositionType:ce}}),Wt(fe)})(e),children:Object(n.translateWithI18Next)(oe)})]})});Object(v.useEffect)((()=>{if(null!==ge&&void 0!==ge&&ge.changeFlow||null===pe||void 0===pe||!pe.searchedPlaceNonLocalized){if(localStorage.getItem("searchStoreByAttribute")){let e=localStorage.getItem("searchStoreByAttribute");Ne(e),Wt(e)}}else Wt(pe.searchedPlaceNonLocalized)}),[]);Object(v.useEffect)((()=>{if(fe){let e=i.filter(at);if(e.length>0){let t=e.filter((e=>{var t,a,o,i,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===Q&&(null===(o=e.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)>0}));if(t.length>=y){let e=t.slice(0,y);we(e)}else if(t.length<y){let a=y-t.length,o=e.filter((e=>{var t,a,o,i,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(o=e.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})).slice(0,a),i=t.concat(o);we(i)}}else Be=0,we([])}else we([]),At([]),ut([]),rt(!1)}),[i,fe]),Object(v.useEffect)((()=>{if(i.length>0){w({userLat:xe.lat,userLong:xe.lng});const e=l.sort(((e,t)=>Object(T.d)(e,t))),t=null===e||void 0===e?void 0:e.filter((e=>{var t,a;return null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus}));At(t)}}),[i,l.length]),Object(v.useEffect)((()=>{if(Me){const e=It?ve(et,St,ft):et;Ne(e),Vt(et),ke(!1)}localStorage.getItem("ALREADY_SERACHED_LOCATIONS")!==fe&&(we([]),ut([]),Ue(""),At([]));let e=Object(s.d)(fe,B);Ft(e)}),[pe,fe,Me,et]);const Vt=e=>{Object(s.pe)(e,Y)},Yt=e=>{return t=e,Object(s.jd)(JSON.parse(localStorage.getItem(Y))).includes(t);var t},zt=()=>{Ne(""),At([]),we([]),ut([]),rt(!1),Ue(""),Ae(!1)},Kt=Object(v.useCallback)((async()=>{const e=await Promise.all(Pe.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ee(e)}),[Pe]),qt=Object(v.useCallback)((async()=>{const e=await Promise.all(_t.map((async e=>({lat:e.location.latitude,lng:e.location.longitude}))));Ee(e)}),[_t]),Jt=()=>{Object(T.i)(_e,Se),Ae(!_e),Le(!_e)},Qt=(e,t)=>{Ue(e),Je(t)},Xt=()=>{Kt(),Le(!0),Ue(Object(s.kd)(Pe[qe]))},Zt=async()=>{await qt(),Le(!0),Ue(Object(s.kd)(_t[qe]))};Object(v.useEffect)((()=>{((e,t,a,o)=>{let{TYPE_TAKE_WAY:i,DINE_IN:n,dispositionType:l,callSelectedStore:d,callSelectedFavStore:c}=o;e?t.length&&[i,n].indexOf(l.toUpperCase())>-1&&d():a.length&&[i,n].indexOf(l.toUpperCase())>-1&&c()})(Rt,Pe,_t,{TYPE_TAKE_WAY:Z,DINE_IN:le,dispositionType:Se,callSelectedStore:Xt,callSelectedFavStore:Zt});let e=Pe.filter((e=>{var t,a,o,i,n,l;return(null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a?void 0:a.currentStatus)===$||0===(null===(o=e.summary)||void 0===o||null===(i=o.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(l=n.periods)||void 0===l?void 0:l.length)})),t=Pe.filter((e=>{var t,a,o,i,n,l,d,c,r;const s="CLOSED"===e.summary.status.currentStatus,u=-1!==(null===e||void 0===e||null===(t=e.summary)||void 0===t||null===(a=t.status)||void 0===a||null===(o=a.message)||void 0===o?void 0:o.indexOf("EMERGENCY_SHUTDOWN")),v=-1!==(null===e||void 0===e||null===(i=e.summary)||void 0===i||null===(n=i.status)||void 0===n||null===(l=n.message)||void 0===l?void 0:l.indexOf("TECHNICAL_SHUTDOWN")),{futureDates:m,scheduled:b,asap:O}=null===e||void 0===e||null===(d=e.summary)||void 0===d?void 0:d.timings,{unavailibilities:j,unavailibilityType:p}=b,{interval:h=0,startEndTime:g={}}=b&&(null===b||void 0===b||null===(c=b.periods)||void 0===c?void 0:c.length)&&(null===b||void 0===b?void 0:b.periods[0]),{from:I,to:S}=g,f=Object(Ce.j)(I,S,h,null===O||void 0===O?void 0:O.isAvailable,1===m.length&&(null===ht||void 0===ht||null===(r=ht.country)||void 0===r?void 0:r.toUpperCase())===Oe,j,p);return(!f||0===f.length)&&s&&(u||v)}));ut(e),mt(t)}),[Pe,qe,Fe,P,le,$,Z,Se,Kt,Rt,_t]);const $t=e=>{Ue("");let t=e?qe+1:qe-1;Je(t),((e,t,a,o,i)=>{t(!0===e?Object(s.kd)(a[i]):null===o||void 0===o?void 0:o[i])})(Rt,Ue,Pe,_t,t)},ea=e=>{Lt(e)},ta=()=>{localStorage.setItem("setFav",!0),localStorage.removeItem("renderComp")},aa=e=>{ta(),pt(Object(d.w)({data:{storeId:e.id},tenantId:gt,customerId:Pt,dispatch:"dispatch"})),Tt(!0)},oa=e=>{ta(),pt(Object(d.x)({tenantId:gt,customerId:Pt,storeId:Object(s.kd)(e.id),dispatch:"dispatch"})),Tt(!1)};Object(v.useEffect)((()=>{Ct&&Ie.b.dark(Object(D.jsxs)("div",{className:"img-text-div",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:$e,alt:"success",className:"success-img"}),"Saved to your favorite store"]}),{className:"favorites",bodyClassName:"toast-for-favorite",hideProgressBar:!0,position:Ie.b.POSITION.BOTTOM_CENTER,autoClose:1e3})}),[l.length]),Object(v.useEffect)((()=>{0!==Be||0!==jt||!ct||P||xt||(Se.toUpperCase()===Z?Object(s.Kb)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(ie)):Object(s.Kb)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(ae)))}),[Be,jt,ct,P,xt]);const ia=(e,t)=>{var a,i,n,l;const d=(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===Q,c=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:r=[]}=c[0],u="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:d?Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.id)(null===e||void 0===e||null===(n=e.distance)||void 0===n?void 0:n.value,null===e||void 0===e?void 0:e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...o[0],storeInfo:e,currentMarket:x,isOpen:d,isMapView:!0,onStoreSelectFinish:_,isMobile:He,centerIndex:qe,storeLength:Object(s.Tc)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===_t||void 0===_t?void 0:_t.length)},t):Object(D.jsx)(Ge,{orderTypes:r,storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.id)(null===e||void 0===e||null===(l=e.distance)||void 0===l?void 0:l.value,null===e||void 0===e?void 0:e.distance),addresses:e.addresses,storeStatus:e.summary,onStoreSelectFinish:_,isMobile:He,isMapView:!0,storeInfo:e,mapText:W,onClick:()=>{Jt(),Kt()},...o[0],onPositionChangeHandler:$t,centerIndex:qe,storeLength:Object(s.Tc)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===_t||void 0===_t?void 0:_t.length)},u)})},na=_t.map(((e,t)=>{var a,i,n,l;if((null===(a=e.summary)||void 0===a||null===(i=a.status)||void 0===i?void 0:i.currentStatus)===Q){var d,c;const a=(null===(d=e.summary)||void 0===d||null===(c=d.status)||void 0===c?void 0:c.currentStatus)===Q;return a&&Nt++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.md)(e.distance.value),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...o[0],storeInfo:e,currentMarket:x,isOpen:a,onStoreSelectFinish:_,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{oa(e)}},t)})}if((null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)===$){Nt++;const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=a[0],n="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ge,{storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.md)(e.distance.value),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:!0,addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{oa(e)},onStoreSelectFinish:_,storeInfo:e,...o[0]},n)})}})),la=Pe.map(((e,t)=>{var a,i,n,d;if(fe||we([]),Be>=y||0===(null===(a=e.summary)||void 0===a||null===(i=a.timings)||void 0===i||null===(n=i.scheduled)||void 0===n||null===(d=n.periods)||void 0===d?void 0:d.length))return null;{var c,r;const a=(null===(c=e.summary)||void 0===c||null===(r=c.status)||void 0===r?void 0:r.currentStatus)===Q;return a&&Be++,Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(ye,{"data-testid":t,storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.md)(e.distance),channels:e.availableServicesPerChannel,storeStatus:e.summary,addresses:e.addresses,...o[0],storeInfo:e,currentMarket:x,isOpen:a,onStoreSelectFinish:_,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,t),Jt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{oa(e)}},t)})}})),da=()=>{let e=-1!==Se.toLowerCase().indexOf("dine")?ne:Se;if(Ot=Object(T.a)(e,i),Ot)return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(R,{errorMsgToShow:Ot,onClearTextHandler:zt,dispositionType:Se,handleGoBack:A})})},ca=()=>{if(Pe.length===vt.length&&vt.length>0){let e=-1!==Se.toLowerCase().indexOf("dine")?ne:Se,t=Object(T.a)(e,i);return Object(s.Kb)(Object(n.translateWithI18Next)(h.a.contentData.searchStoreHeaderText),Object(n.translateWithI18Next)(t)),da()}if(Pe.length===st.length&&st.length)return ra;{let e=-1!==Se.toLowerCase().indexOf("dine")?ne:Se;return Pe.length&&(Ot=Object(T.a)(e,Pe),Ot)?da():(Be<5&&la.push(ra),la)}},ra=st.map(((e,t)=>{const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=Object(s.jd)(a[0]);if(fe||we([]),jt>=y-Be)return null;{jt++;const a="".concat(e.name[0].value,"_").concat(t),n=Pe.findIndex((t=>t.id===e.id));return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ge,{storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.md)(e.distance),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,loggedIn:yt,onClickMapHandler:()=>{Qt(e,n),Jt()},isFavoriteStore:l.some((t=>t.id===e.id)),addToFavoriteHandler:()=>{aa(e)},removeFromFavoriteHandler:()=>{oa(e)},onStoreSelectFinish:_,storeInfo:e,...o[0]},a)})}})),sa=()=>{switch(Se.split("-").join(" ").toUpperCase()){case Z:return Object(n.translateWithI18Next)(ie);case le:return Object(n.translateWithI18Next)(ae);default:return null}},ua=()=>{Je(0),Jt(),((e,t,a)=>{!0===e?t():a()})(Rt,Kt,qt)};return Object(D.jsxs)(m.a.Fragment,{children:[Object(D.jsxs)("div",{className:"searchStore-module-form","data-testid":"searchstore-component",children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"store-count",children:[Object(D.jsx)("span",{className:"member-signin",children:!yt&&Object(D.jsxs)("div",{"data-id":L.qb.HEADER_SIGN_IN_ATTR_DATA_ID,"data-testid":"memberText",children:[Object(n.translateWithI18Next)(k),Object(D.jsx)("span",{onClick:O,children:Object(D.jsx)(g.a,{className:"store-signin-link",targettype:F.targetType,href:F.linkUrl,"data-testid":"store-signin-link",children:Object(n.translateWithI18Next)(F.linkText)})})]})}),Object(D.jsx)("span",{children:Object(D.jsxs)(g.a,{onClickHandler:async()=>{if(Object(E.o)(),await r.b.BindLocation(),Object(T.m)(),r.b.coordinates){const{latitude:e,longitude:t}=r.b.coordinates;r.b.addFeedback("Check coordinates ".concat(JSON.stringify(r.b.coordinates))),r.b.addFeedback("Check assignment ".concat(JSON.stringify({userLat:e,userLong:t}))),r.b.addFeedback("Check address ".concat(r.b.address)),Be=0,Ee({lat:e,lng:t}),Ae(!1),c({userLat:e,userLong:t}),rt(!0),Ne(r.b.address),nt(r.b.address),ke(!0)}Object(M.s)(bt,!r.b.coordinates)},className:"store-location-link","data-testid":"useCurrentLocation",children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:Ke,alt:"location",className:"location-img"}),Object(n.translateWithI18Next)(U)]})})]}),Object(D.jsx)("div",{className:"search-address",children:Object(D.jsx)("div",{className:"input-address",children:Object(D.jsx)(f.a,{"data-testid":"handle-select",value:fe,onChange:e=>{e||zt(),Ne(e),Object(s.kc)(e)<3&&Ft(!1)},onSelect:Wt,searchOptions:{componentRestrictions:{country:z}},shouldFetchSuggestions:!0,onError:(e,t)=>{t()},children:e=>{let{getInputProps:t,suggestions:a,getSuggestionItemProps:o,loading:i}=e;return Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"".concat(Ot||0===Be&&0===jt&&ct&&P&&!Pe.length?"search-container-data error-border":"search-container-data"),children:[Object(D.jsx)(I.a,{"data-testid":"",srcFile:Qe,alt:"googleMapLocation",className:"google-location-img"}),Object(D.jsx)("input",{"data-testid":"store-search-input",className:"store-search-input t-2",...t({placeholder:Object(n.translateWithI18Next)(H)})}),fe&&Object(D.jsx)("img",{"data-testid":"clear-text-icon",src:Ve.a,className:"clearTextIcon",onClick:()=>zt(),alt:"Clear Text Icon"})]}),!!Object(s.db)(Object(s.kc)(a),kt)&&Object(D.jsx)("div",{className:"suggestion-list","data-testid":"suggestionlist-id",children:a.map(((e,t)=>{var a;if(null!==e&&void 0!==e&&null!==(a=e.types)&&void 0!==a&&a.some((e=>V.includes(e)))){const a=e.active?{backgroundColor:K,opacity:q}:{backgroundColor:J};return Object(D.jsxs)(m.a.Fragment,{children:[0===t&&Object(D.jsx)("div",{className:"suggestion-items suggest-text",id:"suggestion-text","data-testid":"suggestion-item-".concat(t),children:Object(n.translateWithI18Next)(G)}),Object(D.jsx)("div",{style:a,children:Object(D.jsx)("div",{"data-testid":"suggestion-item-".concat(t),...o(e,{className:"suggestion-items",id:"suggestion-items"}),children:Object(D.jsxs)("div",{className:"suggested-address-alignment",children:[Object(D.jsx)("div",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:Yt(e.description)?Ze:Xe,alt:"googleMapLocation",className:"suggetion-pin",id:"suggetion-pin"})}),Object(D.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]})}return""}))})]})}})})})]}),Object(D.jsx)("div",{className:"my-3 store-form-separation margin-bottom"}),lt(fe,_e,X,Jt,Kt),Object(D.jsxs)("form",{className:"form",children:[Object(D.jsxs)("div",{className:"store-count",children:[!!Be&&Object(D.jsx)("span",{"data-testid":"tab-open-store",className:tt(yt,Rt),onClick:()=>{Je(0),ea(!0)},children:yt?Object(D.jsxs)("span",{children:[" ","".concat(Object(n.translateWithI18Next)("nearYou"))," (",Be+jt,")"]}):Object(D.jsxs)("span",{children:[Be+jt," ","".concat(Object(n.translateWithI18Next)("nearYou"))]})}),!!jt&&Pe.length===st.length&&Pe.length!==vt.length&&Object(D.jsx)("span",{"data-testid":"tab-closed-store",className:tt(yt,Rt),onClick:()=>{Je(0),ea(!0)},children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(jt,")")}),0===Be&&0===jt&&ct&&P&&Object(D.jsx)("span",{className:"store-count-title",children:"".concat(Object(n.translateWithI18Next)("nearYou")," (").concat(Be,")")}),dt(Be,jt,yt,Nt,{firstTab:Rt,setCenterIndex:Je,handleTabChange:ea}),(!!Be||!!jt)&&Pe.length!==vt.length&&Object(D.jsx)("div",{"data-testid":"togglemap-id",onClick:()=>{ua()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ot(_e),alt:"map",className:"map-img"})}),_e?Object(n.translateWithI18Next)(X):W]})}),0===Be&&0===jt&&ct&&P&&Object(D.jsx)("div",{"data-testid":"show-map-div",onClick:()=>{ua()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ot(_e),alt:"map",className:"map-img"})}),_e?Object(n.translateWithI18Next)(X):Object(n.translateWithI18Next)(W)]})})]}),_e?Object(D.jsx)("div",{className:"order-button-section",children:0===Be&&0===jt&&ct&&P&&Object(D.jsx)("div",{className:"store-card store-card-map-view-error",children:Object(D.jsxs)("div",{className:"no-store",children:[Object(D.jsx)("div",{className:"no-store-icon",children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ze,alt:"no store"})}),Object(D.jsx)("div",{className:"no-store-text",children:sa()}),Object(D.jsx)(N.a,{className:"button whiteButton blackBorder store-card-btn browse-menu-btn",onClickHandler:Bt,children:Object(n.translateWithI18Next)(ee)})]})})}):Object(D.jsxs)(D.Fragment,{children:[Object(s.db)(!xt,Object(s.db)(Rt,0!==Be||0!==jt||!ct||P||Pe.length?ca():Gt(sa,Bt,te))),yt&&!Rt&&Object(D.jsx)("div",{className:"order-button-section",children:na})]}),Object(D.jsx)("div",{className:"clearfix"})]})]}),_e&&Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"".concat((null===Se||void 0===Se?void 0:Se.toUpperCase())!==de&&"takeawayDineInMap"," delivery-map"),children:[Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(C.a,{latLongValue:Te,loadingElement:Object(D.jsx)("div",{style:{height:"100%"}}),containerElement:Object(D.jsx)("div",{style:{height:"400px"}}),mapElement:Object(D.jsx)("div",{style:{height:"100%"}}),passAddress:e=>{Ne(e)},isVisible:Se.toUpperCase()===Z||Se.toUpperCase()===le,isMobile:He,centerIndex:qe,onPositionChangeHandler:$t,setShowCard:Le,setStoreMarker:Object(s.Tc)(Rt,(e=>{const t=Pe.findIndex((t=>t.location.latitude===e.lat()&&t.location.longitude===e.lng()));t>-1&&(qe===t&&Xt(),Je(t))}),(e=>{((e,t,a,o,i)=>{const n=e.findIndex((e=>e.location.latitude===o.lat()&&e.location.longitude===o.lng()));n>-1&&(i===n&&t(),a(n))})(_t,Zt,Je,e,qe)})),storeCardHeight:wt}),Re&&Fe&&He?!Ot&&ia(Fe,"Selected-Card"):null]}),Re&&Fe&&!He?Object(s.db)(Pe.length===st.length,Rt)&&!Ot&&((e,t)=>{const a=e.availableServicesPerChannel&&Object(T.g)(e.availableServicesPerChannel),{services:i=[]}=Object(s.jd)(a[0]),n="".concat(e.name[0].value,"_").concat(t);return Object(D.jsx)(m.a.Fragment,{children:Object(D.jsx)(Ge,{storeName:Object(s.md)(e.name[0].value),storeDistance:Object(s.md)(e.distance),orderTypes:i,addresses:e.addresses,storeStatus:e.summary,mapText:W,isMobile:He,isMapView:!0,onStoreSelectFinish:_,onClick:()=>{Jt(),Kt()},storeInfo:e,...o[0],centerIndex:qe,storeLength:Object(s.Tc)(Rt,null===Pe||void 0===Pe?void 0:Pe.length,null===_t||void 0===_t?void 0:_t.length)},n)})})(Fe,"Selected-Card")||ia(Fe,"Selected-Card"):""]})})]})}));function lt(e,t,a,o,i){return Object(D.jsx)(D.Fragment,{children:(null===e||void 0===e?void 0:e.length)<=3&&Object(D.jsxs)("div",{className:"enter-your-address-section",children:[Object(D.jsx)("span",{className:"search-store-text",children:Object(n.translateWithI18Next)("pleaseEnterLocation")}),Object(D.jsx)("div",{"data-testid":"show-list-map",className:Object(s.Tc)(t,"store-count","show-map-div"),onClick:()=>{t&&o(),i()},children:Object(D.jsxs)(g.a,{className:"map-link",children:[Object(D.jsx)("span",{children:Object(D.jsx)(I.a,{"data-testid":"",srcFile:ot(t),alt:"map",className:"map-img"})}),Object(s.Tc)(t,Object(n.translateWithI18Next)(a),Object(n.translateWithI18Next)("map"))]})})]})})}function dt(e,t,a,o,i){let{firstTab:l,setCenterIndex:d,handleTabChange:c}=i;return Object(D.jsx)(D.Fragment,{children:(!!e||!!t)&&a&&Object(D.jsx)("span",{"data-testid":"tab-favorite-store",className:et(l),onClick:()=>{d(0),c(!1)},children:"".concat(Object(n.translateWithI18Next)("savedkfc")," (").concat(o,")")})})}var ct=a(956),rt=a(77),st=a(915),ut=a(111);const vt=e=>{var t;const{contentData:a={},onStoreSelectFinish:h}=e,{SEARCH_ORDER_DATA:g,DISPOSITION_DATA:I,ANALYTICS_LOCALISATION_SIGNIN:S}=j.a,f=Object(b.b)(),{COUNTRY_CODE:N,STORE_CARD_LIMIT:C,TYPE_TAKE_WAY:E,PICK_UP:y,TENANT_ID:_,TENATNT_SESSION_ID:A,TYPE_DELIVERY:R}=p.a,{userOrderState:P,userOrderStateDispatch:w}=Object(v.useContext)(u.a),{dispositionStateData:k,searchStoreData:F,showLocationConfirmModal:U}=P,{dispositionType:H=localStorage.getItem("dispositionType")}=Object(s.md)(k),{currentMarket:W=N,storeCardLimit:B=C,storeStatusUrl:G="".concat(Object(i.a)(o.Mb),"v1/stores/{storeid}/{channel}/{service}/status"),tenantID:V=_,tenantSessionID:Y=A}=F,{searchStoreHeaderText:z="",deliveryHeaderText:K="",searchStoreModalContent:q={}}=a,{formContent:J={},locationsContent:{storeData:Q=[]}}=q,[X,Z]=m.a.useState([]),[$,ee]=m.a.useState({}),[te,ae]=m.a.useState([]),[oe,ie]=m.a.useState([]),{storeSearch:ne={},tenantId:le,componentOptions:de}=Object(b.c)((e=>Object(s.kd)(e.tenantReducer))),{storesWithStatus:ce=[],isStoreStatusLoading:re=!1}=Object(b.c)((e=>Object(s.kd)(e.storesReducer))),{allStores:se=[]}=Object(b.c)((e=>e.allStoresReducer))||{},{maxDriveTimeMins:ue,distanceMetrics:ve,maxDeliveryDistanceMtrs:be,maxPickupDistanceMtrs:Oe,geohashprecision:je,boundingBoxSizeMeters:pe}=ne,ge=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),w({type:I,value:{showDisposition:!1}}),w({type:g,value:{showSearchStore:!1}})};Object(v.useEffect)((()=>{const e=e=>{27===e.keyCode&&ge(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Ie=e=>{e.stopPropagation(),e.preventDefault(),w({type:I,value:{showDisposition:!0}}),w({type:g,value:{showSearchStore:!1}})},Se=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(S,JSON.stringify(!0)),Object(T.j)(),setTimeout((()=>{Object(rt.b)()}),500)},fe=Object(b.c)((e=>{let{profileReducer:{favouriteStores:t}}=e;return t}));Object(v.useEffect)((()=>{Object(M.f)(w,U)}),[]),Object(v.useEffect)((()=>{Ne({userLat:$.userLat,userLong:$.userLong})}),[fe.length]),Object(v.useEffect)((()=>{se.length>0&&De(se)}),[se]),Object(v.useEffect)((()=>{ce.length>0&&Pe(ce)}),[ce]),Object(v.useEffect)((()=>{(null===H||void 0===H?void 0:H.toUpperCase())===R&&ye(oe)}),[oe]);const Ne=e=>{Object(ct.a)(e.userLat,e.userLong,fe,Ce)},Ce=(e,t)=>{const a=Object(s.Tc)((null===H||void 0===H?void 0:H.toUpperCase())===E,y,H),o=G.replace("{channel}",r.b.channel).replace("{service}",a).replace(" ","-"),i=Object(O.a)();Object(T.h)(e,o.toLowerCase(),V,Y||Object(O.a)(),i,Te)},Te=e=>{let t=e.map((e=>{const{additionalProperties:t=[],address:a,amenities:o,dname:i,id:n,location:l}=e.storeBasic;return{...e,id:n,location:l,name:i,amenities:o,addresses:a,additionalAttributes:t,storeBasic:{}}}));ae(t)},Ee=e=>{f(Object(l.b)()),ee({userLat:e.userLat,userLong:e.userLong}),X&&Z([]),xe(e.userLat,e.userLong),setTimeout((()=>{f(Object(l.a)())}),2e3)},xe=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:pe/1e3,geohashprecision:je},o=c.a.calculateGH(a);f(Object(d.v)(null===o||void 0===o?void 0:o.length))},De=e=>{const t=Object(s.Ib)(H.toUpperCase()),a=e.filter((e=>{var t,a;return Object(s.he)(e.id)&&Object(s.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(s.he)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)})),o={stores:a,disposition:t,distanceMetrics:ve,driveTime:ue,distanceInMtrs:Object(s.Tc)(H.toUpperCase()===R,be,Oe),noOfStores:Object(s.Tc)(H.toUpperCase()===R,2,a.length),channel:r.b.channel},i=c.a.checkAndProceed(o);ie(i),H.toUpperCase()===R?ye(i):Le(i,t)},ye=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,o;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(o=e.location)||void 0===o?void 0:o.longitude})})),Object(ct.b)(t,[{lat:$.userLat,lng:$.userLong}],_e)},_e=e=>{let{allStoreDistance:t,originAddressText:a}=e;const o=Object(s.Ib)(H.toUpperCase()),i={stores:Re(t,oe),numberOfStores:2,disposition:o,distanceMetrics:ve,driveTime:ue,channel:r.b.channel},n=c.a.getSortedNearbyStores(i);(null===n||void 0===n?void 0:n.length)>0&&Le(n,o)},Re=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),Le=(e,t)=>{const a={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:r.b.channel,service:t}))),store:e,tenantId:le,setStatusFlag:!1,isFavoritePage:!1};f(Object(d.d)(a,null))},Pe=e=>{const t=e.filter((e=>{var t,a,o,i,n,l,d,c,r,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));Z(t)},we=null===de||void 0===de||null===(t=de.web)||void 0===t?void 0:t.dispositionConfig,{CONFIG_SEARCH_SCREEN:Me}=L.gd,{configSearchScreen:ke=localStorage.getItem(Me)}=F,Fe="".concat(null===H||void 0===H?void 0:H.toUpperCase(),"_").concat(ke),{shouldShowLocationLink:Ue}={...null===ut.d||void 0===ut.d?void 0:ut.d[Fe],...null===we||void 0===we?void 0:we[Fe]},{Error_Yellow:He}=x.a||{},{LOCATION_BLOCKED_ERROR:We,KFC_URL:Be}=Ae.a,Ge=Object(s.xe)(U,Ue),Ve=Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(st.a,{show:Ge,errorMsg:Object(M.G)(We,Be),errImage:He,cssClass:"location-blocked"}),(null===H||void 0===H?void 0:H.toUpperCase())===R?Object(D.jsx)(me,{singInClickhandler:Se,formContent:J,storeData:Q,onStoreSelectFinish:h,eligibleStoreData:X,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W}):Object(D.jsx)(nt,{singInClickhandler:Se,formContent:J,storeData:Q,eligibleStoreData:X,noStoresList:re,storeCardLimit:B,userPositionHandler:Ee,currentMarket:W,onStoreSelectFinish:h,handleGoBack:Ie,favoriteStoreData:te,favoriteStoreHandler:Ne})]});return Object(D.jsx)(he,{handleClose:ge,orderModeTypeItem:Ve,showLocationError:Ge,headerText:Object(s.Tc)((null===H||void 0===H?void 0:H.toUpperCase())===R,Object(n.translateWithI18Next)(K),Object(n.translateWithI18Next)(z)),handleGoBack:Ie,modalTitleId:"search-store"})};vt.defaultProps=h.a;t.default=vt},816:function(e,t,a){"use strict";a.r(t),a.d(t,"getCaloriesPriceTemplate",(function(){return g}));var o=a(3),i=a(76),n=a(15),l=a(43),d=a(36),c=a(54),r=a(906),s=a(5),u=(a(898),a(916)),v=a(0),m=a(6),b=a(190),O=a(213),j=a(817),p=a(4),h=a(2);const g=e=>{const{calories:t,kilojoule:a,price:o,currencySymbol:i,toRenderCheckBox:n,modgrpMax:l,pricewithNumberofDecimalDigit:d}=e,c=((e,t,a,o)=>{let i=Object(s.Tc)(e<0,"-".concat(t).concat(Math.abs(e).toFixed(o)," "),"+".concat(t).concat(Math.abs(e).toFixed(o)," "));return 0!==Number(e)?Object(s.Tc)(a,i,"+".concat(t).concat(Math.abs(e).toFixed(o))):Object(s.Tc)(a,"",Object(m.translateWithI18Next)(v.qc))})(o,i,!(!n||n&&l>1),d),r=void 0!==o&&Object(h.jsx)("span",{className:"caloricInfo",children:c}),u=Object(h.jsx)("span",{className:"caloricInfo calorificWithPrice",children:" ".concat(t," ").concat(a)}),b=Object(h.jsx)("span",{className:"caloricInfo",children:" ".concat(t," ").concat(a)}),O=t?((e,t)=>Object(s.db)(void 0!==e,Object(s.kc)(t)>0))(o,c)&&u||b:Object(h.jsx)(h.Fragment,{});return Object(h.jsxs)("div",{children:[r,O]})};t.default=e=>{var t,a,v,I;const{onSaveProduct:S,imageContainerSize:f,defaultImagePath:N,selectedProduct:C,price:T,isMobile:E,cardData:x,modgrpData:D,kilojoule:y,isStoreClosed:_,customizeClickHandler:A,localized:R,showButton:L,currencySymbol:P,updateItemQuantity:w,itemCount:M,isModgrpMax:k,toRenderCheckBox:F,toRenderQuantityModifier:U,dispositionType:H,handleCateringModifierQuantity:W,itemCountShouldAtModifierLevel:B,savedCustomizedModifier:G,tenantData:V}=e,Y=null===V||void 0===V||null===(t=V.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(v=a.global)||void 0===v?void 0:v.pricewithNumberofDecimalDigit,{Selection_Customize:z}=n.a,{modgrpId:K,max:q,comboL2:J=!1,modifierLength:Q}=D,{id:X,dname:Z,isHidden:$,content:ee,modgrps:te,isExcluded:ae,defaultQuantity:oe}=x,ie=Object(s.kc)(Z)&&(null===(I=Z[0])||void 0===I?void 0:I.value),ne=null===ee||void 0===ee?void 0:ee.caloricValue,{userOrderState:le}=Object(o.useContext)(i.a),{pdpPayloadData:de}=le,{ITEM_QUANTITY:ce}=r.a,{PEROPTIONMAX_KEY:re,PEROPTIONMIN_KEY:se}=b.a,{QUANTITY_ACTION:ue}=c.a,ve=q>1?n.a.Multiselect_Check_Icon:n.a.Check_Icon,me=q>1?n.a.Multiselect_Uncheck_Icon:n.a.Selection_Checkbox_off,be=Object(s.lc)(ee,f,f),Oe=Object(s.j)([Object(s.yd)(H),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("picture",{className:"sopac-modifier-card-tick",children:[Object(h.jsx)("source",{media:"(max-width: 1023px)",srcSet:C&&!ae&&ve||me,alt:C&&!ae?"checked":""}),Object(h.jsx)("img",{src:C&&!ae&&ve||me,alt:C?"checked":""})]}),je=be?Object(h.jsx)(l.a,{defaultPath:N,srcFile:be,className:"sopac-modifier-card-image"}):Object(h.jsx)(h.Fragment,{}),pe=()=>{const e=g({comboL2:J,calories:ne,kilojoule:y,price:T,currencySymbol:P,toRenderCheckBox:F,modgrpMax:q,pricewithNumberofDecimalDigit:Y});return Object(h.jsxs)("div",{className:"sopac-modifier-card-name",tabIndex:"0",children:[Object(h.jsx)("div",{className:"title",children:ie}),ae?he():e]})},he=()=>Object(h.jsxs)("div",{className:"unavailable-container",children:[Object(h.jsx)(O.a,{src:n.a.TimerIcon,className:"unavailable-icon"}),Object(h.jsx)("div",{className:"unavailable-text",children:Object(m.translateWithI18Next)(null===p.a||void 0===p.a?void 0:p.a.CURRENTLY_UNAVAILABLE)})]}),ge=Object(s.Tc)(B,Object(s.hd)(null===x||void 0===x?void 0:x.additionalProperties,re),Object(s.hd)(null===D||void 0===D?void 0:D.additionalProperties,re)),Ie=B?Object(s.hd)(null===x||void 0===x?void 0:x.additionalProperties,se):Object(s.hd)(null===D||void 0===D?void 0:D.additionalProperties,se),Se=E&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"sopac-modifier-wrapper",children:[Object(s.j)([R,F,!_])&&Oe,pe()]}),je]}),fe=!E&&Object(h.jsxs)(h.Fragment,{children:[Object(s.j)([R,F,!_])&&Oe,je,pe()]});return!$&&Object(h.jsxs)("div",{className:"sopac-modifier ".concat(Object(s.Tc)(ae,"sopac-modifier-deactive")),children:[Object(h.jsxs)("div",{className:"sopac-modifier-card d-flex","data-testid":"click-save-product",onClick:e=>!ae&&((e,t,a,o,i)=>{Object(s.j)([t,!a,i])?o():(e.preventDefault(),e.stopPropagation())})(e,R,_,S,F),children:[Se,fe]}),L?Object(h.jsx)("div",{className:"sopac-modifier-customizeblock",children:Object(h.jsxs)(d.a,{ariaLable:"customize","data-testid":"customize-btn",className:"deepBlack font-bold customize-btn button blackBorder",disabled:!C||ae,onClick:e=>A(e,X,K),children:[Object(u.a)(x,K,de),Object(h.jsx)(l.a,{className:"customize-icon ".concat(Object(s.Tc)(!C,"disabled-icon","")),srcFile:z})]})}):null,Object(s.j)([R,U,!_,!ae])&&(Object(s.j)([Object(s.yd)(H),1===Q,0===(null===te||void 0===te?void 0:te.length)])?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"sopac-modifier-customizeblock ".concat(Object(s.db)(k,"modgrp-greyout")),children:Object(h.jsx)(j.default,{itemCount:M||0,itemQuantity:ce,updateItemQuantity:w,quantityAction:ue,item:void 0,itemName:ie,defaultQuantity:oe,maxItemCountPerLineItem:ge,cartItemCount:1,hideChild:!0,type:"button",dispositionType:H,handleQuantityForCatering:W,inputType:"number",modgrpMax:q,savedCustomizedModifier:G,minItemCountPerLineItem:Ie})}))]})}},817:function(e,t,a){"use strict";a.r(t),a.d(t,"decreaseQtyCheck",(function(){return u})),a.d(t,"getCheckItemDefalutQtyEqualStatus",(function(){return v}));a(3);var o=a(317),i=a(326),n=a(5),l=a(898),d=a(6),c=a(4),r=a(914),s=a(2);const u=(e,t,a,o,i)=>e>t&&v(e,a)||"0"===o&&e>0||o!==i&&e>1,v=(e,t)=>e!==t;t.default=e=>{const{itemQuantity:t,itemCount:a,updateItemQuantity:m,quantityAction:b,item:O,itemName:j,maxItemCountPerLineItem:p,hideChild:h=!1,type:g="",dispositionType:I,handleQuantityForCatering:S,inputType:f="",onKeyPressHandler:N=r.c,defaultQuantity:C,modgrpMax:T,savedCustomizedModifier:E,minItemCountPerLineItem:x}=e,{quantityDecreseText:D,quantityIncreaseText:y,quantityUpdateText:_}=c.a;var A="".concat(Object(d.translateWithI18Next)(D)," ").concat(j),R="".concat(Object(d.translateWithI18Next)(y)," ").concat(j);const L=Object(n.yd)(I)&&0===a?"cateringInputChangedZero":"";return Object(s.jsxs)("div",{className:"cart-food-quantity-change cart-food-quantity-change-sopac ".concat(Object(l.s)(I)),children:[u(a,t,C,x,p)?Object(s.jsx)(o.a,{className:"button quantity-decrease ".concat(0!==a&&"red-quantity-decrease"),ariaLable:A,onClickHandler:e=>m(O,b.Decrease,e),"data-testid":"quantity-minus",type:g,children:!h&&Object(s.jsx)("span",{children:"-"})}):Object(s.jsx)(o.a,{className:"button quantity-decrease ".concat(0!==a&&!v(a,t)&&"red-quantity-decrease"," ").concat(v(a,t)&&"quantity-decrease-disable"),disabled:!0,"data-testid":"quantity-minus",ariaLable:"minus",children:!h&&Object(s.jsx)("span",{children:"-"})}),Object(n.yd)(I)?Object(s.jsx)(i.a,{"aria-label":"Enter quantity",className:"quantity-input",id:"inputFocus","data-testid":"quantity-input",inputMode:"numeric",maxLength:"3",onChange:S,value:a,autocomplete:"off",inputType:f,onKeyPressHandler:N}):Object(s.jsx)("span",{className:"cart-food-quantity",children:a}),Object(s.jsx)("span",{className:"sr-only",role:"alert",children:"".concat(Object(d.translateWithI18Next)(_)," ").concat(a)}),Object(s.jsx)(o.a,{className:"transparent-btn button quantity-increase ".concat(0!==a?"red-quantity-increase":"gray-quantity-increase"," ").concat((null===E||void 0===E?void 0:E.totalQuantity)===T&&0===a&&"red-quantity-increase"," ").concat(L),ariaLable:R,"data-testid":"quantity-plus",type:g,onClickHandler:e=>m(O,b.Increase,e),disabled:!!(0!==p&&a>=p),children:!h&&Object(s.jsx)("span",{children:"+"})})]})}},818:function(e,t,a){"use strict";a.r(t),a.d(t,"RECOMMENDED_CONSTANTS",(function(){return o}));const o={RECOMMENDED_HEADER_TITLE:"We Think You\u2019ll Love These",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,BREAKPOINT:1024,FADE_CARD_INDEX:3,SLIDES_TO_SCROLL_MOBILE:1,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},PDP_RECOMMENDATIONS:{PDP_SPEED:200,PDP_SLIDES_TO_SHOW:4,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:5}}},820:function(e,t,a){"use strict";a.r(t),a.d(t,"settingsRecomendation",(function(){return F})),a.d(t,"classesBy",(function(){return U})),a.d(t,"menuCardBtnText",(function(){return H})),a.d(t,"classEnableAddToCart",(function(){return W})),a.d(t,"AddToFav",(function(){return B}));var o=a(3),i=a.n(o),n=a(36),l=a(43),d=a(54),c=a(320),r=a(900),s=a(909),u=a(910),v=a(25),m=a(76),b=(a(4),a(122)),O=a(30),j=a(5),p=a(14),h=a(190),g=a(6),I=a(907),S=a(0),f=a(15),N=a(2);const{FavouriteInActiveBlack:C,heartIcon_active_red:T,Non_veg_dot_Icon:E,Veg_dot_Icon:x}=f.a,{ADD_TO_CART_CLICK:D,MINI_PDP_DATA:y,FROMFLAGPLP:_,EDIT_CLICKED:A}=p.a,{RECOMENDATIONS:R}=d.a,{SLIDES_TO_SCROLL:L,SLIDES_TO_SHOW:P,ADD_TO_CART:w}=R,{CARD_TYPE:M}=c.o,{RESET_MODGROUP_IDS_UPDATE:k}=h.a,F=(e,t,a,o)=>({dots:!1,infinite:!1,speed:500,slidesToShow:P,slidesToScroll:L,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(N.jsx)(s.a,{clickNextCard:e}),prevArrow:Object(N.jsx)(u.a,{clickPrevCard:t}),beforeChange:(e,t)=>a(t),afterChange:(e,t)=>o(e),variableWidth:!0,responsive:S.G}),U=(e,t)=>{let a,o="button activeBtn";switch(o+=t?" blackButton":" redButton",e){case M.LARGE:a="menu-cart-button";break;case M.MEDIUM:a="medium-menu-cart-button";break;case M.SMALL:a="small-menu-cart-button";break;case M.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(o," ").concat(a)},H=e=>{let t=Object(g.translateWithI18Next)(w),a="",o=!0;return null!==e&&void 0!==e&&e.isStoreNone?(t="Store Closed",a="no-store-selected",o=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(t="Store Closed",a="store-closed",o=!1),{btnText:t,className:a,enabled:o}},W=(e,t,a,o)=>e?"".concat(U(t,a)," ").concat(H(o).className):"button btn-black medium-menu-cart-button",B=e=>{let{saveProduct:t,favItems:a,item:o}=e;return Object(N.jsx)(l.a,{srcFile:Object(j.db)(Array.isArray(a),null===a||void 0===a?void 0:a.find((e=>(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.id))))?T:C,alt:"add to favourite",className:"recomendation-item-save",onClick:t,"data-testid":"add-to-fav-image"})},G=e=>{var t,a,i,d,r,s,u,p;let{item:h,tenantData:f,storeClosedData:C}=e;const{userOrderState:T,userOrderStateDispatch:R}=Object(o.useContext)(m.a),[L,P]=Object(o.useState)(!0),[w,M]=Object(o.useState)(null),[F,U]=Object(o.useState)(0),[G,V]=Object(o.useState)(""),[Y]=Object(o.useState)(0),z=Object(v.b)();let K=Object(j.kd)(JSON.parse(localStorage.getItem("currentStoreInfo")));const q=Object(v.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),J=Object(v.c)((e=>e.cartReducer)),{isAddItemLoading:Q=!1}=Object(j.kd)(J),X=h.customizable,Z=Object(v.c)((e=>{var t;return Object(j.od)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),$=Object(v.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),ee=null===$||void 0===$?void 0:$.id,{flatResponse:{productMapById:te={},categoryMapById:ae={}}={}}=null!==(t=Object(v.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[oe,ie]=Object(o.useState)(Object(j.Ud)(window.innerWidth)),{RECOMMENDED_ITEM:ne}=S.Oc,le=()=>{const e=Object(j.Ud)(window.innerWidth),t=de(ne,e);U(t),ie(e)},de=(e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:a,ITEM_IMAGE_WIDTH_MOBILE:o,ITEM_IMAGE_HEIGHT_DESKTOP:i,ITEM_IMAGE_WIDTH_DESKTOP:n}=e;return t?{height:a,width:o}:{height:i,width:n}};Object(o.useEffect)((()=>{window.addEventListener("resize",le)}),[oe]);const ce=(e,t,a,o)=>{var i;const n=Object(j.ld)(null===(i=a[0])||void 0===i?void 0:i.price),l={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===f||void 0===f?void 0:f.currencyConversionFactor),additionalProperties:t.additionalProperties};var d,c,r;d=e,c=l,r=o,z(Object(b.a)({tenant_id:d,customer_id:r},c)),z(Object(O.v)({showProductListingModal:!1,categorySelected:""}))},re=(e,t,a)=>{var o,i,n;o=e,i=t,n=a.id,z(Object(b.b)({tenant_id:o,customer_id:i,item_id:n}))};Object(o.useEffect)((()=>{P(!0)}),[Y]);const se=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(o.useEffect)((()=>{Object(j.Wc)(se,T)&&z(Object(O.v)({showProductListingModal:!0,categorySelected:G}))}),[se]);const ue=null===h||void 0===h?void 0:h.id,ve=(null===ue||void 0===ue?void 0:ue.split("_")[0])||"",{categoryId:me=""}=null!==(a=null===te||void 0===te?void 0:te[ve])&&void 0!==a?a:{},{id:be="",name:Oe="",url:je=""}=null!==(i=null===ae||void 0===ae?void 0:ae[me])&&void 0!==i?i:{},pe=Q&&w===ue,{currencyConversionFactor:he=1,currencySymbol:ge="",tenantId:Ie="",componentOptions:{web:{global:{showPriceWithTax:Se=!1}={}}={}}={}}=f,{name:fe="",availability:Ne,shortDescription:Ce,imageName:Te,additionalProperties:Ee,content:xe}=h,De=Ce?Ce[0].value:"",{veg:ye}=Object(j.me)(null===h||void 0===h?void 0:h.additionalProperties),_e=Object(j.Cc)(Ne[0],Ee,he,Se),Ae={catId:be,catName:Oe,catUrl:je},Re=()=>{var e,t;return Boolean(null===h||void 0===h||null===(e=h.content)||void 0===e?void 0:e.caloricValue)&&Object(N.jsx)("div",{className:"medium-menu-price-and-KJ",children:Object(N.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(null===h||void 0===h||null===(t=h.content)||void 0===t?void 0:t.caloricValue," ").concat(null===f||void 0===f?void 0:f.kilojoule," ")," \xa0 "]})})},Le={id:ue,itemCounts:Y,product:{productName:h.dname,productImage:Te,productPrice:Object(j.yc)(Ne[0],null===f||void 0===f?void 0:f.currencyConversionFactor)}};return Object(N.jsxs)("div",{className:"recomendation-item-container",children:[Object(N.jsx)("div",{children:Object(N.jsx)(l.a,{"data-testid":"recomendation-item-img",className:"recomendation-item-img",alt:"",inactive:null===h||void 0===h?void 0:h.isNotAvailable,disabled:null===h||void 0===h?void 0:h.isNotAvailable,defaultPath:Object(j.Xb)(null,f,!0),srcFile:(()=>{var e;return null!==xe&&void 0!==xe&&null!==(e=xe.image)&&void 0!==e&&e.mainImage&&null!==F&&void 0!==F&&F.width&&null!==F&&void 0!==F&&F.height?Object(j.lc)(xe,F.width,F.height):Object(j.Xb)(Te,f)})()})}),Object(N.jsxs)("div",{className:"menu-card-containers",children:[Object(N.jsx)("div",{className:"recomendation-item-name",children:fe}),Object(N.jsx)("img",{className:"recomendation-item-serving-type",src:Object(j.Tc)(!ye,E,x),alt:""}),Object(N.jsxs)("span",{className:"recomendation-item-serving",children:[Object(j.Tc)(!ye,Object(g.translateWithI18Next)(null===c.o||void 0===c.o?void 0:c.o.MENU_CARD.NON_VEG),Object(g.translateWithI18Next)(null===c.o||void 0===c.o?void 0:c.o.MENU_CARD.VEG)),Boolean(null===h||void 0===h||null===(d=h.content)||void 0===d?void 0:d.serves)&&Object(N.jsx)("span",{className:"Dot"}),c.o.MENU_CARD.SERVES,Boolean(null===h||void 0===h||null===(r=h.content)||void 0===r?void 0:r.serves)&&(null===h||void 0===h||null===(s=h.content)||void 0===s?void 0:s.serves)]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"recomendation-item-product-price",children:Object(N.jsxs)("span",{children:[ge,_e]})}),Re(),Object(N.jsx)("span",{className:"recomendation-item-desc",children:null!==h&&void 0!==h&&null!==(u=h.content)&&void 0!==u&&u.shortDescription?null===h||void 0===h||null===(p=h.content)||void 0===p?void 0:p.shortDescription:De})]})]}),Object(N.jsx)("div",{className:"button-recommended",children:Object(N.jsxs)("div",{className:"cardButtonOnly-recommendation",children:[Object(N.jsxs)(n.a,{tabIndex:"1",className:W(L,"medium",pe,C),"data-testid":"add-to-cart-".concat(ue),disabled:Object(I.m)(C),onClickHandler:e=>{H(C).enabled&&((e,t,a,o)=>{const{id:i,itemCounts:n,product:l}=o,{catId:d,catName:c,catUrl:r}=a;var s,u,v,m;if(e&&e.stopPropagation(),M(i),q.localized){if(t)V(d),R({type:y,value:{id:i,flag:_,foodLineId:""}}),R({type:k}),R({type:A,value:{cartEditClicked:!0}}),z(Object(b.c)({tenantId:f.tenantId,catalogName:null===K||void 0===K||null===(s=K.summary)||void 0===s||null===(u=s.menu)||void 0===u?void 0:u.catalogs[0],itemId:i}));else if(0===n){var j;z(Object(O.a)({params:{basketId:null===J||void 0===J||null===(j=J.cartData)||void 0===j?void 0:j.id},tenantId:f.tenantId},[{Id:i,categoryId:d,quantity:n+1,modGrps:[],categoryName:c,categoryUrl:r}])),z(Object(O.u)(new Date))}}else R({type:D,value:{addToCart:!0,productItemId:i,categoryId:be,oldProduct:l,customizable:t,catalogs:null===K||void 0===K||null===(v=K.summary)||void 0===v||null===(m=v.menu)||void 0===m?void 0:m.catalogs[0],fromPdpPage:!1}})})(e,X,Ae,Le),e.preventDefault(),e.stopPropagation()},"aria-label":H(C).btnText,children:[H(C).btnText,Object(j.H)(C.isStoreClosed)]}),(null===q||void 0===q?void 0:q.loggedin)&&Object(N.jsx)(B,{saveProduct:()=>{Object(j.db)(Array.isArray(Z),null===Z||void 0===Z?void 0:Z.find((e=>(null===e||void 0===e?void 0:e.id)===(null===h||void 0===h?void 0:h.id))))?re(Ie,ee,h):ce(Ie,h,Ne,ee)},favItems:Z,item:h})]})})]})},V=e=>{var t;let{recommendRules:a,storeClosedData:n}=e;a=null===(t=a)||void 0===t?void 0:t.filter((e=>void 0!==e.name));const l=Object(v.c)((e=>e.tenantReducer)),[d,c]=Object(o.useState)(0),[s,u]=Object(o.useState)(0),[m,b]=Object(o.useState)(Object(j.Ud)(window.innerWidth)),O=()=>{const e=Object(j.Ud)(window.innerWidth);b(e)};Object(o.useEffect)((()=>{window.addEventListener("resize",O)}),[m]);const p=i.a.useRef(null);return Object(N.jsxs)("div",{className:"cart-recomendations-list-container-root",children:[Object(N.jsx)("div",{className:"cart-recomendations-list-container",children:a.length&&Object(N.jsx)(r.b,{settings:F((()=>{if(d<a.length-1){let e=0;e=d+L>a.length-P-1?a.length-P:d+L,c(e),p.current.slickGoTo(e)}return!0}),(()=>(d>0&&(c(d-L),p.current.slickGoTo(d-L)),!0)),u,c),carousalRef:p,children:a.map((e=>Object(N.jsx)(G,{item:e,tenantData:l,storeClosedData:n})))})}),!m&&Object(N.jsx)("div",{className:"cart-recomendations-slideContainer",children:Object(N.jsx)("input",{className:"cart-recomendations-slider",type:"range",min:"0",max:a.length-P,value:s,id:"myRange",onChange:e=>{u(e.target.value),p.current.slickGoTo(e.target.value)}})})]})};t.default=e=>{let{storeClosedData:t,recommendedProducts:a}=e;const o=null===a||void 0===a?void 0:a.filter((e=>!e.isHidden));return Boolean(null===o||void 0===o?void 0:o.length)&&Object(N.jsx)("div",{className:"cart-recomendations-container recommended-container-empty-cart",children:Object(N.jsxs)("div",{className:"recommendedCard-container-in",children:[Object(N.jsx)("span",{className:"cart-recomendations-title",children:Object(g.translateWithI18Next)(d.a.EMPTY_CART.SUGGESTION_TEXT)}),Object(N.jsx)(V,{recommendRules:o,storeClosedData:t})]})})}},822:function(e,t,a){"use strict";a.r(t),a.d(t,"filterStores",(function(){return Le})),a.d(t,"SearchStoreModule",(function(){return Pe}));var o=a(3),i=a.n(o),n=a(76),l=a(121),d=a(2);const c=e=>{const{handleClose:t,handleGoBack:a,orderModeTypeItem:o,headerText:n,modalTitleId:c="",className:r,backDataTestId:s}=e;return Object(d.jsx)(i.a.Fragment,{children:Object(d.jsx)(l.a,{"data-testid":"searchStoreCardModal",id:"searchStoreCard",role:"dialog",modalTitleId:c,show:!0,classNames:"".concat(r," extra-small-modal"),showCloseBtn:!0,showBackBtn:!0,closeButtonHandler:t,backButtonHandler:a,modalTitle:n,autoFocus:!0,backDataTestId:s,children:o})})};var r=i.a.memo(c),s=a(14),u=a(38),v=a(354),m=a(155),b=a(63),O=a(318),j=a(25),p=a(269),h=a(6),g=a(5),I=a(22),S=a(77),f=a(351),N=a(43),C=a(212),T=a(1006),E=a(1007),x=a(49),D=a(216),y=a(266),_=a(36),A=a(15),R=a(4),L=a(69),P=a(110);const{Error:w}=A.a,M=e=>{var t,a;const{show:o,address:i,suggestedAddress:n,onRetryClickHandler:l,onUseThisAddressHandler:c,changeAddressErrorMsgStyle:r}=e,{LOCATION_WARNING_MESSAGE:s,RETRY_BTN_TEXT:u,USE_THIS_ADDRESS_TEXT:v}=R.a,m=Object(P.b)(L.b);return o?Object(d.jsx)("div",{className:"err-container",children:Object(d.jsxs)("div",{"data-testid":"alert-locationid",className:"alert-location-popup",children:[!r&&Object(d.jsx)(N.a,{srcFile:w,className:"location-alert-icon"}),Object(d.jsx)("div",{className:(b=r,b?"location-error-message location-error-message-change-style":"location-error-message"),children:Object(h.translateWithI18Next)(s)}),Object(d.jsxs)("div",{className:"location-error-address",children:[Object(g.id)(null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.description,null!==(a=Object(O.M)(m))&&void 0!==a?a:i),";"]}),Object(d.jsxs)("div",{className:"location-error-button-section",children:[Object(d.jsx)(_.a,{className:"button whiteButton blackBorder location-warning-button mr one-line-text",onClick:l,"data-testid":"location-retry-btn",children:Object(h.translateWithI18Next)(u)}),Object(d.jsx)(_.a,{className:"button whiteButton blackBorder location-warning-button ml one-line-text","data-testid":"use-this-address",onClick:c,children:Object(h.translateWithI18Next)(v)})]})]})}):null;var b},k=i.a.memo(M),{GoogleMapLocationImage:F}=A.a,U=e=>{const{show:t=!1,suggestedAddress:a="",confirmDeliveryAddressLineHandler:n,onChangeDeliveryAddressLine:l,deliveryAddressLineVal:c,shouldEnableConfirmButton:r,apartmentDetailsRegex:s}=e,{DELIVERY_ADDRESS_LINE_LABEL:v,CONFIRM_BTN_TEXT:m,PLEASE_FILL_OUT_THIS_FIELD:b}=R.a,O=Object(P.a)(),j=Object(o.useCallback)((e=>{var t;s.test(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)&&(l(e.target.value),O(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:e.target.value})))}),[l]);return Object(d.jsx)(i.a.Fragment,{children:t?Object(d.jsxs)("div",{"data-testid":"delivery-address-line-container",className:"err-container",children:[Object(d.jsxs)("div",{className:"alert-location-popup unit-number-container",children:[Object(d.jsxs)("div",{className:"icon-with-address",children:[Object(d.jsx)(N.a,{srcFile:F,alt:" ",className:"google-location-img"}),Object(d.jsx)("span",{className:"suggested-address-unit",children:a})]}),Object(d.jsxs)("div",{className:"unit-number-input-div",children:[Object(d.jsx)("input",{"data-testid":"delivery-address-line-input",type:"text",value:c,onChange:j,required:!0,title:Object(h.translateWithI18Next)(b)}),Object(d.jsx)("label",{children:Object(h.translateWithI18Next)(v)})]})]}),Object(d.jsx)("div",{className:"text-center",children:Object(d.jsx)(_.a,{className:"button blackButton blackBorder delivery-confirm-button","data-testid":"delivery-address-line-confirm",onClick:()=>n(c),disabled:r&&!(null!==c&&void 0!==c&&c.length),children:Object(h.translateWithI18Next)(m)})})]}):null})};var H=i.a.memo(U),W=a(915),B=a(980),G=a(0),V=a(997);const Y=e=>{var t;const{showKfcCount:a,showMapLink:o,typeOfView:n,toggleView:l,kfcStoresCountText:c,kfcCount:r}=e,s=Object(j.c)((e=>{var t,a,o;return(null===(t=e.allStoresReducer)||void 0===t?void 0:t.isNearByStoresLoading)||(null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading)||(null===(o=e.storesReducer)||void 0===o?void 0:o.isFavoriteStoreStatusLoading)}));return Object(d.jsxs)(i.a.Fragment,{children:[Object(d.jsxs)("div",{className:"kfc-near-you-section",children:[a?Object(d.jsx)("div",{className:"kfc-count",children:null===(t=Object(h.translateWithI18Next)(c))||void 0===t?void 0:t.replace("%storeCount%",r)}):null,o?Object(d.jsx)("div",{className:"list-map-link-section","data-testid":"toggle-view-test",onClick:()=>l(),children:Object(d.jsxs)(C.a,{className:"list-map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(N.a,{"data-testid":"",srcFile:null===n||void 0===n?void 0:n.imageSrc,alt:"map",className:"map-img"})}),Object(h.translateWithI18Next)(null===n||void 0===n?void 0:n.text)]})}):null]}),s&&Object(d.jsx)("div",{className:"placeholder",children:Array(8).fill().map((()=>Object(d.jsx)(z,{})))})]})},z=()=>Object(d.jsxs)("div",{className:"table store-card-container",children:[Object(d.jsx)("div",{className:"loading card-title shorter-s"}),Object(d.jsx)("div",{className:"loading table-content"}),Object(d.jsx)("div",{className:"loading table-content"})]});var K=i.a.memo(Y),q=a(981),J=a(111),Q=a(61),X=a(1008),Z=a(46),$=a(331);const{Error_Yellow:ee,MapImage:te}=A.a||{},{RETAIN_ADDRESS:ae,CONFIG_SEARCH_SCREEN:oe,FROM_SCHEDULE_ORDER_CONTAINER:ie,ADDRESS_COORDS:ne}=G.gd||{},{SEARCH_ORDER_DATA:le,DISPOSITION_METHOD:de,REORDER_MODAL_OPEN:ce,REORDER_STORE_CHANGED:re,SCHEDULE_ORDER_DATA:se}=s.a||{},{MIN_SEARCH_CHARACTER_LIMIT:ue,SET_LOCATION_BUTTON_FLAG:ve,SELECTED_FAV_ADDRESS:me,FORMATTED_DELIVERY_ADDRESS:be,SELECTED_LINE_ADDRESS_VAL:Oe,IS_FAV_ADDRESS_SELECTED:je,STREET_NUMBER:pe,NON_FORMATTED_ADDRESS:he,TYPE_DELIVERY:ge}=u.a,{RETRY_BTN_TEXT:Ie,VIEW_MAP_BTN_TEXT:Se,ADDRESS_NOT_FOUND_ERROR:fe,GOOGLE_API_ERROR:Ne,LOCATION_BLOCKED_ERROR:Ce,KFC_URL:Te,PLEASE_ENTER_YOUR_LOCATION:Ee,MAP:xe}=R.a,{ENTER:De}=G.Xf.KEY_CHAR_CODE||{},{SET_LOCATION_INFO:ye}=Z.a;let _e=!1;const Ae=e=>{let{orderSummaryModalClose:t,eligibleStoresForList:a,loggedIn:o,onClickMapHandler:i,storeOpenBtnText:n,findAKFC:l,storeNumberFormat:c}=e;return Object(d.jsx)(d.Fragment,{children:t&&(null===a||void 0===a?void 0:a.map((e=>Object(d.jsx)(q.a,{store:e,loggedIn:o,onClickMapHandler:i,storeOpenBtnText:n,findAKFC:l,storeNumberFormat:c},null===e||void 0===e?void 0:e.id))))})};var Re=e=>{var t,a,i,l,c,r,s,v,m,b,p,S,f,_,R;const{userPositionHandler:w,eligibleStoreData:M,dispositionType:F,seteligibleStoreData:U,storeSelection:Y,formContent:z,eligibleFavoriteStoreData:Z,findAKFC:ce,finAKFCContentData:re={},isMobile:Re,setShowStores:Le=null,showStores:Pe=null,currentMarket:we}=e,Me=Object(o.useRef)(null),ke=Object(Q.g)(),Fe=Object(P.a)(),{userOrderState:Ue,userOrderStateDispatch:He}=Object(o.useContext)(n.a),{searchStoreData:We,scheduleOrderData:Be,setLocationClicked:Ge,showLocationConfirmModal:Ve,showNotInRadiusError:Ye,notInRadiusRestaurant:ze,orderSummaryModalClose:Ke}=Ue,{configSearchScreen:qe=localStorage.getItem(oe)}=We,Je=JSON.parse(localStorage.getItem(ie)),[Qe,Xe]=Object(o.useState)(!1),[Ze,$e]=Object(o.useState)(!1),[et,tt]=Object(o.useState)(!1),[at,ot]=Object(o.useState)(!1),[it,nt]=Object(o.useState)(!1),[lt,dt]=Object(o.useState)([]),[ct,rt]=Object(o.useState)(!1),[st,ut]=Object(o.useState)({}),[vt,mt]=Object(o.useState)(""),[bt,Ot]=Object(o.useState)(!1),[jt,pt]=Object(o.useState)(""),[ht,gt]=Object(o.useState)(""),[It,St]=Object(o.useState)({}),ft=Object(j.c)((e=>{var t,a;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t||null===(a=t.savedAddressPage)||void 0===a?void 0:a.showStateCityAddAddress})),[Nt,Ct]=Object(o.useState)({}),[Tt,Et]=Object(o.useState)(null),[xt,Dt]=Object(o.useState)(!1),yt=Object(j.c)((e=>e.appStateReducer.userStatus)),{loggedIn:_t}=Object(g.kd)(yt),{savedAddresses:At,favouriteStores:Rt}=Object(j.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),{componentOptions:Lt,savedAddressPage:Pt,useLatLngForReverseGeocode:wt,isShowDefulteMapForDelivery:Mt,isUberServiceableEnabled:kt,enableDeliveryMenuOption:Ft}=Object(j.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),Ut=G.Ye,Ht=null!==(t=null===Pt||void 0===Pt?void 0:Pt.showAddressWithApartment)&&void 0!==t&&t,Wt=null===Lt||void 0===Lt||null===(a=Lt.web)||void 0===a?void 0:a.dispositionConfig,Bt=null===Lt||void 0===Lt||null===(i=Lt.web)||void 0===i||null===(l=i.restaurantDetailPage)||void 0===l?void 0:l.storeNumberFormat,Gt=null===Lt||void 0===Lt||null===(c=Lt.web)||void 0===c||null===(r=c.dispositionConfig)||void 0===r?void 0:r.autoSelectDeliveryStore,Vt=null===Lt||void 0===Lt||null===(s=Lt.web)||void 0===s||null===(v=s.dispositionConfig)||void 0===v||null===(m=v.deliveryStores)||void 0===m?void 0:m.shouldEnableConfirmButton,Yt=null===Lt||void 0===Lt||null===(b=Lt.web)||void 0===b||null===(p=b.dispositionConfig)||void 0===p?void 0:p.apartmentDetailsRegex,zt=null===Lt||void 0===Lt||null===(S=Lt.web)||void 0===S||null===(f=S.storeSearch)||void 0===f?void 0:f.changeAddressErrorMsgStyle,Kt=void 0!==Ue.isMapViewConfirmBtnFlow&&(null===F||void 0===F?void 0:F.toUpperCase())===ge?Ue.isMapViewConfirmBtnFlow:null===Lt||void 0===Lt||null===(_=Lt.web)||void 0===_||null===(R=_.storeSearch)||void 0===R?void 0:R.isMapViewConfirmBtnFlow,{enableScheduleOrder:qt=!1}=Wt,Jt="".concat(F,"_").concat(qe),Qt=Kt&&F===ge,{placeholder:Xt,shouldShowLocationWarning:Zt,shouldShowDeliveryAddressLine:$t,shouldHandleKeyPress:ea,serviceUnavailableError:ta,shouldShowSingleStore:aa,shouldShowStoresList:oa,shouldShowKfcStoresCount:ia,shouldShowMapListToggleLink:na,kfcStoresCountText:la,shouldShowLocationLink:da,shouldPopulateFirstSuggestion:ca,storeOpenBtnText:ra,filteredTypes:sa,filterConditions:ua}={...null===J.d||void 0===J.d?void 0:J.d[Jt],...null===Wt||void 0===Wt?void 0:Wt[Jt]},{shouldShowSavedAddress:va}=(!kt||(null===F||void 0===F?void 0:F.toUpperCase())!==G.Jb.DELIVERY)&&{...null===J.d||void 0===J.d?void 0:J.d[Jt],...null===Wt||void 0===Wt?void 0:Wt[Jt]},ma=Object(P.b)(L.b),{errMsg:ba,firstBtnText:Oa,firstBtnHandler:ja,secondBtnHandler:pa,secondBtnText:ha,firstBtnClassName:ga}=ta||{},Ia=!!(ce||qt||Qt)||aa,Sa=Object(j.c)((e=>{var t,a,o,i;return Object(g.ye)(null===(t=e.storesReducer)||void 0===t?void 0:t.isGoogleDistanceLoading,null===(a=e.storesReducer)||void 0===a?void 0:a.isStoreStatusLoading,null===(o=e.storesReducer)||void 0===o?void 0:o.isFavoriteStoreStatusLoading,null===(i=e.allStoresReducer)||void 0===i?void 0:i.isNearByStoresLoading)}));kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY&&localStorage.removeItem(ae);const fa=()=>{ut({}),Qt&&rt(!1),Le(!1),$e(!0)},Na=Object(o.useCallback)((()=>{var e;Xe(!1),ut({}),St({}),nt(!1),null===Me||void 0===Me||null===(e=Me.current)||void 0===e||e.select()}),[]);Object(o.useEffect)((()=>{(null===ma||void 0===ma?void 0:ma.selectedLineValueAddress)&&gt(null===ma||void 0===ma?void 0:ma.selectedLineValueAddress)}),[ma]);const Ca=Object(o.useCallback)((e=>{Object(O.I)(ea,(null===e||void 0===e?void 0:e.keyCode)===De,Me,He);const t=Object(g.xe)(ea,(null===e||void 0===e?void 0:e.keyCode)===De,!(null!==lt&&void 0!==lt&&lt.length));Object(O.K)(ca,(null===e||void 0===e?void 0:e.keyCode)===De,lt,mt,vt);let a={showError:t,errMsg:Object(h.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:Object(h.translateWithI18Next)(Se),firstBtnCTA:Na,secondBtnCTA:fa},o={showError:t,errMsg:Object(h.translateWithI18Next)(ba),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Oa),secondBtnText:Object(h.translateWithI18Next)(ha),firstBtnCTA:null===La||void 0===La?void 0:La[ja],secondBtnCTA:null===La||void 0===La?void 0:La[pa],firstBtnClassName:ga},i=Object(g.Tc)((null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY,a,o);(null===st||void 0===st||!st.showError)&&ut(i),null!==a&&void 0!==a&&a.showError?(null===It||void 0===It||!It.showError)&&St(a):St({}),$e(!1)}),[null===st||void 0===st?void 0:st.showError,null===It||void 0===It?void 0:It.showError,Na,ea,null===lt||void 0===lt?void 0:lt.length]),Ta=async function(e,t){var a;let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];pt(e),Dt(!0),mt(e),Object(D.e)(e);const i=await Object(y.geocodeByAddress)(e),n=null===G.jf||void 0===G.jf?void 0:G.jf.some((t=>e.includes(t)));let l;if(Object(g.gf)(F,i,kt),kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY&&!o){var d;l=Nt;const e={longitude:l.lng.toString(),latitude:null===(d=l)||void 0===d?void 0:d.lat.toString()};localStorage.setItem(ne,JSON.stringify(e)),$e(!1)}else l=await Object(y.getLatLng)(i[0]);var c;null!==Wt&&void 0!==Wt&&Wt.clearDliveryTextFilter&&F===ge?null!==(c=Object(O.x)(i))&&void 0!==c&&c.long_name?(w({userLat:l.lat,userLong:l.lng}),Ct(l)):nt(!1):(w({userLat:l.lat,userLong:l.lng}),Ct(l));n&&(Fe(Object(L.d)({key:null===u.a||void 0===u.a?void 0:u.a.SELECTED_LINE_ADDRESS_VAL,value:Object(O.y)(e)})),gt(Object(O.y)(e)),Fe(Object(L.d)({key:be,value:t.replace("".concat(Object(O.y)(e),","),"")}))),Fe(Object(L.d)({key:he,value:t})),Fe(Object(L.d)({key:pe,value:null===(a=Object(O.x)(i))||void 0===a?void 0:a.long_name}))},Ea=Object(o.useCallback)((async e=>{if(e.preventDefault(),U([]),kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY&&!et){var t;Je&&localStorage.setItem(ie,!1);const e=null===Ue||void 0===Ue||null===(t=Ue.scheduleOrderData)||void 0===t?void 0:t.deliveryAddress;Wa(e,Nt),Ta(e,e)}else Ta(et,at)}),[ea,lt,w,F,at,et]);Object(o.useEffect)((()=>{we===G.fb.TH&&null!==sa&&void 0!==sa&&sa.includes("address")&&Ta(et,at)}),[sa]);const xa=Object(o.useCallback)((async(e,t,a)=>{const o=!Je&&Object(O.o)(t,ea,lt,e,F);if(tt(o),ot(e),Boolean(!(null!==Be&&void 0!==Be&&Be.changeFlow)||Qt)&&mt(e),Boolean(!Qt||Boolean(Qt&&(null===Be||void 0===Be?void 0:Be.changeFlow)))&&Ta(o,e),F===G.Jb.DELIVERY&&Mt&&t){const e=await Object(y.geocodeByAddress)(o),t=await Object(y.getLatLng)(e[0]);Ct(t),$e(a!==J.b)}}),[ea,lt,w,F,Qt,null===Be||void 0===Be?void 0:Be.changeFlow]),Da=Object(o.useCallback)((()=>{Qt&&$e(!1),nt(!1),rt($t),mt(jt),Ht&&gt(jt.includes("/")?jt.split("/")[0]:""),Ht&&Fe(Object(L.c)({key:Oe}))}),[jt,$t,Qt]),ya=Object(o.useCallback)((e=>{Object(O.z)(e,Ia,vt,ht,Le,Ze,He,Ue,Gt,F)}),[vt,Ze,Ia,ht,He]),_a=Object(o.useCallback)((()=>{Xe(!1),rt(!1),He({type:le,value:{showSearchStore:!0,configSearchScreen:J.c}}),localStorage.setItem(oe,J.c),ya(M),Boolean(ce||Ze||qt)&&Ba(Me),Boolean(ce||Ze||qt)&&Ba(Me),He({type:ye,value:{selectedDeliveryAddress:vt,deliveryAddressLineVal:ht}}),Fe(Object(L.d)({key:null===G.qe||void 0===G.qe?void 0:G.qe.REORDER_FLAG,value:{isReorderFlow:!1}}))}),[M,ya,He,Qt]),Aa=Object(o.useCallback)((()=>{var e;He({type:le,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(G.gd.CONFIG_SEARCH_SCREEN,J.a),mt(""),nt(!1),rt(!1),ut({}),Xe(!1),St({}),Le(!1),(!Qt||Mt)&&$e(!1),null===Me||void 0===Me||null===(e=Me.current)||void 0===e||e.focus(),Et(null),Dt(!1),Fe(Object(L.c)({key:be})),Fe(Object(L.c)({key:me})),Fe(Object(L.c)({key:Oe})),Fe(Object(L.c)({key:je})),gt(""),U([])}),[U,Qt]),Ra=Object(o.useCallback)((e=>{ut({}),St({}),nt(!1),rt(!1),Qt&&e.trim()&&(ot(e),tt(e)),(null===Wt||void 0===Wt?void 0:Wt.clearDliveryTextFilter)&&He({type:se,value:{showScheduleOrderCatering:!1,changeFlow:!1}}),e.trim()?mt(e):Aa(),Et(null)}),[Aa,Qt]),La=Object(o.useMemo)((()=>({focusInputBox:()=>{Me.current.select(),ut({}),St({})},gotoMenuPage:()=>{ke.push({pathname:Object(g.nc)(F,Ft)}),He({type:le,value:{showSearchStore:!1}})},switchToPickup:()=>{He({type:de,value:{dispositionType:G.Jb.PICKUP}}),He({type:le,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(oe,J.a),Aa()},openDeliveryAddressScreen:()=>{He({type:le,value:{showSearchStore:!0,configSearchScreen:J.a}}),localStorage.setItem(oe,J.a),He({type:de,value:{dispositionType:G.Jb.DELIVERY}}),Me.current.select(),ut({}),St({})}})),[ke,Aa,He]),Pa=Object(o.useCallback)((e=>{Zt||ya(e)}),[Zt,ya]),wa=Object(o.useCallback)(((e,t,a,o)=>{if((null===e||void 0===e?void 0:e.length)>0)ut({}),St({}),nt(Zt),Pa(e);else if(Object(g.xe)(null===o||void 0===o?void 0:o.length,vt,(null===F||void 0===F?void 0:F.toUpperCase())!==G.Jb.DELIVERY))ut({}),St({}),U(o);else{let e=Object(g.xe)(vt!==jt,ea,(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY),o={showError:ea,errMsg:Object(h.translateWithI18Next)(fe),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:Object(h.translateWithI18Next)(Se),firstBtnCTA:Na,secondBtnCTA:fa},i={showError:Object(g.xe)(!t,a),errMsg:Object(h.translateWithI18Next)(ba),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Oa),secondBtnText:Object(h.translateWithI18Next)(ha),firstBtnCTA:null===La||void 0===La?void 0:La[ja],secondBtnCTA:null===La||void 0===La?void 0:La[pa],firstBtnClassName:ga};Object(O.W)(e,o,i,ut)}}),[Pa,La,ta,Zt,vt,F]),{handleSelectAddress:Ma,onUseThisAddressHandler:ka,callOnAddressConfirmHandler:Fa}=Object(D.a)({handleSelectAddressGlobal:xa,onUseThisAddressHandlerGlobal:Da,onAddressSelectionGlobal:wa}),Ua=Object(o.useCallback)((async()=>{Object(O.Q)(),Object(x.o)();const e=await Object(D.b)(He,ft);if(e){pt(I.b.address),mt(I.b.address),Object(D.e)(I.b.address),dt([{description:I.b.address}]);const{longitude:e,latitude:t}=I.b.coordinates;let a=await Object(y.geocodeByAddress)(I.b.address);Object(g.gf)(F,a),w({userLat:t,userLong:e}),Ct({lat:t,lng:e}),Dt(!0)}Object(O.s)(He,!e)}),[He,w,F]),Ha=Object(o.useCallback)((e=>{Object(O.e)(e,G.Rf,dt);const t=G.fe.includes(e);ut({showError:t,errMsg:Object(h.translateWithI18Next)(Ne),errDesc:null,firstBtnText:Object(h.translateWithI18Next)(Ie),secondBtnText:null,firstBtnCTA:Na,secondBtnCTA:null})}),[Na]);Object(o.useEffect)((()=>{if(Ge){(async()=>{await Ua()})(),He({type:ve,value:{setLocationClicked:!1}})}}),[Ge]),Object(o.useEffect)((()=>{const e=(null===st||void 0===st?void 0:st.errMsg)===Object(h.translateWithI18Next)(Ne);Object(O.D)(e,_e),e&&(_e=!0)}),[null===st||void 0===st?void 0:st.showError]),Object(o.useEffect)((()=>{const e=(null===vt||void 0===vt?void 0:vt.length)>2&&Qt;Xe(e);const t=Object(g.d)(vt,ue);Ot(t)}),[vt,Qt]),Object(o.useEffect)((()=>{if(!ce){var e,t;null===Me||void 0===Me||null===(e=Me.current)||void 0===e||e.focus();const a=null===(t=localStorage)||void 0===t?void 0:t.getItem(ae);Object(O.c)(Be,We,lt,dt,Ma,a,vt)}$e(!1)}),[qe,ce]),Object(o.useEffect)((()=>{var e,t,a;kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY&&($e(!0),Et(null===Ue||void 0===Ue||null===(e=Ue.scheduleOrderData)||void 0===e?void 0:e.storeId),Ta(null===Ue||void 0===Ue||null===(t=Ue.scheduleOrderData)||void 0===t?void 0:t.deliveryAddress,null===Ue||void 0===Ue||null===(a=Ue.scheduleOrderData)||void 0===a?void 0:a.deliveryAddress,!0))}),[]),Object(o.useEffect)((()=>{Object(O.f)(He,Ve)}),[He]),Object(o.useEffect)((()=>{Qt?jt&&Fa(M,Sa,jt,Z):Fa(M,Sa,jt,Z)}),[M,Sa,jt,Z]);const Wa=(e,t)=>{const a=Object(g.Ud)(window.innerWidth);var o,i,n,l;kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY?(Ra(null===Ue||void 0===Ue||null===(o=Ue.scheduleOrderData)||void 0===o?void 0:o.deliveryAddress),dt([{description:null===Ue||void 0===Ue||null===(i=Ue.scheduleOrderData)||void 0===i?void 0:i.deliveryAddress}])):(Ra(e),dt([{description:e}]));(Ct(t),a)?null===Me||void 0===Me||null===(n=Me.current)||void 0===n||n.blur():null===Me||void 0===Me||null===(l=Me.current)||void 0===l||l.focus();Ze&&Ba(Me)},Ba=e=>{var t;let a=new KeyboardEvent("keydown",{altKey:!1,bubbles:!0,cancelBubble:!1,cancelable:!0,charCode:0,code:"Enter",composed:!0,ctrlKey:!1,currentTarget:null,defaultPrevented:!0,detail:0,eventPhase:0,isComposing:!1,isTrusted:!0,key:"Enter",keyCode:13,location:0,metaKey:!1,repeat:!1,returnValue:!1,shiftKey:!1,type:"keydown",which:13});null===e||void 0===e||null===(t=e.current)||void 0===t||t.dispatchEvent(a)},Ga=Object(o.useCallback)((e=>{$e(!0),Le(!1),Et(e)}),[]),Va=Object(o.useCallback)((()=>{Le(Ze),$e(!Ze),Object(O.E)(Ze,F)}),[Ze]),Ya=Object(g.xe)(null===At||void 0===At?void 0:At.length,_t,va,!it,!ct,!(null!==st&&void 0!==st&&st.showError)),za=!JSON.parse(Je)&&Object(g.xe)(it,null===lt||void 0===lt?void 0:lt.length,null===M||void 0===M?void 0:M.length);Object(o.useEffect)((()=>{za&&Qt&&(null!==Be&&void 0!==Be&&Be.changeFlow||kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY?_a():ka())}),[za,Qt,null===Be||void 0===Be?void 0:Be.changeFlow]);const Ka=Object(g.xe)(null===st||void 0===st?void 0:st.showError,!Sa,vt),qa=Object(g.xe)(Ve,da,!Ze),Ja=Object(O.T)(M,Rt,Ut,!Object(g.xe)(Pe,!(null!==st&&void 0!==st&&st.showError)),oa),Qa=Object(g.ye)(null===st||void 0===st?void 0:st.showError,qa,Ye,za,Ka,ct),Xa=Object(g.xe)(ia,(null===M||void 0===M?void 0:M.length)>0,!Sa,xt,!Qa),Za=Object(g.xe)(vt,(null===M||void 0===M?void 0:M.length)>0,na,!Sa,xt,!Qa),$a=Object(O.T)(M,Rt,Ut,Object(g.xe)(Pe,!(null!==st&&void 0!==st&&st.showError)),oa),eo=null!==It&&void 0!==It&&It.showError?[]:Ja,to=Ze?null===Ja||void 0===Ja?void 0:Ja.length:null===$a||void 0===$a?void 0:$a.length,ao=Object(g.ye)(Ze,!da),oo=Object(g.xe)(to,!Ze,xt),io=Object(g.ye)(Qa,Xa,Ze),no=Object(g.xe)(ce,!io,!oo);return Object(d.jsx)("div",{className:ce?"".concat(Object(g.Tc)(io,"findkfc-delivery-show-container","findkfc-delivery-hide-container")," ").concat(Qa&&"findkfc-delivery-error-container"," ").concat(Object(g.Tc)(Ze,"mapview","listview")):"selectkfc-delivery-container","data-testid":"delivery-container",children:Object(d.jsxs)("div",{className:"delivery-module-form search-store-global","data-testid":"delivery-component",children:[Object(d.jsxs)("div",{id:"search-store-global-content",className:Object(O.u)(Ve),children:[Object(d.jsx)(W.a,{show:qa,errorMsg:Object(O.G)(Ce,Te),errImage:ee,cssClass:"location-blocked"}),Object(d.jsxs)("div",{className:Object(g.Tc)(ce,"findkfc-search-store-container","selectkfc-search-store-container"),children:[Object(d.jsx)(E.a,{loggedIn:_t,formContent:z,storeSelection:Y,useCurrentLocation:Ua,hideLocationLink:ao,showLocationConfirmModal:Ve}),Object(d.jsx)(T.a,{...e,storeSelection:Y,history:ke,inputOnChange:Ra,address:vt,showAutoSuggestion:bt,setSuggestedAddress:dt,handleSelectAddress:Ma,alreadySearched:D.c,onClearTextHandler:Aa,keyPress:Ca,inputRef:Me,onSearchError:Ha,placeholder:Object(h.translateWithI18Next)(Xt),filteredTypes:sa,filterConditions:ua,showConfirmBtn:Qt,onClickHandler:Ea,confirm:Qe,isAddressNotChangable:kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY}),Object(d.jsx)("div",{className:"".concat(Object(g.Tc)(Ye,"error-can-not-deliver","hide-error-container")),children:Object(d.jsx)(W.a,{show:Ye,errorMsg:[Object(d.jsxs)("span",{className:"store-name",children:[ze," "]}),Object(h.translateWithI18Next)(u.a.CAN_NOT_DELIVER_ERROR_MSG)],errImage:A.a.Error,cssClass:"error-sub-container"})}),!Qt||Ze||za||Pe||Ka?null:Object(d.jsx)("div",{className:"map-button-form",children:Object(d.jsxs)("div",{className:"show-map-div","data-testid":"show-map-div",onClick:fa,children:[Object(d.jsx)("span",{className:"delivery-map-text",children:Object(h.translateWithI18Next)(Ee)}),Object(d.jsxs)(C.a,{className:"map-link",children:[Object(d.jsx)("span",{children:Object(d.jsx)(N.a,{"data-testid":"",srcFile:te,alt:" ",className:"map-img"})}),Object(h.translateWithI18Next)(xe)]})]})}),!Qt&&Object(d.jsx)(k,{show:za,onRetryClickHandler:Na,address:jt,onUseThisAddressHandler:ka,changeAddressErrorMsgStyle:zt}),Object(d.jsx)(H,{show:ct,suggestedAddress:vt,confirmDeliveryAddressLineHandler:_a,onChangeDeliveryAddressLine:gt,deliveryAddressLineVal:ht,shouldEnableConfirmButton:Vt,apartmentDetailsRegex:Yt}),Object(d.jsx)(B.a,{show:Ka,errorObj:st}),Object(d.jsx)(V.a,{show:Ya,savedAddresses:At,handleSelectAddress:Ma}),Object(d.jsx)(K,{showKfcCount:Xa,kfcCount:to,showMapLink:Za,typeOfView:Object(O.X)(Ze),toggleView:Va,kfcStoresCountText:la})]}),Object(d.jsxs)("div",{className:ce?"".concat(Object(g.Tc)(oo,"store-dynamic-card-container","store-no-card-container")):"selectkfc-card-container",children:[no&&Object(d.jsx)(N.a,{srcFile:Re?re.mobileImage:re.desktopImage,className:"findkfc-img"}),kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY?(e=>{var t;let{orderSummaryModalClose:a,eligibleStoresForList:o,loggedIn:i,onClickMapHandler:n,storeOpenBtnText:l,findAKFC:c,storeNumberFormat:r}=e;return Object(d.jsx)(d.Fragment,{children:a&&kt&&(null===F||void 0===F?void 0:F.toUpperCase())===G.Jb.DELIVERY&&(null===o||void 0===o||null===(t=o.filter((e=>{var t;return Object($.e)(null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.deliveryPartner)})))||void 0===t?void 0:t.map((e=>Object(d.jsx)(q.a,{store:e,loggedIn:i,onClickMapHandler:n,storeOpenBtnText:l,findAKFC:c,storeNumberFormat:r},null===e||void 0===e?void 0:e.id))))})})({orderSummaryModalClose:Ke,eligibleStoresForList:$a,loggedIn:_t,onClickMapHandler:Ga,storeOpenBtnText:ra,findAKFC:ce,storeNumberFormat:Bt}):Ae({orderSummaryModalClose:Ke,eligibleStoresForList:$a,loggedIn:_t,onClickMapHandler:Ga,storeOpenBtnText:ra,findAKFC:ce,storeNumberFormat:Bt})]})]}),Ze?Object(d.jsx)(X.a,{eligibleStores:eo,defaultStoreId:Tt,loggedIn:_t,selectedCoords:Nt,passAddress:Wa,configSearchKey:Jt,useCurrentLocation:Ua,showLocationConfirmModal:Ve,findAKFC:ce,favouriteStores:Rt,useLatLngForReverseGeocode:wt,markerDragValue:!0,...kt&&{zoomLevel:19}}):null]})})};const Le=function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=e.filter((e=>{var t,a,o,i,n,l,d,c,r,s,u,v;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v?void 0:v.asap)}));if(t){return a.filter((e=>e.summary.status.currentStatus===(null===s.a||void 0===s.a?void 0:s.a.CLOSED))).length===(null===e||void 0===e?void 0:e.length)?[]:a}return a},Pe=e=>{var t,a,l,c,f,N,C,T;const{contentData:E={},onStoreSelectFinish:x,finAKFCContentData:D={},isMobile:y=!1}=e,{SEARCH_ORDER_DATA:_,DISPOSITION_DATA:A,ANALYTICS_LOCALISATION_SIGNIN:R,SET_ELIGIBLE_STORE:w,SET_FIND_A_KFC_VIEW:M,SET_REDIRECTION_PATH:k,REORDER_MODAL_OPEN:F,FROM_REORDER_MODAL_OPEN:U,REORDER_STORE_CHANGED:H,FAV_STORE_NOT_IN_RADIUS:W}=s.a,{DELIVERY:B,PICKUP:V}=G.Jb,Y=Object(j.b)(),z=Object(P.a)(),{FORMATTED_DELIVERY_ADDRESS:K,SELECTED_LINE_ADDRESS_VAL:q,SELECTED_FAV_ADDRESS:Q,IS_FAV_ADDRESS_SELECTED:X,STREET_NUMBER:$,TYPE_DELIVERY:ee}=u.a,{userOrderState:te,userOrderStateDispatch:ae}=Object(o.useContext)(n.a),{dispositionStateData:oe,searchStoreData:ie,findAKFC:ne}=te,{dispositionType:le=localStorage.getItem(G.gd.DISPOSITION_TYPE)}=Object(g.md)(oe),{storeSearch:de={},tenantId:ce,countryCode:re=[],componentOptions:se,storelocatormaxreturncount:ue=10,ispolygonrequired:ve,savedAddressPage:me,isUberServiceableEnabled:be}=Object(j.c)((e=>Object(g.kd)(e.tenantReducer))),Oe=null===se||void 0===se||null===(t=se.web)||void 0===t||null===(a=t.storeSearch)||void 0===a?void 0:a.addPickupAndDropoffLatLngInStatusApi,{isSendEntireStoreAsPayloadInStatusApi:je=!1}=(null===se||void 0===se||null===(l=se.web)||void 0===l?void 0:l.storeSearch)||{},pe=Object(P.b)(L.b),he=null!==(c=null===me||void 0===me?void 0:me.showAddressWithApartment)&&void 0!==c&&c,{storeSelection:ge,web:Ie={}}=se,{shouldCheckDropOffAddress:Se=!1}=Ie,fe=null===se||void 0===se||null===(f=se.web)||void 0===f?void 0:f.dispositionConfig,Ne=null===se||void 0===se||null===(N=se.web)||void 0===N||null===(C=N.dispositionConfig)||void 0===C?void 0:C.enableClickCollectScheduleOrder,{currentMarket:Ce=(null===re||void 0===re||null===(T=re[0])||void 0===T?void 0:T.toUpperCase()),storeCardLimit:Te=ue,configSearchScreen:Ee=localStorage.getItem(G.gd.CONFIG_SEARCH_SCREEN)}=ie,xe="".concat(null===le||void 0===le?void 0:le.toUpperCase(),"_").concat(Ee),{modalHeaderTitle:De,shouldShowDisposition:ye,shouldShowSearchStore:_e,shouldShowClosedStore:Ae}={...null===J.d||void 0===J.d?void 0:J.d[xe],...null===fe||void 0===fe?void 0:fe[xe]},{searchStoreModalContent:Pe={}}=E,we=De,{formContent:Me={},locationsContent:{storeData:ke=[]}}=Pe,[Fe,Ue]=i.a.useState(!1),[He,We]=i.a.useState({}),[Be,Ge]=i.a.useState([]),[Ve,Ye]=i.a.useState([]),[ze,Ke]=i.a.useState([]),{maxDriveTimeMins:qe,distanceMetrics:Je,maxDeliveryDistanceMtrs:Qe,maxPickupDistanceMtrs:Xe,maxCateringDistanceMtrs:Ze,geohashprecision:$e,boundingBoxSizeMeters:et,shouldCallGoogleDistanceApi:tt,numOfStoresToShowDelivery:at,boundingBoxSizeDivider:ot}=de,{allStores:it=[],storesUpdated:nt}=Object(j.c)((e=>e.allStoresReducer))||{},{storesWithStatus:lt=[],favoriteStoresWithStatus:dt}=Object(j.c)((e=>Object(g.kd)(e.storesReducer))),ct=e=>{e.stopPropagation(),e.preventDefault(),localStorage.removeItem(G.gd.SET_CART_CLEAR),localStorage.setItem(G.gd.RENDER_COMP,!0),ae({type:A,value:{showDisposition:!1}}),ae({type:_,value:{showSearchStore:!1}}),ae({type:k,value:{redirectionOrder:""}}),ae({type:F,value:{reorderModalOpen:!1}}),ae({type:U,value:{fromReorderFlag:!1}}),ae({type:H,value:{storeChanged:!1}}),ae({type:M,value:{findAKFC:window.location.pathname===G.Ae.FIND_STORE}}),z(Object(L.c)({key:K})),z(Object(L.c)({key:Q})),!he&&z(Object(L.c)({key:q})),z(Object(L.c)({key:X})),z(Object(L.c)({key:$})),ae({type:W,value:{showNotInRadiusError:!1,notInRadiusRestaurant:""}})};Object(o.useEffect)((()=>{const e=e=>{27===e.keyCode&&ct(e)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[]);const{favouriteStores:rt,savedAddresses:st}=Object(j.c)((e=>e.profileReducer)),{localized:ut=!1}=Object(j.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus}));Object(o.useEffect)((()=>{Object(g.xe)(it.length>0,nt)&&mt(it)}),[it,nt,null===rt||void 0===rt?void 0:rt.length,He]),Object(o.useEffect)((()=>{lt.length>0&&le!==G.T&&It(lt)}),[le,lt]),Object(o.useEffect)((()=>{const e=null===dt||void 0===dt?void 0:dt.sort(((e,t)=>{var a,o,i,n;return(null===e||void 0===e||null===(a=e.distance)||void 0===a||null===(o=a.distance)||void 0===o?void 0:o.value)-(null===t||void 0===t||null===(i=t.distance)||void 0===i||null===(n=i.distance)||void 0===n?void 0:n.value)}));Ke(e)}),[dt]),Object(o.useEffect)((()=>{Object(g.xe)((null===le||void 0===le?void 0:le.toUpperCase())===B,tt)&&bt(Ve)}),[Ve]),Object(o.useEffect)((()=>()=>{Y(Object(b.u)())}),[ne,Y]);const vt=(e,t)=>{const a={lat:e,lon:t,distanceFromCurrentLoc:et/ot,geohashprecision:$e},o=m.a.calculateGH(a);Y(Object(b.v)(null===o||void 0===o?void 0:o.length))},mt=e=>{const t=Object(g.Ib)(null===le||void 0===le?void 0:le.toUpperCase());let a=e.filter((e=>{var t,a;return Object(g.he)(e.id)&&Object(g.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(g.he)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)}));Object(g.Ad)(le)&&ve&&(a=Object(O.S)(a,He));const o={stores:a,disposition:t,distanceMetrics:Je,driveTime:qe,distanceInMtrs:Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===B,Qe,Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===G.Jb.PICKUP,Xe,Ze)),noOfStores:Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===B,at,a.length),channel:I.b.channel},i=m.a.checkAndProceed(o);Ye(i),i&&((null===le||void 0===le?void 0:le.toUpperCase())===B&&tt?bt(i):(je&&(null===i||void 0===i?void 0:i.length)>ue&&i.splice(ue),pt(i,t)))},bt=e=>{let t=[];null===e||void 0===e||e.forEach((e=>{var a,o;t.push({lat:null===(a=e.location)||void 0===a?void 0:a.latitude,lng:null===(o=e.location)||void 0===o?void 0:o.longitude})})),Object(v.c)(t,[{lat:He.userLat,lng:He.userLong}],Ot)},Ot=e=>{let{allStoreDistance:t,originAddressText:a}=e;const o=Object(g.Ib)(le.toUpperCase()),i={stores:jt(t,Ve),numberOfStores:Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===G.Jb.DELIVERY,at,ue),disposition:o,distanceMetrics:Je,driveTime:qe,distanceInMtrs:Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===B,Qe,Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===G.Jb.PICKUP,Xe,Ze))},n=m.a.getSortedNearbyStores(i);(null===n||void 0===n?void 0:n.length)>0&&pt(n,o)},jt=(e,t)=>null===t||void 0===t?void 0:t.map(((t,a)=>({...t,distance:e[a]}))),pt=(e,t)=>{const a={data:Object(g.B)(e,t,null,Se,null===pe||void 0===pe?void 0:pe.latLong),store:e,tenantId:ce,setStatusFlag:!1,isFavoritePage:!1};Y(Object(b.d)(a))};Object(o.useEffect)((()=>{ht({userLat:He.userLat,userLong:He.userLong})}),[rt.length,He]);const ht=e=>{var t,a;const o=localStorage.getItem(G.gd.STORE_INFO),i=o&&void 0!==o&&JSON.parse(o),n=null!==st&&void 0!==st&&st.length?st.filter((e=>e.isPrimary)):[],l=i&&ut?i:(null===n||void 0===n?void 0:n.length)&&n[0];Object(v.a)(null===l||void 0===l||null===(t=l.location)||void 0===t?void 0:t.latitude,null===l||void 0===l||null===(a=l.location)||void 0===a?void 0:a.longitude,rt,gt)},gt=e=>{const t=Object(g.Tc)((null===le||void 0===le?void 0:le.toUpperCase())===V,G.ee,le),a=null===e||void 0===e?void 0:e.map((e=>{var t,a,o,i,n,l;return{availableServicesPerChannel:null===e||void 0===e?void 0:e.availableServicesPerChannel,distance:{distance:null===e||void 0===e?void 0:e.distance},duration:null===e||void 0===e?void 0:e.duration,id:null===e||void 0===e||null===(t=e.storeBasic)||void 0===t?void 0:t.id,name:null===e||void 0===e||null===(a=e.storeBasic)||void 0===a?void 0:a.dname,amenities:null===e||void 0===e||null===(o=e.storeBasic)||void 0===o?void 0:o.amenities,addresses:null===e||void 0===e||null===(i=e.storeBasic)||void 0===i?void 0:i.address,additionalAttributes:null===e||void 0===e||null===(n=e.storeBasic)||void 0===n?void 0:n.additionalProperties,location:null===e||void 0===e||null===(l=e.storeBasic)||void 0===l?void 0:l.location}})),o={data:Object(g.B)(a,t,null,Se,null===pe||void 0===pe?void 0:pe.latLong),store:a,tenantId:ce,setStatusFlag:!1,isFavoritePage:!1};!ne&&o.data.length&&Y(Object(b.h)(o))},It=e=>{const t=Le(e,Ne,Ae);Ge(t),ae({type:w,value:{eligibleStore:t}})},St=Object(d.jsx)(Re,{singInClickhandler:e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem(R,JSON.stringify(!0)),Object(O.O)(),Object(S.b)()},formContent:Me,storeData:ke,onStoreSelectFinish:x,eligibleStoreData:Be,storeCardLimit:Te,userPositionHandler:e=>{Y(Object(p.b)()),Y(Object(b.u)()),Oe&&z(Object(L.d)({key:G.qe.LAT_LONG,value:{lat:null===e||void 0===e?void 0:e.userLat,lng:null===e||void 0===e?void 0:e.userLong}})),We({userLat:e.userLat,userLong:e.userLong}),Be&&Ge([]),vt(e.userLat,e.userLong),setTimeout((()=>{Y(Object(p.a)())}),2e3)},currentMarket:Ce,dispositionType:null===le||void 0===le?void 0:le.toUpperCase(),seteligibleStoreData:Ge,storeSelection:ge,eligibleFavoriteStoreData:ze,findAKFC:ne,finAKFCContentData:D,isMobile:y,setShowStores:Ue,showStores:Fe}),ft=Object(d.jsx)(r,{handleClose:ct,orderModeTypeItem:St,headerText:Object(h.translateWithI18Next)(we),handleGoBack:e=>{e.stopPropagation(),e.preventDefault(),Ue(!1),be&&(null===le||void 0===le?void 0:le.toUpperCase())===ee?(ae({type:null===Z.a||void 0===Z.a?void 0:Z.a.ENABLE_ADDRESS_LOCALISATION,value:!0}),ae({type:null===Z.a||void 0===Z.a?void 0:Z.a.SHOW_MAP_VIEW_BUTTON,value:!1})):(ae({type:A,value:{showDisposition:ye}}),ae({type:_,value:{showSearchStore:_e,configSearchScreen:J.a,searchedPlaceNonLocalized:null===ie||void 0===ie?void 0:ie.searchedPlaceNonLocalized}}))},modalTitleId:"search-store",className:"search-store-global-container ".concat(Object(g.db)(Object(g.yd)(le),"catering-modal")),backDataTestId:"back-btn-global-modal-id"});return null!==te&&void 0!==te&&te.findAKFC?St:ft};Pe.defaultProps=f.a;t.default=Pe},823:function(e,t,a){"use strict";a.r(t),a.d(t,"filteredModGroups",(function(){return y}));var o=a(3),i=a.n(o),n=a(73),l=a.n(n),d=a(25),c=a(998),r=a(36),s=a(949),u=a.n(s),v=a(1e3),m=a(5),b=a(19);var O=a(30),j=a(922),p=a(76),h=a(6),g=a(54),I=a(899),S=a(903),f=a(14),N=a(913),C=a(0),T=a(2);const E=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},x=(e,t)=>{var a,o;const{setClickEvent:i,setConfirmed:n,categoryMapById:l,categoryId:d,modifiersList:c,getItemName:r,data:s,getID:v,getUpdatedPrice:j,itemCount:p,getList:h,minipdpData:I,FROMFLAGEDIT:S,dispatch:f,cartReducer:T,tenantId:E,id:x,modifierGrp:D,userOrderStateDispatch:y,confirmUpsizeName:_}=t;let A="";e.stopPropagation(),e.preventDefault(),i(e),n(!0);const{name:R="NA"}=null!==(a=null===l||void 0===l?void 0:l[d])&&void 0!==a?a:{};var L,P;(u()(c,(e=>{A+="".concat(e[0].name,", ")})),Object(N.a)({item_name:r(s.name),item_id:v(s.id),item_category:R,price:j(p,null===(o=s.availability[0])||void 0===o?void 0:o.price),item_variant:h(A),item_list_name:R,item_list_id:d,index:1,quantity:p,currency:C.p.AUD}),I.fromFlag!==S)?f(Object(O.a)({params:{basketId:(null===T||void 0===T?void 0:T.cartData)&&(null===T||void 0===T||null===(L=T.cartData)||void 0===L?void 0:L.id)},tenantId:E},[{Id:x,categoryId:d,quantity:p,modGrps:D}])):f(Object(O.y)({params:{basketId:(null===T||void 0===T?void 0:T.cartData)&&(null===T||void 0===T||null===(P=T.cartData)||void 0===P?void 0:P.id),basketLineItemId:I.foodLineId},tenantId:E},{Id:x,quantity:p,modGrps:D}));f(Object(O.u)(new Date)),y({type:g.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:x,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await b.a.registerEvent(void 0,{data:t[0]},m.xb)})(_)};var D=e=>{var t;const{data:a,categoryId:n,handleClose:l,showPriceContent:c=!0,source:s="",isModal:u,isStoreClosed:b,localized:O,catalog:N}=e,{id:C,modgrps:D,availability:y=[]}=a,{userOrderState:_,userOrderStateDispatch:A}=Object(o.useContext)(p.a),{confirmUpsizeName:R,minipdpData:L}=_,[P,w]=Object(o.useState)(D),[M,k]=Object(o.useState)([]),F=Object(d.b)(),U=Object(d.c)((e=>e.tenantReducer)),H=Object(d.c)((e=>e.cartReducer)),{cartData:W={},isAddItemLoading:B=!1}=H||{},{currencySymbol:G,tenantId:V,currencyConversionFactor:Y,maxItemCountPerLineItem:z,componentOptions:K}=U,{web:{pdp:{productCustomizationAccordionDefaultOpen:q}}}=K,{flatResponse:{categoryMapById:J={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Q,X]=Object(o.useState)(0),Z=Object(m.yc)(y[0],Y),{ADDTOCART:$,UPDATECART:ee}=j.a,{FROMFLAGEDIT:te,EDIT_CLICKED:ae}=f.a,[oe,ie]=Object(o.useState)(1),[ne,le]=Object(o.useState)(0),{ITEM_QUANTITY:de}=I.a,[ce,re]=Object(o.useState)(!1),[se,ue]=Object(o.useState)(null);Object(o.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:P})}),[P]),Object(o.useEffect)((()=>{const e=Object(m.Kd)(W)?Object(m.hc)(C,W):{},t=Object(m.Kd)(e)?e.count:0;if(le(t),L.fromFlag===te){const e=Object(m.Kd)(W)?Object(m.ic)(L.foodLineId,W):{},t=Object(m.Kd)(e)?e.count:1;ie(t)}}),[W]),Object(o.useEffect)((()=>()=>{A({type:ae,value:{cartEditClicked:!1}})}),[A,ae]);Object(o.useEffect)((()=>{ce&&!B&&l(se)}),[ce,B]),Object(o.useEffect)((()=>(window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)})));const ve=L.fromFlag===te?Object(h.translateWithI18Next)(ee):Object(h.translateWithI18Next)($),me={setClickEvent:ue,setConfirmed:re,categoryMapById:J,categoryId:n,modifiersList:M,data:a,itemCount:oe,minipdpData:L,FROMFLAGEDIT:te,dispatch:F,cartReducer:H,tenantId:V,id:C,modifierGrp:P,userOrderStateDispatch:A,confirmUpsizeName:R,getItemName:e=>e||"NA",getID:e=>e||"NA",getUpdatedPrice:(e,t)=>e*t/Y||"NA",getList:e=>e.trim()||"NA"};return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(T.jsx)("form",{className:"form",children:Object(m.Kd)(D)?Object(T.jsx)(v.a,{grouplist:D,getSelectedModifiers:e=>{let t=0,a=[];e.forEach((e=>{let o={};o.id=e[0].modgrpId,o.modifiers=[],e.forEach((e=>{let a={},i=JSON.parse(JSON.stringify(e));a.id=i.id,a.quantity=i.defaultQuantity,a.modGrps=i.modgrps,a.categoryId=n,o.modifiers.push(a);let l=Object(m.yc)(e.availability[0],Y);t+=l})),a.push(o)})),X(Z+t),w(a)},selectedModifiers:k,source:s,accordionDefaultOpen:q,isModal:u,localized:O,isStoreClosed:b,catalog:N}):null})}),c&&Object(T.jsx)("div",{className:"price-content",children:Object(T.jsxs)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:[oe?Object(T.jsx)(S.a,{itemCount:oe,itemQuantity:de,updateItemQuantity:(e,t)=>{t===g.a.QUANTITY_ACTION.Increase?ie((e=>e+1)):ie((e=>e-1))},quantityAction:g.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:z,cartItemCount:ne+1}):null,Object(T.jsxs)(r.a,{className:"button start-order-btn ".concat(B?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>x(e,me),children:[Object(T.jsx)("span",{className:"title-for-button",children:"".concat(ve)}),Object(T.jsx)("span",{className:"currency-symbol",children:"".concat(G," ").concat((be=Q,(oe*be).toFixed(2)))})]})]})})]});var be};const y=e=>{if(e){var t;let a=JSON.parse(JSON.stringify(e));return a.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),a}return{}};t.default=e=>{const{isModal:t=!0,showPriceContent:a=!0,data:o={},source:i="",isStoreClosed:n=!1,localized:r,catalog:s,categoryId:u=""}=e,{MODALHEADERTEXT:v=""}=j.a,b=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(m.Kd)(o)?y(o):y(b),g=Object(d.b)(),I=e=>{e.stopPropagation(),e.preventDefault(),g(Object(O.v)({showProductListingModal:!1,categorySelected:""}))},S=Object(T.jsx)(D,{data:p,categoryId:u,handleClose:I,showPriceContent:a,"data-testid":"product-listing-modal-enabled",source:i,isModal:t,localized:r,isStoreClosed:n,catalog:s}),f=Object(T.jsx)(c.a,{handleClose:I,ProductListingModalForm:S,headerText:Object(h.translateWithI18Next)(v),"data-testid":"product-listing-inside-modal"}),N=Object(T.jsx)("div",{className:"pdp-custm-sopac",children:S});return t?l.a.createPortal(f,document.getElementById("modal-popups")):N}},826:function(e,t,a){"use strict";a.r(t),a.d(t,"getSeoPageWithObject",(function(){return Oe})),a.d(t,"deepLinkWithPickupData",(function(){return je})),a.d(t,"deepLinkWithDeliveryData",(function(){return pe}));var o=a(3),i=a.n(o),n=a(25),l=a(76),d=a(5),c=a(932);var r={GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"},s=a(920),u=a(912),v=a(6),m=a(122),b=a(63),O=a(22),j=a(11),p=a(811),h=a(1030),g=a(322),I=a(317),S=a(123),f=a(225),N=a(2);const C=e=>(null===e||void 0===e?void 0:e.filter((e=>null===e||void 0===e?void 0:e.isDefault)))[0],T=e=>e?Object(v.translateWithI18Next)("veg"):Object(v.translateWithI18Next)("nonveg");function E(e){const{pdpData:t,getDname:a,veg:o,Non_veg_dot_Icon:n,Veg_dot_Icon:l,modgrps:c,customizable:r,isActive:s,itemStatus:u,IS_OUT_OF_STOCK:m,setAsActiveLink:b,PDPEditIconDisabled:O,PDPEditIcon:j,isMobile:p,quantityUpdateTemplate:h,addToCartTemplate:g,makeItComboHandler:E,isIpad:x,comboData:D}=e,y=c.length>0&&r&&c.map((e=>!e.isHidden&&Object(N.jsxs)("div",{className:"pdp-receipt-modGrp-container".concat(s===e.id?" activeGroup":""),children:[s===e.id?Object(N.jsx)("span",{className:"arrowed"}):null,Object(N.jsxs)("span",{className:"pdp-receipt-modgrp",children:[Object(d.uf)(a(e),14,x)," :"]}),Object(N.jsx)(f.a,{id:e.id,placement:"top",title:a(C(e.modifiers)),children:Object(N.jsx)("span",{className:"pdp-receipt-modifiers",children:Object(d.uf)(a(C(e.modifiers)),16,x)})}),Object(N.jsx)("button",{className:"editIcon","data-testid":"set-active-link-handler-".concat(e.id),onClick:t=>b(t,e.id),disabled:u===m&&!0,children:Object(N.jsx)("img",{className:"pdp-summary-edit-icon",src:u===m?O:j,alt:"Summary Edit"})})]},e.id)));const _=!r&&Object(N.jsxs)("div",{className:"d-flex item_details",children:[Object(N.jsxs)("label",{children:[Object(v.translateWithI18Next)("mainEntree"),":"]}),Object(N.jsx)(f.a,{id:"entree",placement:"top",title:a(t),children:Object(N.jsx)("span",{children:Object(d.uf)(a(t),26,x)})})]}),A=p?Object(N.jsxs)("div",{className:"pdp-mobile-quantity-price fixedDiv",children:[Object(N.jsx)("div",{className:"pdp-quantity-block",children:h()}),g()]}):Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsxs)("div",{className:"pdp-quantity-block",children:[Object(N.jsx)("label",{className:"qty",children:Object(v.translateWithI18Next)("quantity")}),h()]}),g()]}),R=Object(d.db)(!r,D>0)&&Object(N.jsx)(S.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(N.jsx)(I.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:E,children:Object(N.jsx)("span",{children:Object(v.translateWithI18Next)("makeItACombo")})})});return Object(N.jsx)("div",{className:"pdp-receipt-card",children:Object(N.jsxs)("form",{className:"pdp-receipt-form",children:[Object(N.jsx)("div",{className:"pdp-receipt-header",children:a(t)}),Object(N.jsx)("img",{className:"pdp-summary-vegOrNonVeg-icon",src:(L=o,P=n,w=l,L?w:P),alt:"PDP Summary"}),Object(N.jsxs)("div",{className:"pdp-receipt-veg",children:[T(o)," \u2022 Serves 4"]}),Object(N.jsxs)(i.a.Fragment,{children:[Object(N.jsxs)("div",{className:"pdp-receipt-list",children:[y,_]}),A,R]})]})});var L,P,w}const x=i.a.memo(E);var D=a(903),y=a(899),_=a(54),A=a(30),R=a(15),L=a(321),P=a(0);const w=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name";var M=e=>{var t;const{pdpData:a,addtoCartClinckHandler:i,customModGrps:c={},modifiedPrice:r,categoryId:s,isIpad:u,comboData:m,categoryName:b,categoryUrl:O}=e,{id:j,additionalProperties:p={},customizable:h=!1,availability:S,modgrps:f}=a||{},{ITEM_QUANTITY:C}=y.a,{QUANTITY_ACTION:T}=_.a,{EXPAND_ACCORDIAN:E,IS_OUT_OF_STOCK:M,IS_IN_STOCK:k}=g.a,{Non_veg_dot_Icon:F,Veg_dot_Icon:U,PDPEditIcon:H,PDPEditIconDisabled:W}=R.a,[B,G]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),[V,Y]=Object(o.useState)(),[z,K]=Object(o.useState)(1),[q,J]=Object(o.useState)(k),Q=Object(n.b)(),X=Object(n.c)((e=>e.tenantReducer)),Z=Object(n.c)((e=>e.appStateReducer.userStatus)),$=Object(n.c)((e=>e.cartReducer)),{cartData:ee={}}=$||{},{web:{global:{showPriceWithTax:te=!1}={}}={}}=null!==(t=null===X||void 0===X?void 0:X.componentOptions)&&void 0!==t?t:{},{veg:ae}=p,oe=()=>{const e=Object(d.Ud)(window.innerWidth);G(e)},{userOrderState:ie,userOrderStateDispatch:ne}=Object(o.useContext)(l.a),{pdpScreenCommons:{currentAccordian:le},timeBasedCetegory:de}=ie;Object(o.useEffect)((()=>{Object(d.db)(null===c||void 0===c?void 0:c.length,null===f||void 0===f?void 0:f.length)&&Y(f[0].id)}),[c,f]),Object(o.useEffect)((()=>{window.addEventListener("resize",oe)}),[B]);const ce=(e,t)=>{if(q===M)return!1;e&&(e.preventDefault(),e.stopPropagation()),ne({type:E,value:t});const a=document.getElementById("accordion-"+t);null===a||void 0===a||a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),Y(t)};Object(o.useEffect)((()=>()=>{ne({type:E,value:""})}),[]),Object(o.useEffect)((()=>{le&&ce(null,le)}),[le]);const re=e=>{if(e.preventDefault(),Z.localized){let e=Object(d.Tc)(h,c,[]);Q(Object(A.a)({params:{basketId:ee.id},tenantId:null===X||void 0===X?void 0:X.tenantId},[{Id:j,categoryId:s,quantity:z,modGrps:e,categoryName:b,categoryUrl:O}])),K(1)}else i()},se=(e,t,a)=>{a.preventDefault(),a.stopPropagation(),t===T.Decrease&&z>1&&K(z-1),t===T.Increase&&K(z+1)},ue=(e,t)=>{let a;if(Object(d.Kd)(e)&&(a=Object(d.zc)(e,t,null===X||void 0===X?void 0:X.currencyConversionFactor,te)),h)a=e;else if(0===a)return J(M),Object(v.translateWithI18Next)("outOfStock");let o=z*a;return"".concat(null===X||void 0===X?void 0:X.currencySymbol," ").concat(Math.round(100*o)/100)};return Object(d.Kd)(a)?Object(N.jsx)(x,{"data-testid":"pdp-summary-view",pdpData:a,getDname:w,veg:ae,Non_veg_dot_Icon:F,Veg_dot_Icon:U,modgrps:f,customizable:h,isActive:V,itemStatus:q,IS_OUT_OF_STOCK:M,setAsActiveLink:ce,PDPEditIconDisabled:W,PDPEditIcon:H,isMobile:B,isIpad:u,quantityUpdateTemplate:()=>Object(N.jsx)("div",{className:"quantityAddtocart qty-calc mg-set ".concat(z?"cardwithQuantity "+Z.loggedIn:"cardwithNoquantity"),children:Object(N.jsx)(D.a,{itemCount:z,itemQuantity:C,updateItemQuantity:se,quantityAction:T,item:void 0,itemName:w(a),maxItemCountPerLineItem:null===X||void 0===X?void 0:X.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})}),addToCartTemplate:()=>Object(N.jsx)(I.a,{tabIndex:"1",className:"button redButton pdp-cart-button","data-testid":"add-to-cart-handler",onClick:e=>(e=>{if(e.preventDefault(),null!==de&&void 0!==de&&de.isTimeExpired){const t=Object(L.d)(j,de);if(Object(L.c)({categoryUrl:O,itemInCart:t,categoryId:s,alertType:Object(L.j)(null===de||void 0===de?void 0:de.timebasedItemInCart,null===P.Sb||void 0===P.Sb?void 0:P.Sb.ITEM)},de,ne))return;re(e)}return re(e)})(e),disabled:q===M,children:q===M?Object(N.jsx)("span",{className:"outofstock",children:Object(v.translateWithI18Next)("outOfStock")}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:Object(v.translateWithI18Next)("addToCart")}),S&&S.length&&Object(N.jsx)("span",{children:Object(d.Tc)(h,ue(r),ue(S[0],null===p||void 0===p?void 0:p.pricewithouttax))})]})}),makeItComboHandler:e=>{if(q===M)return!1;e.preventDefault()},comboData:m}):Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.translateWithI18Next)("turnedNoResult")})},k=a(43);var F=e=>{const{longDescription:t,isMobile:a,tenantData:i}=e,{SHORT:n,READ_MORE:l,READ_LESS:c,LONG:r,INDIA:s,MAX_LENGTH_READ:u}=g.a,[m,b]=Object(o.useState)(""),[O,j]=Object(o.useState)(n),{StripsIcon:p}=R.a;Object(o.useEffect)((()=>{null!==t&&void 0!==t&&t.length&&b(t[0].value)}),[t]);const h=()=>{j(O===n?r:n)};return Object(N.jsxs)("div",{className:"pdp-desc",children:[Object(N.jsx)("div",{className:"d-flex pdp-custm-container-in mb-4",children:Object(N.jsx)(k.a,{srcFile:p,className:"stripes-img stripes-img-in"})}),Object(N.jsxs)("span",{className:"pdp-desc-header",children:[" ",U(v.translateWithI18Next,i,s)," "]}),a?Object(N.jsxs)("div",{className:"desc-box desc-in",children:[O===n?Object(d.uf)(m,u,!1):m,Object(N.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:h,children:O===n?Object(v.translateWithI18Next)(l):Object(v.translateWithI18Next)(c)})]}):Object(N.jsx)("div",{className:"desc-box",children:m})]})};function U(e,t,a){return(null===t||void 0===t?void 0:t.country)===a?e("insideYourMeal"):e("mealOptions")}var H=a(919),W=a(14),B=a(212);var G=e=>{const{redirectLink:t}=e,[a,i]=Object(o.useState)(!1),[n,l]=Object(o.useState)(0);Object(o.useEffect)((()=>{const e=()=>{let e=document.documentElement.scrollTop;i(!(e<100)),l(e<=0?0:e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[n]);return Object(N.jsxs)(B.a,{href:t,className:"".concat(a?"floating view_menu_link":"view_menu_link"),spy:!0,"data-testid":"viewMenu-test-id",children:[Object(N.jsxs)("span",{className:"grid-icon grid-icon--line2",children:[Object(N.jsxs)("span",{class:"layer layer--primary",children:[Object(N.jsx)("span",{}),Object(N.jsx)("span",{})]}),Object(N.jsxs)("span",{class:"layer layer--secondary",children:[Object(N.jsx)("span",{}),Object(N.jsx)("span",{})]})]}),Object(N.jsx)("label",{className:"view_menu",children:(()=>{let e=Object(v.translateWithI18Next)("view"),t=Object(v.translateWithI18Next)("menuTitle");return"".concat(e," ").concat(t)})()})]})},V=a(1029),Y=a(818);const z=e=>"pdp-desc-container pdp-desc-container-in ".concat(e?"mobile":""),K=(e,t,a,o)=>Object(N.jsxs)(N.Fragment,{children:[!e&&Object(N.jsx)(G,{redirectLink:"/menu"}),Object(N.jsx)(k.a,{defaultPath:Object(d.Xb)(null,a,!0),srcFile:Object(d.Xb)(t.imageName,a),className:"".concat(o?"pdp-product-mobile-image":"pdp-product-image")})]});var q=e=>{const{productDetails:t,tenantData:a,isMobile:i,displayBreadcrumbPDP:c,isIpad:r,product_name:s}=e,{ADD_TO_CART_CLICK:u,DISPOSITION_DATA:m}=W.a,{CUSTM_EXPAND_TYPE:b,MAKE_IT_COMBO_HEADER:O,MAKE_IT_COMBO_SUBHEADER:j,UPSELL:p,CROSSELL:h,PDP:I}=g.a,{RECOMMENDED_HEADER_TITLE:S}=Y.RECOMMENDED_CONSTANTS,{isFromPlp:f=!1}=Object(d.kd)(t),[C,T]=Object(o.useState)({}),[E,x]=Object(o.useState)(),[D,y]=Object(o.useState)(0),[_,A]=Object(o.useState)([]),[R,L]=Object(o.useState)([]),[P,w]=Object(o.useState)({}),{userOrderStateDispatch:k}=Object(o.useContext)(l.a),U=Object(n.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t}));Object(o.useEffect)((()=>{k({type:b,value:"single"})}),[]),Object(o.useEffect)((()=>{if(Object(d.db)(Object(d.Kd)(U),(null===U||void 0===U?void 0:U.url)===s)){const{additionalProperties:e}=U,a=Object(d.me)(e)||{};T({...U,additionalProperties:a,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:t.catalogName,itemId:t.productId});let o=((e,t,a)=>{let o={combo:[],recommendation:[]};if(Object(d.kc)(e)){let i=e.find((e=>{let{recommendationType:a}=e;return a===t})),n=e.find((e=>{let{recommendationType:t}=e;return t===a}));o.combo=Object(d.Tc)(Object(d.Kd)(i),null===i||void 0===i?void 0:i.recommendedItems,[]),o.recommendation=Object(d.Tc)(Object(d.Kd)(n),null===n||void 0===n?void 0:n.recommendedItems,[])}return o})(null===U||void 0===U?void 0:U.recommendationRules,p,h);A(o.combo),L(o.recommendation),w(U)}}),[JSON.stringify(U)]);const B=(e,t,o,i,n)=>Object(N.jsx)(V.a,{products:t,country:null===a||void 0===a?void 0:a.country,cssClass:n,header:o,subHeader:i,recommendedRule:e,source:I}),G=()=>{k({type:m,value:{showDisposition:!0}}),k({type:u,value:{addToCart:!0,productItemId:t.productId,categoryId:t.categoryId,oldProduct:t.productInfo,customizable:t.customizable,catalogs:t.catalogName,fromPdpPage:!0}})},q=()=>Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(M,{pdpData:C,isMobile:i,isIpad:r,addtoCartClinckHandler:G,customModGrps:E,modifiedPrice:D,categoryId:t.categoryId,comboData:null===_||void 0===_?void 0:_.length,categoryName:t.categoryName,categoryUrl:t.categoryUrl})});return Object(d.Kd)(C)&&Object(d.Kd)(P)&&Object(d.Kd)(a)?Object(N.jsxs)(N.Fragment,{children:[!i&&Object(N.jsx)("div",{className:"pdp-navigation",children:c}),Object(N.jsxs)("div",{className:(J=i,"".concat(J?"pdp-mobile-container ":"pdp-details-container")),children:[!i&&Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("div",{className:"image-container",children:K(f,C,a,i)}),P.modgrps&&q()]}),i&&Object(N.jsxs)("div",{className:"pdp-mobile-image-container",children:[K(f,C,a,i),Object(N.jsx)("div",{className:"pdp-mobile-navigation",children:c}),P.modgrps&&q()]})]}),Object(N.jsx)("div",{className:z(i),children:!!Object(d.Kd)(P)&&Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(F,{shortDescription:P.shortDescription,longDescription:P.longDescription,isMobile:i,tenantData:a})})}),C.customizable&&Object(N.jsx)("div",{className:"pdp-custm-container ".concat(Object(d.Tc)(i,"mobile","")," pdp-custm-container-in"),children:Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(H.a,{data:P,isModal:!1,showPriceContent:!1,isMobile:i,callBackToPDP:e=>{const{modifierGrp:t={},modifiedItemPrice:a=0}=e;x(t),y(a)},source:I})})}),Object(d.db)((null===_||void 0===_?void 0:_.length)>0,!P.customizable)&&B(p,_,Object(v.translateWithI18Next)(O),Object(v.translateWithI18Next)(j),"pdp-combo"),(null===R||void 0===R?void 0:R.length)>0&&B(h,R,S,"","pdp-recommendations")]}):Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(v.translateWithI18Next)("turnedNoResult")});var J},J=a(78),Q=a(219),X=a(936),Z=a(1016),$=a(992),ee=a(61),te=a(18),ae=a.n(te),oe=a(1010),ie=a(62),ne=a(156),le=a(110),de=a(69),ce=(a(324),a(101));const re=(e,t,a,o)=>{var i,n,l,c,r,s;const u=null!==(i=null===a||void 0===a||null===(n=a.categoryMapById)||void 0===n?void 0:n[e])&&void 0!==i?i:{},v=u?Object(d.Mb)(u,a,[null===u||void 0===u?void 0:u.name],o):"",m=null!==(l=null===a||void 0===a||null===(c=a.itemMapById)||void 0===c?void 0:c[t])&&void 0!==l?l:{};return Object(d.db)(u,m)?"".concat(v," > ").concat(null===m||void 0===m||null===(r=m.dname)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.value):""},se=e=>{let{productObject:t,tenantObject:a,isMobile:o,category_id:i,product_id:n,product_name:l,flatResponse:d,isStoreClosed:c,catalogs:r,isIpad:s}=e;return Object(N.jsx)("div",{className:"pdp-container",children:t&&(null===a||void 0===a?void 0:a.tenantId)&&Object(N.jsx)(q,{tenantData:a,isIpad:s,productDetails:t,isMobile:o,displayBreadcrumbPDP:re(i,n,d,r),isStoreClosed:c,product_name:l})})};var ue=e=>{var t,a,i,c,r;const{tenantData:s,contentData:u,match:I,history:S,setStoreClosedInfo:f,isDeeplinkFlagAddToCart:C}=e,{params:T}=I,{category_name:E="",product_name:x=""}=T,{storeInfo:D,dispositionType:y,catalogs:_}=u,{showErrorMessageForHiddenCatogary:R,tenantId:L,currencyConversionFactor:P,country:w,componentOptions:M={web:{pdp:{}}}}=s,{selectedTime:k,selectedDate:F}=u,{web:{pdp:{showLegalInfo:U=!1},shouldCheckDropOffAddress:H=!1}}=M,{SET_PDP_DEEPLINK_MODE:B,RESET_MODGROUP_IDS_UPDATE:G,PDP_ITEM_UPSIZE_ID:V,YYYYMMDD:Y,YYYYMMDD_hhmm_A:z}=g.a,{PLP_PDP_DETAILS:K,CLOSED:q,MENU_URL:te}=W.a,{userOrderStateDispatch:re,userOrderState:ue}=Object(o.useContext)(l.a),{pdpDeepLinking:ve,ProductDetails:me,pdpItemUpsizeId:be,isFromMultiProductViewModal:Oe,isFromRecommendedSectionItemClick:je,scheduleOrderData:pe,pdpDataForUpdateFoodLine:he}=ue,{changeFlow:ge=!1,isAddressFlow:Ie=!1}=pe,{isFromPlp:Se=!1}=Object(d.kd)(me),[fe,Ne]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),[Ce,Te]=Object(o.useState)(Object(d.Sd)()),[Ee,xe]=Object(o.useState)(""),[De,ye]=Object(o.useState)(""),_e=Object(o.useMemo)((()=>Object(d.Kd)(me)?me:{}),[me]),{SERVICE_CHANNEL:Ae}=p.default,Re=Object(d.md)(null===D||void 0===D?void 0:D.id),Le=y,Pe=Object(n.b)(),{menuReducer:{flatResponse:we,currentItemDetails:Me},menuReducer:ke}=Object(n.c)((e=>e)),Fe=Object(n.c)((e=>e.storesReducer)),{storesTimeSlots:Ue,storesWithStatus:He}=Fe,{cartReducer:We}=Object(n.c)((e=>e)),{cartData:Be={}}=Object(d.kd)(We),[Ge,Ve]=Object(o.useState)(),Ye=Object(le.b)(de.b),ze=Object(ee.h)(),Ke=null===ke||void 0===ke?void 0:ke.exclusionsResponse,qe=(null===He||void 0===He||null===(t=He[0])||void 0===t||null===(a=t.summary)||void 0===a||null===(i=a.menu)||void 0===i||null===(c=i.catalogs)||void 0===c?void 0:c[0])||_,Je=()=>{const e=Object(d.Ud)(window.innerWidth),t=Object(d.Sd)();Ne(e),Te(t)};Object(o.useEffect)((()=>{if(re({type:G}),window.scrollTo(0,0),re({type:B,value:{pdpDeepLinking:!Se}}),Object(d.db)(F,k)){const e=Object(X.b)(k),t=Object(j.A)(Object(j.h)(F,Y)+" "+e,z),a={storeid:Re,channel:O.b.channel,service:Le,futureDateTimeInEpochFormat:isNaN(t)?"":t};Pe(Object(b.n)({data:a,tenantId:L}))}(e=>{if(e){var t,a,o;const i=[{item_name:(null===e||void 0===e||null===(t=e.productInfo)||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value)||"NA",item_id:(null===e||void 0===e?void 0:e.productId)||"NA",price:(null===e||void 0===e||null===(o=e.productInfo)||void 0===o?void 0:o.productPrice)||"NA",item_category:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_name:(null===e||void 0===e?void 0:e.catalogName)||"NA",item_list_id:(null===e||void 0===e?void 0:e.categoryId)||"NA",index:1,quantity:1}];Object(J.i)(i)}})(_e)}),[]),Object(o.useEffect)((()=>{if(Object(d.Kd)(Ue)){var e,t,a;const o={...D,summary:Ue},{futureDates:i,scheduled:n,asap:l}=Object(d.kd)(null===o||void 0===o||null===(e=o.summary)||void 0===e?void 0:e.timings),{unavailibilities:c}=Object(d.kd)(n),{interval:r=0,startEndTime:s={}}=Object(d.kd)((null===n||void 0===n||null===(t=n.periods)||void 0===t?void 0:t.length)&&(null===n||void 0===n?void 0:n.periods[0])),{from:u,to:v}=s,m=Object(h.a)(u,v,r,l,i,w,c);(null===Ue||void 0===Ue||null===(a=Ue.status)||void 0===a?void 0:a.currentStatus)!==q||m.length?Ve(!1):(f(o),Ve(!0),S.push({pathname:"".concat(te)}))}}),[Ue,null===ue||void 0===ue?void 0:ue.isDeepLinkURL]);Object(o.useEffect)((()=>{var e;(((e,t,a)=>e===(null===a||void 0===a?void 0:a.genericMenuName)||e&&t)(qe,Le,s)&&Pe(Object(m.d)({tenantId:L,catalogName:qe},{storeId:Re,channel:Ae,service:Le})),Re&&Le&&!Se)&&((e,t)=>{const a={data:Object(d.B)(e,t,null,H,null===Ye||void 0===Ye?void 0:Ye.latLong),store:e,tenantId:L,setStatusFlag:!1,isFavoritePage:!1};Pe(Object(b.d)(a))})([D],Object(d.Ib)(null===(e=Object(ce.i)(ge,Ie,Le))||void 0===e?void 0:e.dispositionValue));((e,t,a,o,i)=>{if(!Object(d.Kd)(o)){let o=!1;if(Object(d.kc)(e)&&a){var n,l,c;let i=e.filter((e=>e.storeId===a||e.id===a));o=!(!Object(d.kc)(i)||(null===(n=i[0])||void 0===n||null===(l=n.summary)||void 0===l||null===(c=l.status)||void 0===c?void 0:c.currentStatus)!==t)}i(o)}})(He,q,Re,Ue,Ve)}),[Re,Le]),Object(o.useEffect)((()=>{if(""!==Ee&&Object(d.fb)(Object(d.db)(Ee===(null===Me||void 0===Me?void 0:Me.id),ve),be===(null===Me||void 0===Me?void 0:Me.id))){var e;let t={productImage:null===Me||void 0===Me?void 0:Me.imageName,productName:null===Me||void 0===Me?void 0:Me.dname,productPrice:Object(d.yc)(null===Me||void 0===Me?void 0:Me.availability[0],P)};const a={productId:null===Me||void 0===Me?void 0:Me.id,customizable:null===Me||void 0===Me?void 0:Me.customizable,categoryId:De,catalogName:null===ke||void 0===ke||null===(e=ke.response)||void 0===e?void 0:e.id,productInfo:t,isFromPlp:Se};re({type:K,value:a})}}),[JSON.stringify(Me),Ee]),Object(o.useEffect)((()=>{if(C&&null!==ue&&void 0!==ue&&ue.ProductDetails&&!Ge){const e=null===ue||void 0===ue?void 0:ue.ProductDetails,{customizable:t}=e;t||Pe(Object(A.a)({params:{basketId:null===Be||void 0===Be?void 0:Be.id},tenantId:L},[{Id:null===e||void 0===e?void 0:e.productId,quantity:1,modGrps:[]}],(()=>{Object(d.td)(S)})))}}),[null===ue||void 0===ue?void 0:ue.ProductDetails,C]);const[Qe,Xe]=Object(o.useState)(!1),{isBrandPageContentLoading:Ze,brandRoutePath:$e}=Object(n.c)((e=>{let{brandPageReducer:t}=e;const{isBrandPageContentLoading:a=!1,response:{headerData:{routePath:o}={}}={}}=null!==t&&void 0!==t?t:{};return{isBrandPageContentLoading:a,brandRoutePath:o}}));return Object(o.useEffect)((()=>{if(Object(d.Kd)(we)){const e=((e,t,a)=>{var o;const{flatResponse:i,category_name:n,product_name:l,isFromMultiProductViewModal:c,productIdFromDetails:r,cartData:s,pdpDataForUpdateFoodLine:u,exclusionsResponse:v}=e;let m="",b="",O=[],j="";const{categoryMapByUrl:p={}}=i,h=null===p||void 0===p?void 0:p[n],g=null===h||void 0===h||null===(o=h.productMapByProductUrl)||void 0===o?void 0:o[l],I=null!==t&&void 0!==t&&t&&((null===g||void 0===g?void 0:g.isHidden)||(null===h||void 0===h?void 0:h.isHidden)),S=Object(d.n)(r,v,"");if(t&&(ae()(h)||ae()(g)||S)&&Object(d.td)(a),ae()(h)||ae()(g)||I)return Object(d.td)(a),!1;if(Object(d.Kd)(g)){const e=Object.values(g.itemMapByItemId);m=((e,t,a,o,i)=>{if(null!==i&&void 0!==i&&i.foodLineId){var n,l;let e=null===i||void 0===i?void 0:i.foodLineId,t=null===o||void 0===o||null===(n=o.foodLines)||void 0===n?void 0:n.find((t=>{let{id:a}=t;return a===e}));return null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l.id}var d,c;return t?a||(null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.id):null===e||void 0===e||null===(c=e[0])||void 0===c?void 0:c.id})(e,c,r,s,u),b=g.dname,O=e,j=g.url}return{id:m,name:b,items:O,url:j,categoryName:null===h||void 0===h?void 0:h.name,categoryId:null===h||void 0===h?void 0:h.id}})({flatResponse:we,category_name:E,product_name:x,isFromMultiProductViewModal:Oe,isFromRecommendedSectionItemClick:je,productIdFromDetails:null===_e||void 0===_e?void 0:_e.productId,cartData:Be,pdpDataForUpdateFoodLine:he,exclusionsResponse:null===ke||void 0===ke?void 0:ke.exclusionsResponse,showErrorMessageForHiddenCatogary:R},null===ue||void 0===ue?void 0:ue.isDeepLinkURL,S),{categoryId:t="",id:a}=e,o=a;o?(ye(t),xe(o),re({type:V,value:{pdpItemUpsizeId:o}}),Pe(Object(m.c)({tenantId:L,catalogName:qe,itemId:o}))):ve&&!Qe&&null!==ze&&void 0!==ze&&ze.pathname&&(Xe(!1),Pe(Object(Q.c)({object:Object(ie.a)(),contentFull:{content_type:ne.c.Template2,select:"sys.id,fields","fields.routePath":null===ze||void 0===ze?void 0:ze.pathname,include:5}})))}}),[JSON.stringify(we),ve,x,Ke]),Object(o.useEffect)((()=>{Qe&&!Ze&&ae()($e)&&(S.push({pathname:"".concat(te)}),Object(d.pf)(Object(v.translateWithI18Next)("exploreFoodItem")))}),[Qe,Ze,$e]),Object(o.useEffect)((()=>{window.addEventListener("resize",Je)}),[Ee]),Object(o.useEffect)((()=>{window.addEventListener("resize",Je)}),[fe,Ce]),$e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(oe.b,{routePath:null===ze||void 0===ze?void 0:ze.pathname,hideNav:!0,...e}),";"]}):Object(N.jsxs)(N.Fragment,{children:[se({productObject:_e,tenantObject:s,isMobile:fe,category_id:De,product_id:Ee,product_name:x,flatResponse:we,isStoreClosed:Ge,catalogs:_,isIpad:Ce}),ue.addToCart&&ue.isLocalized&&ue.fromPdpPage&&Object(N.jsx)(Z.a,{flatResponse:we,tenantReducer:s}),(null===(r=ue.cartAlertData)||void 0===r?void 0:r.showCartAlert)&&Object(N.jsx)($.a,{})]})},ve=a(902),me=a(267),be=a(908);const Oe=(e,t,a,o)=>{var i;const n=null===t||void 0===t?void 0:t[a],l=null===n||void 0===n||null===(i=n.productMapByProductUrl)||void 0===i?void 0:i[o];if(n&&l){var c,r,s;const{dname:[{value:t}={}]=[],shortDescription:[{value:o}={}]=[],imageName:i,imageObj:u=[],content:v}=null!==l&&void 0!==l?l:{},m=i||Object(d.Xb)(u,e),{shortDescription:b=o,image:{mainImage:O=m}={}}=v||{},j=P.ke,{dname:[{value:p}={}]=[]}=null!==n&&void 0!==n?n:{};return{seoPageName:j,seoObject:{Category:p,CategoryURL:"".concat(null!==(c=null===(r=window)||void 0===r||null===(s=r.location)||void 0===s?void 0:s.origin)&&void 0!==c?c:"/","/menu/").concat(a),Product:t,ProductDescription:b,ProductImage:O}}}},je=e=>{var t,a,o;const{storesWithStatus:i,userOrderStateDispatch:n,userParams:l,qParams:c,tenantReducer:r,history:s,setDeeplinkFlagAddToCart:u,params:v,dispatch:m,dispositionNew:b}=e;if((null===i||void 0===i||null===(t=i[0])||void 0===t||null===(a=t.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)!==W.a.CLOSED){const e=Object(d.Tc)((null===c||void 0===c?void 0:c.action)===P.k,!0,!1);if(n({type:W.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==l&&void 0!==l&&l.localized)if(null!==l&&void 0!==l&&l.localized){var O;Object(d.fb)((null===v||void 0===v||null===(O=v.storeInfo)||void 0===O?void 0:O.id)!==(null===c||void 0===c?void 0:c.storeid),Object(d.ef)(b.type)!==Object(d.ef)(null===c||void 0===c?void 0:c.ordertype))?Object(d.td)(s):u(e)}else Object(d.td)(s);else Object(d.oe)({dispatch:m,service:null===c||void 0===c?void 0:c.ordertype,storeId:null===c||void 0===c?void 0:c.storeid,tenantId:null===r||void 0===r?void 0:r.tenantId,userOrderStateDispatch:n,userParams:l,shouldCheckDropOffAddress:!1,history:s}),u(e)}else n({type:W.a.DISPOSITION_DATA,value:{showDisposition:!0}})},pe=(e,t,a,o,i,n,l,c)=>{var r,s,u;if(a({type:W.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==e&&void 0!==e&&e.localized){if(null!==e&&void 0!==e&&e.localized&&(null===i||void 0===i?void 0:i.ordertype)!==P.Dd){var v,m,b,O,j,p;if((null===t||void 0===t||null===(v=t[0])||void 0===v||null===(m=v.summary)||void 0===m||null===(b=m.status)||void 0===b?void 0:b.currentStatus)===W.a.CLOSED&&a({type:W.a.DISPOSITION_DATA,value:{showDisposition:!0}}),(null===t||void 0===t||null===(O=t[0])||void 0===O||null===(j=O.summary)||void 0===j||null===(p=j.status)||void 0===p?void 0:p.currentStatus)!==W.a.CLOSED){const t=Object(d.Tc)((null===i||void 0===i?void 0:i.action)===P.k,!0,!1);var h;if(null!==e&&void 0!==e&&e.localized)Object(d.fb)((null===l||void 0===l||null===(h=l.storeInfo)||void 0===h?void 0:h.id)!==(null===i||void 0===i?void 0:i.storeid),Object(d.ef)(c.type)!==Object(d.ef)(null===i||void 0===i?void 0:i.ordertype))?Object(d.td)(o):n(t);else Object(d.td)(o)}}}else(null===t||void 0===t||null===(r=t[0])||void 0===r||null===(s=r.summary)||void 0===s||null===(u=s.status)||void 0===u?void 0:u.currentStatus)!==W.a.CLOSED?a({type:W.a.DISPOSITION_DATA,value:{showDisposition:!0}}):Object(d.td)(o)};t.default=e=>{var t,a,v;const{userOrderState:m,userOrderStateDispatch:b}=Object(o.useContext)(l.a),O=Object(n.c)((e=>e.tenantReducer)),{flatResponse:{categoryMapByUrl:j={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{category_name:p,product_name:h}=Object(ee.i)(),[g,I]=Object(o.useState)(P.ke),[S,f]=Object(o.useState)(),C=Object(n.c)((e=>e.storesReducer)),[T,E]=Object(o.useState)(!1),{storesWithStatus:x}=C,D=Object(d.Tc)(Object(d.Jd)(null===m||void 0===m?void 0:m.dispositionNew),JSON.parse(localStorage.getItem(P.gd.DISPOSITION_NEW)),null===m||void 0===m?void 0:m.dispositionNew),y=Object(o.useMemo)((()=>{var e,t;return{tenantReducer:null!==O&&void 0!==O?O:JSON.parse(localStorage.getItem("tenantReducer")),storeInfo:null!==(e=null===D||void 0===D?void 0:D.store)&&void 0!==e?e:{},selectedDate:null===D||void 0===D?void 0:D.date,selectedTime:null===D||void 0===D?void 0:D.time,dispositionType:Object(d.Ib)((null===D||void 0===D?void 0:D.type)||(null===(t=O.authoredContent)||void 0===t?void 0:t.defaultdisposition)),selectedTile:(null===m||void 0===m?void 0:m.selectedTile)||JSON.parse(localStorage.getItem("selectedTile"))}}),[D,O,m]),{pdpDeepLinking:_}=m;let A=null,R=null,L=null;const{DISPOSITION:w}=r,M=Object(n.b)(),k=Object(ee.h)(),F=Object(ee.g)();let U=Object(n.c)((e=>e.appStateReducer.userStatus));Object(o.useEffect)((()=>{var e;const t=null===k||void 0===k||null===(e=k.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t),a=Object.fromEntries(e.entries());(Object(d.Xd)(null===a||void 0===a?void 0:a.ordertype)&&null!==a&&void 0!==a&&a.storeid||Object(d.Fd)(null===a||void 0===a?void 0:a.ordertype)&&null!==a&&void 0!==a&&a.storeid)&&je({storesWithStatus:x,userOrderStateDispatch:b,userParams:U,qParams:a,tenantReducer:O,history:F,setDeeplinkFlagAddToCart:E,params:y,dispatch:M,dispositionNew:D}),(Object(d.Ad)(null===a||void 0===a?void 0:a.ordertype)&&null!==a&&void 0!==a&&a.storeid||(null===a||void 0===a?void 0:a.ordertype)===P.Dd)&&pe(U,x,b,F,a,E,y,D)}}),[]),Object(o.useEffect)((()=>{M(Object(me.l)(O))}),[M,null===O||void 0===O?void 0:O.country]),Object(o.useEffect)((()=>{M(Object(me.c)(U))}),[M,U]),Object(o.useEffect)((()=>{var e;const{seoPageName:t,seoObject:a}=null!==(e=Oe(O,j,p,h))&&void 0!==e?e:{};I(t),f(a)}),[p,h,JSON.stringify(j)]);const H=Object(n.c)((e=>({homePageContent:e.contentReducer.response,marketPageContent:e.marketConfigReducer.response,tenantReducerContent:e.tenantReducer})));if(H.marketPageContent&&H.tenantReducerContent&&H.homePageContent){A=Object(d.bc)(H.homePageContent)||null;const{header:e={},footer:t={}}=H.marketPageContent.headerData||{};R=Object(d.cc)(e),L=Object(d.Sb)(t)}return Object(N.jsxs)(i.a.Fragment,{children:[g&&Object(N.jsx)(be.a,{page:g,seoObj:S}),R&&!_&&Object(N.jsx)(u.a,{contentData:R,tenantReducerData:H.tenantReducerContent,userParams:U}),!_&&Object(N.jsx)(c.a,{contentData:{segmentedHomePageData:null===(a=A)||void 0===a?void 0:a[w],contentDispositionData:null===(v=A)||void 0===v?void 0:v[w]},userParams:U}),Object(N.jsx)(ue,{tenantData:O,contentData:y,...e,setStoreClosedInfo:e=>{Object(d.jf)(e,b,D,Object(d.Fb)(y.dispositionType))},isDeeplinkFlagAddToCart:T}),L&&!_&&Object(N.jsx)(s.a,{history:e.history,contentData:L,tenantReducerData:H.tenantReducerContent}),m.showCartClearAlert&&Object(N.jsx)(ve.a,{})]})}},827:function(e,t,a){"use strict";a.r(t),a.d(t,"getModgrpBySelectedModifier",(function(){return L}));var o=a(3),i=a.n(o),n=a(73),l=a.n(n),d=a(25),c=a(998),r=a(76),s=a(36),u=a(6),v=a(5),m=a(999),b=a(1e3),O=a(906),j=a(898),p=a(190),h=a(4),g=a(2);var I=e=>{const{grouplist:t=[],tenantData:a,isModal:n,isStoreClosed:l,localized:c=!0,catalog:s}=e,{HASH_SYMBOL:I}=p.a,{componentOptions:S={web:{pdp:{}}},currencyConversionFactor:f,currencySymbol:N}=a,{web:{pdp:{productCustomizationAccordionDefaultOpen:C,showMaxBadge:T}}}=S,[E,x]=Object(o.useState)(JSON.parse(JSON.stringify(t))),D=Object(d.c)((e=>e.cartReducer)),{MAX_TAG:y}=O.a,{CUSTOM:_}=h.a,A=Object(o.useRef)([]),{userOrderState:R}=Object(o.useContext)(r.a),{pdpPayloadData:L,sopacPDPCustomization:P}=R,{isItemAdded:w=!1}=Object(v.kd)(D);Object(o.useEffect)((()=>{Object(b.c)(t,x,C)}),[JSON.stringify(t)]),Object(o.useEffect)((()=>{!n&&Object(b.c)(t,x,C)}),[w,s]);const M=(e,t)=>{const{showCustomizationModId:a="",showCustomizationModGrpId:o=""}=P;return e?"".concat(o).concat(I).concat(a).concat(I).concat(t):"".concat(t)},k=(e,t,a,o)=>{let i=M(n,e),l=t&&a>1;return Object(j.y)(L,i,f,l,N,o)};return E.map(((e,t)=>{var o;let{id:d,name:r,modifiers:O,expanded:p,min:h,max:I,additionalProperties:S,dname:f}=e;const N=((e,t)=>{var a;let o=!1;const i=null!==(a=Object(j.q)(t,e))&&void 0!==a?a:{},{modifiers:n}=i;return n&&Object.entries(n).forEach((e=>{let[t,a]=e,i=null!==(null===(n=a)||void 0===n?void 0:n.newSelectedFlag)?null===n||void 0===n?void 0:n.newSelectedFlag:null===n||void 0===n?void 0:n.isSelected;var n;let l=null!==(null===a||void 0===a?void 0:a.newQuantity)?null===a||void 0===a?void 0:a.newQuantity:null===a||void 0===a?void 0:a.quantity,d=null!==a&&void 0!==a&&a.isInitialDefault?null===a||void 0===a?void 0:a.isInitialDefault:null===a||void 0===a?void 0:a.isDefault;(d!==i||!0===d&&(null===a||void 0===a?void 0:a.defaultQuantity)!==l)&&(o=!0)})),o})(M(n,d),L),C=((e,t,a,o)=>t&&Object(m.b)(e,o,a))(O,c,I,S),D=!C&&((e,t,a)=>{let o=Object(m.c)(a);return Object(v.j)([e,t,o])})(T,c,S),R=Object(j.d)(d,L);return Object(g.jsx)(i.a.Fragment,{children:Object(g.jsxs)("div",{className:"accordian-container ".concat(!p&&R?"accordian-container-highlight":""),id:"accordion-"+d,"data-testid":"product-listing-accordion-".concat(t),children:[Object(g.jsxs)("div",{className:"accordian-header",children:[Object(g.jsx)("div",{className:"".concat(p?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(d),onClick:e=>Object(b.d)(E,e,d,x,b.b),children:Object(g.jsxs)("div",{className:"textbadgecontainer",children:[Object(g.jsx)("span",{className:"accordion-test",children:null===f||void 0===f||null===(o=f[0])||void 0===o?void 0:o.value}),Object(g.jsxs)("div",{className:"badgeContainer",children:[D&&Object(g.jsx)("span",{className:"ml-2 maxBadge",children:"".concat(Object(u.translateWithI18Next)(y)," ").concat(I)}),N?Object(g.jsx)("span",{className:"updatedBadge-sopac",children:Object(u.translateWithI18Next)(_)}):null]})]})}),Object(g.jsx)("div",{className:"mod-group-sub-header selected-mod",children:k(d,C,I,a)})]}),Object(g.jsx)("div",{className:"".concat(p?"panel panel-active":"panel"),children:Object(g.jsx)(m.a,{tenantData:a,modifiers:O,modgrpData:{modgrpId:d,modGrpName:r,min:h,max:I,additionalProperties:S,modifierLength:O.length},modgroupPayloadData:A,isModal:n,isStoreClosed:l,catalog:s})})]})},t)}))},S=a(922),f=a(15),N=a(43),C=a(14);const T=e=>{const{classNames:t,show:a,autoFocus:i,modalTitleId:n,childrenTemplate:l}=e,{AUTO:d,HIDDEN:c}=C.a;return Object(o.useEffect)((()=>(document.querySelector("body").style.overflow=c,()=>{document.querySelector("body").style.overflow=d}))),Object(g.jsx)("div",{show:a.toString(),className:t,autoFocus:i||!1,"data-testid":n,children:Object(g.jsx)("div",{className:"modal-content",tabIndex:"-1","aria-labelledby":n,role:"dialog",children:l})})};var E=e=>Object(g.jsx)(T,{...e});var x=e=>Object(g.jsx)(E,{onExitedCallback:e.onModalExitedCallback,...e}),D=a(914),y=a(0);const _=e=>0!==e?"confirmButtonWithPrice":"";var A=e=>{const{data:t,confirmHandler:a,showPriceContent:n=!0,isModal:l,onDismissedSelection:c,isStoreClosed:m,localized:b,catalog:j}=e,{modgrps:h}=t,{CONFIRMBUTTONTXT:C}=S.a,T=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:E,currencyConversionFactor:A}=T,{userOrderState:R,userOrderStateDispatch:L}=Object(o.useContext)(r.a),{sopacPDPCustomization:P,pdpPayloadData:w,pdpAddtoCartConfirmButtonDisabled:M}=R,{updatedPrice:k=0}=P,{ErrorImage:F,PopupCloseBtn:U}=f.a,{SHOWTOASTALERT:H}=p.a,{DISMISS_CHANGES_ALERT_TEXT:W,DISMISS_SELECTIONS:B}=O.a,{PLUS:G,DASH:V}=y.R,Y=Object(g.jsxs)("div",{className:"img-text-div",children:[Object(g.jsxs)("div",{className:"text",children:[Object(g.jsxs)("div",{className:"titleImg-container",children:[Object(g.jsx)(N.a,{className:"error-image",srcFile:F}),Object(g.jsx)("p",{children:Object(u.translateWithI18Next)(W)})]}),Object(g.jsx)(s.a,{onClick:()=>c(w),className:"dismiss",children:Object(u.translateWithI18Next)(B)})]}),Object(g.jsxs)(s.a,{className:"custom-modal-close","data-testid":"custom-modal-close",onClick:()=>{L({type:H,value:!1})},children:[" ",Object(g.jsx)(N.a,{srcFile:U})]})]}),z=Object(g.jsx)(x,{id:"PDPToastAlert",role:"dialog",show:!0,classNames:"savedCustomizeClearAlert-modal",closeDataTestId:"handler-close",autoFocus:!0,childrenTemplate:Y});return Object(g.jsxs)(i.a.Fragment,{children:[Object(g.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(g.jsx)("form",{className:"form",children:Object(v.kc)(h)?Object(g.jsx)(I,{grouplist:h,getSelectedModifiers:null,selectedModifiers:null,tenantData:T,isModal:l,isStoreClosed:m,localized:b,catalog:j}):null})}),n&&Object(g.jsx)("div",{className:"price-content price-content-sopac",children:Object(g.jsx)("div",{className:"price-content-parent price-content-parent-sopac","data-testid":"product-listing-button-comp",children:Object(g.jsxs)(s.a,{className:"button start-order-btn redButton  confirmButton ".concat(_(k)," ").concat(Object(D.b)(M)),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:a,disabled:Object(v.k)(M),children:[Object(g.jsx)("span",{children:Object(u.translateWithI18Next)(C)}),Object(v.Tc)(0!==k,(e=>{const t=e>=0?e:e.toString().replace(/^-/,""),a="".concat(E).concat((e=>(e/A).toFixed(y.dg))(t));return Object(v.Tc)(e>0,"".concat(G," ").concat(a),"".concat(V," ").concat(a))})(k),"")]})})}),R.showToastAlert&&z]})},R=a(823);const L=(e,t,a)=>{let o={};if(e){var i;let l=null===(i=e.modgrps)||void 0===i?void 0:i.find((e=>e.id===a));var n;if(Object(v.Kd)(l))o=null===(n=l.modifiers)||void 0===n?void 0:n.find((e=>e.id===t))}return o};t.default=e=>{var t,a,i,n;const{isModal:s=!0,showPriceContent:m=!0,data:b={},isStoreClosed:O=!1,localized:I,catalog:S}=e,{PDP_PAYLOAD_DATA:f,SHOWTOASTALERT:N,RESET_SHOW_PDP_CUSTOM_MODAL:C,HASH_SYMBOL:T,SET_PDP_BUTTON_DISABLED:E}=p.a,{userOrderState:x,userOrderStateDispatch:D}=Object(o.useContext)(r.a),{pdpPayloadData:y,sopacPDPCustomization:_}=x,{showCustomizationModId:P="",showCustomizationModGrpId:w="",showCustomizationModGrpName:M=""}=_,k=Object(d.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),F=Object(v.Kd)(b)?Object(R.filteredModGroups)(b):L(k,P,w),U=e=>{D({type:N,value:!1});let t=Object(j.D)(e,"".concat(w).concat(T).concat(P));D({type:f,value:t}),D({type:E,value:{}}),D({type:C})},H=e=>{e.stopPropagation(),e.preventDefault(),Object(j.f)(y,"".concat(w).concat(T).concat(P))?D({type:N,value:!0}):U(y)},W=Object(g.jsx)(A,{data:F,handleClose:H,confirmHandler:e=>{e.stopPropagation(),e.preventDefault();let t=Object(j.J)(y,"".concat(w).concat(T).concat(P));t=Object(j.D)(t,"".concat(w).concat(T).concat(P)),U(t)},showPriceContent:m,"data-testid":"product-listing-modal-enabled",isModal:s,isStoreClosed:O,localized:I,onDismissedSelection:U,catalog:S}),B=Object(g.jsx)(c.a,{handleClose:H,ProductListingModalForm:W,headerText:null===(t="".concat(null===(a=Object(u.translateWithI18Next)(h.a.CUSTOMISE_YOUR))||void 0===a?void 0:a.toLowerCase()," ").concat(null===M||void 0===M||null===(i=M[0])||void 0===i||null===(n=i.value)||void 0===n?void 0:n.toLowerCase()))||void 0===t?void 0:t.replace(/\b(\w)/g,(e=>null===e||void 0===e?void 0:e.toUpperCase())),"data-testid":"product-listing-inside-modal",closeDataTestId:"handle-close"}),G=Object(g.jsx)("div",{className:"pdp-custm-sopac",children:W});return s?l.a.createPortal(B,document.getElementById("modal-popups")):G}},835:function(e,t,a){"use strict";a.r(t),a.d(t,"startOrderComponentView",(function(){return V})),a.d(t,"deepLinkWithPickupData",(function(){return Y})),a.d(t,"deepLinkWithDeliveryData",(function(){return z}));var o=a(3),i=a.n(o),n=a(25),l=a(76),d=a(5),c=a(6),r=a(122),s=a(63),u=a(0),v=a(811),m=a(18),b=a.n(m),O=a(1030),j=a(190),p=a(952),h=a(901),g=a(14),I=a(1016),S=a(992),f=a(827),N=a(84),C=a(92),T=a(15),E=a(101),x=a(319),D=a(324),y=a(898),_=a(110),A=a(69),R=a(2);const L=(e,t,a,o)=>{var i;let n=null===(i=t.categoryMapById)||void 0===i?void 0:i[e.parentID];return n&&(a.push({text:n.name,url:n.url}),L(n,t,a,o)),a.slice().reverse()},P=(e,t,a)=>{var o,i,n;const l=null===t||void 0===t||null===(o=t.categoryMapById)||void 0===o?void 0:o[e];return l?L(l,t,[{text:null===(i=l.dname)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.value,url:l.url}],a):[]},w=e=>{var t,a;const{productObject:o,tenantObject:i,isMobile:n,category_id:l,product_name:d,flatResponse:c,isStoreClosed:r,catalogs:s,isIpad:u,segmentedHomePageData:v,selectedProduct:m,showLegalInfo:b,dispositionType:O,imageContainerSize:j,indulgentImageContainerSize:h,storesWithStatus:g,updatedFetchMenuPayload:I}=e,S=g&&(null===(t=g[0])||void 0===t||null===(a=t.summary)||void 0===a?void 0:a.timeZoneIANA);let f={tenantData:i,isIpad:u,productDetails:o,prodName:m.selectedProductName,prodItems:m.selectedProductItems,prodURL:m.url,categoryName:m.selectedCategoryName,categoryUrl:m.selectedCategoryUrl,isMobile:n,dispositionType:O,displayBreadcrumbPDP:P(l,c,s),isStoreClosed:r,product_name:d,segmentedHomePageData:v,showLegalInfo:b,storeTimeZone:S,imageContainerSize:j,indulgentImageContainerSize:h,updatedFetchMenuPayload:I,catalogs:s};return Object(R.jsx)("div",{className:"pdp-container pdp-container-sopac",children:o&&(null===i||void 0===i?void 0:i.tenantId)&&Object(R.jsx)(p.a,{menuPDPItemData:f})})};var M=e=>{var t,a,m,p,L,P,M,k,F,U;const{tenantData:H,contentData:W,match:B,history:G,setStoreClosedInfo:V,segmentedHomePageData:Y}=e,{params:z}=B,{category_name:K="",product_name:q=""}=z,{storeInfo:J,dispositionType:Q,catalogs:X,isFromCatering:Z}=W,{showErrorMessageForHiddenCatogary:$,tenantId:ee,currencyConversionFactor:te,allowHiddenMenuViaExternalUrl:ae,country:oe,componentOptions:ie={web:{pdp:{}}},currencyShortName:ne}=H,le=Object(n.c)((e=>e.tenantReducer)),{enableScheduleOrder:de=!1,enableClickCollectScheduleOrder:ce=!1}=null===ie||void 0===ie||null===(t=ie.web)||void 0===t?void 0:t.dispositionConfig,re=null!==(a=null===ie||void 0===ie||null===(m=ie.web)||void 0===m||null===(p=m.scheduledDelivery)||void 0===p?void 0:p.allowScheduleOrderForDispositions)&&void 0!==a?a:[],se=de||ce,{web:{pdp:{showLegalInfo:ue=!1},shouldCheckDropOffAddress:ve=!1}}=ie,{SET_PDP_DEEPLINK_MODE:me,RESET_MODGROUP_IDS_UPDATE:be,PDP_PAYLOAD_DATA:Oe,RESET_SHOW_PDP_CUSTOM_MODAL:je,PDP_ITEM_UPSIZE_ID:pe,BROWSE_MENU_TITLE:he,ITME_NOT_AVAILABLE:ge,BROWSE_MENU:Ie,EXCLUDED:Se,NA:fe,PUSH:Ne}=j.a,{PLP_PDP_DETAILS:Ce,CLOSED:Te}=g.a,{userOrderStateDispatch:Ee,userOrderState:xe}=Object(o.useContext)(l.a),{pdpDeepLinking:De,ProductDetails:ye,pdpItemUpsizeId:_e,isFromMultiProductViewModal:Ae,isFromRecommendedSectionItemClick:Re,sopacPDPCustomization:Le,scheduleOrderData:Pe,pdpDataForUpdateFoodLine:we}=xe,{changeFlow:Me=!1,isAddressFlow:ke=!1}=Pe,{showPDPCustomization:Fe}=Le,{isFromPlp:Ue=!1}=Object(d.kd)(ye),[He,We]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),[Be,Ge]=Object(o.useState)(Object(d.Sd)()),[Ve,Ye]=Object(o.useState)(""),[ze,Ke]=Object(o.useState)({}),[qe,Je]=Object(o.useState)(""),Qe=Object(o.useMemo)((()=>Object(d.Kd)(ye)?ye:{}),[ye]),{SERVICE_CHANNEL:Xe}=v.default,Ze=Object(d.md)(null===J||void 0===J?void 0:J.id),$e=Q,et=Object(n.b)(),{menuReducer:{flatResponse:tt,currentItemDetails:at},menuReducer:ot}=Object(n.c)((e=>e)),it=Object(n.c)((e=>e.storesReducer)),{storesTimeSlots:nt,storesWithStatus:lt}=it,{cartReducer:dt}=Object(n.c)((e=>e)),{cartData:ct={}}=Object(d.kd)(dt),[rt,st]=Object(o.useState)(),ut=Object(_.b)(A.b),[vt,mt]=Object(o.useState)((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.pdpAlertPopup)&&void 0!==t&&t})(ut)),[bt,Ot]=Object(o.useState)({containerHeight:0,containerWidth:0}),[jt,pt]=Object(o.useState)({containerHeight:0,containerWidth:0}),{CartError:ht}=T.a,gt=null===ct||void 0===ct||null===(L=ct.requestedDateTime)||void 0===L?void 0:L.isForNow;let It={storeId:Ze,channel:Xe,service:$e};const St={enableScheduleOrderFlag:se,showOrderNow:gt,allowScheduleOrderForDispositions:re},ft=Object(D.q)(It,$e,St),Nt=null===ot||void 0===ot?void 0:ot.exclusionsResponse,Ct=(null===lt||void 0===lt||null===(P=lt[0])||void 0===P||null===(M=P.summary)||void 0===M||null===(k=M.menu)||void 0===k||null===(F=k.catalogs)||void 0===F?void 0:F[0])||X;Object(o.useEffect)((()=>{var e,t,a,o,i,n;at&&(void 0===(null===at||void 0===at||null===(e=at.modgrps)||void 0===e||null===(t=e[0])||void 0===t||null===(a=t.modifiers)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.isInitialDefault)||(null===le||void 0===le||null===(i=le.countryCode)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.toUpperCase())===(null===u.fb||void 0===u.fb?void 0:u.fb.JP))&&(()=>{if(Object(d.Kd)(Qe)){var e,t,a,o,i,n,l;const c=Object(d.Db)(ct),{couponCode:r="",amount:s=""}=Object(d.kd)(c),v=null===tt||void 0===tt||null===(e=tt.categoryMapByUrl)||void 0===e?void 0:e[K],m=null===v||void 0===v?void 0:v.name,b=[{item_name:Object(d.fb)(null===Qe||void 0===Qe||null===(t=Qe.productInfo)||void 0===t||null===(a=t.productName[0])||void 0===a?void 0:a.value,u.Ed),item_id:(null===at||void 0===at?void 0:at.id)||u.Ed,price:Object(d.fb)(null===Qe||void 0===Qe||null===(o=Qe.productInfo)||void 0===o?void 0:o.productPrice,u.Ed),coupon:r,currency:ne,discount:s,item_category:Object(d.fb)(m,u.Ed),item_list_name:u.p.PDP_UPSELL,item_list_id:(null===at||void 0===at?void 0:at.categoryId)||u.Ed,index:1,quantity:1,item_variant:Object(d.jc)(null===(i="".concat(Object(d.pc)(null===at||void 0===at?void 0:at.modgrps)))||void 0===i?void 0:i.trim())}];(null===le||void 0===le||null===(n=le.countryCode)||void 0===n||null===(l=n[0])||void 0===l?void 0:l.toUpperCase())===(null===u.fb||void 0===u.fb?void 0:u.fb.JP)&&Object(h.c)(b),Object(h.g)(b,Q)}})()}),[at]),Object(o.useEffect)((()=>((()=>{const e=Object(d.Ud)(window.innerWidth),t=Object(d.Sd)();We(e),Ge(t);const a=Object(x.m)(e);Ot(a);const o=Object(x.o)(e,window.innerWidth);pt({containerHeight:o.containerHeight,containerWidth:o.containerWidth})})(),Ee({type:be}),window.scrollTo(0,0),Ee({type:me,value:{pdpDeepLinking:!Ue}}),()=>{Ye(""),Ke({}),Ee({type:Oe,value:{}}),Ee({type:je}),Ee({type:pe,value:{pdpItemUpsizeId:""}})})),[]),Object(o.useEffect)((()=>{if(Object(d.Kd)(nt)){var e,t,a;const o={...J,summary:nt},{futureDates:i,scheduled:n,asap:l}=Object(d.kd)(null===o||void 0===o||null===(e=o.summary)||void 0===e?void 0:e.timings),{unavailibilities:c}=Object(d.kd)(n),{interval:r=0,startEndTime:s={}}=Object(d.kd)((null===n||void 0===n||null===(t=n.periods)||void 0===t?void 0:t.length)&&(null===n||void 0===n?void 0:n.periods[0])),{from:u,to:v}=s,m=Object(O.a)(u,v,r,l,i,oe,c);(null===nt||void 0===nt||null===(a=nt.status)||void 0===a?void 0:a.currentStatus)!==Te||m.length?st(!1):(V(o),st(!0),Object(y.C)(Z,G))}}),[nt]);Object(o.useEffect)((()=>{var e;(((e,t,a)=>e===(null===a||void 0===a?void 0:a.genericMenuName)||e&&t)(Ct,$e,H)&&et(Object(r.d)({tenantId:ee,catalogName:Ct},ft)),Ze&&$e&&!Ue)&&((e,t)=>{const a={data:Object(d.B)(e,t,null,ve,null===ut||void 0===ut?void 0:ut.latLong),store:e,tenantId:ee,setStatusFlag:!1,isFavoritePage:!1};et(Object(s.d)(a))})([J],Object(d.Ib)(null===(e=Object(E.i)(Me,ke,$e))||void 0===e?void 0:e.dispositionValue));((e,t,a,o,i)=>{if(!Object(d.Kd)(o)){let o=!1;if(Object(d.kc)(e)&&a){var n,l,c;let i=e.filter((e=>e.storeId===a||e.id===a));o=!(!Object(d.kc)(i)||(null===(n=i[0])||void 0===n||null===(l=n.summary)||void 0===l||null===(c=l.status)||void 0===c?void 0:c.currentStatus)!==t)}i(o)}})(lt,Te,Ze,nt,st)}),[Ze,$e]),Object(o.useEffect)((()=>{if(""!==Ve){var e,t;if(Object(d.fb)(Object(d.db)(Ve===(null===at||void 0===at?void 0:at.id),De),_e===(null===at||void 0===at?void 0:at.id))){var a;let e={productImage:null===at||void 0===at?void 0:at.imageName,productName:null===at||void 0===at?void 0:at.dname,productPrice:Object(d.yc)(null===at||void 0===at?void 0:at.availability[0],te)};const t={productId:null===at||void 0===at?void 0:at.id,customizable:null===at||void 0===at?void 0:at.customizable,categoryId:qe,catalogName:null===ot||void 0===ot||null===(a=ot.response)||void 0===a?void 0:a.id,productInfo:e,isFromPlp:Ue};Ee({type:Ce,value:t})}if(_e===(null===at||void 0===at?void 0:at.id)&&Ye(_e),(null===ot||void 0===ot||null===(e=ot.exclusionsResponse)||void 0===e?void 0:e.length)>0)((e,t,a,o)=>{var i;null!==e&&void 0!==e&&e.id&&(e[a]=Object(d.n)(null===e||void 0===e?void 0:e.id,t,o)),null===e||void 0===e||null===(i=e.modgrps)||void 0===i||i.map((e=>{var i;return null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.map((e=>{var i;return e[a]=Object(d.n)(null===e||void 0===e?void 0:e.id,t,o),null===e||void 0===e||null===(i=e.modgrps)||void 0===i||i.map((e=>{var i;return null===e||void 0===e||null===(i=e.modifiers)||void 0===i||i.map((e=>(e[a]=Object(d.n)(e.id,t,o),e))),e})),e})),e}))})(at,null===ot||void 0===ot?void 0:ot.exclusionsResponse,Se,fe),null===at||void 0===at||null===(t=at.recommendationRules)||void 0===t||t.forEach((e=>{Object(d.P)(null===e||void 0===e?void 0:e.recommendedItems,null===ot||void 0===ot?void 0:ot.exclusionsResponse,fe)}))}}),[null===at||void 0===at?void 0:at.id,Ve]),Object(o.useEffect)((()=>{if(Object(d.Kd)(tt)){const e=((e,t,a)=>{var o;const i=sessionStorage.getItem(u.Ke.CUSTOMISE_PDP_FLAG),n=(null===a||void 0===a?void 0:a.action)===j.a.PUSH,{flatResponse:l,category_name:c,product_name:r,setIsModalOpen:s,isFromMultiProductViewModal:v,productIdFromDetails:m,cartData:O,pdpDataForUpdateFoodLine:p,isFromRecommendedSectionItemClick:h,exclusionsResponse:g,showErrorMessageForHiddenCatogary:I}=e;let S="",f="",N=[],C="";const{categoryMapByUrl:T={}}=l,E=null===T||void 0===T?void 0:T[c],x=null===E||void 0===E||null===(o=E.productMapByProductUrl)||void 0===o?void 0:o[r],D=null!==t&&void 0!==t&&t&&((null===x||void 0===x?void 0:x.isHidden)||(null===E||void 0===E?void 0:E.isHidden)),y=((e,t,a,o,i)=>(e||!(null!==a&&void 0!==a&&a||o||null!==i&&void 0!==i&&i))&&(null===t||void 0===t?void 0:t.isHidden))(I,E,v,h,i);sessionStorage.removeItem(u.Ke.CUSTOMISE_PDP_FLAG);const _=Object(d.n)(m,g,"");if(!t&&(b()(E)||b()(x)||_)&&s(!0),t&&(b()(E)||b()(x)||_)&&Object(d.td)(a),b()(E)||b()(x)||D||y&&!n)return!t&&y&&s(!0),!1;if(Object(d.Kd)(x)){const e=Object.values(x.itemMapByItemId);S=((e,t,a,o,i)=>{if(null!==i&&void 0!==i&&i.foodLineId){var n,l;let e=null===i||void 0===i?void 0:i.foodLineId,t=null===o||void 0===o||null===(n=o.foodLines)||void 0===n?void 0:n.find((t=>{let{id:a}=t;return a===e}));return null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l.id}var d,c;return t?a||(null===e||void 0===e||null===(d=e[0])||void 0===d?void 0:d.id):null===e||void 0===e||null===(c=e[0])||void 0===c?void 0:c.id})(e,v,m,O,p),f=x.dname,N=e,C=x.url}return{id:S,name:f,items:N,url:C,categoryName:null===E||void 0===E?void 0:E.name,categoryId:null===E||void 0===E?void 0:E.id}})({flatResponse:tt,category_name:K,product_name:q,setIsModalOpen:mt,isFromMultiProductViewModal:Ae,isFromRecommendedSectionItemClick:Re,productIdFromDetails:null===Qe||void 0===Qe?void 0:Qe.productId,cartData:ct,pdpDataForUpdateFoodLine:we,exclusionsResponse:null===ot||void 0===ot?void 0:ot.exclusionsResponse,showErrorMessageForHiddenCatogary:$},null===xe||void 0===xe?void 0:xe.isDeepLinkURL,G),{categoryId:t="",categoryName:a="",id:o,name:i,url:n,items:l}=e,c=o;c&&(Je(t),Ye(c),Ke({selectedProductName:i,selectedProductItems:l,url:n,selectedCategoryName:a,selectedCategoryUrl:K}),Ee({type:pe,value:{pdpItemUpsizeId:c}}),et(Object(r.c)({tenantId:ee,catalogName:Ct,itemId:c})))}}),[null===tt||void 0===tt?void 0:tt.categoryMapByUrl,De,q,Nt]);const Tt=()=>{Object(y.C)(Z,G),mt(!1)},Et={productObject:Qe,tenantObject:H,isMobile:He,category_id:qe,product_name:q,flatResponse:tt,isStoreClosed:rt,catalogs:X,isIpad:Be,segmentedHomePageData:Y,selectedProduct:ze,showLegalInfo:ue,dispositionType:Q,imageContainerSize:bt,indulgentImageContainerSize:jt,storesWithStatus:lt,updatedFetchMenuPayload:ft};return Object(R.jsxs)(i.a.Fragment,{children:[Object(d.Tc)(Object(d.db)(bt.containerHeight,jt.containerHeight),w(Et),Object(R.jsx)(R.Fragment,{})),xe.addToCart&&xe.isLocalized&&xe.fromPdpPage&&Object(R.jsx)(I.a,{flatResponse:tt,tenantReducer:H}),(null===(U=xe.cartAlertData)||void 0===U?void 0:U.showCartAlert)&&Object(R.jsx)(S.a,{}),Fe&&Object(R.jsx)(f.default,{}),vt?Object(R.jsx)(C.a,{handleClose:Tt,classNames:"clear-cart-modal item-unavailable",CartAlertForm:Object(R.jsx)(N.a,{title:Object(c.translateWithI18Next)(ge),contentMsg:Object(c.translateWithI18Next)(he),imageSrc:ht,altText:Object(c.translateWithI18Next)(Ie),confirmButtonText:Object(c.translateWithI18Next)(Ie),confirmHandler:Tt})}):null]})},k=a(902),F=a(932),U=a(61),H=a(129),W=a(30),B=a(826),G=a(908);const V=(e,t,a)=>{var o,i;return Object(R.jsx)(F.a,{contentData:{segmentedHomePageData:null!==(o=null===e||void 0===e?void 0:e[a])&&void 0!==o?o:{},contentDispositionData:null!==(i=null===e||void 0===e?void 0:e[a])&&void 0!==i?i:{}},userParams:t})},Y=e=>{var t,a,o;const{storesWithStatus:i,userOrderStateDispatch:n,userParams:l,qParams:c,tenantReducer:r,history:s,setDeeplinkFlagAddToCart:v,params:m,dispatch:b,dispositionNew:O}=e;if((null===i||void 0===i||null===(t=i[0])||void 0===t||null===(a=t.summary)||void 0===a||null===(o=a.status)||void 0===o?void 0:o.currentStatus)!==g.a.CLOSED){const e=Object(d.Tc)((null===c||void 0===c?void 0:c.action)===u.k,!0,!1);n({type:g.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),Object(d.oe)({dispatch:b,service:null===c||void 0===c?void 0:c.ordertype,storeId:null===c||void 0===c?void 0:c.storeid,tenantId:null===r||void 0===r?void 0:r.tenantId,userOrderStateDispatch:n,userParams:l,shouldCheckDropOffAddress:!1,history:s}),v(e)}else n({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}})},z=(e,t,a,o,i)=>{var n,l,c;if(a({type:g.a.IS_DEEPLINK_URL,value:{isDeepLinkURL:!0}}),null!==e&&void 0!==e&&e.localized){if(null!==e&&void 0!==e&&e.localized&&(null===i||void 0===i?void 0:i.ordertype)!==u.Dd){var r,s,v;(null===t||void 0===t||null===(r=t[0])||void 0===r||null===(s=r.summary)||void 0===s||null===(v=s.status)||void 0===v?void 0:v.currentStatus)===g.a.CLOSED&&a({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}})}}else(null===t||void 0===t||null===(n=t[0])||void 0===n||null===(l=n.summary)||void 0===l||null===(c=l.status)||void 0===c?void 0:c.currentStatus)!==g.a.CLOSED?a({type:g.a.DISPOSITION_DATA,value:{showDisposition:!0}}):Object(d.td)(o)};t.default=e=>{var t,a,c,r,s;const{userOrderState:v,userOrderStateDispatch:m}=Object(o.useContext)(l.a),{menuNavRestricted:b}=v,O=Object(n.c)((e=>e.tenantReducer)),p=Object(d.Tc)(Object(d.Jd)(null===v||void 0===v?void 0:v.dispositionNew),JSON.parse(localStorage.getItem(u.gd.DISPOSITION_NEW)),null===v||void 0===v?void 0:v.dispositionNew),h=Object(n.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),{flatResponse:{categoryMapByUrl:g={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},{category_name:I,product_name:S}=Object(U.i)(),[f,N]=Object(o.useState)(u.ke),[C,T]=Object(o.useState)(),[E,x]=i.a.useState(Object(d.Ud)(window.innerWidth)),_=Object(U.h)(),L=Object(n.b)(),P=Object(U.g)(),w=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),F=null===v||void 0===v?void 0:v.pdpDataForUpdateFoodLine,{pdpPayloadData:V,isDeepLinkURL:K}=v,[q,J]=Object(o.useState)(!1),[Q,X]=Object(o.useState)(!1),Z=Object(n.c)((e=>e.cartReducer)),$=Object(n.c)((e=>e.storesReducer)),{storesWithStatus:ee}=$,{cartData:te={}}=Object(d.kd)(Z),ae=()=>{const e=Object(d.Ud)(window.innerWidth);x(e)};Object(o.useEffect)((()=>{var e;const{seoPageName:t,seoObject:a}=null!==(e=Object(B.getSeoPageWithObject)(O,g,I,S))&&void 0!==e?e:{};T(a),N(t)}),[I,S,null===g||void 0===g?void 0:g[I]]),Object(o.useEffect)((()=>(m({type:j.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}}),()=>{m({type:j.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!1}}),m({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}}),m({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),L(Object(A.c)({key:u.gd.VIEW_PRODUCT}))})),[m]),Object(o.useEffect)((()=>{const e=()=>{L(Object(A.c)({key:u.gd.VIEW_PRODUCT}))};return window.addEventListener(u.v,e),()=>{window.removeEventListener(u.v,e)}}),[]),Object(o.useEffect)((()=>{window.addEventListener(u.we,ae)}),[E]);const oe=Object(o.useMemo)((()=>{var t,a,o,i,n,l,c;const r=Object(H.c)({path:null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.pathname,genericMenuName:null===O||void 0===O?void 0:O.genericMenuName,genericCateringName:null===O||void 0===O?void 0:O.genericCateringName,defaultdisposition:null===O||void 0===O||null===(a=O.authoredContent)||void 0===a?void 0:a.defaultdisposition,defaultcateringdisposition:null===O||void 0===O||null===(o=O.authoredContent)||void 0===o?void 0:o.defaultcateringdisposition}),s=Object(d.kd)(null===p||void 0===p?void 0:p.store);return{tenantReducer:Object(d.Tc)(Object(d.Kd)(O),O,JSON.parse(localStorage.getItem(u.gd.TENANT_REDUCER))),storeInfo:s,selectedDate:null===p||void 0===p?void 0:p.date,selectedTime:null===p||void 0===p?void 0:p.time,dispositionType:Object(d.Tc)(null===p||void 0===p?void 0:p.type,Object(d.Ib)(null===p||void 0===p?void 0:p.type),Object(d.Ib)(null===r||void 0===r?void 0:r.defaultdispostitionType)),selectedTile:Object(d.Tc)(Object(d.Kd)(null===v||void 0===v?void 0:v.selectedTile),null===v||void 0===v?void 0:v.selectedTile,JSON.parse(localStorage.getItem(u.gd.SELECTED_TILE))),catalogs:Object(d.ob)(null===s||void 0===s||null===(i=s.summary)||void 0===i||null===(n=i.menu)||void 0===n||null===(l=n.catalogs)||void 0===l?void 0:l[0],null===r||void 0===r?void 0:r.defaultMenuName,""),isFromCatering:Object(H.b)(null===e||void 0===e||null===(c=e.location)||void 0===c?void 0:c.pathname)}}),[p,O,v,null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.pathname]);Object(o.useEffect)((()=>{var t;let a=[{url:Object(d.Tc)((null===p||void 0===p||null===(t=p.type)||void 0===t?void 0:t.toLowerCase())===u.M,u.M,u.nd)}];const o={pathname:null===_||void 0===_?void 0:_.pathname,userParams:w,baseCategory:a,history:null===e||void 0===e?void 0:e.history,menuNavRestricted:b,userOrderStateDispatch:m};Object(D.o)(o)}),[null===_||void 0===_?void 0:_.pathname]);return Object(o.useEffect)((()=>{if(Object(d.l)(h,Object(d.Kd)(V),K)){const{customizable:e,isExcluded:t}=h;if(!K&&Object(d.ob)(t,Object(y.c)(V)))return void Object(d.td)(P);e||X(!0)}}),[h,V,ee,K]),Object(o.useEffect)((()=>{var e;const t=null===_||void 0===_||null===(e=_.search)||void 0===e?void 0:e.split("?")[1];if(t){const e=new URLSearchParams(t),a=Object.fromEntries(e.entries());Object(d.Xd)(null===a||void 0===a?void 0:a.ordertype)&&null!==a&&void 0!==a&&a.storeid&&Y({storesWithStatus:ee,userOrderStateDispatch:m,userParams:w,qParams:a,tenantReducer:O,history:P,setDeeplinkFlagAddToCart:J,params:oe,dispatch:L,dispositionNew:p}),(Object(d.Ad)(null===a||void 0===a?void 0:a.ordertype)&&null!==a&&void 0!==a&&a.storeid||(null===a||void 0===a?void 0:a.ordertype)===u.Dd)&&z(w,ee,m,P,a)}}),[null===ee||void 0===ee||null===(c=ee[0])||void 0===c||null===(r=c.summary)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.currentStatus]),Object(o.useEffect)((()=>{if(Object(d.l)(Q,q,Object(d.Kd)(V),null===te||void 0===te?void 0:te.id,null===V||void 0===V?void 0:V.id)){J(!1);let e=Object(y.m)(V);L(Object(W.a)({params:{basketId:null===te||void 0===te?void 0:te.id},tenantId:null===O||void 0===O?void 0:O.tenantId},[e],(()=>{Object(d.td)(P)})))}}),[L,F,V,q,te,O,Q]),Object(R.jsxs)(i.a.Fragment,{children:[C&&Object(R.jsx)(G.a,{page:f,seoObj:C}),Object(R.jsx)(M,{tenantData:O,contentData:oe,...e,setStoreClosedInfo:e=>{Object(d.jf)(e,m,p,Object(d.Fb)(oe.dispositionType))}}),Object(d.Tc)(v.showCartClearAlert,Object(R.jsx)(k.a,{}),null)]})}},898:function(e,t,a){"use strict";a.d(t,"j",(function(){return N})),a.d(t,"k",(function(){return C})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return w})),a.d(t,"e",(function(){return F})),a.d(t,"o",(function(){return U})),a.d(t,"p",(function(){return H})),a.d(t,"n",(function(){return W})),a.d(t,"q",(function(){return B})),a.d(t,"x",(function(){return G})),a.d(t,"u",(function(){return V})),a.d(t,"v",(function(){return Y})),a.d(t,"w",(function(){return z})),a.d(t,"K",(function(){return Q})),a.d(t,"I",(function(){return X})),a.d(t,"J",(function(){return Z})),a.d(t,"D",(function(){return $})),a.d(t,"E",(function(){return ee})),a.d(t,"f",(function(){return te})),a.d(t,"g",(function(){return ae})),a.d(t,"G",(function(){return oe})),a.d(t,"y",(function(){return ie})),a.d(t,"z",(function(){return ne})),a.d(t,"H",(function(){return le})),a.d(t,"L",(function(){return ce})),a.d(t,"s",(function(){return re})),a.d(t,"b",(function(){return se})),a.d(t,"d",(function(){return ue})),a.d(t,"c",(function(){return ve})),a.d(t,"C",(function(){return me})),a.d(t,"a",(function(){return be})),a.d(t,"A",(function(){return Oe})),a.d(t,"B",(function(){return je})),a.d(t,"F",(function(){return pe})),a.d(t,"i",(function(){return he})),a.d(t,"h",(function(){return ge})),a.d(t,"t",(function(){return Ie})),a.d(t,"r",(function(){return fe}));var o=a(6),i=a(5),n=(a(914),a(54)),l=a(190),d=a(0),c=a(4),r=a(940),s=a(212),u=a(15),v=a(52),m=a(931),b=a.n(m),O=a(11),j=a(325),p=a(49),h=a(916),g=a(952),I=a(962),S=a.n(I),f=a(2);const N=(e,t,a,o,n,l)=>{let c;if(a){var r,s,u,v,m;const a=null===l||void 0===l?void 0:l[d.gd.VIEW_PRODUCT],c=[C(null===a||void 0===a||null===(r=a.priceDetails)||void 0===r||null===(s=r.find((e=>(null===e||void 0===e?void 0:e.id)===o)))||void 0===s?void 0:s.availability,n)],b=(null===c||void 0===c||null===(u=c[0])||void 0===u?void 0:u.promoPrice)<(null===c||void 0===c||null===(v=c[0])||void 0===v?void 0:v.price)?null===c||void 0===c||null===(m=c[0])||void 0===m?void 0:m.promoPrice:0,O=b?{...null===c||void 0===c?void 0:c[0],price:b}:e;return Object(i.yc)(O,t,n)||0}return Object(i.Kd)(e)&&(c=Object(i.yc)(e,t,n)||0),c},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=0,o="",n="";if(t||(t=Object(i.Oc)()),e.length>1){const c=Object(i.D)(t),r=t&&Object(O.E)(t,d.Of);return e.forEach((e=>{const{price:t=0,availableHours:i={},dayOfWeek:{day:l=""}}=e,{startTime:s={},endTime:u={}}=i,v=parseInt(s.time,10),m=parseInt(u.time,10),b=((e,t,a,o,i)=>e>=t&&e<=a&&o>i||a<t&&e<a)(c,v,m,t,a);o=l,n=b,l===d.cc?(v<m&&b||v>m&&(c>=v||c<=m)&&t>a)&&(a=t):l===r&&b&&(a=t)})),o===d.cc?n?e[1]:e[0]:b()(e,[l.a.DAY_OF_WEEK,{day:null===r||void 0===r?void 0:r.toUpperCase()}])}return e[0]},T=(e,t,a,o,n,d,c,r,s)=>{const{id:u,name:v,modgrps:m,availability:b=[]}=Object(i.Lb)(JSON.parse(JSON.stringify(e))),O=n?C(b,n):b[0];let j=null!==d&&void 0!==d&&d.foodLineId&&E(null===d||void 0===d?void 0:d.foodLineId,c,u)&&!o?x(null===d||void 0===d?void 0:d.foodLineId,c):Math.round(N(O,a,o,u,n,r)*a);var p;Object(i.kc)(null===e||void 0===e?void 0:e.modgrps)&&(null===d||void 0===d?void 0:d.flag)!==l.a.CUSTOMISE_FLAG_CART&&s&&(null===e||void 0===e||null===(p=e.modgrps)||void 0===p||p.map((e=>{var t;const a=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));if(Object(i.kc)(a)){var o,n,l,d;let e=null!==(o=null===(n=a[0])||void 0===n||null===(l=n.availability)||void 0===l||null===(d=l[0])||void 0===d?void 0:d.price)&&void 0!==o?o:0;j+=e}})));return{id:u,quantity:null!==t&&void 0!==t?t:0,name:v,basePrice:j,newBasePrice:j,unitPrice:t?j*t:0,modGrps:R(m,a,u)}},E=(e,t,a)=>{var o,i;let n=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((t=>{let{id:a}=t;return a===e}));return(null===n||void 0===n||null===(i=n.item)||void 0===i?void 0:i.id)===a},x=(e,t)=>{var a;let o=null===t||void 0===t||null===(a=t.foodLines)||void 0===a?void 0:a.find((t=>{let{id:a}=t;return a===e}));if(o)return null===o||void 0===o?void 0:o.unitPrice},D=(e,t)=>{e&&null!==t&&void 0!==t&&t.custom&&(t.isDefault=!1,t.quantity=0)},y=e=>{var t;let a=null===e||void 0===e||null===(t=e.modifiers)||void 0===t?void 0:t.filter((e=>null===e||void 0===e?void 0:e.isDefault));return(null===a||void 0===a?void 0:a.length)>1},_=e=>null!==e&&void 0!==e&&e.isInitialDefault?e.isInitialDefault:e.isDefault,A=(e,t,a)=>{var o,i;let n=null===e||void 0===e?void 0:e.filter((e=>{let{id:a}=e;return a===t}));return null===n||void 0===n||null===(o=n[0])||void 0===o||null===(i=o.modifiers)||void 0===i?void 0:i.filter((e=>{let{id:t}=e;return t===a}))},R=(e,t,a)=>{let o={};return null===e||void 0===e||e.forEach(((e,i)=>o[e.id]={id:e.id,name:e.name,parentId:a,modifiers:P(e.modifiers,t,"".concat(a).concat(l.a.HASH_SYMBOL).concat(e.id)),orderIndex:i,min:e.min})),o},L=e=>null!==e&&void 0!==e&&e.quantity?null===e||void 0===e?void 0:e.quantity:null!==e&&void 0!==e&&e.isDefault?null===e||void 0===e?void 0:e.defaultQuantity:0,P=(e,t,a)=>{let o={};return e.forEach((e=>{let n=+Math.round(Object(i.yc)(e.availability[0],t)*t);o[e.id]={id:e.id,parentId:a,name:e.name,dname:e.dname,quantity:L(e),isSelected:e.isDefault,modGrps:Object(i.kc)(e.modgrps)?R(e.modgrps,t,"".concat(a).concat(l.a.HASH_SYMBOL).concat(e.id)):{},basePrice:n,unitPrice:e.isDefault?e.defaultQuantity*n:0,newQuantity:null,newUnitPrice:null,newSelectedFlag:null,isDefault:e.isAdded?"":e.isDefault,defaultQuantity:e.defaultQuantity,isEditConfirmed:!!e.isEditConfirmed&&e.isEditConfirmed,isExcluded:e.isExcluded,isInitialDefault:null===e||void 0===e?void 0:e.isInitialDefault}})),o},w=e=>{let{id:t,quantity:a}=e;return{id:t,quantity:a,modGrps:M(e.modGrps)}},M=e=>Object.values(e).filter((e=>Object.keys(e.modifiers).length>0)).map((e=>{let{id:t,name:a,orderIndex:o}=e;return{id:t,name:a,modifiers:k(e.modifiers),orderIndex:o}})).sort(((e,t)=>+e.orderIndex-+t.orderIndex)),k=e=>Object.values(e).filter((e=>e.quantity>0&&!e.isExcluded)).map((e=>{let{id:t,name:a,quantity:o,modGrps:i}=e;return{id:t,name:a,quantity:o,modGrps:Object.keys(i).length>0?M(i):[]}})),F=(e,t,a,i)=>{var n,l;const r=e+1,s=null===i||void 0===i?void 0:i[d.gd.PROMO_PRODUCT_CART],m=(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.foodItemId);var b;if(r===(null!==a&&void 0!==a&&a.maxQuantity?+(null===a||void 0===a?void 0:a.maxQuantity):+(null===s||void 0===s||null===(n=s.promoParams)||void 0===n||null===(l=n.find((e=>(null===e||void 0===e?void 0:e.itemId)===m)))||void 0===l?void 0:l.maxQuantity))&&t)return Object(v.b)(Object(f.jsxs)("div",{"data-testid":"validate-toast",className:"img-text-container",children:[Object(f.jsx)("div",{className:"image",children:Object(f.jsx)(j.a,{srcFile:u.a.ErrorImage})}),Object(f.jsx)("span",{className:"text",children:Object(o.translateWithI18Next)(c.a.MAX_ORDER_PROMO)})]}),{bodyClassName:"pdp-promo-toast",className:"pdp-promo-toast-container err-toast",hideProgressBar:!0,position:null===v.b||void 0===v.b||null===(b=v.b.POSITION)||void 0===b?void 0:b.BOTTOM_CENTER,closeButton:!1,autoClose:!0})},U=(e,t,a,o)=>{if(e){var i,n;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(n=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.maxQuantity);return e||o}return o},H=(e,t,a,o)=>{if(e){var i,n;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(n=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.minQuantity);return e||o}return o},W=(e,t,a,o)=>{if(e){var i,n;const e=+(null===t||void 0===t||null===(i=t.promoParams)||void 0===i||null===(n=i.find((e=>(null===e||void 0===e?void 0:e.itemId)===a)))||void 0===n?void 0:n.quantity);return e||o}return o},B=(e,t)=>{const a=t.includes(l.a.HASH_SYMBOL)?t.split(l.a.HASH_SYMBOL):[t];if(Object(i.kc)(a)&&0!==(null===e||void 0===e?void 0:e.length)&&Object(i.kc)(Object.keys(null===e||void 0===e?void 0:e.modGrps))){let t=e;return a.forEach(((e,a)=>{var o,i;a%2===0?t=null===(o=t)||void 0===o?void 0:o.modGrps[e]:t=null===(i=t)||void 0===i?void 0:i.modifiers[e]})),t}return!1},G=(e,t)=>{let a=B(e,t);return Object(i.Kd)(a)?null===a.newQuantity&&a.quantity||a.newQuantity:null},V=(e,t)=>{let a=B(e,t);return Object(i.Kd)(a)?null===a.newSelectedFlag?a.isSelected:a.newSelectedFlag:null},Y=(e,t)=>{let a=B(e,t);return Object(i.Kd)(a)?a.isEditConfirmed:null},z=(e,t,a)=>{let o=B(e,t);return Object(i.Kd)(o)?K(o,a):0},K=(e,t)=>{let a=q(e.modGrps,[e]);return 0===a.length?0:a.filter((t=>!0===((null===t||void 0===t?void 0:t.id)===(null===e||void 0===e?void 0:e.id)||(null===t||void 0===t?void 0:t.isSelected)))).reduce(((a,o)=>{let i=(null===o||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.id)?t:null===e||void 0===e?void 0:e.quantity;return a+(null===o||void 0===o?void 0:o.basePrice)*i}),0)},q=(e,t)=>{let a=[];return Object(i.Kd)(e)&&(a=Object.values(e).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})),a.forEach((e=>(t.push(e),Object(i.Kd)(e.modGrps)?q(e.modGrps,t):q({},t))))),t},J=(e,t,a,o)=>{const n=t.split(l.a.HASH_SYMBOL),{quantityKey:d,unitPriceKey:c,isSelectedKey:r}=o,s=B(e,t);if(Object(i.kc)(n)&&e&&Object(i.kc)(Object.keys(e.modGrps))){let t=null;switch(n.length){case 2:t=e.modGrps[n[0]].modifiers[n[1]];break;case 4:t=e.modGrps[n[0]].modifiers[n[1]].modGrps[n[2]].modifiers[n[3]]}t[d]=a,t[c]=a?a*s.basePrice:s.basePrice,t[r]=!!a}return e},Q=(e,t,a)=>J(e,t,a,{quantityKey:"newQuantity",unitPriceKey:"newUnitPrice",isSelectedKey:"newSelectedFlag"}),X=(e,t,a)=>J(e,t,a,{quantityKey:"quantity",unitPriceKey:"unitPrice",isSelectedKey:"isSelected"}),Z=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),o=e.modGrps[a[0]].modifiers[a[1]];let n=!1;return Object.values(o.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{let t=Object(i.Tc)(e.isInitialDefault,e.defaultQuantity,0);(Object(i.j)([null!==e.newQuantity,e.newQuantity!==e.quantity,e.newQuantity!==t])||Object(i.db)(null==e.newQuantity,e.quantity!==t)||Object(i.j)([null!==e.newQuantity,e.newQuantity===e.quantity,e.newQuantity!==t]))&&(n=!0),null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&e.newQuantity!==e.quantity&&(e.quantity=e.newQuantity,e.unitPrice=e.newUnitPrice,e.isSelected=e.newSelectedFlag)})),o.isEditConfirmed=n,e.basePrice=e.newBasePrice,e.unitPrice=e.newBasePrice*e.quantity,e},$=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),o=e.modGrps[a[0]].modifiers[a[1]];return Object.values(o.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{null!==e.newQuantity&&null!==e.newUnitPrice&&null!==e.newSelectedFlag&&(e.newQuantity=e.newUnitPrice=e.newSelectedFlag=null)})),e.newBasePrice=e.basePrice,e},ee=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),o=e.modGrps[a[0]].modifiers[a[1]];if(Object(i.kc)(Object.values(o.modGrps))){Object.values(o.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).forEach((e=>{e.isSelected=e.isDefault,e.quantity=e.isDefault?e.defaultQuantity:0,e.unitPrice=e.isDefault?e.defaultQuantity*e.basePrice:0})),o.isEditConfirmed=!1}return e},te=(e,t)=>{const a=t.split(l.a.HASH_SYMBOL),o=e.modGrps[a[0]].modifiers[a[1]];return Object.values(o.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).some((e=>null!==e.newQuantity&&e.newQuantity!==e.quantity))},ae=(e,t)=>{var a;const o=null===t||void 0===t||null===(a=t.modGrps)||void 0===a?void 0:a[e];if(Object(i.Kd)(o)){return Object.values(o.modifiers).some((e=>e.isInitialDefault&&!e.isSelected||e.isSelected&&e.isEditConfirmed))}return!1},oe=(e,t,a)=>{let{price:o,flag:i}=t;const{BASEPRICE:d,NEWBASEPRICE:c}=l.a,{QUANTITY_ACTION:r}=n.a;let s=a?c:d,u=e[s],v=i===r.Increase?u+o:u-o,m={...e,[s]:v,unitPrice:s===d?e.quantity*v:e.unitPrice};return s===d&&(m.newBasePrice=v),m},ie=(e,t,a,n,l,r)=>{var s,u,v;const m=null===r||void 0===r||null===(s=r.componentOptions)||void 0===s||null===(u=s.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.showNoWordWhenModifierOutOfStock,{NO:b}=c.a;let O=B(e,t);if(O&&Object(i.kc)(Object.keys(O))){const e=Object.values(null===O||void 0===O?void 0:O.modifiers);let t=n?e:(e=>e.filter((e=>(null===(null===e||void 0===e?void 0:e.newQuantity)?null===e||void 0===e?void 0:e.quantity:null===e||void 0===e?void 0:e.newQuantity)>=1)))(e),i=[];return t.map(((e,t)=>{let{name:c,quantity:r,newQuantity:s,basePrice:u,newUnitPrice:v,isExcluded:O}=e,j=null!==s?s:r,p=null!==v?v:u*j;return j>0?null===i||void 0===i||i.push(t):i.filter((e=>e!==t)),Object(f.jsxs)("span",{children:[(null===i||void 0===i?void 0:i.length)>1&&!!j&&Object(f.jsx)("span",{children:","})," ",O&&Object(f.jsxs)("span",{children:[m&&"".concat(Object(o.translateWithI18Next)(b))," ",c," ",m&&"(-)"]}),!O&&Object(f.jsxs)(f.Fragment,{children:[j>1&&Object(f.jsxs)("span",{children:[" ",j,"x "]}),j>0&&c,0!==p&&j>0&&Object(f.jsxs)("span",{children:[" ","(+ ",l+(p/a).toFixed(d.dg),")"]}),0===j&&!!r&&n&&Object(f.jsxs)("span",{children:[m&&"".concat(Object(o.translateWithI18Next)(b))," ",c," ",m&&"(-)"," "]})]})]})}))}},ne=function(e,t,a,n){let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const{INEXTRAS:c}=l.a;let r=B(e,t);if(r&&Object(i.Kd)(r)&&Object(i.Kd)(null===r||void 0===r?void 0:r.modGrps)){let e=Object.values(null===r||void 0===r?void 0:r.modGrps).map((e=>Object.values(e.modifiers))).reduce((function(e,t){return e.concat(t)})).filter((e=>e.quantity>0)).reduce((function(e,t){return e+(null===t||void 0===t?void 0:t.basePrice)*(null===t||void 0===t?void 0:t.quantity)}),0);return 0!==e&&" (+ ".concat(n).concat((e/a).toFixed(d)," ").concat(Object(o.translateWithI18Next)(c),")")}return 0!==r.basePrice&&"(+ ".concat(n).concat((r.basePrice*r.quantity/a).toFixed(d),")")},le=e=>{var t;let{pdpPayloadData:a,forModal:o,modgrps:l,getPayloadUpdated:d,modifierPrice:c,isL3Custom:r,getUpdatedPrice:s,userOrderState:u,flag:v}=e;const{QUANTITY_ACTION:m}=n.a;let b=null===u||void 0===u||null===(t=u.sopacPDPCustomization)||void 0===t?void 0:t.updatedPrice;return Object(i.Kd)(a)&&!o&&(Object(i.kc)(l)||(d=oe(a,{price:c,flag:v},r)),r&&(s=v===m.Decrease?b-c:b+c)),{getPayloadUpdated:d,getUpdatedPrice:s}},de=(e,t)=>S()(t)?{valueToDisplay:e,valueToCount:t}:{valueToDisplay:e,valueToCount:e},ce=(e,t)=>{const{modgrpMax:a,modgrpMin:o,modifierMax:n,modifierMin:l,modgrpCount:d,itemCount:c,SET_PDP_BUTTON_DISABLED:s,userOrderStateDispatch:u,userOrderState:v,modgrpId:m,pdpCateringItemQuantityLimit:b}=t;let O=Number(e.target.value),j=e.target.value;if(!isNaN(O)&&S()(O)){if(Object(i.db)(""===j,a))return Object(r.b)(d-c,o,s,u,v,m),de(j,l);if(""===j)return de(j);if(j=+j,j>b)return de(!1);if(void 0!==a){let e=d-c+j,t=a-e,l=n-j;if(t<0){let t=a-d+c;Object(r.b)(e,o,s,u,v,m);let l=Object(i.Tc)(t<=n,t,n);return de(l)}if(t>=0)return Object(r.b)(e,o,s,u,v,m),de(l>=0?j:n)}return de(j)}return de(!1)},re=e=>Object(i.Tc)(Object(i.yd)(e),"","retail-item-qty"),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i.kc)(e)?null===e||void 0===e?void 0:e.map(((a,n)=>{var l;let c;return c=t&&a.url===d.Ud.COUPON?d.Ae.PROMOS_REWARDS_PAGE:Object(i.Tc)(0===n,"/".concat(a.url),"/".concat(e[0].url,"/").concat(a.url)),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(s.a,{"data-testid":"pdp-links-".concat(a.text),className:"pdp-anchor-link",href:c,children:Object(o.translateWithI18Next)(null===a||void 0===a||null===(l=a.text)||void 0===l?void 0:l.toLowerCase())}),Object(f.jsx)("span",{children:Object(i.Tc)(n===e.length-1,""," > ")})]})})):Object(f.jsx)(f.Fragment,{})},ue=(e,t)=>{var a;let o=!1;const n=null===t||void 0===t||null===(a=t.modGrps)||void 0===a?void 0:a[e];if(Object(i.Kd)(n)){const e=Object.values(null===n||void 0===n?void 0:n.modifiers);o=(null===n||void 0===n?void 0:n.min)>0&&(e.some((e=>e.isSelected&&(null===e||void 0===e?void 0:e.isExcluded)))||e.every((e=>!e.isSelected)))}return o},ve=e=>{let t=!1,a=null===e||void 0===e?void 0:e.modGrps;for(let l in a){var o,i;if(t=ue(null===(o=a[l])||void 0===o?void 0:o.id,e),t)return!0;let d=null===(i=a[l])||void 0===i?void 0:i.modifiers;for(let e in d){var n;if(null!==d&&void 0!==d&&null!==(n=d[e])&&void 0!==n&&n.isSelected&&(t=ve(null===d||void 0===d?void 0:d[e]),t))return!0}}return t},me=(e,t)=>{e?Object(i.Fe)({history:t}):Object(i.Ne)({history:t})},be=function(e,t,a,o,i,n){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";null!==t&&void 0!==t&&t.id&&e&&Object(p.f)(a,o,null===t||void 0===t?void 0:t.totalAmount,i,l,n)},Oe=e=>{const{modgrpMax:t,selectedProduct:a,modgrpMin:o,name:n,size:l,location:d,setInitialRender:c,savedModifierHandler:r,setSelectedProduct:s,cardData:u,savedModifiers:v,userOrderState:m,userOrderStateDispatch:b,modGrpName:O,pdpPayloadData:j,objPath:p,isModal:g}=e;if(Object(i.fb)(Object(i.db)(1===t,!a),0===o)){let e={name:n,size:l},I=Object(i.wb)(d.pathname),S={analyticsObjectData:e,currLocationInfo:I};c(!1),Object(h.c)(e,I,S,o,t,a,r,s,u,v,m,b,O,j,p,g,!1)}},je=(e,t,a)=>{e.preventDefault();let o=ce(e,{pdpCateringItemQuantityLimit:t}).valueToCount;!1!==o&&a(o);const i=e.target.selectionStart,n=e.target;window.requestAnimationFrame((()=>{n.selectionStart=i,n.selectionEnd=i}))},pe=e=>{const{productDetails:t,currentItemObject:a,prodURL:o,product_name:n,pdpDataForUpdateFoodLine:d,cartData:c,prodName:r,prodItems:s,pdpPromoPage:u,setPdpData:v,userOrderStateDispatch:m,setMakeItAComboData:b,setRecommendationData:O,setAddOnRecommendedData:j,setCurrentPDPProduct:p,setProdQuantity:h,setRuleName:I,getPWAstorageData:S}=e,{UPSELL:f,CROSSELL:N,PDP_ITEM_CUSTOM_TYPE:C,SET_PDP_BUTTON_DISABLED:T,ADDONS:E}=l.a;if(Object(i.j)([Object(i.Kd)(t),Object(i.Kd)(a),o===n,(null===t||void 0===t?void 0:t.productId)===(null===a||void 0===a?void 0:a.id)])){var x,R,L;const{additionalProperties:e}=a,o=Object(i.me)(e)||{},n=((e,t,a)=>{var o,i;let n=null===t||void 0===t||null===(o=t.foodLines)||void 0===o?void 0:o.find((t=>{let{id:a}=t;return a===e})),l=null===n||void 0===n||null===(i=n.item)||void 0===i?void 0:i.modGrps;return null===a||void 0===a||a.forEach(((e,t)=>{var o,i,n;null===e||void 0===e||null===(o=e.modifiers)||void 0===o||o.forEach(((o,i)=>{let n=A(l,e.id,o.id);var d,c;(null===n||void 0===n?void 0:n.length)>0&&((o={...o,...null===n||void 0===n?void 0:n[0]}).mdmId=o.id,a[t].modifiers[i]=o,null===(d=o)||void 0===d||null===(c=d.modgrps)||void 0===c||c.forEach(((e,l)=>{var d;null===e||void 0===e||null===(d=e.modifiers)||void 0===d||d.forEach(((e,d)=>{var c,r;let s=null===(c=n[0].modGrps[l])||void 0===c||null===(r=c.modifiers)||void 0===r?void 0:r.filter((t=>{let{id:a}=t;return a===e.id}));var u,v;(null===s||void 0===s?void 0:s.length)>0&&((e={...e,...null===s||void 0===s?void 0:s[0]}).mdmId=e.id,e.isEditConfirmed=null===(u=e)||void 0===u?void 0:u.custom,null!==(v=e)&&void 0!==v&&v.custom&&(o.isEditConfirmed=!0),a[t].modifiers[i].modgrps[l].modifiers[d]=e)}))})))}));let d=null===e||void 0===e||null===(i=e.modifiers)||void 0===i?void 0:i.some((e=>e.isAdded)),c=y(e);null===e||void 0===e||null===(n=e.modifiers)||void 0===n||n.forEach((e=>{var t;e.isInitialDefault=_(e),d&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(c,e),null===e||void 0===e||null===(t=e.modgrps)||void 0===t||t.forEach(((e,t)=>{var a,o;let i=null===e||void 0===e||null===(a=e.modifiers)||void 0===a?void 0:a.some((e=>e.isAdded)),n=y(e);null===e||void 0===e||null===(o=e.modifiers)||void 0===o||o.forEach((e=>{e.isInitialDefault=_(e),i&&(e.isDefault=!(null===e||void 0===e||!e.isAdded)),D(n,e)}))}))}))})),a})(null===d||void 0===d?void 0:d.foodLineId,c,null===a||void 0===a?void 0:a.modgrps);v({...a,additionalProperties:o,quantityAddedCart:null===t||void 0===t?void 0:t.quantity,catalogName:null===t||void 0===t?void 0:t.catalogName,itemId:null===t||void 0===t?void 0:t.productId,dname:r,items:s,modgrps:n}),m({type:C,value:null===a||void 0===a?void 0:a.customizable});let l=Object(g.b)(null===a||void 0===a?void 0:a.recommendationRules,f,N,E);b(l.combo),O(l.recommendation);const P=null!==(x=null===c||void 0===c||null===(R=c.foodLines)||void 0===R?void 0:R.map((e=>{let{item:t}=e;return t.id})))&&void 0!==x?x:[];j(null===l||void 0===l||null===(L=l.addOnRecommendedItems)||void 0===L?void 0:L.filter((e=>{let{id:t}=e;return!P.includes(t)}))),I(null===l||void 0===l?void 0:l.ruleName),p(a),m({type:T,value:{}}),h(Ie(u,null===a||void 0===a?void 0:a.id,d,c,S)),window.scrollTo(0,0)}},he=(e,t,a,o)=>{if(Object(i.db)(e.quantity!==t,(null===e||void 0===e?void 0:e.id)===a)){let a=((e,t)=>({...e,quantity:null!==t&&void 0!==t?t:0,unitPrice:t?e.basePrice*t:0}))(e,t);o({type:l.a.PDP_PAYLOAD_DATA,value:a})}},ge=e=>{const{pdpData:t,prodQuantity:a,tenantData:o,PDP_PAYLOAD_DATA:n,userOrderStateDispatch:l,pdpPromoPage:d,storeTimeZone:c,pdpDataForUpdateFoodLine:r,cartData:s,getPWAstorageData:u}=e;var v,m;Object(i.j)([Object(i.Kd)(t),Object(i.Kd)(o)])&&Object(g.c)(t,a,o.currencyConversionFactor,n,l,d,c,r,s,u,null===o||void 0===o||null===(v=o.componentOptions)||void 0===v||null===(m=v.pdp)||void 0===m?void 0:m.enableDefaultModifierCalculation)},Ie=(e,t,a,o,i)=>{const n=i[d.gd.VIEW_PRODUCT];var l,c,r;return e?+(null!==(l=null===n||void 0===n||null===(c=n.promoParams)||void 0===c||null===(r=c.find((e=>(null===e||void 0===e?void 0:e.itemId)===t)))||void 0===r?void 0:r.quantity)&&void 0!==l?l:1):Se(a,o)},Se=(e,t)=>{let a=1;const o=null===e||void 0===e?void 0:e.foodLineId;if(""!==o){var i;let e=null===t||void 0===t||null===(i=t.foodLines)||void 0===i?void 0:i.find((e=>{let{id:t}=e;return t===o}));a=null===e||void 0===e?void 0:e.quantity}return a},fe=e=>{var t;const{name:a=[],recommendationType:o=""}=null!==e&&void 0!==e?e:{};return{ruleName:(null===(t=a[0])||void 0===t?void 0:t.value)||"",recommendationType:o}}},899:function(e,t,a){"use strict";t.a={NINE_TILES:9,FIVE_TILES:5,SIX_TILES:6,SEVEN_TILES:7,BROWSE_CATEGORIES:"browsecategory",VIEW_ALL_MENU:"viewAllMenu",MENU:"/menu",ADD_TO_CART:"addToCart",ITEM_QUANTITY:1}},900:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(3);var o=a(968),i=a.n(o),n=(a(969),a(970),a(2));const l=e=>{const{settings:t,carousalRef:a}=e;return Object(n.jsx)(i.a,{...t,ref:a,children:e.children})};l.defaultProps={settings:null,carousalRef:null},t.b=l},901:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"f",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return v})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return O}));var o=a(19),i=a(9),n=a(5),l=a(320),d=a(0);const c=async(e,t)=>{var a;await(null===o.a||void 0===o.a?void 0:o.a.registerEvent(null===i.a||void 0===i.a||null===(a=i.a.upsizeSelectedPwa)||void 0===a?void 0:a.name,{"%event%":"upsizeSelected","%upsizeProduct%":(null===e||void 0===e?void 0:e.name)||"NA","%size%":(null===e||void 0===e?void 0:e.size)||"NA","%upsizeSelectedFrom%":t||"NA"},n.xb))},r=async e=>{var t;await o.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.viewOfferDetailsPwa)||void 0===t?void 0:t.name,{"%event%":"viewOfferDetails","%offerName%":null===e||void 0===e?void 0:e.titleValue,"%userType%":null===e||void 0===e?void 0:e.userType,"%promoType%":null===e||void 0===e?void 0:e.couponCode,"%disposition%":null===e||void 0===e?void 0:e.dispositionType},n.xb)},s=async e=>{var t;await o.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.signUpClick)||void 0===t?void 0:t.name,{"%event%":"signUpClick","%orderValue%":e.orderValue},n.xb)},u=async e=>{var t,a,l,d,c;const{eventFlag:r,itemsArray:s,userType:u="",totalAmount:v="",couponCode:m="",currencyShortName:b=""}=e,O=await(null===s||void 0===s?void 0:s.length)>0&&((null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.item_name)===(null===s||void 0===s||null===(a=s[1])||void 0===a?void 0:a.item_name)?[null===s||void 0===s?void 0:s[0]]:s);await(null===s||void 0===s?void 0:s.length)>0&&o.a.registerEvent(null===i.a||void 0===i.a||null===(l=i.a[r])||void 0===l?void 0:l.name,{data:{event:r,userType:u||"",ecommerce:{items:O,currency:b||"",value:v||(null===O||void 0===O||null===(d=O[0])||void 0===d?void 0:d.price)*(null===O||void 0===O||null===(c=O[0])||void 0===c?void 0:c.quantity)||"",coupon:m||""}}},n.xb)},v=async(e,t)=>{var a;await o.a.registerEvent(null===i.a||void 0===i.a||null===(a=i.a.viewItemList)||void 0===a?void 0:a.name,{data:{event:l.u,disposition:Object(n.h)(t),ecommerce:{items:e||[]}}},n.xb)},m=async()=>{var e;await o.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.signUpStart)||void 0===e?void 0:e.name,{data:{event:"signUpStart"}},n.xb)},b=async function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];await(null===o.a||void 0===o.a?void 0:o.a.registerEvent(null===i.a||void 0===i.a||null===(e=i.a.selectRecommenededItem)||void 0===e?void 0:e.name,{data:{event:d.p.SELECT_ITEM_EVENT,userType:t,ecommerce:{checkout_cart:{items:a}}}}))},O=async e=>{var t,a,l;await(null===o.a||void 0===o.a?void 0:o.a.registerEvent(null===i.a||void 0===i.a||null===(t=i.a.selectRecommenededItem)||void 0===t?void 0:t.name,{data:{event:d.p.SELECT_ITEM_EVENT,item_list_name:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_name,item_list_id:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_id,ecommerce:{items:e||[]}}},n.xb))}},902:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(3),i=a(25),n=a(84),l=a(92),d=a(76);const c={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var r=a(14),s=a(6),u=a(5),v=a(30),m=a(15),b=a(0),O=a(69),j=a(2);const p=e=>{const t=Object(i.c)((e=>e.cartReducer)),{cartData:a={}}=t||{},p=Object(i.c)((e=>e.tenantReducer)),{tenantId:h=""}=p||{},{userOrderState:g,userOrderStateDispatch:I}=Object(o.useContext)(d.a),{modalToOpenOnConfirm:S,modalOpenFrom:f,confirmCallBack:N}=g,{CartError:C}=m.a,T=Object(i.b)(),{CLEAR_ALL_MSG:E,CLEAR_ALL:x,CANCEL:D,TO_CHANGE_LANGUAGE:y}=c;((e,t,a)=>{e.langSelector?t.MSGTXT3=a:t.MSGTXT3})(e,E,y);const{SHOW_CLEAR_CART_ALERT:_,DISPOSITION_DATA:A,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:L,clearCartChangeFlag:P,orderTypeAlertTitle:w,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,ORDER_CAPACITY_DATA_UPDATED:U}=r.a,H=Object(u.Jd)(g.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):g.dispositionNew,W=()=>{I({type:F,value:{}}),I({type:b.Le,value:{selectedLanguage:""}}),I({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),f===P&&I({type:L,value:{showScheduleOrderCatering:!0,selectedStoreInfo:H.store,changeFlow:!0}})};return Object(j.jsx)(l.a,{handleClose:W,classNames:"clear-cart-modal",CartAlertForm:Object(j.jsx)(n.a,{splitTitle:E,imageSrc:C,altText:"cart-error",confirmButtonText:Object(s.translateWithI18Next)(x),cancelButtonText:Object(s.translateWithI18Next)(D),cancelHandler:W,confirmHandler:()=>{if(a.discountLines.length>0){let e=a.discountLines.map((e=>e.id));T(Object(v.n)({params:{basketId:a.id},tenantId:h,shouldClearCart:!0},e))}else T(Object(v.o)({basketId:a.id,tenantId:h}));T(Object(O.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),T(Object(v.u)(new Date)),I({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),N&&N(),S===w?(I({type:k}),I({type:A,value:{showDisposition:!0}}),I({type:L,value:{showScheduleOrderCatering:!1}}),I({type:R,value:{showSearchStore:!1}}),I({type:U,value:{orderCapacityDataUpdated:!1}}),I({type:F,value:{}})):S===M&&I({type:R,value:{showSearchStore:!0}})}})})}},903:function(e,t,a){"use strict";var o=a(812);a.d(t,"a",(function(){return o.default}))},904:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d}));const o=9999,i="#fff",n="#202124",l="#dbdbdb",d="National 2 Regular";t.f={HEADER_STYLES:"HEADER_STYLES",START_ORDER_STYLES:"START_ORDER_STYLES",START_ORDER_BTN_STYLES:"START_ORDER_BTN_STYLES",DISPOSITION_BAR_STYLES:"DISPOSITION_BAR_STYLES",FOOTER_STYLES:"FOOTER_STYLES",STICKY_TOP_VALUES:"STICKY_TOP_VALUES",MENU_CATEGORY_STYLES_DESKTOP:"MENU_CATEGORY_STYLES_DESKTOP",MENU_CATEGORY_STYLES_MOBILE:"MENU_CATEGORY_STYLES_MOBILE",CONTACT_US_CONTAINER_STYLES:"CONTACT_US_CONTAINER_STYLES",FAQ_CONTAINER_STYLES:"FAQ_CONTAINER_STYLES",OUR_ADS_STYLES:"OUR_ADS_STYLES",PRIVACY_POLICY_STYLES:"PRIVACY_POLICY_STYLES",TERMS_OS_USE_STYLES:"TERMS_OS_USE_STYLES",PROTECTED_DISCLOSURE_STYLES:"PROTECTED_DISCLOSURE_STYLES"}},905:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return o}));let o;(async()=>{o=await(async()=>{var t,o,i,n,l;const d=null===(t=e)||void 0===t||null===(o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===o?void 0:o.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(a.bind(null,176));return null===c||void 0===c||null===(i=c.default)||void 0===i||null===(n=i[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.MENU_PLP_CONSTANTS})()})()}).call(this,a(112))},906:function(e,t,a){"use strict";t.a={MODALHEADERTEXT:"Customize Your",CUSTOMIZE_TAG:"custom",MAX_TAG:"max",MAX_ALERT_TEXT_INITIAL:"maxtextInitial",MAX_ALERT_TEXT_END:"maxtextEnd",CLOSE_ALERT_TEXT:"selectionNotSaved",ITEM_QUANTITY:0,CUSTOMIZE_BUTTON_TEXT:"customise",EDIT_BUTTON_TEXT:"edit",DISMISS_CHANGES_ALERT_TEXT:"dismissChangesAlert",DISMISS_SELECTIONS:"dismissSelections"}},907:function(e,t,a){"use strict";a.d(t,"g",(function(){return b})),a.d(t,"j",(function(){return O})),a.d(t,"l",(function(){return j})),a.d(t,"k",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return g})),a.d(t,"n",(function(){return S})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return N})),a.d(t,"m",(function(){return C})),a.d(t,"f",(function(){return T})),a.d(t,"h",(function(){return E})),a.d(t,"i",(function(){return x})),a.d(t,"a",(function(){return D}));var o=a(19),i=a(5),n=a(9),l=a(123),d=a(6),c=a(327),r=a(320),s=a(18),u=a.n(s),v=a(0),m=a(2);const b=async(e,t)=>{var a;await o.a.registerEvent(null===n.a||void 0===n.a||null===(a=n.a.menuNavigation)||void 0===a?void 0:a.name,{"%event%":"menuNavigation","%menuNavigationLink%":e,"%menuIndex%":t},i.xb)},O=async(e,t)=>{const a=[];a.push({event:e.eventType,[t]:e.selectedData}),await o.a.registerEvent("suggestedSearchClick",{data:a[0]},i.xb)},j=async(e,t,a)=>{const n=[];n.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a]}),await o.a.registerEvent(e.eventType,{data:n[0]},i.xb)},p=async(e,t,a,n)=>{const l=[];l.push({event:e.eventType,[t]:e.selectedData[t],[a]:e.selectedData[a],[n]:e.selectedData[n]}),await o.a.registerEvent(void 0,{data:l[0]},i.xb)},h=(e,t)=>{const a=JSON.parse(JSON.stringify(e));let o=[];return(null===t||void 0===t?void 0:t.length)&&t.forEach((e=>{let t=null===a||void 0===a?void 0:a.find((t=>{let{isHidden:a=!1,items:o}=t;return!a&&(null===o||void 0===o?void 0:o.length)&&o[0].id===e.id}));t&&o.push(t)})),o},g=(e,t,a,o,i,n)=>{var l;let d=[];return d=null!==e&&void 0!==e&&e.categories&&0===(null===e||void 0===e||null===(l=e.products)||void 0===l?void 0:l.length)&&0===Object.keys(t).length?I(e.categories[0],a,o,i):Object.keys(t).length>0?I(t,a,o,i):I(e,a,o,i),d},I=(e,t,a,o)=>{var n;let l={},d=[];return d=null===e||void 0===e||null===(n=e.products)||void 0===n?void 0:n.map((e=>(e.items.forEach(((e,n)=>{let d=e.additionalProperties.find((e=>e.key.toLowerCase()===r.o.PRICE_WITHOUT_TAX.toLowerCase())),c=Object(i.Dc)(d.value,o).toFixed(2);c=c?parseFloat(c):"NA",l={item_name:null===e||void 0===e?void 0:e.name,item_id:null===e||void 0===e?void 0:e.id,price:c,item_category:t,item_list_name:t,item_list_id:a,index:n,quantity:"1",currency:null===v.p||void 0===v.p?void 0:v.p.INR}})),l))),d},S=async e=>{var t,a,l;await o.a.registerEvent(null===n.a||void 0===n.a||null===(t=n.a.viewItemListPlp)||void 0===t?void 0:t.name,{data:{event:"view_item_list",ecommerce:{item_list_id:null===e||void 0===e||null===(a=e[0])||void 0===a?void 0:a.item_list_id,item_list_name:null===e||void 0===e||null===(l=e[0])||void 0===l?void 0:l.item_list_name,items:e}}},i.xb)},f=(e,t)=>{let a={},o=e.find((e=>{var a;return(null===e||void 0===e||null===(a=e.name)||void 0===a?void 0:a.trim())===t}))||{};return 0===Object.keys(o).length&&(o=e.find((e=>{var o;if((null===(o=e.categories)||void 0===o?void 0:o.length)>0)for(const i in e.categories)if(e.categories[i].id===t)return a=e.categories[i],!0;return!1}))),{selectedCategory:o,selectedSubcategory:a}},N=function(e,t,a,o){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u()(e))return o(!1),!1;const n=(c=t,null===(d=e)||void 0===d?void 0:d.find((e=>{let{url:t,isHidden:a,categories:o}=e,i=!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase());return i||(i=o.find((e=>{let{url:t,isHidden:a}=e;return!a&&(null===t||void 0===t?void 0:t.toLowerCase())===(null===c||void 0===c?void 0:c.toLowerCase())}))),i})));var d,c,r;if(u()(n)){if(t&&(a("category"),o(!0)),!u()(e)){var s;const t=null===e||void 0===e?void 0:e.find((e=>{let{isHidden:t}=e;return!t}));t&&l.scroller.scrollTo(null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-140:-100})}}else l.scroller.scrollTo(null===n||void 0===n||null===(r=n.name)||void 0===r?void 0:r.trim(),{duration:1500,delay:100,smooth:!1,containerId:"",offset:i?-150:-100});return!u()(n)},C=e=>null===e||void 0===e?void 0:e.isStoreClosed,T=e=>{const{ADD_TO_CART_OCCASSION:t,STORE_CLOSED_BUTTON_TEXT:a}=c.d;let o=Object(d.translateWithI18Next)(t),i=Object(d.translateWithI18Next)(a);return null!==e&&void 0!==e&&e.isStoreClosed&&(o=i),{btnText:o}},E=(e,t)=>{0===e.length&&Object(i.Kb)(document.title,Object(d.translateWithI18Next)(r.w)+" \u201c".concat(t,"\u201d ")+Object(d.translateWithI18Next)(r.s))},x=e=>{const t=(null===e||void 0===e?void 0:e.modgrpIds)||[];let a=[];return null===t||void 0===t||t.forEach((e=>{var t;const{modifiers:o=[]}=e;a.push(null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.name)})),a},D=e=>{const{searchMode:t,filterList:a,dietaryList:o,products:i,viewUp:n,tenantData:l,getCardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,searchModeElmnt:u,MenuItemList:v,CATEGORY_ID:b}=e;return(t.isSearchedMode||[...a,...o].length)&&null!==i&&void 0!==i&&i.length?Object(m.jsx)("div",{className:n?"small-menu-container":"medium-menu-container",children:Object(m.jsx)(v,{productList:i,cardType:n?"small":"medium",tenantData:l,cardCount:d,catalogs:c,storeClosedData:r,setShowTopScrollBtn:s,categoryId:b})}):t.isSearchedMode&&u()}},908:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var o=a(3),i=a(25),n=a(139),l=a(175),d=a(18),c=a.n(d),r=a(214),s=a(0),u=a(2);const v=(e,t)=>{if(e&&t){const a={};e.replace(/%(.*?)%/g,((e,t)=>{a[e]=t})),Object.entries(a).forEach((a=>{const[o,i]=a,n=((e,t)=>{var a;return null!==(a=e[t])&&void 0!==a?a:"N/A"})(t,i);if("string"==typeof n){const t=new RegExp(o,"ig");e=e.replace(t,n)}else{let t=JSON.parse(e);for(let e in t)t[e]===o&&(t[e]=n);e=JSON.stringify(t)}}))}return e},m=e=>{let{page:t,seoObj:a,seoTemplate:d}=e;const[m,b]=Object(o.useState)(null),[O,j]=Object(o.useState)(""),{seoContent:p}=Object(i.c)((e=>{var t,a,o;return{seoContent:null!==(t=null===e||void 0===e||null===(a=e.contentReducer)||void 0===a||null===(o=a.response)||void 0===o?void 0:o.seoStructureData)&&void 0!==t?t:null}}));return Object(o.useEffect)((()=>{var e,o,i,n,u,m;const O={...a,PageURL:null!==(e=null===(o=window)||void 0===o||null===(i=o.location)||void 0===i?void 0:i.href)&&void 0!==e?e:"",HomeURL:null!==(n=null===(u=window)||void 0===u||null===(m=u.location)||void 0===m?void 0:m.origin)&&void 0!==n?n:"/"};if(!c()(p)){var h,g;const e=null!==(h=null!==d&&void 0!==d?d:null===p||void 0===p||null===(g=p.seo)||void 0===g?void 0:g.find((e=>{var a;return(null===(a=e.fields)||void 0===a?void 0:a.title)===t})))&&void 0!==h?h:{},{fields:{templateData:a={},data:o={}}={}}=e,{template:i={}}=null!==p&&void 0!==p?p:{},n=Object(r.documentToHtmlString)(i);if(!c()(n)){let e=Object(l.a)(n.replace(/<p>|<\/p>/gi,""));e=v(e,a),e=v(e,O);const t=Object(l.a)(e);j(null===t||void 0===t?void 0:t.filter((e=>{var t;return!((null===e||void 0===e?void 0:e.type)===s.qf&&"N/A"===(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.children))})))}if(!c()(o)){let e=JSON.stringify(o);e=v(e,O),b(e)}}}),[t,p,a,d]),Object(u.jsxs)(n.a,{children:[O,Object(u.jsx)("script",{type:"application/ld+json",children:m})]})};m.defaultProps={page:"",seoTemplate:null,seoObj:null}},909:function(e,t,a){"use strict";a(3);var o=a(2);t.a=e=>{const{className:t,clickNextCard:a=null}=e;return Object(o.jsx)("div",{className:t,onClick:()=>{a()},onKeyPress:()=>{a()},tabIndex:"0",role:"button","aria-label":"next","data-testid":"next-button-handler"})}},910:function(e,t,a){"use strict";a(3);var o=a(2);t.a=e=>{const{className:t,clickPrevCard:a=null}=e;return Object(o.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0",role:"button","aria-label":"previous","data-testid":"prev-button-handler"})}},911:function(e,t,a){"use strict";var o=a(3),i=a(76),n=a(5),l=a(11);t.a=()=>{const{userOrderState:e}=Object(o.useContext)(i.a),t=Object(o.useMemo)((()=>(Object(n.Jd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(l.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},912:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var o=a(171),i=a(2);const n=e=>Object(i.jsx)(o.a,{testId:"header-container-test",importPath:"HEADER_CONTAINER",...e}),l=e=>Object(i.jsx)(o.a,{testId:"header-container-test",importPath:"SECONDARY_HEADER_CONTAINER",...e})},913:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return u}));var o=a(19),i=a(9),n=a(5),l=a(11);a(0);const d=async function(e,t,a,l){var d;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";await o.a.registerEvent(null===i.a||void 0===i.a||null===(d=i.a.add_to_cart)||void 0===d?void 0:d.name,{data:{event:"add_to_cart",userType:t||"",ecommerce:{items:[e],currency:c,value:a||"",coupon:l||""}}},n.xb)},c=e=>{o.a.registerEvent("editPersonalInformation",{"%event%":"editPersonalInformation","%firstName%":e.firstName||"NA","%lastName%":e.lastName||"NA","%email%":e.email||e.emailId||"NA","%phone%":e.phone||e.phoneNumber||"NA","%dateOfBirth%":e.dateOfBirth||e.year&&"".concat(e.year,"-").concat(Object(l.O)(e.month),"-").concat(e.day)||"NA","%postCode%":e.postalCode||"NA","%user_id%":e.user_id||"NA","%braze_dob%":e.year&&"".concat(e.year,", ").concat(Object(l.O)(e.month),", ").concat(e.day)||"NA"},n.xb)},r=e=>{o.a.registerEvent("updateCommunicationPreferences",{"%event%":"updateCommunicationPreferences","%marketingEmails%":e.find((e=>"marketing-emails"===e))?"true":"false","%editorAndCustomerFavourites%":e.find((e=>"editor-pick"===e))?"true":"false","%newsAndAnnouncements%":e.find((e=>"kfc-news"===e))?"true":"false","%doNotSellInformation%":e.find((e=>"do-not-sell"===e))?"true":"false","%receiveSMS%":e.find((e=>"receive-sms"===e))?"true":"false"},n.xb)},s=async e=>{await o.a.registerEvent("deleteAccount",{"%event%":"deleteAccount","%userID%":e||"NA"},n.xb)},u=async e=>{await o.a.registerEvent("signOutSuccess",{"%event%":"signOutSuccess","%userID%":e||"NA"},n.xb)}},914:function(e,t,a){"use strict";a.d(t,"b",(function(){return S})),a.d(t,"c",(function(){return f}));var o=a(3),i=a(76),n=a(25),l=a(6),d=a(36),c=a(171),r=a(54),s=a(190),u=a(4),v=a(15),m=a(5),b=a(321),O=a(0),j=a(61),p=a(49),h=a(14),g=a(2);const I=(e,t,a,o)=>{let i=(Math.round(e/a*O.eg)/O.eg).toFixed(o);return"".concat(t).concat(i)},S=(e,t)=>Object(m.k)(e)?"pdp-button-disabled":t,f=e=>{const{ENTER:t,PLUS:a,MINUS:o}=O.Xf.KEY_CHAR_CODE;e.charCode!==t&&e.charCode!==a&&e.charCode!==o||e.preventDefault()},N=(e,t)=>t===e,C=e=>e?null===h.a||void 0===h.a?void 0:h.a.REVIEW_ORDER_MODAL:null===h.a||void 0===h.a?void 0:h.a.PDP_UNAVAILABLE_MODAL;t.a=e=>{var t,a,h;const{prodQuantity:S,itemQuantity:T,userParams:E,quantityUpdate:x,dName:D,addtoCartClinckHandler:y,itemStatus:_,currencySymbol:A,currencyConversion:R,isMobile:L,handleProdQuantityForCatering:P,maxItemCountPerLineItem:w,modgrpMax:M,selectedItemNotAvailable:k,isItemDecreased:F,itemId:U,minItemCountPerLineItem:H}=e,W=Object(n.c)((e=>e.cartReducer)),B=Object(n.c)((e=>e.tenantReducer)),{currencyConversionFactor:G}=B,{cartData:V={}}=Object(m.kd)(W),{QUANTITY_ACTION:Y}=r.a,{IS_OUT_OF_STOCK:z,OUT_OF_STOCK_TEXT:K,IS_IN_STOCK:q,CUSTOMISE_FLAG_CART:J}=s.a,{QUANTITY_TEXT:Q,SELECT_TEXT:X,ADD_TO_YOUR_ORDER:Z}=u.a,{userOrderState:$,userOrderStateDispatch:ee}=Object(o.useContext)(i.a),te=null===$||void 0===$?void 0:$.pdpDataForUpdateFoodLine,{pdpPayloadData:ae,pdpAddtoCartConfirmButtonDisabled:oe,dispositionNew:ie,pdpDataForUpdateFoodLine:ne,timeBasedCetegory:le}=$,de=Object(m.Jd)(ie)?JSON.parse(localStorage.getItem(O.gd.DISPOSITION_NEW)):ie,ce=(null===de||void 0===de?void 0:de.type)&&Object(m.ef)(Object(m.Ib)(null===de||void 0===de?void 0:de.type)),re=((e,t,a)=>{const{ADDTOCART:o,CUSTOMISE_FLAG_CART:i}=s.a,{SAVE_CHANGES:n,SAVE:d,ADD:c}=u.a;return(null===e||void 0===e?void 0:e.flag)===i?Object(m.yd)(t)?Object(l.translateWithI18Next)(d):Object(l.translateWithI18Next)(n):Object(m.db)(Object(m.yd)(t),a)?Object(l.translateWithI18Next)(c):Object(l.translateWithI18Next)(o)})(te,ce,L),se=Object(n.c)((e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.isAddItemLoading})),[ue,ve]=Object(o.useState)(!1),me=Object(n.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),be=null===B||void 0===B||null===(t=B.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(h=a.global)||void 0===h?void 0:h.pricewithNumberofDecimalDigit,Oe=Object(j.g)(),je=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer));Object(o.useEffect)((()=>{var e,t;const a=null===Oe||void 0===Oe||null===(e=Oe.location)||void 0===e||null===(t=e.pathname)||void 0===t?void 0:t.includes(O.Ae.CATERING_PAGE);ve(a)}),[]);const pe=()=>{return Object(g.jsx)("div",{className:(e=S,t=E,"quantityAddtocart qty-calc mg-set ".concat(e?"cardwithQuantity "+t.loggedIn:"cardwithNoquantity")),children:Object(g.jsx)(c.a,{importPath:"QUANTITY_MODIFIER_TEMPLATE",itemCount:S,itemQuantity:T,updateItemQuantity:x,quantityAction:Y,item:void 0,itemName:D,cartItemCount:1,maxItemCountPerLineItem:w,hideChild:!0,handleQuantityForCatering:P,dispositionType:ce,onKeyPressHandler:f,minItemCountPerLineItem:H})});var e,t},he=(e,t)=>{var a;const{couponCode:o}=Object(m.vb)(V),{unitPrice:i,basePrice:n}=ae,l=Object(m.gd)(null===E||void 0===E?void 0:E.localized,null===E||void 0===E?void 0:E.loggedIn);let{baseItemsCstmz:d,saucesCstmz:c,sidesCstmz:r,drinksCstmz:s,customizedPrice:u}=Object(m.E)($);d=Object(m.ke)(d),c=Object(m.ke)(c),r=Object(m.ke)(r),s=Object(m.ke)(s);const v=Object(m.gc)(me,ae,V,G,null===B||void 0===B?void 0:B.currencyShortName,d,c,r,s,u),{quantity:b=0}=(null===v||void 0===v?void 0:v[0])||{quantity:0},O={couponCode:o},j={unitPrice:i,basePrice:n,cartData:V,quantity:b,currencyConversionFactor:G},h=Object(m.Eb)(j),g=Object(m.g)(i,G),I=[{...v[0],...O}];var S;null!==(null===v||void 0===v||null===(a=v[0])||void 0===a?void 0:a.isQuantityIncrease)&&(null!==v&&void 0!==v&&null!==(S=v[0])&&void 0!==S&&S.isQuantityIncrease?(e=>{let{miniPDPDataForCart:t,CUSTOMISE_FLAG_CART:a,userType:o,saveChangesItemdetails:i,totalPrice:n,couponCode:l,tenantReducer:d,dispositionType:c}=e;if((null===t||void 0===t?void 0:t.flag)===a){const e=(null===i||void 0===i?void 0:i[0].price)*(null===i||void 0===i?void 0:i[0].quantity);Object(p.f)(o,i,e,l,null===d||void 0===d?void 0:d.currencyShortName,c)}})({miniPDPDataForCart:te,CUSTOMISE_FLAG_CART:J,userType:l,saveChangesItemdetails:I,totalPrice:h,couponCode:o,tenantReducer:B,dispositionType:ce}):Object(p.g)(l,v,+g.toFixed(2)));y(e,ae,te,t,g,ne,V)},ge=(t,a)=>{null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const o=Object(b.g)(U,me),i=Object(b.d)(U,le);Object(b.c)({categoryUrl:o,itemInCart:i,alertType:C(i),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.itemId},{...le,menuData:je},ee)||(Object(m.k)(oe)?(e=>{e.preventDefault();let t=Object(g.jsx)("img",{src:v.a.ErrorImage,alt:"Error"}),a="".concat(Object(l.translateWithI18Next)(X)," ").concat(M," ").concat(Object(l.translateWithI18Next)(Z));Object(m.qf)(a,t,"err-toast",!0)})(t):he(t,null===a||void 0===a?void 0:a.id))},Ie=()=>{return Object(g.jsx)(d.c,{tabIndex:"1",variant:d.b.primary,fullWidth:!0,hasPrices:!0,inactive:!Object(m.Md)(null===ie||void 0===ie?void 0:ie.type)&&Object(m.fb)(N(z,_),Object(m.ob)(se,k,!S)),loading:se,"data-testid":"add-to-cart-handler",onClick:e=>ge(e,V),disabled:Object(m.ob)(N(z,_),k,!S),className:(e=oe,Object(m.k)(e)?"button-contained-disabled":""),children:Object(m.db)(Object(m.fb)(N(z,_),k),!N(q,_))?Object(g.jsx)("span",{className:"outofstock",children:Object(l.translateWithI18Next)(K)}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{children:re}),R&&Object(g.jsx)("span",{children:I(null===ae||void 0===ae?void 0:ae.unitPrice,A,R,be)})]})});var e},Se=Object(m.db)(L,Object(g.jsxs)("div",{className:"pdp-mobile-quantity-price-sopac fixedDiv ".concat(Object(m.db)(ue,"catering-button")),children:[Object(g.jsx)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:pe()}),Ie()]})),fe=Object(m.db)(!L,Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"pdp-quantity-block pdp-quantity-block-sopac",children:[Object(g.jsx)("label",{className:"qty","data-testid":"pdp-item-quantity",children:Object(l.translateWithI18Next)(Q)}),pe()]}),Ie()]}));return Object(g.jsxs)(g.Fragment,{children:[fe,Se]})}},915:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(43),l=a(2);const d=e=>{const{show:t,errorMsg:a="",cssClass:o="",errImage:i}=e;return t?Object(l.jsxs)("div",{className:"inline-error-container ".concat(o),children:[Object(l.jsx)(n.a,{srcFile:i}),Object(l.jsx)("div",{className:"error-message",children:a})]}):null},c=i.a.memo(d);t.a=c},916:function(e,t,a){"use strict";a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return O})),a.d(t,"a",(function(){return p}));a(3);var o=a(5),i=(a(76),a(190)),n=a(14),l=a(922),d=a(901),c=(a(61),a(25),a(898)),r=a(906),s=a(6),u=a(54);a(171),a(0),a(2);const v=(e,t,a,n,d,r,s,v,b,O,p,h,g,I,S,f,N)=>{const{HASH_SYMBOL:C}=i.a,{QUANTITY_ACTION:T}=u.a,{SINGLE:E}=l.a;let x,D,y=Object(o.Kd)(I)?Object(c.w)(I,S,1):"";if(1===n||Object(o.j)([!r,O.length>=n,O.length===d])){if(j(a,r),Object(o.j)([!r,Object(o.Kd)(I),!N])){var _,A;let e=S.split(C);e.pop();let t=Object(o.Tc)(O.length>1,null===(_=O[1])||void 0===_?void 0:_.itemId,null===(A=O[0])||void 0===A?void 0:A.itemId);e.push(t);let a=e.join(C),i=Object(c.w)(I,a,1);x=Object(c.G)(I,{price:y,flag:T.Increase},f),x=Object(c.G)(x,{price:i,flag:T.Decrease},f),Object(c.v)(I,a)&&(x=Object(c.E)(x,a)),f&&(D=p.sopacPDPCustomization.updatedPrice+y-i)}!r&&v(!0),s(b,E,O),m(D,x,g,h)}else if(Object(o.j)([r,O.length>n,O.length<=d])){v(!1),s(b,!1,O);let e=Object(c.H)({pdpPayloadData:I,forModal:N,modgrps:b.modgrps,getPayloadUpdated:x,modifierPrice:y,isL3Custom:f,getUpdatedPrice:D,userOrderState:p,flag:T.Decrease});x=e.getPayloadUpdated,D=e.getUpdatedPrice,m(D,x,g,h)}else if(Object(o.j)([!r,O.length>=n,O.length<d])){j(a,r),v(!0),s(b,!0,O,!0);let e=Object(c.H)({pdpPayloadData:I,forModal:N,modgrps:b.modgrps,getPayloadUpdated:x,modifierPrice:y,isL3Custom:f,getUpdatedPrice:D,userOrderState:p,flag:T.Increase});x=e.getPayloadUpdated,D=e.getUpdatedPrice,m(D,x,g,h)}},m=(e,t,a,l)=>{const{CONFIRM_UPSIZE_ANALYTICS:d}=n.a,{PDP_PAYLOAD_DATA:c,UPDATE_SHOW_PDP_CUSTOM_MODAL:r}=i.a;l({type:r,value:{updatedPrice:e}}),Object(o.Kd)(t)&&l({type:c,value:t}),l({type:d,value:{confirmUpsizeName:a}})},b=(e,t,a,o,i)=>{const{SETFLAGCASE:n}=l.a;switch(e){case n.DEFAULT:case n.FROMEDIT:t(!0),a(o,!0,i);break;case n.ITEMINCLUDES:t(!0);break;default:t(!1)}},O=(e,t,a,i,d,c)=>{const{SETFLAGCASE:r}=l.a,{FROMFLAGEDIT:s}=n.a;if(0===e.length&&c){if(i&&t.minipdpData.fromFlag!==s)return r.DEFAULT;if(t.minipdpData.fromFlag===s&&d&&((e,t)=>{if(Object(o.Kd)(t))return t.filter((t=>{let{id:a}=t;return a===e})).length>0;return!1})(a,d))return r.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(a))return r.ITEMINCLUDES},j=(e,t)=>{let{analyticsObjectData:a,currLocation:o}=e;t||Object(d.e)(a,i.a.ADDONS)},p=(e,t,a)=>{const{CUSTOMIZE_BUTTON_TEXT:o,EDIT_BUTTON_TEXT:n}=r.a,{id:l}=e;let d="",u="".concat(t).concat(i.a.HASH_SYMBOL).concat(l);return d=Object(c.v)(a,u)?Object(s.translateWithI18Next)(n):Object(s.translateWithI18Next)(o),d}},917:function(e,t,a){"use strict";function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i,n,l,d,c=a(3),r=a(157),s=a(337),u=a(5),v=a(904);const m=(e,t)=>Object(r.b)(t)(n||(n=o(["\n  ","\n"])),e),b=(e,t,a)=>{if(null!==e&&void 0!==e&&e.modulesData){var n;const c=Object(u.C)(null===e||void 0===e||null===(n=e.modulesData)||void 0===n?void 0:n[t]);switch(t){case null===v.f||void 0===v.f?void 0:v.f.HEADER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.CONTACT_US_CONTAINER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.TERMS_OS_USE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_BTN_STYLES:case null===v.f||void 0===v.f?void 0:v.f.START_ORDER_STYLES:case null===v.f||void 0===v.f?void 0:v.f.DISPOSITION_BAR_STYLES:case null===v.f||void 0===v.f?void 0:v.f.PROTECTED_DISCLOSURE_STYLES:case null===v.f||void 0===v.f?void 0:v.f.OUR_ADS_STYLES:case null===v.f||void 0===v.f?void 0:v.f.FAQ_CONTAINER_STYLES:return a?m(c,a):(e=>r.b.div(i||(i=o(["\n  ","\n"])),e))(c);case null===v.f||void 0===v.f?void 0:v.f.FOOTER_STYLES:return(e=>r.b.footer(l||(l=o(["\n  ","\n  @media (max-width: 1023px) {\n    padding-bottom: ",";\n  }\n"])),e,(e=>(e=>"".concat(e.paddingBottom,"px"))(e))))(c);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_DESKTOP:return m(c,a);case null===v.f||void 0===v.f?void 0:v.f.MENU_CATEGORY_STYLES_MOBILE:return((e,t,a)=>{var i;const{addPixelValues:n,STICKY_TOP_VALUES:l}=e.modulesData,c=null===l||void 0===l||null===(i=l.mobile)||void 0===i?void 0:i.topNonLocalized;return Object(r.b)(a)(d||(d=o(["\n    ","\n    position: ",";\n    top: ",";\n    &.localized {\n      top: ",";\n    }\n    &.nonLocalizeGuide {\n      top: ",";\n    }\n  "])),t,(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"relative":"fixed"}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":c}),(e=>{var t,a;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"0":n(null===l||void 0===l||null===(a=l.mobile)||void 0===a?void 0:a.topLocalized,null===e||void 0===e?void 0:e.topValue)}),(e=>{var t;return"true"===(null===e||void 0===e||null===(t=e.isSmartBannerVisible)||void 0===t?void 0:t.toString())?"unset":n(null===e||void 0===e?void 0:e.topGuideValue)}))})(e,c,a)}}return""};t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{globalStyleConstantData:a}=s.a,[o,i]=Object(c.useState)("");return Object(c.useEffect)((()=>{i(b(a,e,t))}),[null===a||void 0===a?void 0:a.modulesData]),o}},918:function(e,t,a){"use strict";var o=a(92),i=a(84),n=a(4),l=a(54),d=a(6),c=a(3),r=a(76),s=a(39),u=a(110),v=a(2);t.a=e=>{const{isAddedPromosCoupon:t=!1,cartItem:a={},setConfirmationModel:m=null,itemRemoveHandler:b=null,isRemoveItemLoading:O=!1,setCouponModal:j=null,setRemoveItem:p=null,flag:h="",quantityAction:g="",updateItemQuantity:I=null,addtoCartClinckHandler:S=null,setAddToClickParms:f=null,addToClickParms:N={},selectedStoreData:C=null,clickHandler:T=null,title:E="",confirmButtonText:x="",removeCouponHandler:D=null,couponCode:y="",couponTitle:_="",itemRemoveWrapper:A=null,giftCardOrVoucherErrMsg:R="",giftCardErrFirstMsg:L=""}=e,{userOrderStateDispatch:P}=Object(c.useContext)(r.a),w=Object(u.a)(),{REMOVE_COUPON:M}=l.a,{CONTINUE:k,CANCEL_BTN_TXT:F,REMOVE_GIFT_CARD_VOUCHER:U,CART_UPDATE_CLEAR_WICODE_FIRST_TEXT:H,CART_UPDATE_CLEAR_WICODE_SECOND_TEXT:W}=n.a;return Object(v.jsx)(o.a,{handleClose:()=>j(!1),classNames:"promos-rewards-warning-msg coupon-modal gift-card-voucher-remove-modal",CartAlertForm:Object(v.jsx)(i.a,{title:h===M?E:Object(d.translateWithI18Next)(U),giftCardOrVoucherErrMsg:h===M?R:Object(d.translateWithI18Next)(W),giftCardErrFirstMsg:h===M?L:Object(d.translateWithI18Next)(H),altText:"",confirmButtonText:h===M?x:Object(d.translateWithI18Next)(k),confirmHandler:e=>(e=>{let{isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:o,itemRemoveHandler:i,isRemoveItemLoading:n,setCouponModal:d,setRemoveItem:c,flag:r,quantityAction:u,updateItemQuantity:v,addtoCartClinckHandler:m,setAddToClickParms:b,addToClickParms:O,selectedStoreData:j,clickHandler:p,events:h,removeCouponHandler:g,couponCode:I,couponTitle:S,itemRemoveWrapper:f,userOrderStateDispatch:N,sliceDispatch:C}=e;const{EDIT_ITEM:T,REMOVE_ITEM:E,QUANTITY_INCREASE_DECREASE:x,STORE_DISPOSITION_UPDATE:D,REMOVE_COUPON:y}=l.a;if(d(!1),r===E&&f({isAddedPromosCoupon:t,item:a,setConfirmationModel:o,itemRemoveHandler:i,isRemoveItemLoading:n,setRemoveItem:c,sliceDispatch:C}),r===x&&(N({type:s.p,value:{couponErrorMessage:"REMOVE"}}),v(a,u,h)),r===T){const{event:e,data:t,miniPDPData:a,totalAmount:o,cartId:i,pdpDataForUpdateFoodLine:n,cartData:l}=O;m(e,t,a,i,o,n,l),b({}),d(!1)}r===D&&p(h,j),r===y&&g(I,S)})({isAddedPromosCoupon:t,cartItem:a,setConfirmationModel:m,itemRemoveHandler:b,isRemoveItemLoading:O,itemRemoveWrapper:A,setCouponModal:j,setRemoveItem:p,flag:h,quantityAction:g,updateItemQuantity:I,addtoCartClinckHandler:S,setAddToClickParms:f,addToClickParms:N,selectedStoreData:C,clickHandler:T,events:e,removeCouponHandler:D,couponCode:y,couponTitle:_,userOrderStateDispatch:P,sliceDispatch:w}),cancelHandler:()=>j(!1),cancelButtonText:Object(d.translateWithI18Next)(F)})})}},919:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(73),l=a.n(n),d=a(25),c=a(121),r=a(2);var s=e=>{const{handleClose:t,ProductListingModalForm:a,headerText:o,modalTitleId:n=""}=e;return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsx)(c.a,{id:"ProductListingModalPopup",role:"dialog",modalTitleId:n,show:!0,classNames:"product-listing-module-modal",showCloseBtn:!0,closeButtonHandler:t,modalTitle:o,autoFocus:!0,children:a})})},u=a(36),v=a(949),m=a.n(v),b=a(43),O=a(5),j=a(76),p=a(322),h=a(14);var g={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelection",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"},I=a(78),S=a(61),f=a(15);const N=(e,t)=>e?t:null,C=(e,t,a,o,i)=>{const{SETFLAGCASE:n}=g,{FROMFLAGEDIT:l}=h.a;if(0===e.length){if(o&&t.minipdpData.fromFlag!==l)return n.DEFAULT;if(t.minipdpData.fromFlag===l&&((e,t)=>{if(Object(O.Kd)(t))return t.filter((t=>{let{id:a}=t;return a===e})).length>0;return!1})(a,i))return n.FROMEDIT}else if(null!==e&&void 0!==e&&e.includes(a))return n.ITEMINCLUDES},T=(e,t)=>"".concat("carousal"===e?"carousal-modifier-item-card":"modifier-item-card"," ").concat(t?"selected":""),E=e=>"carousal"===e?"carousal-modifier-product-save":"modifier-product-save",x=e=>"carousal"===e?"carousal-modifier-card-image":"modifier-card-image",D=(e,t)=>{let{analyticsObject:a,currLocation:o}=e;t||Object(I.g)(a,o)};var y=e=>{const{cardData:t,min:a,max:i,savedModifierHandler:n,savedModifiers:l,cardType:d,tenantReducer:c,modgrpId:s,modGrpName:u,updatedItems:v,getCartModifiers:m}=e,{Check_Icon:I}=f.a,{id:y,name:_,size:A,dname:R,isDefault:L,imageName:P,isHidden:w,calorificInfo:M}=t;let k=(F=R)&&F.length&&F[0].value;var F;const[U,H]=Object(o.useState)(!1),{userOrderState:W,userOrderStateDispatch:B}=Object(o.useContext)(j.a),{pdpScreenCommons:{modGroupIdsUpdated:G}}=W,{MODGROUP_IDS_UPDATE:V,UPDATE_DEFAULT_MODGROUP:Y}=p.a,{CONFIRM_UPSIZE_ANALYTICS:z}=h.a,{SETFLAGCASE:K}=g,q=Object(S.h)();Object(o.useEffect)((()=>{switch(C(v,W,y,L,m)){case K.DEFAULT:case K.FROMEDIT:H(!0),n(t,!0,l);break;case K.ITEMINCLUDES:H(!0);break;default:H(!1)}}),[y,v,L,m]);return!w&&Object(r.jsxs)("div",{className:T(d,U),"data-testid":"click-save-product",onClick:()=>{if(L||G.includes(s)){if(L){let e=G.filter((e=>e!==s));B({type:Y,value:e})}}else B({type:V,value:s});let e={analyticsObject:{name:_,size:A},currLocation:Object(O.wb)(q.pathname)};1===a&&1===i?(D(e,U),!U&&H(!0),n(t,"single",l)):U&&l.length>a&&l.length<=i?(H(!1),n(t,!1,l)):!U&&l.length>=a&&l.length<i&&(D(e,U),H(!0),n(t,!0,l)),B({type:z,value:{confirmUpsizeName:u}})},children:[Object(r.jsx)(b.a,{defaultPath:Object(O.Xb)(null,c,!0),srcFile:Object(O.Xb)(P,c),className:x(d)}),Object(r.jsxs)("picture",{children:[Object(r.jsx)("source",{media:"(max-width: 1023px)",srcSet:(Q=U,X=I,Q?X:null),alt:"",className:E(d)}),Object(r.jsx)("img",{src:N(U,I),alt:"",className:E(d)})]}),Object(r.jsxs)("div",{className:"modifier-card-content",children:[Object(r.jsx)("div",{className:"title",children:k}),(J=M,J&&Object(r.jsx)("div",{className:"caloricInfo",children:J}))]})]});var J,Q,X},_=a(213),A=a(900),R=a(19);const L=(e,t,a)=>e.map((e=>e.size&&{name:e.size,rate:Object(O.Cc)(e.availability[0],e.additionalProperties,t,a)})).filter((e=>e)).sort(((e,t)=>e.rate-t.rate)),P=(e,t,a,o)=>{let i=-1,n=L(t,a,o),l=L(e,a,o);return Array.from(new Set(n.map((e=>e.name)))).map((e=>n.find((t=>t.name===e)))).forEach((e=>{i="regular"!==e.name?l.findIndex((t=>t.name===e.name&&t.rate!==e.rate)):-1})),i>=0&&l.splice(i,1),Array.from(new Set(l.map((e=>e.name)))).map((e=>l.find((t=>t.name===e))))},w=async e=>{const t=[];t.push({event:"upsizeOrder",addOnType:e,location:"Customization Modal"}),await R.a.registerEvent(void 0,{data:t[0]},O.xb)};var M=a(6);const{HamburgerDownArrow:k,filter_options_stoke:F}=f.a,U=(e,t)=>{if(e!==t)return Object(r.jsx)("span",{children:":"})},H=(e,t,a)=>e.rate&&e.name!==t?"+".concat(a).concat(e.rate):"",W=(e,t,a,o)=>e&&e.length&&P(e,t,a,o).length>0;var B=e=>{const{data:t,min:a,max:n,showSelectedModifier:l,modgrpId:c,modGrpName:s}=e,{REGULAR:u="",UPLIFTPLACEHOLDER:v="",SINGLE:m}=g,{userOrderState:b,userOrderStateDispatch:I}=Object(o.useContext)(j.a),[S,f]=Object(o.useState)([]),[N,C]=Object(o.useState)({}),[T,E]=Object(o.useState)(!1),[x,D]=Object(o.useState)([]),[R,L]=Object(o.useState)(!0),[B,G]=Object(o.useState)(Object(O.Ud)(window.innerWidth)),[V,Y]=Object(o.useState)(t),z=Object(d.c)((e=>e.cartReducer)),K=Object(d.c)((e=>e.tenantReducer)),{currencySymbol:q,currencyConversionFactor:J,componentOptions:Q}=K,{web:{global:{showPriceWithTax:X=!1}={}}={}}=null!==Q&&void 0!==Q?Q:{},[Z,$]=Object(o.useState)({}),[ee,te]=Object(o.useState)({}),ae=Object(o.useRef)(null),oe=Object(o.useRef)(null),ie=Object(o.useRef)(null),ne={dots:!1,infinite:!0,speed:200,slidesToShow:2,slidesToScroll:1,adaptiveHeight:!0,autoplay:!1,arrows:!1,focusOnSelect:!0};Object(o.useEffect)((()=>{const e=Object(O.Tc)(t.length,JSON.parse(JSON.stringify(t)),[]);let a=((e,t)=>Object(O.Kd)(e)?t.filter((t=>t.size===e.name)):t)(N,e);Y([...a])}),[t]);const le=(e,a,o)=>{let{id:i}=e;if(a===m)t.forEach((e=>{e.id===i&&D([e.id])})),f([{...e,itemId:i,modgrpId:c}]);else if(a){!o.some((t=>{let{id:a}=t;return a===e.id}))&&f([...o,{...e,itemId:i,modgrpId:c}])}else if(o.length){let e=o.filter((e=>{let{itemId:t}=e;return t!==i}));f(e)}},de=()=>{const e=Object(O.Ud)(window.innerWidth);G(e)};Object(o.useEffect)((()=>{let e=((e,t,a,o)=>{var i;const{FROMFLAGEDIT:n}=h.a,{MODGROUP_IDS_UPDATE:l}=p.a;if((null===t||void 0===t||null===(i=t.minipdpData)||void 0===i?void 0:i.fromFlag)===n){var d,c;let i=o.foodLines.find((e=>{let{id:a}=e;return a===t.minipdpData.foodLineId})),n=null===i||void 0===i||null===(d=i.item)||void 0===d||null===(c=d.modGrps)||void 0===c?void 0:c.find((t=>{let{id:a}=t;return a===e}));var r;return n?(!n.modifiers.filter((e=>{let{isDefault:t}=e;return!t})).length||null!==t&&void 0!==t&&null!==(r=t.pdpScreenCommons)&&void 0!==r&&r.modGroupIdsUpdated.includes(n.id)||a({type:l,value:n.id}),n.modifiers):{}}return{}})(c,b,I,null===z||void 0===z?void 0:z.cartData);te(e)}),[]),Object(o.useEffect)((()=>{l(S)}),[JSON.stringify(S)]),Object(o.useEffect)((()=>{window.addEventListener("resize",de)}),[B]),Object(o.useEffect)((()=>{T?document.addEventListener("click",ce):document.removeEventListener("click",ce)}),[T]);const ce=e=>{(Object(O.db)(ae.current,ae.current===e.target)||oe.current&&ie.current&&oe.current!==e.target&&!ie.current.contains(e.target))&&E(!1)},re=()=>{E(!0)},se=()=>{E(!T)},ue=(e,a)=>{C(e);let o=t.filter((t=>t.size===e.name));Y(o),w(a),E(!T)},ve=(e,a,o)=>{let i=((e,t,a)=>Object(O.Kd)(t)?(e(t),a.filter((e=>e.size===t.name))):a)(C,e,t);Y(i),w(a),L(!o),E(!1)},me=()=>{C({}),$({}),L(!0)},be=()=>{let e="",t=H(N,u,q);return e=Object(O.Tc)(t.length>0,":",""),e};return Object(O.Tc)(B,Object(r.jsxs)(i.a.Fragment,{children:[W(t,S,J,X)&&Object(r.jsx)("div",{className:"uplift-dropdown","data-testid":"mob-uplift-dropdown",children:Object(r.jsxs)("div",{className:"language-select-uplift","data-testid":"mobile-dropdown-filter",onClick:re,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.Tc)(N.name,N.name+be(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:H(N,u,q)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDown"})]})}),T&&Object(r.jsx)("div",{className:"mobile-modal-filter-background",ref:ae,children:Object(r.jsxs)("div",{className:"mobile-modal-filter",children:[Object(r.jsx)("div",{className:"mobile-modal-filter-container",children:Object(r.jsxs)("ul",{className:"mobile-filter-list",children:[Object(r.jsx)("li",{className:R&&0===Object.keys(N).length?"mobile-filter-list-items-selected":"mobile-filter-list-items-default","data-testid":"mobile-click-default",onClick:me,children:Object(r.jsx)("div",{className:"mobile-rate-container",children:Object(M.translateWithI18Next)(v)})}),P(t,S,J,X).map((e=>Object(r.jsx)("li",{className:e.name===Z.name?"mobile-filter-list-items-selected":"mobile-filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>(e=>{E(!0),$(e),L(!1)})(e),children:Object(r.jsxs)("div",{className:"mobile-rate-container",children:[Object(r.jsx)("span",{className:"mobile-filter-item-name",children:e.name}),U(e.name,u),Object(r.jsx)("span",{className:"mobile-filter-item-rate",children:e.name!==u?"+".concat(q).concat(e.rate.toFixed(2)):""})]})},e.name)))]})}),Object(r.jsx)("div",{className:"mobile-modal-filter-button","data-testid":"mobile-filter-done",onClick:()=>ve(Z,s,Z.name===N.name),children:Object(M.translateWithI18Next)("done")})]})}),Object(r.jsx)("div",{className:"modifier-list-items modifier-list-items-in",children:V&&V.length>2&&ee?Object(r.jsx)(A.b,{settings:ne,children:V&&V.length&&ee?V.map(((e,t)=>Object(r.jsx)(y,{cardType:"carousal",min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:S,tenantReducer:K,modgrpId:c,modGrpName:s,updatedItems:x,getCartModifiers:ee},t))):null}):V&&V.length&&ee&&V.map(((e,t)=>Object(r.jsx)(y,{cardType:"regular",min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:S,tenantReducer:K,modgrpId:c,modGrpName:s,updatedItems:x,getCartModifiers:ee},t)))||null})]}),Object(r.jsxs)(i.a.Fragment,{children:[W(t,S,J,X)&&Object(r.jsxs)("div",{className:"uplift-dropdown","data-testid":"desktop-uplift-dropdown",children:[Object(r.jsxs)("div",{className:"language-select-uplift",ref:oe,"data-testid":"desktop-dropdown-filter",onClick:se,children:[Object(r.jsx)("span",{"data-testid":"uplift-order-text",children:Object(O.Tc)(N.name,N.name+be(),Object(M.translateWithI18Next)(v))}),Object(r.jsx)("span",{className:"selected-rate",children:H(N,u,q)}),Object(r.jsx)("img",{className:"dropdown-img-ham",src:k,alt:"DropDowm"})]}),T&&Object(r.jsx)("div",{ref:ie,children:Object(r.jsx)("ul",{className:"filter-list",children:P(t,S,J,X).map((e=>function(e,t,a,o,i,n){return Object(r.jsxs)("li",{className:"filter-list-items","data-testid":"item-".concat(e.name,"-click"),onClick:()=>t(e,a),children:[Object(r.jsx)("span",{children:e.name}),Object(r.jsxs)("div",{className:"rate-container",children:[Object(r.jsx)("span",{className:"filter-item-rate",children:e.name!==o?"+".concat(i).concat(e.rate):""}),e.name===n.name&&Object(r.jsx)(_.a,{src:F,className:"selected-stroke"})]})]},e.name)}(e,ue,s,u,q,N)))})})]}),Object(r.jsx)("div",{className:"modifier-list-items",children:V&&V.length&&ee?V.map(((e,t)=>Object(r.jsx)(y,{min:a,max:n,cardData:e,savedModifierHandler:le,savedModifiers:S,tenantReducer:K,modGrpName:s,modgrpId:c,updatedItems:x,getCartModifiers:ee},t))):null})]}))};var G=e=>{const{grouplist:t=[],getSelectedModifiers:a,selectedModifiers:n,source:l=""}=e,{PDP:d}=p.a,[c,s]=Object(o.useState)(t),[u,v]=Object(o.useState)([]),{userOrderState:m}=Object(o.useContext)(j.a),{pdpScreenCommons:{currentAccordian:b,modGroupIdsUpdated:h}}=m,g=e=>{null===e||void 0===e||e.stopPropagation(),null===e||void 0===e||e.preventDefault()};Object(o.useEffect)((()=>{(()=>{let e=(e=>{let t=e.length?e:[];return t.map(((e,t)=>(e.expanded=0===t,e))),t})(t);s([...e])})()}),[JSON.stringify(t)]),Object(o.useEffect)((()=>{if(Object(O.db)(b,l===d)){let e=(null!==t&&void 0!==t&&t.length?JSON.parse(JSON.stringify(t)):[]).map(((e,t)=>{if(e.id===b){var a;const t=(null===(a=e.modifiers)||void 0===a?void 0:a.length)>1?300:0;let o=document.getElementById("accordion-"+b).offsetTop;window.scrollTo({top:o-t,behavior:"smooth"}),e.expanded=!0}else e.expanded=!1;return e}));s([...e])}}),[b,JSON.stringify(t)]);const I=e=>{let t,a,o;if(e.length){t=e.map(JSON.stringify),a=new Set(t),o=Array.from(a).map(JSON.parse);let i=[];if(u.length){i=u;let e=u.findIndex((e=>e[0].modgrpId===o[0].modgrpId));e>=0?(i.splice(e,1,o),v([...i])):v([...i,o])}else v((e=>[...e,o]))}};Object(o.useEffect)((()=>{u.length&&a(u),n(u)}),[u]);const S=e=>{let t=[];for(let a of u)for(let o of a)o.modgrpId===e&&o.dname&&o.dname.length&&t.push(o.dname[0].value);return t.join(", ")};return c.map(((e,t)=>{let{id:a,name:o,modifiers:n,expanded:l,min:d,max:v}=e;const m=(e=>{let t=!1;h&&h.length&&[...new Set(h)].includes(e)&&(t=!0);return t})(a);return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{className:"accordian-container",id:"accordion-"+a,"data-testid":"product-listing-accordion-".concat(t),children:[Object(r.jsxs)("div",{className:"accordian-header",children:[Object(r.jsxs)("div",{className:"".concat(l?"accordion active":"accordion"),"data-testid":"toggle-accordion-".concat(a),onClick:e=>((e,t)=>{e&&g();let a=c.length?JSON.parse(JSON.stringify(c)):[];a.map(((e,a)=>(e.id===t&&(e.expanded=!e.expanded),e))),s([...a])})(e,a),children:[Object(r.jsx)("span",{className:"accordion-test",tabIndex:"0",children:o}),m?Object(r.jsx)("span",{className:"updatedBadge",children:Object(M.translateWithI18Next)("updated")}):null]}),Object(r.jsx)("span",{className:"selected-mod",children:u.length&&S(a)})]}),Object(r.jsx)("div",{className:"".concat(l?"panel panel-active":"panel"),children:Object(r.jsx)(B,{modgrpId:a,modGrpName:o,data:n,min:d,max:v,showSelectedModifier:I})})]})},t)}))},V=a(30),Y=a(54),z=a(899),K=a(903),q=a(913),J=a(0),Q=a(140),X=a(190),Z=a(321),$=a(69),ee=a(110);const te=e=>{let t=document.querySelector(".product-listing-component form .accordion-test");"ArrowDown"===e.key&&void 0!=typeof t&&null!=t&&t.focus()},ae=(e,t)=>{var a,o,i,n;const l=null===t||void 0===t?void 0:t[J.gd.VIEW_PRODUCT],d=null===l||void 0===l?void 0:l.couponCode;return{productPromosInStorage:d,isPromoApplied:!!d,minPromoQuantity:null===l||void 0===l||null===(a=l.promoParams)||void 0===a||null===(o=a.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===o?void 0:o.quantity,maxPromoQuantity:null===l||void 0===l||null===(i=l.promoParams)||void 0===i||null===(n=i.find((t=>(null===t||void 0===t?void 0:t.itemId)===e)))||void 0===n?void 0:n.maxQuantity}},oe=(e,t,a,o)=>{var i,n,l,d,c,r;const{setClickEvent:s,setConfirmed:u,productMapById:v,modifiersList:b,data:j,currencyConversionFactor:p,itemCount:h,minipdpData:g,FROMFLAGEDIT:S,dispatch:f,cartReducer:N,tenantId:C,id:T,modifierGrp:E,userOrderStateDispatch:x,confirmUpsizeName:D,userType:y,categoryMapById:_,addToOrderClickHandler:A,closeParentModal:L,getPwaStorageData:P,sliceDispatch:w}=t,{foodLines:M}=(null===N||void 0===N?void 0:N.cartData)||{},{couponCode:k,discountTotal:F}=Object(O.vb)(null===N||void 0===N?void 0:N.cartData),U=Object(O.Kd)(null===N||void 0===N?void 0:N.cartData)?Object(O.ic)(null===g||void 0===g?void 0:g.foodLineId,null===N||void 0===N?void 0:N.cartData):{},H=Math.abs(h-(null===U||void 0===U?void 0:U.count));let W="";e.stopPropagation(),e.preventDefault(),s(e),u(!0);const B=(null===T||void 0===T?void 0:T.split("_")[0])||"",{categoryId:G=""}=null!==(i=null===v||void 0===v?void 0:v[B])&&void 0!==i?i:{},{id:z="",name:K="",url:ee=""}=null!==(n=null===_||void 0===_?void 0:_[G])&&void 0!==n?n:{},te=null===t||void 0===t||null===(l=t.categoryMapById)||void 0===l||null===(d=l[null===t||void 0===t?void 0:t.categoryId])||void 0===d?void 0:d.url,oe=Object(Z.d)(B,a);if(Object(Z.c)({categoryUrl:te,itemInCart:oe,alertType:Object(Z.j)(null===a||void 0===a?void 0:a.timebasedItemInCart,null===J.Sb||void 0===J.Sb?void 0:J.Sb.ITEM)},a,x))return;m()(b,(e=>{W+="".concat(e[0].name,", ")}));const ne=Object(O.Cc)(null===j||void 0===j?void 0:j.availability[0],null===j||void 0===j?void 0:j.additionalProperties,p);let le={item_name:Object(O.jc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.jc)(null===j||void 0===j?void 0:j.id),item_category:K,coupon:k,discount:+(F/p).toFixed(2),price:Object(O.jc)(ne),item_list_name:K,item_list_id:z,index:Object(Q.b)(M,null===j||void 0===j?void 0:j.id,0),quantity:H,currency:J.p.INR,item_variant:null!==j&&void 0!==j&&null!==(c=j.modgrps)&&void 0!==c&&c.length?null===j||void 0===j||null===(r=j.modgrps)||void 0===r?void 0:r.reduce(((e,t)=>e+"".concat(null===t||void 0===t?void 0:t.name,", ")),""):"NA"};const de=ae(T,P);if(g.fromFlag!==S){var ce,re,se,ue,ve,me;f(Object(V.a)({params:{basketId:null===N||void 0===N||null===(ce=N.cartData)||void 0===ce?void 0:ce.id},tenantId:C},[{Id:T,categoryId:z,quantity:h,modGrps:ie(E),categoryName:K,categoryUrl:ee,isProductPromo:null===de||void 0===de?void 0:de.isPromoApplied}],(()=>{null!==de&&void 0!==de&&de.productPromosInStorage&&(A({couponCode:de.productPromosInStorage}),w(Object($.c)({key:J.gd.VIEW_PRODUCT})),x({type:X.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),L())}))),Object(q.a)({item_name:Object(O.jc)(null===j||void 0===j?void 0:j.name),item_id:Object(O.jc)(null===j||void 0===j?void 0:j.id),item_category:K,price:Object(O.jc)((null===j||void 0===j||null===(re=j.availability)||void 0===re||null===(se=re[0])||void 0===se?void 0:se.price)/p),item_variant:Object(O.jc)(null===(ue=W)||void 0===ue?void 0:ue.trim()),item_list_name:K,item_list_id:z,index:1,quantity:h,coupon:k||"",discount:+(F/p).toFixed(2),currency:o},y,h*Object(O.jc)((null===j||void 0===j||null===(ve=j.availability)||void 0===ve||null===(me=ve[0])||void 0===me?void 0:me.price)/p),k,o)}else{var be;f(Object(V.y)({params:{basketId:null===N||void 0===N||null===(be=N.cartData)||void 0===be?void 0:be.id,basketLineItemId:g.foodLineId},tenantId:C},{Id:T,quantity:h,modGrps:ie(E)}));const e=(null===le||void 0===le?void 0:le.price)*(null===le||void 0===le?void 0:le.quantity);h!==(null===U||void 0===U?void 0:U.count)&&(h>(null===U||void 0===U?void 0:U.count)?Object(I.j)(y,le,+e,k,o):Object(I.l)(Y.a.ANALYTICS_EVENTS.REMOVE,le,y,o,e))}f(Object(V.u)(new Date)),x({type:Y.a.SET_ADDED_LOCATION,value:{itemLocation:{itemid:T,addedFrom:"PLP-Model"}}}),(async e=>{const t=[];t.push({event:"confirmUpsize",changesMade:e}),await R.a.registerEvent(void 0,{data:t[0]},O.xb)})(D)};function ie(e){return null===e||void 0===e||e.forEach((e=>{e.modifiers.map((e=>{var t;return e.categoryId=null===e||void 0===e||null===(t=e.categoryId)||void 0===t?void 0:t.catId,e}))})),e}var ne=e=>{var t;const{data:a,categoryId:n,handleClose:l,showPriceContent:c=!0,source:s="",addToOrderClickHandler:v,closeParentModal:m}=e,{id:b,modgrps:p,availability:I=[],additionalProperties:S=[]}=a,{userOrderState:f,userOrderStateDispatch:N}=Object(o.useContext)(j.a),{confirmUpsizeName:C,minipdpData:T,timeBasedCetegory:E}=f,[x,D]=Object(o.useState)(p),[y,_]=Object(o.useState)([]),A=Object(d.b)(),R=Object(d.c)((e=>e.tenantReducer)),L=Object(d.c)((e=>e.cartReducer)),{cartData:P={},isAddItemLoading:w=!1}=L||{},{currencySymbol:k,tenantId:F,currencyConversionFactor:U,maxItemCountPerLineItem:H,componentOptions:{web:{global:{showPriceWithTax:W=!1}={}}={}}={}}=R,{flatResponse:{productMapById:B={},categoryMapById:V={}}={}}=null!==(t=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[q,J]=Object(o.useState)(0),Q=Object(O.Cc)(I[0],S,U,W),{ADDTOCART:X,UPDATECART:Z}=g,{FROMFLAGEDIT:ie,EDIT_CLICKED:ne}=h.a,[le,de]=Object(o.useState)(1),[ce,re]=Object(o.useState)(0),{ITEM_QUANTITY:se}=z.a,[ue,ve]=Object(o.useState)(!1),[me,be]=Object(o.useState)(null),Oe=Object(d.c)((e=>e.appStateReducer.userStatus)),je=Object(O.gd)(null===Oe||void 0===Oe?void 0:Oe.localized,null===Oe||void 0===Oe?void 0:Oe.loggedIn),pe=Object(ee.a)(),he=Object(ee.b)($.b),ge=ae(b,he),Ie={setClickEvent:be,setConfirmed:ve,categoryId:n,modifiersList:y,data:a,itemCount:le,minipdpData:T,FROMFLAGEDIT:ie,dispatch:A,cartReducer:L,tenantId:F,id:b,modifierGrp:x,userOrderStateDispatch:N,confirmUpsizeName:C,productMapById:B,currencyConversionFactor:U,userType:je,categoryMapById:V,addToOrderClickHandler:v,closeParentModal:m,getPwaStorageData:he,sliceDispatch:pe};Object(o.useEffect)((()=>{var t;null===(t=e.callBackToPDP)||void 0===t||t.call(e,{modifierGrp:x,modifiedItemPrice:q})}),[x]),Object(o.useEffect)((()=>{const e=Object(O.Kd)(P)?Object(O.hc)(b,P):{},t=Object(O.Kd)(e)?e.count:0;if(re(t),T.fromFlag===ie){const e=Object(O.Kd)(P)?Object(O.ic)(T.foodLineId,P):{},t=Object(O.Kd)(e)?e.count:1;de(t)}}),[P]),Object(o.useEffect)((()=>()=>{N({type:ne,value:{cartEditClicked:!1}})}),[N,ne]);Object(o.useEffect)((()=>{ue&&!w&&l(me)}),[ue,w]),Object(o.useEffect)((()=>(window.addEventListener("keydown",te),()=>{window.removeEventListener("keydown",te)}))),Object(o.useEffect)((()=>{T.fromFlag!==ie&&b&&(null===ge||void 0===ge?void 0:ge.minPromoQuantity)&&de(null===ge||void 0===ge?void 0:ge.minPromoQuantity)}),[b]);const Se=T.fromFlag===ie?Object(M.translateWithI18Next)(Z):Object(M.translateWithI18Next)(X);return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("div",{className:"modal-body-row product-listing-component","data-testid":"product-listing-component",children:Object(r.jsx)("form",{className:"form",children:Object(O.Kd)(p)?Object(r.jsx)(G,{grouplist:p,getSelectedModifiers:e=>{let t=0,a=[];e.forEach((e=>{let o={};o.id=e[0].modgrpId,o.modifiers=[],e.forEach((e=>{let a={},i=JSON.parse(JSON.stringify(e));a.id=i.id,a.quantity=i.defaultQuantity,a.modGrps=i.modgrps,a.categoryId=n,o.modifiers.push(a);let l=Object(O.Cc)(e.availability[0],e.additionalProperties,U,W);t+=l})),a.push(o)})),J(Q+t),D(a)},selectedModifiers:_,source:s}):null})}),c&&Object(r.jsx)("div",{className:"price-content",children:Object(r.jsxs)("div",{className:"price-content-parent","data-testid":"product-listing-button-comp",children:[le?Object(r.jsx)(K.a,{itemCount:le,itemQuantity:se,updateItemQuantity:(e,t)=>{t===Y.a.QUANTITY_ACTION.Increase?de((e=>+e+1)):de((e=>+e-1))},quantityAction:Y.a.QUANTITY_ACTION,item:void 0,maxItemCountPerLineItem:null!==ge&&void 0!==ge&&ge.isPromoApplied?null===ge||void 0===ge?void 0:ge.maxPromoQuantity:H,cartItemCount:ce+1}):null,Object(r.jsxs)(u.a,{className:"button start-order-btn ".concat(w?"blackButton":"redButton"," customizeCartButton"),id:"startOrderItemButton","data-testid":"product-listing-button",type:"submit",name:"product-listing-button",onClickHandler:e=>oe(e,Ie,E,null===R||void 0===R?void 0:R.currencyShortName),children:[Object(r.jsx)("span",{className:"title-for-button",children:"".concat(Se)}),Object(r.jsx)("span",{className:"currency-symbol",children:"".concat(k," ").concat((fe=q,(le*fe).toFixed(2)))})]})]})})]});var fe},le=a(46);const de=e=>{if(e){var t;let a=JSON.parse(JSON.stringify(e));return a.modgrps=null===(t=e.modgrps)||void 0===t?void 0:t.filter((e=>{let{isHidden:t}=e;return!t})),a}return{}};t.a=e=>{const{isModal:t=!0,showPriceContent:a=!0,callBackToPDP:i,data:n={},source:c=""}=e,{MODALHEADERTEXT:u=""}=g,{COUPON_MULTI_PRODUCT:v}=le.a,{userOrderStateDispatch:m}=Object(o.useContext)(j.a),b=Object(d.c)((e=>{let{menuReducer:t}=e;return t.currentItemDetails})),p=Object(O.Kd)(n)?de(n):de(b),h=Object(d.b)(),I=Object(d.c)((e=>e.cartReducer)),S=e=>{e.stopPropagation(),e.preventDefault(),m({type:v,value:{fromCouponSection:!1}}),h(Object(V.v)({showProductListingModal:!1,categorySelected:""}))},f=Object(r.jsx)(ne,{data:p,categoryId:I.categorySelected,handleClose:S,showPriceContent:a,callBackToPDP:i,"data-testid":"product-listing-modal-enabled",source:c,addToOrderClickHandler:null===e||void 0===e?void 0:e.addToOrderClickHandler,closeParentModal:null===e||void 0===e?void 0:e.closeParentModal}),N=Object(r.jsx)(s,{handleClose:S,ProductListingModalForm:f,headerText:Object(M.translateWithI18Next)(u),"data-testid":"product-listing-inside-modal"}),C=Object(r.jsx)("div",{className:"pdp-custm",children:f});return t?l.a.createPortal(N,document.getElementById("modal-popups")):C}},920:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a(171),i=a(2);const n=e=>Object(i.jsx)(o.a,{testId:"account-container-test",importPath:"FOOTER_PAGE",...e})},921:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a(17),i=a(6),n=a(15),l=a(4);const d=[{key:o.d.roundTheClock,image:n.a.RoundTheClockDark,label:Object(i.translateWithI18Next)(l.a.ROUND_THE_CLOCK)},{key:o.d.birthday,image:n.a.BirthdayDark,label:Object(i.translateWithI18Next)(l.a.BIRTHDAY)},{key:o.d.breakfast,image:n.a.BreakfastDark,label:Object(i.translateWithI18Next)(l.a.BREAKFAST)},{key:o.d.contactless,image:n.a.ContactlessDark,label:Object(i.translateWithI18Next)(l.a.CONTACTLESS)},{key:o.d.driveThru,image:n.a.DrivethruDark,label:Object(i.translateWithI18Next)(l.a.DRIVETHRU)},{key:o.d.driveThruOnly,image:n.a.DrivethruDark,label:Object(i.translateWithI18Next)(l.a.DRIVETHRU)},{key:o.d.foodCourt,image:n.a.FoodCourtDark,label:Object(i.translateWithI18Next)(l.a.FOODCOURT)},{key:o.d.wifi,image:n.a.WifiDark,label:Object(i.translateWithI18Next)(l.a.FREE_WIFI)},{key:o.d.wifiOnly,image:n.a.WifiDark,label:Object(i.translateWithI18Next)(l.a.WIFI)},{key:o.d.kiosks,image:n.a.KiosksDark,label:Object(i.translateWithI18Next)(l.a.KIOSKS)},{key:o.d.parking,image:n.a.ParkingDark,label:Object(i.translateWithI18Next)(l.a.PARKING)},{key:o.d.playground,image:n.a.PlaygroundDark,label:Object(i.translateWithI18Next)(l.a.PLAYGROUND)},{key:o.d.refill,image:n.a.RefillDark,label:Object(i.translateWithI18Next)(l.a.REFILL)},{key:o.d.terraces,image:n.a.TerracesDark,label:Object(i.translateWithI18Next)(l.a.TERRACES)},{key:o.d.phc,image:n.a.AccessibilityDark,label:Object(i.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:o.d.accessibility,image:n.a.AccessibilityDark,label:Object(i.translateWithI18Next)(l.a.ACCESSIBILTY)},{key:o.d.restroom,image:n.a.RestRoomDark,label:Object(i.translateWithI18Next)(l.a.RESTROOM)},{key:o.d.cateringType,image:n.a.BirthdayDark,label:Object(i.translateWithI18Next)(l.a.CATERING_TEXT)}],c=(e,t)=>d.filter((t=>{var a,o;return(null===e||void 0===e||null===(a=e.amenities)||void 0===a?void 0:a.length)&&(null===e||void 0===e||null===(o=e.amenities)||void 0===o?void 0:o.indexOf(null===t||void 0===t?void 0:t.key))>=0}))},922:function(e,t,a){"use strict";t.a={MODALHEADERTEXT:"selectOption",UPLIFTPLACEHOLDER:"upSize",CONFIRMBUTTONTXT:"confirmSelections",REGULAR:"Regular",ADDTOCART:"addToCart",UPDATECART:"updateCart",SETFLAGCASE:{DEFAULT:"default",FROMEDIT:"fromEdit",ITEMINCLUDES:"itemIncludes"},SINGLE:"single"}},923:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));const o={URL:"/images/offers/lg/",PNG:".png",IMAGES:"/images/",DEFAULT_IMAGE_PATH:"/images/items/no-image.jpg",VIEW_DETAIL_IMAGE_PATH:"/images/offers/detail/",PROMOS_CARD_IMAGE_PATH:"/images/offers/card/",CONTENT_DATA_MAX_LENGTH_TO_SCROLL:4,CONTENT_DATA_MAX_LENGTH_TO_SHOW:9,TIME_IN_MILLISECONDS:1e3,CAROUSAL_CONFIG:{SPEED:200,SLIDES_TO_SHOW:3,SLIDES_TO_SCROLL:1},BUTTON_TEXT:{VIEW_DETAILS:"viewdetails",REDEEM:"redeem"},OFFERS_HEADER_TEXT:{OFFERS_AND_DEALS:"offerDeals",VIEW_ALL_DEALS:"viewAllDeal"},FADE_CARD_INDEX:3,DEFAULT_PAGE_SIZE:6,SILCK_RESPONSIVE_PROPERTY:[{breakpoint:1950,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:880,settings:{slidesToShow:2,slidesToScroll:1,arrows:!1,swipeToSlide:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0}}]}},924:function(e,t,a){"use strict";t.a={FOOTER_LOGO:"logoicon",FOOTER_SECTION:"footerSection",FIND_A_KFC_SECTION:"Find A KFC",APP_LINKS:"AppLinks",SOCIAL_SECTION:"Social Links",COPYRIGHT:"Copyright",FOOTER_LINKS:"footer-links",SOCIAL_ICONS:"social-icons",INDIA:"INDIA",AUSTRALIA:"AUSTRALIA",ORDER_LOOKUP:"orderLookup",ORDER_LOOKUP_NAME:"Order Lookup",PRIVACY_POLICY:"Privacy Policy ",TERMS_OF_USE:"Terms of Use ",YUM:"Yum",PROTECTED_DISCLOSURE:"Protected Disclosure",OUR_ADS:"Our Ads",ERROR_MESSAGE:"invaidInputs",PHONE_NUM:"phoneNumber",ORDER_NUMBER:"Order Number*",CANCEL:"Cancel",SUBMIT:"Submit",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",TWITTER:"Twitter",FOOTER_MENU:"Menu",FAQ:"FAQ",GIFT_CARD:"Gift Card",ORDER_NUMBER_HEADER:"Order Number*",PHONE_NUM_HEADER:"phonePlaceholder",ORDERHASH:"ORDER# ",YOUR_ORDER:"YOUR ORDER",DELIVER_TO:"delivery To",ORDER_FROM:"order From",GET_DIRECTION:"getDirection",DISCOUNT:"DiscountText",TOTAL:"total",COMPLETED:"completed",SUB_TOTAL:"subTotal",PAYMENT:"payment",GETHELP:"Get Help",KFC_INDIA:"KFC India",USER_EMAIL:"user_email",USER_PHONE:"user_phone",EMAIL_REGEX:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,YOUR_EMAIL_PLACEHOLDER:"useremailplaceholder",PHONE_PLACEHOLDER:"userphoneplaceholder",INVALID_EMAIL:"invalidEmailId",INVALID_PHNUM:"invalidPhoneNum",EMAIL_ADDRESS:"emailAddress",INVALID_ORDERID:"invalidOrderId",DELIVERY:"DELIVERY",CONTACT_US:"Contact Us",SEARCH_IN_CART:"SEARCH_IN_CART",largeCarryBagText:"largeCarryBag",addHopeText:"addhope",KFC_FEEDBACK:"KFC Feedback",INTERNAL:"internal",EXTERNAL:"external",FIND_A_KFC:"Find a KFC",FIND_A_KFC_TITLE:"FindAKFCLink",HEADLINE:"headline",YOUTUBE:"Youtube",SNAPCHAT:"Snapchat",LINKEDIN:"LinkedIn",TIKTOK:"Tiktok",LINE:"Line",COOKIES_SETTINGS:"Cookie Settings"}},925:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var o=a(30),i=a(54),n=a(319),l=a(122),d=a(14),c=a(190),r=a(901),s=a(0),u=a(898),v=a(49),m=a(5);a(69),a(27);const{QUANTITY_ACTION:b,ANALYTICS_EVENTS:O,CART_ALERT:j,PDP_DATA_FOR_UPDATE_FOODLINE:p,CUSTOMISE_FLAG_CART:h,REMOVE_ITEM_FLAG:g}=i.a,{MINI_PDP_DATA:I,FROMFLAGEDIT:S,EDIT_CLICKED:f}=d.a,{RESET_MODGROUP_IDS_UPDATE:N,SHOW_PDP_ALERT_POPUP:C}=c.a;function T(e,t,a,d,T,E,x,D){let y=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"",_=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],A=arguments.length>10?arguments[10]:void 0,R=arguments.length>11&&void 0!==arguments[11]?arguments[11]:"",L=arguments.length>12&&void 0!==arguments[12]?arguments[12]:"",P=arguments.length>13?arguments[13]:void 0,w=arguments.length>14?arguments[14]:void 0;const M=(a,i)=>{let{foodLineId:l}=a;const{cartId:c}=e;l&&c&&t&&(E(Object(o.q)({tenantId:t,basketId:c,basketLineItemId:l})),T({type:g,value:{removeItemCart:!0}}));const s=Object(n.r)([a],d,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,y,R);i&&i(s),E(Object(o.u)(new Date));const u=null===a||void 0===a?void 0:a.cartPrice,v={eventFlag:O.REMOVE,itemsArray:s,userType:D,totalAmount:u,couponCode:R,currencyShortName:y};Object(r.h)(v)},k=e=>{T({type:j,value:{showCartAlert:e}})},F=e=>{if(localStorage.getItem(s.gd.ADD_TO_ORDER)){var t;const a=null===JSON||void 0===JSON?void 0:JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem(s.gd.ADD_TO_ORDER));null!==a&&void 0!==a&&a[e]&&delete a[e],Object.keys(a).length>0?localStorage.setItem(s.gd.ADD_TO_ORDER,JSON.stringify(a)):localStorage.removeItem(s.gd.ADD_TO_ORDER)}},U=(a,i)=>{const{cartId:n}=e,l={Id:null===i||void 0===i?void 0:i.foodItemId,categoryId:null===i||void 0===i?void 0:i.categoryId,quantity:null===i||void 0===i?void 0:i.quantity,categoryName:null===i||void 0===i?void 0:i.foodName,categoryUrl:null===i||void 0===i?void 0:i.categoryUrl};+(null===i||void 0===i?void 0:i.discountAmount)>0?E(Object(o.y)({params:{basketId:n,basketLineItemId:null===i||void 0===i?void 0:i.foodLineId},tenantId:t},{...l,isProductPromo:!1})):M(i),F(a)};return{itemQuantityHandler:(a,i)=>{var l,c;let{quantity:m,foodLineId:j,foodItemId:p}=a;const{cartId:h,discountAmounts:g=[]}=e,{unitPrice:I}=a;m&&j&&h&&t&&(i===b.Increase&&Object(u.e)(m,null===a||void 0===a?void 0:a.isProductPromo,a,A),m=i===b.Increase?m+1:i===b.Decrease&&m-1||m,E(Object(o.x)({params:{basketId:h,basketLineItemId:j},tenantId:t},{quantity:m,isBundle:Object(n.e)(p)})),E(Object(o.u)(new Date)));const S=i===b.Increase?O.ADD_TO_CART:O.REMOVE;let f=Object(n.r)([a],d,"quantityModified",g,y,R,L/P);const N=(null===f||void 0===f||null===(l=f[0])||void 0===l?void 0:l.price)*(null===f||void 0===f||null===(c=f[0])||void 0===c?void 0:c.quantity),{totalAmount:C}=e;if(i===b.Increase){var T,x;const e=null===(T=JSON.parse(null===(x=localStorage)||void 0===x?void 0:x.getItem(s.gd.DISPOSITION_NEW)))||void 0===T?void 0:T.type;Object(v.f)(D,f,+N.toFixed(2),R,y,e)}else{let e={eventFlag:S,itemsArray:f,userType:D,totalAmount:N,couponCode:R,currencyShortName:y};Object(r.h)(e)}},itemRemoveHandler:M,itemAllRemoveHandler:()=>{k(!0)},itemAllRemoveAction:a=>{const{cartId:i}=e;i&&t&&E(Object(o.o)({basketId:i,tenantId:t})),k(!1);let l=Object(n.r)(a,_,"removeAllQty",null===e||void 0===e?void 0:e.discountAmounts,y,R);localStorage.removeItem(s.gd.ADD_TO_ORDER);const d=a.map((e=>e.cartPrice)).reduce(((e,t)=>e+t));let c={eventFlag:O.REMOVE,itemsArray:l,userType:D,totalAmount:d,couponCode:R,currencyShortName:y};Object(r.h)(c),E(Object(o.u)(new Date))},addMoreMenuHandler:e=>{const t=Object(m.yd)(e)?s.Ae.CATERING_PAGE:Object(m.Ad)(e)&&null!==w&&void 0!==w&&w.enableDeliveryMenuOption?s.Ae.DELIVERY_PAGE:s.Ae.MENU_PAGE;x.push({pathname:t}),E(Object(o.u)(new Date))},itemEditHandler:a=>{const{foodItemId:i="",foodLineId:d}=a,{catalog:c}=e;T({type:N}),T({type:f,value:{cartEditClicked:!0}}),T({type:I,value:{id:i,flag:S,foodLineId:d}}),E(Object(l.c)({tenantId:t,catalogName:c,itemId:i})),Object(n.y)(O.EDIT),E(Object(o.u)(new Date))},showCartAlert:k,itemCustomiseHandler:function(a,o,i,d,r,u,v){let m=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{foodItemId:b="",foodLineId:j}=o,{catalog:g}=e;if(null!==o&&void 0!==o&&o.isProductPromo){var I,S;const e=null===o||void 0===o||null===(I=o.discountComponents)||void 0===I||null===(S=I[0])||void 0===S?void 0:S.couponCode,t=(e=>{var t,a,o;const{applicableCoupons:i,itemId:n,couponCode:l}=e,d=null===i||void 0===i?void 0:i.filter((e=>(null===e||void 0===e?void 0:e.itemDetails)&&(null===e||void 0===e?void 0:e.code)===l));return null===d||void 0===d||null===(t=d[0])||void 0===t||null===(a=t.itemDetails)||void 0===a||null===(o=a.find((e=>(null===e||void 0===e?void 0:e.id)===n)))||void 0===o?void 0:o.availability})({itemId:o.foodItemId,applicableCoupons:v,couponCode:e});r(u({key:s.gd.VIEW_PRODUCT,value:{couponCode:e,promoParams:[{itemId:o.foodItemId,quantity:o.quantity,maxQuantity:o.maxQuantity,minQuantity:o.minQuantity}],priceDetails:[{id:o.foodItemId,availability:t}]}})),r(u({key:s.gd.PROMO_PRODUCT_CART,value:{couponCode:null===o||void 0===o?void 0:o.couponCode,promoParams:[{itemId:null===o||void 0===o?void 0:o.foodItemId,quantity:null===o||void 0===o?void 0:o.quantity,maxQuantity:null===o||void 0===o?void 0:o.maxQuantity}],priceDetails:[{id:o.foodItemId}],isPromo:!0}})),T({type:c.a.SET_PDP_PAGE_STATUS,value:{isPdpPageActive:!0}})}T({type:p,value:{id:b,flag:h,foodLineId:j,isProductPromo:null===o||void 0===o?void 0:o.isProductPromo}}),T({type:c.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:null===o||void 0===o?void 0:o.isProductPromo}}),r(u({key:C,value:!1})),E(Object(l.c)({tenantId:t,catalogName:g,itemId:b})),i.push({pathname:Object(n.h)(a,o,d,m)}),Object(n.y)(O.EDIT),localStorage.setItem(s.gd.CUSTOMISE_ITEM_CART,!0),sessionStorage.setItem(s.Ke.CUSTOMISE_PDP_FLAG,!0)},navigateToPromos:e=>{x.push({pathname:null===s.Ae||void 0===s.Ae?void 0:s.Ae[null===e||void 0===e?void 0:e.toUpperCase()]}),E(Object(o.u)(new Date))},promosRemoveHandler:(a,i)=>{const{cartId:n}=e;a&&E(Object(o.p)({basketId:n,tenantId:t,couponCode:a},(()=>{i?U(a,i):F(a)})))},addToCartAnalyticsOnly:function(e,t,a,o){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,s=arguments.length>6?arguments[6]:void 0;let u={eventFlag:t===b.Increase?O.ADD_TO_CART:O.REMOVE,itemsArray:Object(n.r)([e],d,i.a.QUANTITY_MODIFIED,[],s,o,l/c),userType:a,totalAmount:(null===e||void 0===e?void 0:e.quantity)*(null===e||void 0===e?void 0:e.cartPrice),couponCode:o,currencyShortName:s};Object(r.h)(u)}}}},926:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var o=a(3),i=a(73),n=a.n(i),l=a(121),d=a(5),c=(a(0),a(903)),r=a(54),s=a(76),u=a(14),v=a(25),m=a(122),b=a(190),O=a(30),j=a(15),p=a(2);const h=e=>{const{basketLineItemId:t,customizableFoodItemsList:a,SetCustomizableFoodItemsList:i,calculateTotalAmountHandler:n,isEditSelection:l}=e,h=Object(v.b)(),{RESET_MODGROUP_IDS_UPDATE:g}=b.a,{userOrderState:I,userOrderStateDispatch:S}=Object(o.useContext)(s.a),{MINI_PDP_DATA:f,FROMFLAGEDIT:N,EDIT_CLICKED:C}=u.a,{QUANTITY_ACTION:T}=r.a,E=a[t],x=Object(v.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails})),[D,y]=Object(o.useState)(!1),{Single_Arrow_Edit:_}=j.a,A=(e,o)=>{E.quantity=o===T.Increase?(null===E||void 0===E?void 0:E.quantity)+1:(null===E||void 0===E?void 0:E.quantity)-1;const l=a;l[t]=E,i(l),n()};Object(o.useEffect)((()=>{var e;let t=!0;null===E||void 0===E||null===(e=E.modGrps)||void 0===e||e.forEach((e=>{t*=e.modifiers[0].isDefault}))}),[E.modGrps]),Object(o.useEffect)((()=>{Object(d.oc)(x,E,I,D,h,O.v),y(!1)}),[x,D]);return Object(p.jsxs)(p.Fragment,{children:[l?Object(p.jsx)("div",{className:"EditItemsCard",onClick:()=>(()=>{var e,a;S({type:f,value:{id:null===E||void 0===E||null===(e=E.foodItems)||void 0===e?void 0:e.id,flag:N,foodLineId:t}}),S({type:g}),S({type:C,value:{cartEditClicked:!1}}),h(Object(m.c)({tenantId:null===E||void 0===E?void 0:E.tenantId,catalogName:null===E||void 0===E?void 0:E.catalog,itemId:null===E||void 0===E||null===(a=E.foodItems)||void 0===a?void 0:a.id})),y(!0)})(),children:Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.pc)(E.modGrps)})]}),Object(p.jsx)("img",{className:"arrow-icon","data-testid":"arrow-click-edit",src:_,alt:"Arrow Icon"})]})}):Object(p.jsxs)("div",{className:"CustomizeOptionModal",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"DisplayNameFont",children:null===E||void 0===E?void 0:E.displayName}),Object(p.jsx)("div",{className:"customizableProducts-Default",children:Object(d.pc)(E.modGrps)})]}),Object(p.jsx)("div",{className:"PlusAndMinus",children:Object(p.jsx)(c.a,{itemCount:null===E||void 0===E?void 0:E.quantity,itemQuantity:1,"data-testid":"QuantityModifier_OnClick",updateItemQuantity:A,quantityAction:T,maxItemCountPerLineItem:null===E||void 0===E?void 0:E.maxItemCountPerLineItem,cartItemCount:1,hideChild:!0})})]}),Object(p.jsx)("div",{className:"LineSeparator"})]})},g={ADD_NEW_PRODUCT:"addNewProduct",UPDATE_CART:"updateCart",CUSTOMIZATION_MODAL_DATA:"CUSTOMIZATION_MODAL_DATA"};var I=a(6);const S=e=>{const{addNewProductHandler:t,currencySymbol:a,updateCartHandler:o,customizableFoodItemsList:i,SetCustomizableFoodItemsList:n,totalAmount:l,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r,checkItemExpiry:s}=e,{ADD_NEW_PRODUCT:u,UPDATE_CART:v}=g,m=Object.keys(i).length;return Object(p.jsxs)("div",{children:[Object.keys(i).map((e=>Object(p.jsx)(h,{"data-testid":"ModalTemplate_QuantityModifier",addNewProductHandler:t,basketLineItemId:e,customizableFoodItemsList:i,SetCustomizableFoodItemsList:n,calculateTotalAmountHandler:d,isEditSelection:c,handleClose:r}))),c?Object(p.jsx)("div",{className:"editSelectionsItem",children:Object(p.jsx)("button",{className:"button whiteButton blackBorder add-new-product","data-testid":"add-new-product-for-edit","aria-label":"Add new product",tabindex:"0",onClick:()=>t(),children:Object(I.translateWithI18Next)(u)})}):Object(p.jsxs)("div",{className:m<2?"FinalButton":"FinalDivButtons",children:[Object(p.jsx)("div",{className:"AddNew",children:Object(p.jsx)("span",{className:"addNewItem",onClick:t,children:Object(I.translateWithI18Next)(u)})}),Object(p.jsx)("div",{className:"ButtonAndPopupLink",children:Object(p.jsxs)("button",{disabled:!1,className:"button activeBtn redButton Update-cart-button ","aria-label":"Update Cart",tabindex:"0",onClick:t=>{s({event:t,cardId:null===e||void 0===e?void 0:e.cardId,productInfo:null===e||void 0===e?void 0:e.productInfo,orderClickHandler:o,props:e})},children:[Object(p.jsx)("span",{className:"TextInButton",children:Object(I.translateWithI18Next)(v)+" "}),Object(p.jsx)("span",{children:a+l})]})})]})]})};var f=a(913),N=a(319);const C=e=>{var t;const{filteredPreviousData:a,tenantData:i,dname:c,cardId:r,categoryId:s,categoryName:u,categoryUrl:m,itemCount:b,availability:j,imageName:h,itemFoodlineId:g,customizable:I,isFavouriteMenu:C=!1,cartData:T,clickHandler:E,handleClose:x,foodId:D,isEditSelection:y,headerText:_,pricewithouttax:A}=e,R=Object(v.b)(),{discountTotal:L="",couponCode:P=""}=Object(d.vb)(T)||{},w=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),M=Object(d.gd)(null===w||void 0===w?void 0:w.localized,null===w||void 0===w?void 0:w.loggedIn),{flatResponse:{productMapById:k={}}={}}=null!==(t=Object(d.Lb)(Object(v.c)((e=>{let{menuReducer:t}=e;return t}))))&&void 0!==t?t:{},{tenantId:F}=i,[U,H]=Object(o.useState)({}),[W,B]=Object(o.useState)(0),{currencyConversionFactor:G,currencySymbol:V,componentOptions:Y}=i,{web:{global:{showPriceWithTax:z=!1}={}}={}}=null!==Y&&void 0!==Y?Y:{},K={id:"CustomizedModal",role:"dialog",modalTitleId:"SELECT QUANTITY",show:!0,classNames:"CustomizedModal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:x,modalTitle:_},[q,J]=Object(o.useState)(-1),[Q,X]=Object(o.useState)([]),Z=()=>{J(-1),x&&x()},$=()=>{0===Q.length&&0===q?Z():Q&&null!==Q&&void 0!==Q&&Q.length&&q<=Q.length&&((()=>{var e,t,a,o;R(Object(O.x)({params:{basketId:null===T||void 0===T?void 0:T.id,basketLineItemId:null===(e=Q[q])||void 0===e?void 0:e.basketLineItemId},tenantId:F},{quantity:null===(t=Q[q])||void 0===t?void 0:t.quantity,isBundle:Object(N.e)((null===(a=Q[q])||void 0===a?void 0:a.foodItemId)||(null===(o=Q[q])||void 0===o?void 0:o.mdmId))}))})(),J(q+1))};Object(o.useEffect)((()=>{$()}),[Q]),Object(o.useEffect)((()=>{if(-1===q){var e;const t={...U};null===T||void 0===T||null===(e=T.foodLines)||void 0===e||e.forEach((e=>{var a,o;if(null!==e&&void 0!==e&&null!==(a=e.item)&&void 0!==a&&a.customizable&&(null===e||void 0===e||null===(o=e.item)||void 0===o?void 0:o.id)===D){var n,l;const a=Object(d.Yc)(null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.taxAmount,null===e||void 0===e?void 0:e.quantity);t[null===e||void 0===e?void 0:e.id]={tenantId:F,basketLineItemId:null===e||void 0===e?void 0:e.id,quantity:null===e||void 0===e?void 0:e.quantity,unitPrice:null===e||void 0===e?void 0:e.unitPrice,unitPriceWithoutTax:a,displayName:null===e||void 0===e||null===(n=e.item)||void 0===n?void 0:n.displayName,modGrps:null===e||void 0===e||null===(l=e.item)||void 0===l?void 0:l.modGrps,maxItemCountPerLineItem:null===i||void 0===i?void 0:i.maxItemCountPerLineItem,previousQty:null===e||void 0===e?void 0:e.quantity,foodItems:null===e||void 0===e?void 0:e.item,catalog:null===T||void 0===T?void 0:T.catalog,categorySelected:s}}})),H(t),J(0)}else q===Q.length?(Z(),R(Object(O.u)(new Date))):$()}),[null===T||void 0===T?void 0:T.foodLines]),Object(o.useEffect)((()=>{ee()}),[U]);const ee=()=>{let e=0;Object.values(U).forEach((t=>{const a=z?t.unitPrice:t.unitPriceWithoutTax;e+=t.quantity*a})),B((e/G).toFixed(2))},te=Object(p.jsx)(l.a,{...K,children:Object(p.jsx)(S,{...e,"data-testid":"ModalTemplate",filteredPreviousData:a,addNewProductHandler:e=>{const t={id:r,itemCount:b,product:{productName:c,productImage:h,productPrice:Object(d.zc)(j[0],A,G,z)},itemFoodlineId:g},a={catId:s,catName:u,catUrl:m};C?E(e,t,I,a):(E(e,t,I,a),x&&x())},currencySymbol:V,currencyConversionFactor:G,updateCartHandler:()=>{if(null!==T&&void 0!==T&&T.id&&F){var e,t;const a=Object.values(U),o=a.filter((e=>(null===e||void 0===e?void 0:e.previousQty)!==(null===e||void 0===e?void 0:e.quantity)&&e));X(o);const n=null===a||void 0===a?void 0:a[0],{foodItems:l,unitPrice:c,quantity:r,previousQty:s}=null!==n&&void 0!==n?n:{},u=r-s;let v="".concat(Object(d.pc)(null===l||void 0===l?void 0:l.modGrps));const{categoryId:m="NA",categoryName:b="NA"}=null!==(e=null===k||void 0===k?void 0:k[null===l||void 0===l?void 0:l.id])&&void 0!==e?e:{};Object(f.a)({item_name:Object(d.jc)(null===l||void 0===l?void 0:l.name),item_id:Object(d.jc)(null===l||void 0===l?void 0:l.id),item_category:b,price:Object(d.jc)(c/G),item_variant:Object(d.jc)(null===v||void 0===v?void 0:v.trim()),item_list_name:b,item_list_id:m,index:1,quantity:u,coupon:P,discount:L/G,currency:null===i||void 0===i?void 0:i.currencyShortName},M,u*(null===d.jc||void 0===d.jc||null===(t=Object(d.jc)(c/G))||void 0===t?void 0:t.toFixed(2)),P,null===i||void 0===i?void 0:i.currencyShortName)}},customizableFoodItemsList:U,SetCustomizableFoodItemsList:H,totalAmount:W,calculateTotalAmountHandler:ee,isEditSelection:y,handleClose:x})});return n.a.createPortal(te,document.getElementById("modal-popups"))}},927:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"h",(function(){return g})),a.d(t,"f",(function(){return S})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return N})),a.d(t,"a",(function(){return C})),a.d(t,"g",(function(){return T})),a.d(t,"c",(function(){return E}));var o=a(923),i=a(175),n=a(5),l=a(11),d=a(30),c=a(13),r=a(12);const{URL:s,PNG:u,IMAGES:v}=o.a,m=(e,t,a)=>{const o=[...t];return!t.length&&o.push({cardType:"empty"}),!e&&o.push({cardType:"login"}),o},b=e=>"".concat(String(e).substr(0,1).toLowerCase()).concat(String(e).substr(1)),O=e=>"FALSE"!==String(e).toUpperCase()&&Object(n.le)(e),j=(e,t,a)=>{let o="";return null!==a&&void 0!==a&&a.length?a.forEach((e=>{var a;e.attribute===t&&(o=null===e||void 0===e||null===(a=e.value[0])||void 0===a?void 0:a.value)})):e.forEach((e=>{e.key===t&&(o=e.value)})),o},p=e=>{let t=Object(n.le)(String(e));return"string"==typeof t&&(t={},t.value=null===e||void 0===e?void 0:e.replace(/[^a-zA-Z0-9]/g,"")),e},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=null===e||void 0===e?void 0:e.replace("<strikethrough>","<del>").replace("</strikethrough>","</del>");return Object(i.a)("".concat(t))},g=e=>e.length>25?e.substring(0,22)+"...":e,I=e=>{var t;const a=null===e||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.filter((e=>"IsItemExist"===(null===e||void 0===e?void 0:e.name)));return null!==a&&void 0!==a&&a.length?null===a||void 0===a?void 0:a.map((e=>{var t,a;return null===(t=Object(n.b)(null!==(a=null===e||void 0===e?void 0:e.parameter)&&void 0!==a?a:"{}"))||void 0===t?void 0:t.items})).reduce(((e,t)=>null===e||void 0===e?void 0:e.concat(t))):[]},S=(e,t)=>e.map((e=>{var a,o,i,n,l,d,c,r,v,m,g,S,f,N,C,T,E,x,D,y,_,A,R,L,P,w,M,k,F,U,H,W,B,G;return{couponCode:null===e||void 0===e?void 0:e.code,titleValue:(null===e||void 0===e||null===(a=e.promotionDetails)||void 0===a?void 0:a.title)&&(null===e||void 0===e||null===(o=e.promotionDetails)||void 0===o?void 0:o.title.length)&&h(null===e||void 0===e||null===(i=e.promotionDetails)||void 0===i||null===(n=i.title[0])||void 0===n?void 0:n.value),smallText:(null===e||void 0===e||null===(l=e.promotionDetails)||void 0===l?void 0:l.description)&&(null===e||void 0===e||null===(d=e.promotionDetails)||void 0===d?void 0:d.description.length)&&(null===e||void 0===e||null===(c=e.promotionDetails)||void 0===c||null===(r=c.description[0])||void 0===r?void 0:r.value),imageSrc:(null===e||void 0===e||null===(v=e.promotionDetails)||void 0===v?void 0:v.image)&&(null===e||void 0===e||null===(m=e.promotionDetails)||void 0===m?void 0:m.image.length)&&s+(null===e||void 0===e||null===(g=e.promotionDetails)||void 0===g||null===(S=g.image[0])||void 0===S?void 0:S.value)+u,imageName:(null===e||void 0===e||null===(f=e.promotionDetails)||void 0===f||null===(N=f.image)||void 0===N?void 0:N.length)&&(null===e||void 0===e||null===(C=e.promotionDetails)||void 0===C||null===(T=C.image[0])||void 0===T?void 0:T.value)+(null===t||void 0===t||null===(E=t.componentOptions)||void 0===E||null===(x=E.web)||void 0===x||null===(D=x.coupons)||void 0===D?void 0:D.imageType)+"?ver="+(null===t||void 0===t?void 0:t.imageVersion),validityEndTime:null===e||void 0===e?void 0:e.endDateTime,termsAndConditions:(G=null===e||void 0===e||null===(y=e.promotionDetails)||void 0===y?void 0:y.conditions,null===G||void 0===G?void 0:G.map((e=>{var t;return{displayOrder:e.displayOrder,message:null===(t=e.displayMessage[0])||void 0===t?void 0:t.value,parameter:p(null===e||void 0===e?void 0:e.parameter)}})).sort(((e,t)=>+e.displayOrder-+t.displayOrder))),isApplicable:null===e||void 0===e?void 0:e.isApplicable,isApplied:null===e||void 0===e?void 0:e.isApplied,itemDetails:null===e||void 0===e?void 0:e.itemDetails,isRewards:null===e||void 0===e?void 0:e.isRewards,cardType:null===e||void 0===e||null===(_=e.promotionDetails)||void 0===_?void 0:_.cardType,header:j(null===e||void 0===e||null===(A=e.promotionDetails)||void 0===A?void 0:A.customProperties,"header",null===e||void 0===e||null===(R=e.promotionDetails)||void 0===R?void 0:R.customAttributesCulture),hideEndDate:j(null===e||void 0===e||null===(L=e.promotionDetails)||void 0===L?void 0:L.customProperties,"hideEndDate",null===e||void 0===e||null===(P=e.promotionDetails)||void 0===P?void 0:P.customAttributesCulture),legalText:j(null===e||void 0===e||null===(w=e.promotionDetails)||void 0===w?void 0:w.customProperties,"legalText",null===e||void 0===e||null===(M=e.promotionDetails)||void 0===M?void 0:M.customAttributesCulture),showTimer:j(null===e||void 0===e||null===(k=e.promotionDetails)||void 0===k?void 0:k.customProperties,"showTimer",null===e||void 0===e||null===(F=e.promotionDetails)||void 0===F?void 0:F.customAttributesCulture),promoParameters:I(null===e||void 0===e?void 0:e.promotionDetails),...(B=null!==e&&void 0!==e&&null!==(U=e.promotionDetails)&&void 0!==U&&U.customAttributesCulture?null===e||void 0===e||null===(H=e.promotionDetails)||void 0===H?void 0:H.customAttributesCulture:null===e||void 0===e||null===(W=e.promotionDetails)||void 0===W?void 0:W.customProperties,(null===B||void 0===B?void 0:B.length)&&B.reduce(((e,t)=>{let{key:a,value:o}=t;return{...e,[b(a)]:"TRUE"===String(o).toUpperCase()||O(o)}}),{}))}})),f=e=>{if(e){const t=Object(l.M)(e),a=Object(l.o)(),o=Object(l.G)(t,a,"seconds"),i=String(o).includes("-");return t.isValid()&&!i}return!1},N=e=>{const t=Object(l.M)(e),a=Object(l.o)(),o=Object(l.G)(t,a,"hour"),i=a.add(o,"hours"),n=Object(l.G)(t,i,"minute"),d=i.add(n,"minutes"),c=Object(l.G)(t,d,"second");return"".concat(o,"HR : ").concat(n,"M : ").concat(c,"S")};function C(e,t,a,o){e(Object(d.b)({basketId:null===t||void 0===t?void 0:t.id,tenantId:o},{couponCode:a}))}const T=(e,t,a)=>!e&&t(a),E=e=>{let{tenantId:t,useBucketSize:a,imagePath:o,imageName:i}=e;return"".concat(Object(c.a)(r.Kb)).concat(t).concat(v).concat(((e,t)=>{const a=t+"/";if(e)return a+Object(n.sb)(window.innerWidth)+"/";return a})(a,o)).concat(i)}},928:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(128),l=a(325),d=a(6),c=a(5),r=a(76),s=a(0),u=a(15),v=a(2);t.a=e=>{const{locationAlertProp:t,negativeScenarioAlertProp:a,isMobile:m,onPositionChangeHandler:b,centerIndex:O,isVisible:j,setShowCard:p,locationAlert:h,setStoreMarker:g=c.L,passAddress:I,storeCardHeight:S,latLongValue:f}=e,{PLACE_PIN:N}=n.a,{userOrderState:C}=i.a.useContext(r.a),{dispositionStateData:T={}}=C,{dispositionType:E=localStorage.getItem("dispositionType")}=T;let x,D,y=i.a.createRef();const[_,A]=Object(o.useState)(f),[R,L]=Object(o.useState)(!1),{RedMarker:P,RedMarkerNoText:w,BlackMarker:M,ArrowIcon:k}=u.a;Object(o.useEffect)((()=>{x=F(_),D=U(_)}),[]),Object(o.useEffect)((()=>{A(f),L(!1)}),[f]),Object(o.useEffect)((()=>{F(_),D=U(_)}),[_,O,R]);const F=e=>new window.google.maps.Map(y.current,{zoom:10,center:Array.isArray(e)&&e.length>0?e[O]:e,disableDefaultUI:!0,fullscreenControl:!1,zoomControl:!m,gestureHandling:"greedy"}),U=e=>{const t=new window.google.maps.Geocoder;let a=e;x=F(a),j?R||(x.addListener("zoom_changed",(()=>{p(!1),L(!0)})),x.addListener("drag",(()=>{p(!1),L(!0)}))):(x.addListener("drag",(()=>{a={lat:x.getCenter().lat(),lng:x.getCenter().lng()},D.setPosition(a)})),window.google.maps.event.addListener(x,"dragend",(function(){!function(e,t,a){e.geocode({location:a},((e,t)=>{"OK"===t&&e[0]&&I(e[0].formatted_address)}))}(t,0,a)})));let o=Object(c.Tc)(Array.isArray(a)&&a.length>0,a,[a]).map(((e,t)=>{let a=new window.google.maps.Marker({position:e,map:x,visible:!0,icon:Object(c.id)(!j,!R&&j&&t===O)?(null===E||void 0===E?void 0:E.toUpperCase())===s.Af?w:P:M});return a.addListener("click",(function(e){g(e.latLng)})),a}));return Object(c.Tc)(Array.isArray(a),o,o[0])};return Object(v.jsxs)(i.a.Fragment,{children:[!t&&((null===E||void 0===E?void 0:E.toUpperCase())!==s.Af||""!==a&&a?null:Object(v.jsx)("div",{className:"map-top-note ".concat(Object(c.Tc)(h,"place-pin-off","")),children:Object(v.jsx)("div",{className:"map-top-note-text","data-testid":"map-top-text-test",children:Object(d.translateWithI18Next)(N)})})),m&&!R&&Object(v.jsxs)("div",{className:"arrows",style:{bottom:"".concat(S+15,"px")},children:[Object(v.jsx)("span",{className:"map-arrow-left ".concat(Object(c.db)(0===O,"disableArrow")),"data-testid":"map-arrow-left",onClick:e=>Object(c.Tc)(0===O,e.preventDefault(),b(0)),children:Object(v.jsx)(l.a,{srcFile:k,alt:"map-arrow-left"})}),Object(v.jsx)("span",{className:"map-arrow-right ".concat(O===_.length-1&&"disableArrow"),"data-testid":"map-arrow-right",onClick:e=>O===_.length-1?e.preventDefault():b(1),children:Object(v.jsx)(l.a,{srcFile:k,alt:"map-arrow-right"})})]}),Object(v.jsx)("div",{id:"google-map",ref:y})]})}},929:function(e,t,a){"use strict";var o=a(3),i=a(25),n=a(18),l=a.n(n),d=a(339),c=a(341),r=a(51),s=a(911),u=a(11),v=a(5),m=a(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(i.b)(),{dispositionNew:a}=Object(s.a)(),n=Object(i.c)((e=>e.specialEventReducer||{})),b=Object(i.c)((e=>e.cartReducer||{})),{isLoading:O}=n,{cartData:j}=b,p=e=>(null===e||void 0===e?void 0:e.toUpperCase())===m.Cf,h=Object(o.useMemo)((()=>n.specialEventItemAvailability||[]),[n.specialEventItemAvailability]),g=Object(o.useMemo)((()=>{const{type:e}=a||{},t=Object(d.a)(p,v.Ib);return!!e&&t(e)}),[a]),I=Object(o.useCallback)((function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=h.find((t=>{let{id:a}=t;return a.includes(e)}));if(!o)return!1;const i=null===j||void 0===j||null===(t=j.foodLines)||void 0===t?void 0:t.find((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e})),n=(null===i||void 0===i?void 0:i.quantity)||0,{available:l,stock:d}=o;return l&&parseInt(d)>0&&a?n<=parseInt(d):n<parseInt(d)}),[h,null===j||void 0===j?void 0:j.foodLines]),S=Object(o.useCallback)((e=>{let{date:a,storeId:o,time:i}=e;if(!a||!o||!i)return!1;const n=r.a.formatValue(r.a.dayjs(i,m.sb.h_mm_A),m.sb.HHmm),l=Object(u.A)("".concat(a," ").concat(i),m.sb.YYYY_MM_DD_h_mm_A);t(Object(c.a)(o,l,n))}),[t]),f=Object(o.useCallback)((()=>{if(!g||O)return!1;const{date:e,selectedTime:t,store:o}=a;S({date:e,storeId:o.id,time:t})}),[a,S,g,O]);Object(o.useEffect)((()=>{e&&l()(h)&&f()}),[f,e,h]);return{isAllCartProductsAvailable:()=>{var e;const t=null===b||void 0===b||null===(e=b.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return I(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:h,fetchEventItemAvailability:f,fetchEventItemAvailabilityForDisposition:e=>{if(!g)return!1;S(e)},getEventItemAvailability:I,isEvent:g}}},930:function(e,t,a){"use strict";a.d(t,"b",(function(){return S}));var o=a(3),i=a.n(o),n=a(121),l=a(36),d=a(25),c=a(54),r=a(6),s=a(319),u=a(5),v=a(898),m=a(43),b=a(76),O=a(0),j=a(15),p=a(18),h=a.n(p),g=a(950),I=a(2);const S=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"},f=(e,t,a)=>e?Object(I.jsx)(m.a,{"data-testid":"",className:"indulgentaddOns-card-image-global",defaultPath:Object(u.Xb)(null,t,!0),srcFile:Object(u.lc)(e,a.containerWidth,a.containerWidth)}):null;t.a=e=>{var t,a,m,p,N,C,T,E,x;const{isMobile:D,openIndulgentModal:y,handleClose:_,removeItemCart:A,IndulgentData:R,modalTitle:L,continueButtonText:P,toastMassage:w,callBackMethod:M,imageContainerSize:k,addToCart:F,productId:U="",ruleNameDetails:H={},errorBackMethod:W}=e,{ruleName:B,recommendationType:G=""}=H,{INDULGENT_ADD_ON:V}=c.a,{ADD_TO_CART:Y}=V,{userOrderState:z}=Object(o.useContext)(b.a),K=Object(d.b)(),{tickWhiteToast:q}=j.a,{cartReducer:J,userParams:Q,tenantReducer:X,storesReducer:Z,menuReducer:$,marketConfigReducer:ee}=Object(d.c)((e=>{var t;return{cartReducer:e.cartReducer||{},userParams:e.appStateReducer.userStatus||{},tenantReducer:e.tenantReducer||{},storesReducer:e.storesReducer||{},menuReducer:e.menuReducer||{},marketConfigReducer:null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response}})),{couponCode:te,discountTotal:ae}=Object(u.vb)(null===J||void 0===J?void 0:J.cartData),{headerData:{pdpBackgroundImage:oe={}}={}}=ee,ie=Object(u.hb)(oe),{flatResponse:ne={}}=$||{},le=(null===Z||void 0===Z||null===(t=Z.storesWithStatus)||void 0===t?void 0:t.length)&&(null===Z||void 0===Z||null===(a=Z.storesWithStatus[0])||void 0===a||null===(m=a.summary)||void 0===m?void 0:m.timeZoneIANA),{loggedIn:de,localized:ce}=Q,re=(se=z,h()(se.dispositionNew)?JSON.parse(localStorage.getItem(O.gd.DISPOSITION_NEW)):se.dispositionNew);var se;const ue=null===re||void 0===re?void 0:re.type;var ve;const me=((e,t)=>{var a,o,i,n,l;return(null===e||void 0===e||null===(a=e.summary)||void 0===a||null===(o=a.menu)||void 0===o||null===(i=o.catalogs)||void 0===i?void 0:i.length)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l?void 0:l.catalogs[0])||(null===t||void 0===t?void 0:t.genericMenuName)||""})((ve=re)?ve.store:{},X),be=null===X||void 0===X||null===(p=X.componentOptions)||void 0===p||null===(N=p.web)||void 0===N||null===(C=N.global)||void 0===C?void 0:C.pricewithNumberofDecimalDigit,[Oe,je]=Object(o.useState)(0),[pe,he]=Object(o.useState)(0),[ge,Ie]=Object(o.useState)(1),Se=null===X||void 0===X||null===(T=X.componentOptions)||void 0===T||null===(E=T.web)||void 0===E||null===(x=E.cartPage)||void 0===x?void 0:x.showIndulgentSectionView,fe=i.a.useRef(null),Ne={id:"DispositionModulePopup",role:"dialog",modalTitleId:"add-ons-modal",show:y,classNames:"indulgent-addons-modal extra-small-modal",showCloseBtn:!(null!==J&&void 0!==J&&J.isAddItemLoading),closeDataTestId:"indulgent-close-handler",closeButtonHandler:_,modalTitle:Object(r.translateWithI18Next)(L),autoFocus:!0},Ce=Object(s.n)(D),Te=Object(u.gd)(ce,de),Ee={INDULGENT_ADD_ON:V,IndulgentData:R,isMobile:D,recommendationType:G,ruleName:B,productId:U,userType:Te,flatResponse:ne,catalogs:me,tenantReducer:X,cartReducer:J,dispatch:K,indulgentAddToCartHandler:s.u,rangeValue:Oe,updateRangeValue:je,currentSlide:pe,updateCurrentSlide:he,caroselCount:ge,setCaroselCount:Ie,carousal:fe,setPrevArrowCSS:S,couponCode:te,discountTotal:ae,dispositionType:ue};return Se?Object(g.a)(Ee):Object(I.jsx)("div",{className:"cart-indulgent-global",children:y&&!A&&ce&&Object(I.jsx)(n.a,{...Ne,children:Object(I.jsxs)("div",{className:"indulgent-container-global",children:[Object(I.jsx)("div",{className:"indulgent-card-list-global",children:null===R||void 0===R?void 0:R.map(((e,t)=>{var a,o,i;return Object(I.jsxs)("div",{style:Object(u.ib)(ie,Ce.cardWidth,Ce.cardHeight),className:"indulgent-card-global",children:[f(null===e||void 0===e?void 0:e.content,X,k),Object(I.jsxs)("div",{className:"indulgentaddOns-card-content-global",children:[Object(I.jsx)("div",{className:"indulgent-card-header-global",children:null===e||void 0===e||null===(a=e.dname[0])||void 0===a?void 0:a.value}),Object(I.jsxs)("div",{className:"indulgent-card-price-global",children:[null===X||void 0===X?void 0:X.currencySymbol,Object(u.yc)((i=null===e||void 0===e?void 0:e.availability,i.length>1?Object(v.k)(i,le):i[0]),null===X||void 0===X?void 0:X.currencyConversionFactor,le).toFixed(be)]}),Object(I.jsx)(l.c,{className:"btn-padding",variant:l.b.primary,"aria-label":Object(r.translateWithI18Next)(Y)+" "+(null===e||void 0===e||null===(o=e.dname[0])||void 0===o?void 0:o.value),"data-testid":"add-to-cart-global-".concat(t),onClickHandler:a=>{Object(s.u)({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:K,cartReducer:J,tenantReducer:X,catalogs:me,flatResponse:ne,category_id:null===e||void 0===e?void 0:e.categoryId,userType:Te,productId:U,ruleName:B,recommendationType:G,IndulgentData:R,callBackMethod:M,errorBackMethod:W,dispositionType:ue}),a.preventDefault(),a.stopPropagation()},children:Object(r.translateWithI18Next)(F)})]})]},null===e||void 0===e?void 0:e.id)}))}),Object(I.jsx)("div",{className:"ContinueButton",children:Object(I.jsx)(l.a,{className:"button redButton indulgent-card-button","data-testid":"continue-to-cart",disabled:(null===J||void 0===J?void 0:J.isAddItemLoading)||(null===J||void 0===J?void 0:J.isCouponLoading),onClickHandler:_,children:Object(r.translateWithI18Next)(P)})})]})})})}},931:function(e,t,a){var o=a(941)(a(343));e.exports=o},932:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var o=a(3),i=a.n(o),n=a(944),l=a(335),d=a(14),c=a(171),r=a(2);var s=e=>Object(r.jsx)(c.a,{importPath:"CONTENT_DISPOSITION_ITEMS",...e}),u=a(1046),v=a(5),m=a(76),b=a(0),O=a(61),j=a(25),p=a(111),h=a(63),g=a(935),I=a(49),S=a(331);const f=e=>{var t,a,f,N,C,T,E,x;const{userParams:D,contentData:y,showHeader:_=!0,hideTimeslot:A,showCateringDisposition:R}=e,{DISPOSITION_DATA:L,SCHEDULE_ORDER_DATA:P,DISPOSITION_METHOD:w,SHOW_CLEAR_CART_ALERT:M,SEARCH_ORDER_DATA:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:F,clearCartExposedFlag:U,searchStoreAlertTitle:H,CURRENT_STORE_INFO:W,SET_FIND_A_KFC_VIEW:B,ORDER_SUMMARY_MODAL_CLOSE:G,SCHEDULE_ORDER_CLICKED:V,SHOW_SCHEDULE_DISPOSITION:Y}=d.a,{segmentedHomePageData:z=[]}=y,{headline:K=[],supportedDispositions:q=[]}=z,J=e.contentData&&Object(l.b)(K,q)||{},Q=(null===(t=e.contentData)||void 0===t?void 0:t.contentDispositionData)&&Object(v.Kd)(e.contentData.contentDispositionData)&&Object(u.c)(e.contentData.contentDispositionData)||{},{userOrderState:X,userOrderStateDispatch:Z}=Object(o.useContext)(m.a)||{},$=localStorage.getItem(b.gd.SERVICE_TYPE),ee=null===$||void 0===$?void 0:$.toUpperCase();let{enableAddressLocalisation:te=!1}=Object(j.c)((e=>Object(v.kd)(e.tenantReducer)));te=void 0!==X.enableAddressLocalisation?X.enableAddressLocalisation:te;const ae=null===X||void 0===X||null===(a=X.dispositionStateData)||void 0===a||null===(f=a.dispositionType)||void 0===f?void 0:f.toUpperCase(),oe=(null===X||void 0===X||null===(N=X.scheduleOrderData)||void 0===N?void 0:N.changeFlow)||!1,ie=ae&&!oe?ae===b.Lb.DELIVERY:ee===b.Lb.DELIVERY,ne=te&&ie,{cartData:le={}}=Object(j.c)((e=>e.cartReducer)),[de,ce]=Object(o.useState)(_),re=Object(S.c)(),se=oe?JSON.parse(localStorage.getItem(b.gd.SELECTED_ADDRESS)):{},ue=(null===X||void 0===X||null===(C=X.scheduleOrderData)||void 0===C?void 0:C.selectedAddress)||se,ve=null===ue||void 0===ue?void 0:ue.deliverySearchType,me=ve?re.find((e=>e.id===ve)):re[0],[be,Oe]=Object(o.useState)(me),je=Object(O.h)(),pe=Object(j.b)(),he=Object(o.useCallback)((()=>D.loggedIn&&((null===je||void 0===je?void 0:je.pathname)===b.Ae.HOME||(null===je||void 0===je?void 0:je.pathname)===b.Ae.HOME_PAGE||(null===je||void 0===je?void 0:je.pathname)===b.Ae.ACCOUNT||(null===je||void 0===je?void 0:je.pathname)===b.Ae.ACTIVE_ORDERS)||sessionStorage.getItem(b.Ke.PICKUP_ORDER_CANCELLED)&&((null===je||void 0===je?void 0:je.pathname)===b.Ae.HOME||(null===je||void 0===je?void 0:je.pathname)===b.Ae.HOME_PAGE)),[null===je||void 0===je?void 0:je.pathname,D.loggedIn]);Object(o.useEffect)((()=>{he()||(ce(!0),sessionStorage.removeItem(b.Ke.PICKUP_ORDER_CANCELLED))}),[D.localized,he()]),Object(o.useEffect)((()=>{var e;null!==X&&void 0!==X&&null!==(e=X.dispositionStateData)&&void 0!==e&&e.showDisposition&&Oe(re[0])}),[null===X||void 0===X||null===(T=X.dispositionStateData)||void 0===T?void 0:T.showDisposition]);const ge=Object(r.jsx)(c.a,{importPath:"START_ORDER_ITEMS",contentData:J,clickHandler:()=>{Object(l.c)(),Z({type:B,value:{findAKFC:!1}}),Z({type:k,value:{showSearchStore:!1}}),Z({type:G,orderSummaryModalClose:!0}),localStorage.setItem(b.gd.RETAIN_ADDRESS,""),R?(Object(I.o)(),Z({type:k,value:{showSearchStore:!0,configSearchScreen:p.c}}),localStorage.setItem(b.gd.CONFIG_SEARCH_SCREEN,p.a),Z({type:w,value:{dispositionType:b.Jb.CATERING}}),pe(Object(h.u)())):Object(v.Nd)(null===je||void 0===je?void 0:je.pathname)?(Z({type:L,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),Z({type:k,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})):Z({type:L,value:{showDisposition:!0}})}}),Ie=()=>{if(he())return Object(r.jsx)(c.a,{...e,testId:"HeaderTrackOrderComponent",importPath:"APP_HEADER_ORDER_TRACKER_COMP",setShowBlackStripeContent:ce,isHeaderTrackOrderEnabled:he})},Se=Object(r.jsx)(s,{contentData:Q,clickHandler:(e,t)=>{e.preventDefault(),e.stopPropagation(),Z({type:B,value:{findAKFC:!1}}),Z({type:k,value:{showSearchStore:!1}}),Z({type:P,value:{showScheduleOrderCatering:!0,selectedStoreInfo:t,changeFlow:!0}}),Z({type:W,value:t}),Z({type:Y,value:{showSheduleDisposition:!1}}),Z({type:V,value:{scheduleModeClicked:!1}}),Z({type:d.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),Z({type:d.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}})},selectedInfo:X,hideTimeslot:A,showBlackStripeContent:de,headerTrackOrder:Ie,activeDisposition:ee,dispositionChange:(e,t)=>{let a="";var o;if(e.stopPropagation(),e.preventDefault(),Object(u.b)(t),a=t.trim(),null!==b.Kb&&void 0!==b.Kb&&b.Kb.includes(a.toUpperCase()))if(Z({type:w,value:{dispositionType:a}}),(null===le||void 0===le||null===(o=le.foodLines)||void 0===o?void 0:o.length)>0){let e={flag:U,onConfirm:H};Object(v.ue)(Z,e,M,F)}else Z({type:k,value:{showSearchStore:!0}})}});return Object(r.jsx)(i.a.Fragment,{children:Object(r.jsxs)("div",{id:"startorder-container","data-testid":"StartOrder-component",tabIndex:"-1",children:[_&&(()=>{let e=ge;if(he()&&(e=de?Object(r.jsxs)("div",{children:[ge," ",Ie()]}):Ie()),!Object(v.ce)()&&Object(v.Kd)(Q)&&D.localized)e=Se;else if(D.localized){const t=Object(v.Jd)(X.dispositionNew)?JSON.parse(localStorage.getItem(b.gd.DISPOSITION_NEW)):X.dispositionNew;t&&Object(v.Kd)(t.store||{})?e=Se:Object(v.v)()}return e})(),X.showLocationBlockBanner&&Object(g.e)(),(null===X||void 0===X||null===(E=X.dispositionStateData)||void 0===E?void 0:E.showDisposition)&&Object(r.jsx)(n.a,{}),!(null!==X&&void 0!==X&&X.findAKFC)&&(null===X||void 0===X||null===(x=X.searchStoreData)||void 0===x?void 0:x.showSearchStore)&&Object(r.jsx)(c.a,{importPath:ne?"DELIVERY_ADDRESS_SEARCH_FORM":"SEARCH_STORE_TEMPLATE",deliverySearchType:be,setDeliverySearchType:Oe,onStoreSelectFinish:I.y}),(null===X||void 0===X?void 0:X.scheduleOrderData.showScheduleOrderCatering)&&Object(r.jsx)(c.a,{importPath:"SCHEDULE_ORDER_TEMPLATE",onStoreSelectFinish:I.y})]})})}},933:function(e,t,a){"use strict";var o=a(3),i=a(25),n=a(61),l=a(938),d=a(900),c=a(122),r=a(14),s=a(328),u=a(76),v=a(963),m=a(30),b=a(5),O=a(322),j=a(0),p=a(54),h=a(320),g=a(18),I=a.n(g),S=a(319),f=a(2);const N={dots:!1,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:j.G},C=(e,t)=>null===e||void 0===e?void 0:e.map((e=>t(e))),T=(e,t,a)=>{var o;return{foodName:null===t||void 0===t||null===(o=t.productName[0])||void 0===o?void 0:o.value,foodItemId:e,cartPrice:null===t||void 0===t?void 0:t.productPrice,modifiers:[],quantity:1,foodLineId:a}};t.a=Object(n.j)((e=>{var t,a;const{productList:n=[],cardType:j="",tenantData:g={},categoryId:E,categoryName:x,categoryUrl:D,catalogs:y,storeClosedData:_,setShowTopScrollBtn:A}=e,{QUANTITY_ACTION:R}=p.a,{ADD_TO_CART_CLICK:L,PLP_PDP_DETAILS:P,MINI_PDP_DATA:w,FROMFLAGPLP:M}=r.a,{PlpProductCard:k={}}=(null===(t=e.tenantData)||void 0===t?void 0:t.componentOptions)||{},{RESET_MODGROUP_IDS_UPDATE:F}=O.a,[U,H]=Object(o.useState)(1),W=Object(i.b)(),B=Object(i.c)((e=>e.cartReducer)),{flatResponse:{productMapById:G={},categoryMapById:V={}}={}}=null!==(a=Object(i.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==a?a:{},{cartData:Y={}}=Object(b.kd)(B),z=Object(i.c)((e=>{var t;return null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),[K,q]=Object(o.useState)(e.selectedCat),[J,Q]=Object(o.useState)(!1),{userOrderState:X,userOrderStateDispatch:Z}=Object(o.useContext)(u.a),[$,ee]=Object(o.useState)(null),{showCartAlert:te}=Object(s.a)(void 0,void 0,void 0,void 0,Z,W,void 0);Object(o.useEffect)((()=>{Q(!1)}));const{addToCartAnalyticsOnly:ae}=Object(s.a)({cartId:null===Y||void 0===Y?void 0:Y.id},null===g||void 0===g?void 0:g.tenantId,void 0,G,void 0,W,void 0),oe=(e,t,a,o)=>{var i;if(z.localized&&I()(null===B||void 0===B||null===(i=B.cartData)||void 0===i?void 0:i.id)){const{id:e,itemCount:t}=o,a=[{Id:e,categoryId:E,quantity:t+1,modGrps:[]}],i=!0;Object(b.G)(W,m.f,null===g||void 0===g?void 0:g.tenantId,X,null===B||void 0===B?void 0:B.qrCodeScanTime,i,a)}else((e,t,a,o)=>{var i;const{id:n,itemCount:l,product:d,itemFoodlineId:r}=o,{catId:s}=a,{id:u="",name:v="",url:b=""}=null!==(i=null===V||void 0===V?void 0:V[s])&&void 0!==i?i:{};if(e&&e.stopPropagation(),ee(n),z.localized){if(t)q(s),Z({type:w,value:{id:n,flag:M,foodLineId:""}}),Z({type:F}),W(Object(c.c)({tenantId:g.tenantId,catalogName:y,itemId:n}));else if(0===l){var O;W(Object(m.a)({params:{basketId:null===B||void 0===B||null===(O=B.cartData)||void 0===O?void 0:O.id},tenantId:g.tenantId},[{Id:n,categoryId:u,quantity:l+1,modGrps:[],categoryName:v,categoryUrl:b}])),W(Object(m.u)(new Date)),ae(T(n,d,r),R.Increase,g.currencyConversionFactor)}else if(l>0){var j;W(Object(m.x)({params:{basketId:null===B||void 0===B||null===(j=B.cartData)||void 0===j?void 0:j.id,basketLineItemId:r},tenantId:g.tenantId},{quantity:l+1,isBundle:Object(S.e)(n)})),W(Object(m.u)(new Date)),ae(T(n,d,r),R.Increase)}}else Q(!0),Z({type:L,value:{addToCart:!0,productItemId:n,categoryId:E,oldProduct:d,customizable:t,catalogs:y,fromPdpPage:!1}})})(e,t,a,o)},ie=Object(i.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(o.useEffect)((()=>{ie&&K&&X.minipdpData.itemId===ie.id&&W(Object(m.v)({showProductListingModal:!0,categorySelected:K}))}),[ie]);const ne=()=>{te(!0)},le={...N,beforeChange:(e,t)=>{H(Math.round(t+1))},variableWidth:!1},de=(t,a,o,i)=>{const{catId:n,catName:l,catUrl:d}=i,{productId:c,productInfo:r}=a;t.preventDefault(),t.stopPropagation();const s={productId:c,customizable:o,catId:n,catalogName:y,productInfo:r,isFromPlp:!0,categoryName:l,categoryUrl:d};Z({type:P,value:s}),localStorage.setItem(h.p,JSON.stringify(s)),e.history.push({pathname:"/pdp/".concat(E,"/").concat(c)})},ce=(e,t,a)=>{W(Object(c.a)({tenantId:e,customerId:a},t))},re=(e,t,a)=>{W(Object(c.b)({tenantId:e,customerId:t,itemId:a}))},se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{items:[t]}=e,a=Object(b.me)(t.additionalProperties);return Object(f.jsx)(l.b,{item:t,activeId:$,cardId:t.id,cardType:j,configureOptions:k,tenantData:g,servingCount:a.servings,button:e.button,categoryId:E,categoryName:x,categoryUrl:D,clickHandler:oe,customizable:t.customizable,onCardClickHandler:de,userParams:z,openAlertModal:ne,storeClosedData:_,addFavourite:ce,removeFavourite:re,setShowTopScrollBtn:A,"data-testid":"menu-card-component",...a,...t},t.id)};return Object(f.jsxs)("div",{className:"product-container",children:[J&&Object(f.jsx)(v.a,{}),"carousal"===j?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"individual-card-counter",children:[U,"/",n.length]}),Object(f.jsx)(d.b,{settings:le,children:C(n,se)})]}):C(n,se)]})}))},934:function(e,t,a){"use strict";a.d(t,"b",(function(){return v}));var o=a(3),i=a(30),n=a(5),l=a(76),d=a(25),c=a(0),r=a(69),s=a(190),u=a(2);const v=(e,t,a)=>{if(e){const{code:o,promoParameters:i,itemDetails:n}=e,l=null===n||void 0===n?void 0:n.map((e=>({id:null===e||void 0===e?void 0:e.id,availability:null===e||void 0===e?void 0:e.availability})));a(Object(r.d)({key:c.gd.VIEW_PRODUCT,value:{couponCode:o,promoParams:i,priceDetails:l}})),t({type:s.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})}},m=(e,t,a,o,l,d)=>{e(Object(i.i)({couponcode:t,catalog:a,tenantId:o},(t=>((e,t,a,o)=>{v(e,t,a),((e,t)=>{var a,o;const i=null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a[0].categoryUrl,n="".concat(null===e||void 0===e||null===(o=e.itemDetails)||void 0===o?void 0:o[0].url);t.push({pathname:"menu/".concat(i,"/").concat(n)})})(e,o)})(t,l,e,d)),(()=>Object(n.td)(d))))};t.a=e=>{const{genericMenuName:t,tenantId:a}=Object(d.c)((e=>e.tenantReducer)),{history:i}=e,n=Object(d.b)(),{userOrderStateDispatch:r}=Object(o.useContext)(l.a);return Object(o.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get(c.Ud.COUPON);e&&t&&m(n,e,t,a,r,i)}),[]),Object(u.jsx)(u.Fragment,{})}},935:function(e,t,a){"use strict";a.d(t,"b",(function(){return W})),a.d(t,"f",(function(){return B})),a.d(t,"i",(function(){return G})),a.d(t,"c",(function(){return V})),a.d(t,"j",(function(){return Y})),a.d(t,"h",(function(){return q})),a.d(t,"d",(function(){return Q})),a.d(t,"e",(function(){return X})),a.d(t,"g",(function(){return Z})),a.d(t,"a",(function(){return $}));var o=a(14),i=a(92),n=a(84),l=a(217),d=a(6),c=a(43),r=a(22),s=a(0),u=a(5),v=a(15),m=a(2);const{Location_Error:b,errorIcon:O}=v.a,{TAKEAWAY_TITLE:j,TAKEAWAY_CONTENT:p,TAKEAWAY_TOAST_MSG:h,DINEIN_TITLE:g,DINEIN_CONTENT:I,DINEIN_TOAST_MSG:S,NOSTORE_TITLE:f,NOSTORE_CONTENT:N,NOSTORE_TOAST_MSG:C,CLOSED_STORE_TITLE:T,CLOSED_STORE_CONTENT:E,LOCATION_ALERT_MSG:x,CLOSED_STORE_TOAST_MSG:D}=l.b,{DINE_IN:y,DISTANCE_20000MR:_,START_ORDER_BUTTON:A,BROWSE_MENU_BUTTON:R}=l.a,{SEARCH_ORDER_DATA:L="",SELECTED_TILE_DATA:P="",SCHEDULE_ORDER_TIME_DATA:w="",SET_DISPOSITION:M,USER_LOCALIZED:k,CURRENT_STORE_INFO:F,SCHEDULE_ORDER_TIME_PRESERVE_TIME:U,SET_FORCERELOAD:H}=o.a,W=(e,t,a,o,i,n)=>{null!==e&&void 0!==e&&e.length?"DELIVERY"===t.toUpperCase()?n(e):i(e,t):null!==e&&void 0!==e&&e.length||o(t,a)},B=(e,t,a,o,i,n,l,d,c,r,u,v)=>{const m=e.filter((e=>{var t,a,o,i,n,l,d,c,r,s,u,v,m,b;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)&&"OPEN"===(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.status)||void 0===l?void 0:l.currentStatus)&&(null===e||void 0===e||null===(d=e.summary)||void 0===d||null===(c=d.menu)||void 0===c||null===(r=c.catalogs)||void 0===r?void 0:r.length)&&(null===e||void 0===e||null===(s=e.summary)||void 0===s||null===(u=s.timings)||void 0===u||null===(v=u.operatingHours)||void 0===v?void 0:v.length)>0&&(null===e||void 0===e||null===(m=e.summary)||void 0===m||null===(b=m.timings)||void 0===b?void 0:b.asap)}));if((null===m||void 0===m?void 0:m.length)>0)if(d){var b=JSON.parse(localStorage.getItem(s.Hb));b&&(m[0].id!==b.store.id||m[0].service!==b.type?(c(!0),a(!1),u(m[0])):a(!1))}else t(m[0]);else v(!0),r(n,i)},G=(e,t,a,o,i,n)=>{var l,d;t({type:M,value:{oldvalue:e,newValue:{type:o,store:i,date:n.date,time:n.time,interval:n.interval,selectedTime:n.selectedTime,deliveryAddress:null===a||void 0===a||null===(l=a.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress}}}),localStorage.setItem(s.Ib,JSON.stringify(e)),localStorage.setItem(s.Hb,JSON.stringify({type:o,store:i,date:n.date,time:n.time,selectedTime:n.selectedTime,interval:n.interval,deliveryAddress:null===a||void 0===a||null===(d=a.scheduleOrderData)||void 0===d?void 0:d.deliveryAddress})),t({type:L,value:{showSearchStore:!1}}),t({type:k,value:{isLocalized:!0}})},V=(e,t,a,i)=>{const{SCHEDULE_ORDER_DATA:n,DISPOSITION_METHOD:l}=o.a,{DISPOSITION_TYPE:d,DISPOSITION_NEW:c,CURRENT_STORE_INFO_STORAGE:r,STORE_INFO:u,DISPOSITION_OLD:v,DATE_TIME_ORDER:m,SAVED_TIME_ORDER:b}=s.gd;let O={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};e({type:M,value:{oldvalue:O,newValue:O}}),localStorage.removeItem(v),localStorage.removeItem(c),e({type:w,value:{selectedDateTime:{}}}),e({type:U,value:{}}),localStorage.removeItem(m),localStorage.removeItem(b),a(t({...i,localized:!1})),e({type:k,value:{isLocalized:!1}}),e({type:n,value:{showScheduleOrderCatering:!1,selectedStoreInfo:{},changeFlow:"",isAddressFlow:!1,deliveryAddress:{},deliveryAddressLine:""}}),e({type:l,value:{dispositionType:""}}),localStorage.removeItem(d),localStorage.removeItem(u),localStorage.removeItem(r),e({type:F,value:{}})},Y=(e,t,a,o,i)=>{e({type:P,value:{selectedData:{}}}),localStorage.setItem("currentStoreInfo",JSON.stringify(o)),e({type:F,value:o}),e({type:w,value:{selectedDateTime:a}}),e({type:U,value:{selectContentTime:"ASAP"}}),e({type:H,value:{forceReload:!0}}),localStorage.setItem("tenantReducer",JSON.stringify(i)),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",t),localStorage.setItem("storeInfo",JSON.stringify(o)),localStorage.setItem("dateTimeOrder",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP")},z=(e,t,a,o)=>{let i="";return e?i=o===y?Object(d.translateWithI18Next)(g):Object(d.translateWithI18Next)(j):a?i=Object(d.translateWithI18Next)(f):t&&(i=Object(d.translateWithI18Next)(T)),i},K=(e,t,a,o)=>{let i="";return e?i=o===y?Object(d.translateWithI18Next)(I):Object(d.translateWithI18Next)(p):a?i=Object(d.translateWithI18Next)(N):t&&(i=Object(d.translateWithI18Next)(E)),i},q=(e,t,a,o,i,n,l,c)=>{let r="";return e?(n(!1),r=o===y?Object(d.translateWithI18Next)(S):Object(d.translateWithI18Next)(h)):a?(l(!1),r=Object(d.translateWithI18Next)(C)):t&&(c(!1),r="".concat(Object(d.translateWithI18Next)(D)," ").concat(J(null===i||void 0===i?void 0:i.from)," to ").concat(J(null===i||void 0===i?void 0:i.to))),r},J=e=>((e=e.toString().match(/^([01]\d|2[0-3])(:)([0-5]\d)(:[0-5]\d)?$/)||[e]).length>1&&((e=e.slice(1))[5]=+e[0]<12?"AM":"PM",e[0]=+e[0]%12||12),e.join(""));function Q(e,t,a,o,l,d,c,r,s,u,v){const O={HEADER_MSG:{MSGTXT1:z(a,o,l,d)},CONTENT_MSG:K(a,o,l,d)};return(a||o||l)&&Object(m.jsx)(i.a,{handleClose:t,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(n.a,{splitTitle:O.HEADER_MSG,contentMsg:O.CONTENT_MSG,imageSrc:b,altText:"location-error",confirmButtonText:R,cancelButtonText:a?A:null,cancelHandler:a?t:null,confirmHandler:()=>{e(o,l)}})})}const X=()=>Object(m.jsx)("div",{className:"location-notification col-6",children:Object(m.jsxs)("div",{className:"notify-alert",children:[Object(m.jsx)(c.a,{srcFile:O,className:"location-alert-icon"}),Object(m.jsx)("span",{children:Object(d.translateWithI18Next)(x)})]})}),Z=async()=>(await r.b.BindLocation(),r.b.address&&r.b.coordinates),$=e=>e.filter((e=>{var t,a;return Object(u.he)(e.id)&&Object(u.he)(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&Object(u.he)(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)}))},936:function(e,t,a){"use strict";a.d(t,"b",(function(){return J}));var o=a(3),i=a.n(o),n=a(975),l=a.n(n),d=a(317),c=a(326),r=a(212),s=a(76),u=a(14),v=a(101),m=a(25),b=a(63),O=a(11),j=a(5),p=a(61),h=a(97),g=a(128),I=a(43),S=a(6),f=a(4),N=a(30),C=a(22),T=a(93),E=a(0),x=a(318),D=a(335),y=(a(974),a(15)),_=a(49),A=a(2);const{ORDER_TYPE:R,YOUR_KFC_RESTAURANT:L,YOUR_LOCATION:P,EDIT:w,SCHEDULE_FOR_YOUR_ORDER_TEXT:M,DATE:k,TIME:F,CONFIRM_BTN_TEXT:U,DELIVERY_UNAVAILABLE_ERROR:H,SWITCH_TO_TAKEAWAY_TEXT:W,ERROR_MESSAGE_IN_ACTIVE:B,DELIVERY_PICKUP_MESSAGE:G,ERROR_MESSAGE_CLOSED:V,SCHEDULE_ORDER:Y,CHANGE_ORDER_TITLE:z,ASAP_SERVES_Warning_Message:K}=f.a,q=(e,t,a)=>-1!==(null===e||void 0===e?void 0:e.pathname.indexOf(t+"/"))||-1===(null===e||void 0===e?void 0:e.pathname.indexOf(t))&&-1===(null===e||void 0===e?void 0:e.pathname.indexOf(a)),J=e=>"ASAP"!==e&&"-"!==e?e:Object(O.R)(Object(O.o)(),g.a.HHMM,g.a.LT),Q=(e,t)=>{let a={};return"-"!==e&&"ASAP"!==e?a={isForNow:!1,futureDateTime:t}:"ASAP"===e&&(a={isForNow:!0,futureDateTime:0}),a},X=(e,t,a)=>{let o=JSON.parse(localStorage.getItem("dispositionNew"));return e&&o?Object(j.Gb)(o.type):t?E.Mb.PICKUP:Object(j.Gb)(a)};function Z(e,t,a){var o;e?e.find((e=>(null===e||void 0===e?void 0:e.timestr)===t))||a(null===(o=e[0])||void 0===o?void 0:o.timestr):a("-")}t.a=Object(p.j)((e=>{var t,a,n,p,f,ee,te,ae,oe,ie,ne,le,de,ce,re,se,ue;const{SingleArrow:ve,Calendar:me,Error:be}=y.a,Oe=Object(o.useRef)(null),je=Object(o.useRef)(null),{location:pe,onStoreSelectFinish:he}=e,{SEARCH_ORDER_DATA:ge,SCHEDULE_ORDER_DATA:Ie,DISPOSITION_DATA:Se,SCHEDULE_ORDER_TIME_DATA:fe,CLOSED:Ne,SCHEDULE_ORDER_TIME_PRESERVE_TIME:Ce,MENU_URL:Te,PDP_URL:Ee,SELECTED_TILE_DATA:xe,DISPOSITION_METHOD:De,SET_DISPOSITION:ye,USER_LOCALIZED:_e,SHOW_CLEAR_CART_ALERT:Ae,CLEAR_CART_CONFIRM_CANCEL_MODAL:Re,clearCartChangeFlag:Le,orderTypeAlertTitle:Pe,searchStoreAlertTitle:we,CURRENT_STORE_INFO:Me,SET_FORCERELOAD:ke}=u.a,Fe=Object(m.c)((e=>e.profileReducer)),{userOrderState:Ue,userOrderStateDispatch:He}=Object(o.useContext)(s.a),{dispositionStateData:We={},scheduleOrderData:Be={}}=Ue,{changeFlow:Ge=!1,isAddressFlow:Ve=!1}=Be,Ye=Be&&Object(j.Kd)(Be.storeInfo)?Be.storeInfo:JSON.parse(localStorage.getItem("storeInfo")),{dispositionType:ze=""}=We,Ke=ze||localStorage.getItem("dispositionType"),{value:qe=""}=(null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.name[0])||{value:""},{date:Je=""}=Be&&(null===(a=Be.selectedDateTimeInfo)||void 0===a||null===(n=a.date)||void 0===n?void 0:n.length)>0?Be.selectedDateTimeInfo:JSON.parse(localStorage.getItem("dateTimeOrder"))||{date:""},Qe=Be&&(null===(p=Be.selectContentData)||void 0===p||null===(f=p.savedTime)||void 0===f?void 0:f.length)>0?null===(ee=Be.selectContentData)||void 0===ee?void 0:ee.savedTime:localStorage.getItem("savedTimeOrder"),{futureDates:Xe,scheduled:Ze={},asap:$e}=(null===(te=Be.storeInfo)||void 0===te||null===(ae=te.summary)||void 0===ae?void 0:ae.timings)||{},et=Object(j.Jd)(Ue.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):Ue.dispositionNew,{unavailibilities:tt,unavailibilityType:at}=Ze,{interval:ot=0,startEndTime:it={}}=Ze&&(null===Ze||void 0===Ze||null===(oe=Ze.periods)||void 0===oe?void 0:oe.length)&&(null===Ze||void 0===Ze?void 0:Ze.periods[0])||{},{from:nt,to:lt}=it;let dt=Object(m.c)((e=>e.appStateReducer.userStatus));const ct=Object(m.b)(),rt=Object(m.c)((e=>e.tenantReducer)),st=Object(m.c)((e=>e.storesReducer)),ut=Object(m.c)((e=>e.cartReducer)),{cartData:vt}=ut,{storesAvilableTimeSlots:mt,storesTimeSlots:bt}=st,[Ot,jt]=Object(o.useState)(!1),[pt,ht]=Object(o.useState)({error:!1,errormessage:""}),[gt,It]=Object(o.useState)({from:nt,to:lt,interval:ot}),[St,ft]=Object(o.useState)({error:!1,openStoreTime:""}),Nt=(null===(ie=Be.storeInfo)||void 0===ie||null===(ne=ie.summary)||void 0===ne||null===(le=ne.status)||void 0===le?void 0:le.currentStatus)===Ne,Ct=()=>{var e;return Ge?(null===(e=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===e?void 0:e.type.toUpperCase())===g.a.TYPE_DELIVERY:!Ve&&(null===Ke||void 0===Ke?void 0:Ke.toUpperCase())===g.a.TYPE_DELIVERY},[Tt,Et]=Object(o.useState)(Ze&&Ze.date?new Date(Ze.date.toString()):new Date),[xt,Dt]=Object(o.useState)($e&&$e.isAvailable?"ASAP":Object(O.R)(null===it||void 0===it?void 0:it.from,"hh:mm","LT")),[yt,_t]=Object(o.useState)([]),[At,Rt]=Object(o.useState)(!1),[Lt,Pt]=Object(o.useState)(!1),[wt,Mt]=Object(o.useState)(Object(j.Ud)(window.innerWidth)),kt=()=>{Mt(Object(j.Ud)(window.innerWidth))};Object(o.useEffect)((()=>{window.addEventListener("resize",kt)}),[wt]),Object(o.useEffect)((()=>{if(1===(null===Xe||void 0===Xe?void 0:Xe.length)&&"INDIA"===(null===rt||void 0===rt?void 0:rt.country)){var e;const t={storeid:null===Be||void 0===Be||null===(e=Be.storeInfo)||void 0===e?void 0:e.id,channel:C.b.channel,service:Object(j.Ib)(Zt()).toString().toLowerCase(),date:""};ct(Object(b.c)({data:t,tenantId:rt.tenantId}))}let t=Object(v.j)(nt,lt,ot,null===$e||void 0===$e?void 0:$e.isAvailable,1===(null===Xe||void 0===Xe?void 0:Xe.length)&&"INDIA"===(null===rt||void 0===rt?void 0:rt.country),tt,at);return _t(t),()=>{ct(Object(b.a)())}}),[]);const Ft=e=>{var t,a;if("INDIA"===(null===rt||void 0===rt?void 0:rt.country))return;const o=Object(O.h)(e,"YYYY-MM-DD");if(Ze.date===o){let t=Object(v.j)(nt,lt,ot,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&"INDIA"===(null===rt||void 0===rt?void 0:rt.country),tt,at);return _t(t),Dt(t[0].timestr),It({from:nt,to:lt,interval:ot}),Et(e),ht({...pt,error:!1,errormessage:""}),Rt(!1),void Pt(!1)}const i={storeid:null===Be||void 0===Be||null===(t=Be.storeInfo)||void 0===t?void 0:t.id,channel:C.b.channel,service:Object(j.Ib)(Zt()).toString().toLowerCase(),dateVal:o};if(ct(Object(b.c)({data:i,tenantId:rt.tenantId})),Et(e),(null===mt||void 0===mt||null===(a=mt.periods)||void 0===a?void 0:a.length)>0){const{startEndTime:e,interval:t}=mt.periods[0],{from:a,to:o}=e;let i=Object(v.j)(a,o,t,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&"INDIA"===(null===rt||void 0===rt?void 0:rt.country),tt,at);It({from:a,to:o,interval:t}),_t(i)}ht({...pt,error:!1,errormessage:""})},Ut=e=>{const t=new Date,a=new Date(e.split("T")[0]);return a.getDate()===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()},Ht=e=>{var t;Dt("ASAP"===e?"ASAP":null!==(t=e)&&void 0!==t&&t.timestr?null===t||void 0===t?void 0:t.timestr:t);let a=Object(v.f)(nt,null!==e&&void 0!==e&&e.selectedDay?e:{timestr:e,selectedDay:Ut(Je)?"Today":"Tomorrow"});Et(a),Rt(!1),Pt(!1),ht({...pt,error:!1,errormessage:""})};Object(o.useEffect)((()=>{const e=Qe;Je&&Ft(new Date(Je)),((e,t,a,o,i,n)=>{if(e&&t){const e=Object(O.R)(t,"h:mm A","HH:mm");new Date(o).setHours(Number(null===e||void 0===e?void 0:e.split(":")[0]),Number(null===e||void 0===e?void 0:e.split(":")[1]),0)<(new Date).setHours(Number(null===a||void 0===a?void 0:a.split(":")[0]),Number(null===a||void 0===a?void 0:a.split(":")[1]),0)?n(i):n(t)}})(Ge,e,nt,Je,Qe,Ht),((e,t,a,o,i)=>{if(1!==(null===e||void 0===e?void 0:e.length)){var n;const e={storeid:null===t||void 0===t||null===(n=t.storeInfo)||void 0===n?void 0:n.id,channel:C.b.channel,service:Object(j.Ib)(a()).toString().toLowerCase(),date:""};o(Object(b.c)({data:e,tenantId:null===i||void 0===i?void 0:i.tenantId}))}})(Xe,Be,Zt,ct,rt)}),[]),Object(o.useEffect)((()=>{let e=Object(j.Tc)(Ge,Object(S.translateWithI18Next)(z),Object(S.translateWithI18Next)(Y));var t;if(Object(j.Kd)(bt)&&Ot)if((null===bt||void 0===bt||null===(t=bt.status)||void 0===t?void 0:t.currentStatus)===Ne)ht({...pt,error:!0,errormessage:Object(S.translateWithI18Next)(V)}),Object(j.Kb)(e,Object(S.translateWithI18Next)(V));else{let t=new Date;if(new Date(Tt).setHours(0,0,0,0)===t.setHours(0,0,0,0)){let t=Object(O.o)().add($e.promiseTime,"minutes").format("LT");Object(O.c)(t,xt,"h:mm A")?(ht({...pt,error:!0,errormessage:Object(S.translateWithI18Next)(B)}),Object(j.Kb)(e,Object(S.translateWithI18Next)(B))):q(pe,Te,Ee)?Wt():Bt()}else q(pe,Te,Ee)?Wt():Bt()}}),[bt,Fe]);const Wt=()=>{He({type:xe,value:{selectedData:{}}}),localStorage.setItem("tenantReducer",JSON.stringify(rt)),localStorage.setItem("selectedTile",JSON.stringify({})),Bt(),setTimeout((()=>{e.history.push({pathname:"".concat(Te)})}),500)},Bt=async()=>{He({type:Ie,value:{showScheduleOrderCatering:!1,selectedStoreInfo:null===Be||void 0===Be?void 0:Be.storeInfo,changeFlow:!0}}),He({type:De,value:{dispositionType:Ke}}),localStorage.setItem("dispositionType",Zt()),localStorage.setItem("storeInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),localStorage.setItem("currentStoreInfo",null!==Be&&void 0!==Be&&Be.storeInfo?JSON.stringify(Be.storeInfo):JSON.stringify({})),He({type:Me,value:Object(j.kd)(null===Be||void 0===Be?void 0:Be.storeInfo)}),He({type:ge,value:{showSearchStore:!1}});let e="",t="";"ASAP"===xt||"-"===xt?(e="ASAP",t="ASAP"):(e=xt,t=xt),He({type:ke,value:{forceReload:!0}});let a=J(xt);const o=Object(O.A)(Object(O.h)(Tt,"YYYY-MM-DD")+" "+a,"YYYY-MM-DD hh:mm A");let i={time:e,interval:gt.interval,date:Tt,epochTime:o,selectedTime:xt},n=(null===Be||void 0===Be?void 0:Be.deliveryAddress)||(null===et||void 0===et?void 0:et.deliveryAddress);if(null===et||et.type!==Zt()||et.store.id!==Ye.id||et.deliveryAddress!==Be.deliveryAddress){let e=await Object(j.z)(Ye,Object(j.Ib)(Ke),null===Fe||void 0===Fe?void 0:Fe.customerId,i,n,null===Be||void 0===Be?void 0:Be.deliveryAddressLine);ct(Object(N.m)("")),ct(Object(N.f)({data:e,tenantId:rt.tenantId}))}ct(Object(h.a)({...dt,localized:!0})),He({type:ye,value:{oldvalue:et,newValue:{type:Zt(),store:Ye,date:i.date,time:i.time,epochTime:i.epochTime,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:n}}}),localStorage.setItem("dispositionOld",JSON.stringify(et)),localStorage.setItem("dispositionNew",JSON.stringify({type:Zt(),store:Ye,date:i.date,time:i.time,epochTime:i.epochTime,interval:i.interval,selectedTime:i.selectedTime,deliveryAddress:n})),Object(j.if)(),He({type:fe,value:{selectedDateTime:i}}),He({type:Ce,value:{selectContentTime:t}}),localStorage.setItem("dateTimeOrder",JSON.stringify(i)),localStorage.setItem("savedTimeOrder",t)};Object(o.useEffect)((()=>{var e;let t,a={startEndTime:{from:"",to:""},interval:""};if(2===Object.keys(mt||{}).length){var o,i,n;const{startEndTime:e,interval:d}=Object(j.id)(null===(o=mt[0])||void 0===o?void 0:o.periods[0],a),{startEndTime:c}=Object(j.id)(null===(i=mt[1])||void 0===i?void 0:i.periods[0],a),{from:r}=e,{to:s}=c;var l;if(t=Object(v.j)(r,s,d,null===$e||void 0===$e?void 0:$e.isAvailable,1===Xe.length&&new Date(null===(n=mt[0])||void 0===n?void 0:n.date).setHours(0,0,0,0)<new Date(null===Xe||void 0===Xe?void 0:Xe[0]).setHours(0,0,0,0)&&"INDIA"===(null===rt||void 0===rt?void 0:rt.country),tt,at),It({from:r,to:s,interval:d}),_t(t),Z(t,Qe,Ht),!mt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(l=mt[0])||void 0===l?void 0:l.date))}else if(Object.keys(mt||{}).length){var d,c;const{startEndTime:e,interval:o}=Object(j.id)(null===(d=mt[0])||void 0===d?void 0:d.periods[0],a),{from:i,to:n}=e;var r;if(t=Object(v.j)(i,n,o,null===$e||void 0===$e?void 0:$e.isAvailable,"INDIA"===(null===rt||void 0===rt?void 0:rt.country)&&1===(null===Xe||void 0===Xe?void 0:Xe.length)&&new Date(null===(c=mt[0])||void 0===c?void 0:c.date).setHours(0,0,0,0)<new Date(null===Xe||void 0===Xe?void 0:Xe[0]).setHours(0,0,0,0),tt,at),It({from:i,to:n,interval:o}),_t(t),Z(t,Qe,Ht),!mt.find((e=>e.date===Je.split("T")[0])))Et(new Date(null===(r=mt[0])||void 0===r?void 0:r.date))}const s=localStorage.getItem("modalSource");var u;null!==rt&&void 0!==rt&&rt.showASAPServiceWarningMessage&&(null===$e||void 0===$e||!$e.isAvailable)&&Nt&&"fromChangeStoreButton"!==s&&(null===(e=t)||void 0===e?void 0:e.length)>0&&ft({error:!0,openStoreTime:null===(u=t[0])||void 0===u?void 0:u.timestr});localStorage.removeItem("modalSource")}),[JSON.stringify(mt)]);const Gt=e=>{var t,a;null!==Oe&&void 0!==Oe&&null!==(t=Oe.current)&&void 0!==t&&t.contains(e.target)||null!==je&&void 0!==je&&null!==(a=je.current)&&void 0!==a&&a.contains(e.target)||(Rt(!1),Pt(!1))};Object(o.useEffect)((()=>(document.addEventListener("mousedown",Gt),()=>{document.removeEventListener("mousedown",Gt)})),[]);const Vt=()=>{He({type:ge,value:{showSearchStore:!0}}),He({type:Ie,value:{showDisposition:!1}}),He({type:De,value:{dispositionType:"Pickup"}})},Yt=null===Be||void 0===Be||null===(de=Be.storeInfo)||void 0===de||null===(ce=de.availableServicesPerChannel)||void 0===ce||null===(re=ce.find((e=>"web"===e.channel)))||void 0===re?void 0:re.services,zt=null===Yt||void 0===Yt?void 0:Yt.includes("delivery"),Kt=Object(j.db)(Ct(),!zt),qt=()=>{let e=Object(S.translateWithI18Next)(G),t=!1;return zt&&(e=Object(S.translateWithI18Next)(H),t=!0),{showTakeWayButton:t,message:e}},{message:Jt}=qt();Object(o.useEffect)((()=>{Object(T.g)(Ge,Jt)}),[Jt]);const Qt=()=>{const{message:e,showTakeWayButton:t}=qt();return Object(A.jsxs)("div",{className:"alert-delivery-popup w-100 ".concat(t?"":"alert-without-action-button"),children:[Object(A.jsx)(I.a,{srcFile:be,className:"location-alert-icon"}),Object(A.jsx)("div",{className:"location-error-message",children:e}),Object(A.jsx)("div",{className:"location-error-button-section",children:t&&Object(A.jsx)(d.a,{className:"location-warning-button","data-testid":"click-handle-away",onClickHandler:Vt,children:Object(S.translateWithI18Next)(W)})})]})},Xt=e=>{var t;let{orderType:a}=e,o=Object(S.translateWithI18Next)(K),i=null===o||void 0===o?void 0:o.replace("%time%",St.openStoreTime);return i=null===(t=i)||void 0===t?void 0:t.replace("%servesName%",a),Object(A.jsxs)("div",{className:"asap-warning-container",children:[Object(A.jsx)("span",{className:"error-img"}),i]})},Zt=()=>{let e=JSON.parse(localStorage.getItem("dispositionNew"));return Ge&&e?e.type:Ve?"Pickup":Ke},$t=Ge?null===(se=JSON.parse(localStorage.getItem("dispositionNew")))||void 0===se?void 0:se.deliveryAddress:Be.deliveryAddress;return Object(A.jsxs)("div",{className:"scheduleOrder-form",children:[Object(A.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(R)}),Object(A.jsxs)("div",{className:"ordertype-input-div",children:[Object(A.jsx)(c.a,{value:X(Ge,Ve,Ke),className:"w-100"}),Object(A.jsx)("div",{className:"edit-input",children:Object(A.jsx)(r.a,{"aria-label":"Edit order type",onClickHandler:()=>{var e;if(vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:Pe};Object(j.ue)(He,e,Ae,Re)}else He({type:Se,value:{showDisposition:!0}});He({type:Ie,value:{showScheduleOrderCatering:!1}}),He({type:ge,value:{showSearchStore:!1}})},"data-testid":"edit-disposition-test",children:Object(S.translateWithI18Next)(w)})})]}),pt&&pt.error&&Object(A.jsxs)("div",{className:"error-container",children:[Object(A.jsx)("span",{className:"error-img"}),pt.errormessage]}),wt&&Kt&&Object(A.jsx)(Qt,{}),Object(A.jsx)("h3",{className:"order-type",children:Ct()?Object(S.translateWithI18Next)(P):Object(S.translateWithI18Next)(L)}),Object(A.jsxs)("div",{className:"ordertype-input-div",children:[Object(A.jsx)(c.a,{value:Ct()?$t:qe||"",className:"w-100"}),Object(A.jsx)("div",{className:"edit-input",children:Ct()?Object(A.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if(He({type:De,value:{dispositionType:Ge?JSON.parse(localStorage.getItem("dispositionNew")).type:Ke}}),vt&&(null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:we};Object(j.ue)(He,e,Ae,Re)}else He({type:ge,value:{showSearchStore:!0}});He({type:Ie,value:{showScheduleOrderCatering:!1}})},"data-testid":"edit-location-test",children:Object(S.translateWithI18Next)(w)}):Object(A.jsx)(r.a,{"aria-label":"Edit KFC restaurant",onClickHandler:()=>{var e;if((null===vt||void 0===vt||null===(e=vt.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:Le,onConfirm:we};Object(j.ue)(He,e,Ae,Re)}else{let e=Object(j.jd)(JSON.parse(localStorage.getItem("seachedLocations")));if(Ve)He({type:ge,value:{showSearchStore:!0,searchedPlaceNonLocalized:Be.storeInfo.name[0].value}});else if(e){let t=e[e.length-1];He({type:ge,value:{showSearchStore:!0,searchedPlaceNonLocalized:t}})}}He({type:Ie,value:{showScheduleOrderCatering:!1,changeFlow:Boolean(Ge)}}),He({type:De,value:{dispositionType:Zt()}})},"data-testid":"edit-store-test",children:Object(S.translateWithI18Next)(w)})})]}),!wt&&Kt&&Object(A.jsx)(Qt,{}),(null===St||void 0===St?void 0:St.error)&&Object(A.jsx)(Xt,{orderType:X(Ge,Ve,Ke)}),Object(A.jsx)("h3",{className:"order-type",children:Object(S.translateWithI18Next)(M)}),Object(A.jsxs)("div",{className:"schedule-date-time",children:[Object(A.jsxs)("div",{className:"schedule-date",children:[Object(A.jsx)("div",{className:"dateTitleDatePicker",children:Object(S.translateWithI18Next)(k)}),Xe&&Xe.length>0&&Ze&&Ze.date&&"INDIA"!==(null===rt||void 0===rt?void 0:rt.country)?Object(A.jsxs)(i.a.Fragment,{children:[Object(A.jsxs)("div",{ref:Oe,onClick:()=>Pt(!Lt),"data-testid":"click-date-picker-open",className:"date-pick",children:[Object(A.jsx)(l.a,{selected:Tt,showPopperArrow:!1,onChange:e=>Ft(e),minDate:new Date(Ze.date.toString()),maxDate:new Date(Xe[Xe.length-1]),dateFormat:"MMMM d, yyyy",className:"custom-class",open:Lt,readOnly:!0}),Object(A.jsx)("img",{src:me,className:"date-icon",id:"datePickerIcon",alt:"Date Icon"})]}),Object(A.jsx)("span",{className:"dropdown-img"})]}):Object(A.jsx)(i.a.Fragment,{children:Object(A.jsx)("div",{className:"time-input time-input-container",children:Object(O.h)(Tt,"YYYYMMDD")===Object(O.e)("YYYYMMDD")&&Object(S.translateWithI18Next)("today")||Object(S.translateWithI18Next)("tomorrow")})})]}),Object(A.jsxs)("div",{className:"schedule-time",children:[Object(A.jsx)("div",{className:"dateTitleDatePicker","aria-level":"1",role:"heading",tabIndex:"0",children:Object(S.translateWithI18Next)(F)}),Object(A.jsxs)("div",{className:$(yt),"data-testid":"time-input-handler",role:"listbox",tabIndex:"0",onKeyPress:()=>0!==Ze.periods.length&&Rt(!At),onClick:()=>0!==Ze.periods.length&&Rt(!At),children:[Object(A.jsx)("div",{className:"time-input asap-default",children:xt}),Object(A.jsx)("img",{src:ve,alt:" ",className:"downarrow-time-list"})]}),At&&Object(A.jsx)("div",{ref:je,className:"schedule-time-list-container",children:Object(A.jsx)("ul",{children:!(null===yt||void 0===yt||!yt.length)&&(null===yt||void 0===yt?void 0:yt.map((e=>Object(A.jsx)("li",{tabIndex:"0",onClick:()=>{ft((e=>({...e,error:!1}))),Ht(e)},onKeyPress:()=>Ht(e),children:e.timestr}))))})})]})]}),Object(A.jsx)("div",{className:"text-center schedule-btn-div",children:Object(A.jsx)(d.a,{className:"button blackButton confirm-schedule-btn","aria-label":Object(S.translateWithI18Next)(U),onClickHandler:e=>{var t,a,o,i,n;Object(_.D)(),e.stopPropagation(),e.preventDefault();const l={storeID:null===Ye||void 0===Ye?void 0:Ye.id,disposition:Ke,postCode:null===Ye||void 0===Ye||null===(t=Ye.addresses[0])||void 0===t||null===(a=t.address)||void 0===a?void 0:a.pinCode};he(l),Object(x.J)(l,xt),Object(D.a)(Be),jt(!0);let d=J(xt);const c=Object(O.A)(Object(O.h)(Tt,"YYYY-MM-DD")+" "+d,"YYYY-MM-DD hh:mm A"),r={storeid:null===Be||void 0===Be||null===(o=Be.storeInfo)||void 0===o?void 0:o.id,channel:C.b.channel,service:null===(i=Object(j.Ib)(Zt()))||void 0===i||null===(n=i.toString())||void 0===n?void 0:n.toLowerCase(),futureDateTimeInEpochFormat:c,asap:xt===E.s};ct(Object(b.n)({data:r,tenantId:rt.tenantId})),null!==vt&&void 0!==vt&&vt.id&&ct(Object(b.q)({params:{basketId:null===vt||void 0===vt?void 0:vt.id},tenantId:rt.tenantId,postBody:Q(xt,c)})),He({type:_e,value:{isLocalized:!0}})},"data-testid":"confirm-button-handler",disabled:0===(null===Ze||void 0===Ze||null===(ue=Ze.periods)||void 0===ue?void 0:ue.length),children:Object(S.translateWithI18Next)(U)})})]})}));const $=e=>"time-input-container time-inputbox ".concat(null!==e&&void 0!==e&&e.length?"":"disable-time-dropdown")},938:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));var o=a(3),i=a(25),n=a(320),l=a(5),d=a(899),c=a(54),r=a(328),s=a(6),u=a(30),v=a(317),m=a(43),b=a(213),O=a(903),j=a(907),p=a(926),h=a(0),g=a(15),I=a(122),S=a(76),f=a(14),N=a(190),C=a(2);const T=(e,t,a,o,i)=>Object(l.Tc)(e||t||a||o||i,g.a.ribbonRedOutlined,null);var E=function(e){var t,a,r;const{getCardTypeName:E,cardType:x,allowClickOnProductCard:D,discount:y,specials:_,exclusive:A,timer:R,cardId:L,customizable:P,getProductImageClassName:w,tenantData:M,imageName:k,onCardClickHandler:F,categoryId:U,categoryName:H,categoryUrl:W,dname:B,availability:G=[],newitem:V,topseller:Y,customlabelfield:z,getSpecificRibbonBanner:K,userParams:q,favouriteItems:J,item:Q,classFavouriteIconActive:X,getCardName:Z,favouriteButtonClickHandler:$,itemCount:ee,classFavouriteIconInActive:te,getMenuProductHeader:ae,veg:oe,servingCount:ie,getVegNonvegClassName:ne,menuProductPriceClassName:le,checkForBasePriceInMenu:de,baseprice:ce,cardCat:re,displayPrice:se,getPriceClassName:ue,menuProductDescriptionClassName:ve,longDescription:me,updateItemQuantity:be,configureOptions:Oe,storeClosedData:je,classesCardButton:pe,classEnableAddToCart:he,enableAddToCartButton:ge,checkLoading:Ie,menuCardBtnText:Se,clickHandler:fe,itemFoodlineId:Ne,openCostomizedModal:Ce,setOpenCostomizedModal:Te,filteredPreviousData:Ee,cartData:xe,CARD_TYPE:De,setShowTopScrollBtn:ye,pricewithouttax:_e}=e,Ae=Object(i.b)(),{RESET_MODGROUP_IDS_UPDATE:Re}=N.a,{MINI_PDP_DATA:Le,FROMFLAGEDIT:Pe,EDIT_CLICKED:we}=f.a,{userOrderStateDispatch:Me}=Object(o.useContext)(S.a),[ke,Fe]=Object(o.useState)(!1),[Ue,He]=Object(o.useState)(Object(l.Ud)(window.innerWidth)),{ITEM_QUANTITY:We}=d.a,{QUANTITY_ACTION:Be}=c.a,Ge=Object(l.Tc)(null===q||void 0===q?void 0:q.loggedIn,h.Zf,""),{allowAddToCartButton:Ve=!0}=Oe,{web:{global:{showPriceWithTax:Ye=!1}={}}={}}=null!==(t=null===M||void 0===M?void 0:M.componentOptions)&&void 0!==t?t:{},{Non_veg_dot_Icon:ze,Veg_dot_Icon:Ke,Product_Card_Icon:qe,TimerIcon:Je,FavoriteInActiveWhite:Qe,heartIcon_active:Xe,heartIcon_active_red:Ze,heartIcon_inactive_red:$e}=g.a;Object(o.useEffect)((()=>{window.addEventListener(h.we,et)}),[Ue]);const et=()=>{He(Object(l.Ud)(window.innerWidth))},tt=()=>Object(C.jsxs)("div",{className:le(x),children:[Object(l.db)(de(ce,re),se(ce,null===M||void 0===M?void 0:M.currencyConversionFactor)),Object(C.jsxs)("span",{className:ue(ce,re),children:[n.o.MENU_CARD.CURRENCY,Object(l.zc)(G[0],_e,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye).toFixed(2)]})]}),at=()=>Object(C.jsxs)("div",{className:ne(x),children:[Object(l.db)(Ue,Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.Tc)(!oe,ze,Ke)})),Object(l.db)(!Ue,Object(l.Tc)(!oe,Object(s.translateWithI18Next)(n.o.MENU_CARD.NON_VEG),Object(s.translateWithI18Next)(n.o.MENU_CARD.VEG))),Object(l.db)(ie,Object(C.jsx)("div",{className:"Dot"})),n.o.MENU_CARD.SERVES,ie]}),ot=()=>{if(null!==q&&void 0!==q&&q.loggedIn)return Object(C.jsxs)("picture",{children:[Object(C.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(l.Tc)("small-menu-product-card"===Z,Object(l.Tc)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),X(x),te(x)),Object(l.Tc)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Ze,$e)),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-source",onClick:()=>$()}),Object(C.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(l.Tc)(Array.isArray(J)&&J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))),Xe,Qe),alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"fav-item-largeScreen",onClick:()=>$()}),Object(C.jsx)("img",{src:Object(l.db)(Array.isArray(J),null===J||void 0===J?void 0:J.find((e=>(null===e||void 0===e?void 0:e.id)===(null===Q||void 0===Q?void 0:Q.id))))?Xe:Qe,alt:"",className:"menu-product-save ".concat(Ge),"data-testid":"save-product-".concat(L),onClick:()=>$()})]})},it=()=>Object(C.jsx)(m.a,{"data-testid":"product-image",className:w(x),defaultPath:Object(l.Xb)(null,M,!0),srcFile:Object(l.Xb)(k,M),onClick:e=>Object(l.zf)(D,F,[e,L,P,U,{productName:B,productImage:k,productPrice:Object(l.zc)(G[0],_e,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}]),alt:""}),nt={productId:L,productInfo:{productName:B,productImage:k,productPrice:Object(l.zc)(G[0],_e,null===M||void 0===M?void 0:M.currencyConversionFactor,Ye)}},lt={catId:U,catName:H,catUrl:W},dt={id:L,itemCount:ee,product:{productName:B,productImage:k,productPrice:Object(l.yc)(G[0],null===M||void 0===M?void 0:M.currencyConversionFactor)},itemFoodlineId:Ne};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:E(x,D,y,_,A,R),"data-testid":"click-allow-on-product-".concat(L),id:L,children:[Object(l.Qd)()&&P&&Object(C.jsx)("div",{className:"position-absolute p-2 m-1 bg-dark text-white rounded-pill",children:"Customizable"}),x!==De.SMALL&&it(),Object(C.jsx)(b.a,{src:Object(l.Tc)(_,qe,T(z,y,A,V,Y)),className:Object(l.Tc)(_,"specials-product-ribbon",Object(l.Tc)(Object(l.fb)(A,z),"exclusive-product-ribbon","discount-product-ribbon"))}),Object(C.jsx)("span",{className:Object(l.Tc)(_,"specials-ribbon-text","discount-ribbon-text"),children:R?Object(C.jsxs)("div",{children:[Object(C.jsx)(b.a,{src:Je,className:"product-timer"}),Object(C.jsx)("span",{className:"product-timer-text",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TIMER)})]}):K(_,y,A,V,Y,z)}),Object(l.db)(!Ue,ot()),Object(C.jsxs)("div",{className:"menu-card-content","data-testid":"menu-card-content-pdp-nav",onClick:e=>{D&&F(e,nt,P,lt)},children:[Object(C.jsx)("div",{className:ae(x,y,_,A,{timer:R,newitem:V,topseller:Y,customlabelfield:z}),children:null===B||void 0===B?void 0:B[0].value}),Ue?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"description-and-image",children:[Object(C.jsx)("div",{className:ve(x),id:"longDescription",children:me[0].value}),x===De.SMALL&&it()]}),Object(C.jsxs)("div",{className:"PriceVegNonveg",children:[tt(),at(),Object(C.jsx)("div",{className:"hearticonDiv",children:ot()})]})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:" ",src:Object(l.Tc)(!oe,ze,Ke)}),at(),tt(),Object(C.jsx)("div",{className:ve(x),id:"longDescription",children:me[0].value})]})]}),Object(C.jsxs)("div",{className:"quantityAddtocart ".concat(ee?"cardwithQuantity "+Ge:"cardwithNoquantity"),children:[!!ee&&(ct=ee,rt=be,st=null===B||void 0===B?void 0:B[0].value,ut=null===M||void 0===M?void 0:M.maxItemCountPerLineItem,Object(C.jsx)(O.a,{itemCount:ct,itemQuantity:We,updateItemQuantity:rt,quantityAction:Be,item:void 0,itemName:st,maxItemCountPerLineItem:ut,cartItemCount:1,hideChild:!0})),Ve&&je&&Object(C.jsx)("div",{className:pe(ee,Ge),children:ee<1?Object(C.jsxs)(v.a,{tabIndex:"0",className:he(ge,x,Ie,je),"data-testid":"add-to-cart-".concat(L),disabled:Object(j.m)(je),onClickHandler:e=>{var t;null!==(t=Se(je))&&void 0!==t&&t.enabled&&ee<=0&&fe(e,P,lt,dt)},"aria-label":(null===(a=Se(je))||void 0===a?void 0:a.btnText)+(null===B||void 0===B?void 0:B[0].value),children:[null===(r=Se(je))||void 0===r?void 0:r.btnText,Object(l.H)(je.isStoreClosed)]}):P&&Object(C.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>{1===ee?(Me({type:Le,value:{id:null===Q||void 0===Q?void 0:Q.mdmId,flag:Pe,foodLineId:Ne}}),Me({type:Re}),Me({type:we,value:{cartEditClicked:!1}}),Ae(Object(I.c)({tenantId:null===M||void 0===M?void 0:M.tenantId,catalogName:null===xe||void 0===xe?void 0:xe.catalog,itemId:null===Q||void 0===Q?void 0:Q.mdmId})),Ae(Object(u.v)({showProductListingModal:!0,categorySelected:U}))):(Fe(!0),Te(!0))},children:Object(s.translateWithI18Next)(n.o.EDIT_SELECTIONS)})})]})]}),Object(C.jsx)("div",{children:Ce&&(()=>{var t;return Object(C.jsx)(p.a,{handleClose:()=>{Te(!1),Fe(!1)},filteredPreviousData:Ee,updateItemQuantity:be,tenantData:M,dname:B,clickHandler:fe,cardId:L,categoryId:U,categoryName:H,categoryUrl:W,itemCount:ee,availability:G,pricewithouttax:_e,imageName:k,itemFoodlineId:Ne,customizable:P,setOpenCostomizedModal:Te,openCostomizedModal:Ce,cartData:xe,setShowTopScrollBtn:ye,foodId:null===(t=e.item)||void 0===t?void 0:t.mdmId,isEditSelection:ke,headerText:Object(l.Tc)(ke,Object(s.translateWithI18Next)(n.o.EDIT_QUANTITY),Object(s.translateWithI18Next)(n.o.SELECT_QUANTITY))})})()})]});var ct,rt,st,ut};const{CARD_TYPE:x}=n.o,{FavoriteInActiveWhite:D,heartIcon_active:y,heartIcon_activeFavourite:_,heartIcon_inactive_red:A}=g.a,R=(e,t,a,o,i,n)=>e===x.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===x.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===x.SMALL?((e,t,a,o,i)=>e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||o||i)?"small-menu-product-card product-card-active":!e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,o,i,n):e===x.CAROUSAL?"carousal-menu-product-card":void 0,L=e=>e===x.LARGE?"menu-product-image":e===x.MEDIUM?"medium-menu-product-image":e===x.SMALL?"small-menu-product-image":e===x.CAROUSAL?"carousal-menu-product-image":void 0,P=(e,t,a,o,i)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:c}=i;return e===x.LARGE?"menu-product-header":e===x.MEDIUM?"medium-menu-product-header":e===x.SMALL?t||a||o||n||l||d||c?"small-menu-product-header-shift":"small-menu-product-header":e===x.CAROUSAL?"carousal-menu-product-header":void 0},w=e=>e===x.LARGE?"menu-vegOrNonVeg":e===x.MEDIUM?"medium-menu-vegOrNonVeg":e===x.SMALL?"small-menu-vegOrNonVeg":e===x.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,M=e=>e===x.LARGE?"menu-product-price":e===x.MEDIUM?"medium-menu-product-price":e===x.SMALL?"small-menu-product-price":e===x.CAROUSAL?"carousal-menu-product-price":"",k=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",F=e=>e===x.LARGE?"menu-product-description":e===x.MEDIUM?"medium-menu-product-description":e===x.SMALL?"small-menu-product-description":e===x.CAROUSAL?"carousal-menu-product-description":"",U=(e,t)=>e?"cardButton "+t:"cardButtonOnly cardButtonOnly-in "+t,H=e=>{const{ADD_TO_CART:t}=d.a;let a=Object(s.translateWithI18Next)(t),o="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",o="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",o="store-closed",i=!1),{btnText:a,className:o,enabled:i}},W=(e,t,a,o)=>e?"".concat(((e,t)=>{let a,o="button activeBtn";switch(o+=t?" blackButton":" redButton",e){case x.LARGE:a="menu-cart-button";break;case x.MEDIUM:a="medium-menu-cart-button";break;case x.SMALL:a="small-menu-cart-button";break;case x.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(o," ").concat(a)})(t,a)," ").concat(H(o).className):"button btn-black medium-menu-cart-button",B=(e,t,a,o,i,d)=>{let c;return c=d?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:d}):e||(t||(a?Object(C.jsx)("span",{"data-testid":"exclusive-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.EXCLUSIVE_DEAL)}):o?Object(C.jsx)("span",{"data-testid":"new-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.NEW)}):Object(l.Tc)(i,Object(C.jsx)("span",{"data-testid":"topseller-id",children:Object(s.translateWithI18Next)(n.o.MENU_CARD.TOP_SELLER)}),null))),c},G=e=>e===x.CAROUSAL?y:_,V=e=>e===x.CAROUSAL?D:A,Y=(e,t)=>Boolean(e)&&"recommended"!==t,z=(e,t)=>{let a;return a=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:"price-display",children:"old price"}),Object(C.jsxs)("span",{className:"base-price-menu",children:[n.o.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.b=e=>{var t,a;const{cardId:n,cardType:d,discount:s,specials:v,exclusive:m,timer:b,availability:O=[],tenantData:p,customizable:h,categoryId:g,activeId:I,addFavourite:S,removeFavourite:f,item:N,isHidden:T,cardFor:D,setShowTopScrollBtn:y,userParams:_}=e,{QUANTITY_ACTION:A}=c.a,K=Object(i.b)(),q=null===p||void 0===p?void 0:p.tenantId,{componentOptions:J={}}=p,{PlpProductCard:Q={}}=J,{allowClickOnProductCard:X=!1}=Q,Z=Object(i.c)((e=>e.cartReducer)),$=Object(i.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:ee={},isAddItemLoading:te=!1}=Object(l.kd)(Z),[ae,oe]=Object(o.useState)(0),[ie,ne]=Object(o.useState)(null),[le,de]=Object(o.useState)(0),ce=null===$||void 0===$?void 0:$.id,re=Object(i.c)((e=>{var t;return Object(l.od)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[se,ue]=Object(o.useState)(!0),[ve,me]=Object(o.useState)("product"),{flatResponse:{productMapById:be={}}={}}=null!==(t=Object(i.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[Oe,je]=Object(o.useState)(""),[pe,he]=Object(o.useState)(0),[ge,Ie]=Object(o.useState)([]),[Se,fe]=Object(o.useState)(!1),[Ne,Ce]=Object(o.useState)(""),{couponCode:Te="",amount:Ee=0}=(null===ee||void 0===ee||null===(a=ee.discountLines)||void 0===a?void 0:a[0])||{},{foodLines:xe,total:De}=ee,ye=Number((De/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2)),_e=[{couponCode:Te,amount:Number((Ee/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2))}];Object(o.useEffect)((()=>{D&&me(D)}),[D]),Object(o.useEffect)((()=>{const e=Object(l.Kd)(ee)?Object(l.hc)(n,ee):{},t=Object(l.Tc)(Object(l.Kd)(e),e.count,0),a=Object(l.Tc)(Object(l.Kd)(e),e.matchedItemFoodLineId,""),o=Object(l.Tc)(Object(l.Kd)(e),e.entriesCount,0),i=Object(l.Tc)(Object(l.Kd)(e),e.itemUnitPrice,"");oe(t),ne(a),de(o),he(i)}),[ee,n]);const Ae=Object(o.useCallback)((()=>{je(R(d,X,s,v,m,b))}));Object(o.useEffect)((()=>{Ae()}),[Ae]);Object(o.useEffect)((()=>{ue(!0)}),[ae]);const Re=e=>{if(null!==ee&&void 0!==ee&&ee.id){let t=null===ee||void 0===ee?void 0:ee.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Ie(t)}Ce(e),fe(!0)},Le=Object(l.db)(te,I===n);return!T&&Object(C.jsx)(E,{...e,getCardTypeName:R,"data-testid":"MenuPlpTestId",allowClickOnProductCard:X,getProductImageClassName:L,getSpecificRibbonBanner:B,favouriteItems:re,classFavouriteIconActive:G,getCardName:Oe,favouriteButtonClickHandler:()=>{Object(l.db)(Array.isArray(re),null===re||void 0===re?void 0:re.find((e=>(null===e||void 0===e?void 0:e.id)===(null===N||void 0===N?void 0:N.id))))?f(q,ce,N.id):((e,t,a,o)=>{var i;const n=Object(l.ld)(null===(i=a[0])||void 0===i?void 0:i.price),d={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===p||void 0===p?void 0:p.currencyConversionFactor),additionalProperties:t.additionalProperties};S(e,d,o),K(Object(u.v)({showProductListingModal:!1,categorySelected:g}))})(q,N,O,ce)},itemCount:ae,classFavouriteIconInActive:V,getMenuProductHeader:P,getVegNonvegClassName:w,menuProductPriceClassName:M,checkForBasePriceInMenu:Y,cardCat:ve,displayPrice:z,getPriceClassName:k,menuProductDescriptionClassName:F,updateItemQuantity:(e,t)=>{if(_.localized){const e=Number((pe/(null===p||void 0===p?void 0:p.currencyConversionFactor)).toFixed(2));let a={foodName:null===N||void 0===N?void 0:N.name,foodItemId:null===N||void 0===N?void 0:N.mdmId,cartPrice:e,modifiers:Object(j.i)(N),customizable:null===N||void 0===N?void 0:N.customizable,quantity:ae,foodLineId:ie};const{itemQuantityHandler:o}=Object(r.a)({cartId:null===ee||void 0===ee?void 0:ee.id,discountAmounts:_e,foodLines:xe,totalAmount:ye},null===p||void 0===p?void 0:p.tenantId,void 0,be,void 0,K,void 0);t===A.Increase?h&&ae>=1?Re(null===a||void 0===a?void 0:a.foodItemId):(!h&&ue(!1),o(a,A.Increase)):le>1?Re(null===a||void 0===a?void 0:a.foodItemId):(ue(!1),o(a,A.Decrease))}},classesCardButton:U,classEnableAddToCart:W,enableAddToCartButton:se,checkLoading:Le,menuCardBtnText:H,itemFoodlineId:ie,openCostomizedModal:Se,filteredPreviousData:ge,setOpenCostomizedModal:fe,cartData:ee,CARD_TYPE:x,setShowTopScrollBtn:y,FoodId:Ne})}},940:function(e,t,a){"use strict";a.d(t,"b",(function(){return I}));var o=a(3),i=a(76),n=a(816),l=a(5),d=a(54),c=a(52),r=a(43),s=a(15),u=a(906),v=a(6),m=a(916),b=a(61),O=a(898),j=a(190),p=a(0),h=a(2);const g=(e,t,a,o,i,n)=>{let l;l=e?Object(O.K)(t,a,o):Object(O.I)(t,a,o),i({type:n,value:l})},I=(e,t,a,o,i,n)=>{let{pdpAddtoCartConfirmButtonDisabled:l}=i,d=e<t;l[n]=d,o({type:a,value:l})};t.a=e=>{var t,a,S,f,N,C,T,E,x,D;const[y,_]=Object(o.useState)(),[A,R]=Object(o.useState)(!1),{QUANTITY_ACTION:L}=d.a,{MAX_ALERT_TEXT_INITIAL:P,MAX_ALERT_TEXT_END:w}=u.a,{PDP_PAYLOAD_DATA:M,UPDATE_SHOW_PDP_CUSTOM_MODAL:k,SET_PDP_BUTTON_DISABLED:F,PEROPTIONMAX_KEY:U,PEROPTIONMIN_KEY:H,SHOW_PDP_CUSTOM_MODAL:W}=j.a,[B,G]=Object(o.useState)(),[V,Y]=Object(o.useState)(),{userOrderState:z,userOrderStateDispatch:K}=Object(o.useContext)(i.a),{tenantData:q,cardData:J,savedCustomizedModifier:Q,saveCustomizedItemCount:X,savedModifierHandler:Z,savedModifiers:$,updatedItems:ee,toRenderCheckBox:te,toRenderQuantityModifier:ae,modgrpData:oe,isModal:ie,isStoreClosed:ne,initialRender:le,setInitialRender:de,catalog:ce,localized:re}=e,{modgrpId:se,max:ue,min:ve,modGrpName:me,additionalProperties:be}=oe,{id:Oe="",isDefault:je,defaultQuantity:pe,name:he,size:ge,isHidden:Ie,quantity:Se,isExcluded:fe}=J,{pdpPayloadData:Ne,sopacPDPCustomization:Ce,pdpDataForUpdateFoodLine:Te}=z,Ee=null===q||void 0===q||null===(t=q.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(S=a.pdp)||void 0===S?void 0:S.pdpToastShowDuration,xe=null===q||void 0===q||null===(f=q.componentOptions)||void 0===f||null===(N=f.web)||void 0===N||null===(C=N.pdp)||void 0===C?void 0:C.pdpCateringItemQuantityLimit,De=null===q||void 0===q||null===(T=q.componentOptions)||void 0===T||null===(E=T.web)||void 0===E||null===(x=E.pdp)||void 0===x?void 0:x.itemCountShouldAtModifierLevel,ye=Object(b.h)(),_e=((e,t,a,o)=>{const{showCustomizationModId:i="",showCustomizationModGrpId:n=""}=o;return e?"".concat(n).concat(j.a.HASH_SYMBOL).concat(i).concat(j.a.HASH_SYMBOL).concat(a).concat(j.a.HASH_SYMBOL).concat(t):"".concat(a).concat(j.a.HASH_SYMBOL).concat(t)})(ie,Oe,se,Ce),Ae=Object(l.Jd)(z.dispositionNew)?JSON.parse(localStorage.getItem(p.gd.DISPOSITION_NEW)):z.dispositionNew,Re=(null===Ae||void 0===Ae?void 0:Ae.type)&&Object(l.ef)(Object(l.Ib)(null===Ae||void 0===Ae?void 0:Ae.type)),Le=()=>Object(l.Kd)(Q)?Q.totalQuantity:0;Object(o.useEffect)((()=>{if(void 0!==y){let e=Object(O.x)(Ne,_e);Object(l.db)(e!==y,null!==e)&&g(ie,Ne,_e,y,K,M)}}),[y]),Object(o.useEffect)((()=>{if(void 0!==B){let e=Object(O.u)(Ne,_e);if(Object(l.db)(e!==B,null!==e)){g(ie,Ne,_e,B?1:0,K,M)}}}),[B]),Object(o.useEffect)((()=>{if(ae){var e;let t=null===Q||void 0===Q||null===(e=Q[se])||void 0===e?void 0:e[Oe];if(t)_(t.quantity),Y(t.quantityDisplay),(null===t||void 0===t?void 0:t.quantity)>0?G(!0):G(!1);else{let e=Object(l.Tc)(je,pe,0),t=Object(l.Tc)(le&&!ie,e,Object(O.x)(Ne,_e));t=((e,t)=>{const{isExcluded:a,quantity:o,isModal:i,qty:n}=e;return a?0:null!==t&&void 0!==t&&t.foodLineId&&o&&!i?o:n})({isExcluded:fe,qty:t,isModal:ie,quantity:Se},Te),X(Oe,se,"",t)}if(Object(l.Kd)(Q)){I(Le(),ve,F,K,z,se);let e=Le();R(e===ue)}}}),[Oe,Q]);Object(o.useEffect)((()=>{if(te){let e=Object(l.Tc)($.length>0,Object(O.u)(Ne,_e),je),t=Object(l.Tc)(ie,Object(O.u)(Ne,_e),e),a=Object(m.d)(ee,z,Oe,t,void 0,le);Object(m.b)(a,G,Z,J,$)}}),[Oe,ee,je,$,Z,B]);return Object(h.jsx)(n.default,{...e,isHidden:Ie,selectedProduct:B,updateItemQuantity:(e,t,a)=>{let o=Le();if(t===L.Decrease||ue>o){let e=Object(l.Tc)(t===L.Decrease,o-1,o+1);I(e,ve,F,K,z,se),X(Oe,se,t);let a=Object(O.w)(Ne,_e,1),i=Object(O.G)(Ne,{price:a,flag:t},ie);K({type:M,value:i});let n=t===L.Decrease?Ce.updatedPrice-a:Ce.updatedPrice+a;K({type:k,value:{updatedPrice:n}})}else{let e=Object(h.jsx)(r.a,{srcFile:s.a.ErrorImage}),t="".concat(Object(v.translateWithI18Next)(P)).concat(ue," ").concat(Object(v.translateWithI18Next)(w));Object(l.qf)(t,e,"err-toast",!0),Ee&&setTimeout((()=>{c.b.dismiss()}),Ee)}},itemCount:V,isModgrpMax:A,onSaveProduct:()=>{let e={modgrpMax:ue,selectedProduct:B,modgrpMin:ve,name:he,size:ge,location:ye,setInitialRender:de,savedModifierHandler:Z,setSelectedProduct:G,cardData:J,savedModifiers:$,userOrderState:z,userOrderStateDispatch:K,modGrpName:me,pdpPayloadData:Ne,objPath:_e,isModal:ie};Object(O.A)(e)},isStoreClosed:ne,handleCateringModifierQuantity:e=>{e.preventDefault();let t=Le(),a=+Object(l.hd)(be,U),o=+Object(l.hd)(be,H),i={modgrpMax:ue,modgrpMin:ve,modifierMax:a,modifierMin:o,modgrpCount:t,itemCount:y,SET_PDP_BUTTON_DISABLED:F,userOrderStateDispatch:K,userOrderState:z,modgrpId:se,pdpCateringItemQuantityLimit:xe},n=Object(O.L)(e,i),d=n.valueToCount,c=n.valueToDisplay;if(!1!==d){X(Oe,se,null,d,c);let e=Object(O.w)(Ne,_e,1),t=e*d-e*y,a=Object(O.G)(Ne,{price:t,flag:L.Increase},ie);K({type:M,value:a});let o=Ce.updatedPrice+t;K({type:k,value:{updatedPrice:o}})}},dispositionType:Re,kilojoule:q.kilojoule,defaultImagePath:Object(l.Xb)(null,q,!0),itemCountShouldAtModifierLevel:De,customizeClickHandler:e=>(e=>{const{event:t,id:a,modgrpId:o,userOrderStateDispatch:i,SHOW_PDP_CUSTOM_MODAL:n,modGrpName:l}=e;t.preventDefault(),t.stopPropagation(),i({type:n,value:{showPDPCustomization:!0,modifierId:a,modgrpId:o,modgrpName:l,updatedPrice:0}})})({event:e,id:Oe,modgrpId:se,userOrderStateDispatch:K,SHOW_PDP_CUSTOM_MODAL:W,modGrpName:me}),localized:re,showButton:(null===J||void 0===J||null===(D=J.modgrps)||void 0===D?void 0:D.length)>0&&re&&!ne&&!ie,catalog:ce,savedCustomizedModifier:Q})}},941:function(e,t,a){var o=a(270),i=a(178),n=a(272);e.exports=function(e){return function(t,a,l){var d=Object(t);if(!i(t)){var c=o(a,3);t=n(t),a=function(e){return c(d[e],e,d)}}var r=e(t,a,l);return r>-1?d[c?t[r]:r]:void 0}}},942:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(1);function i(e){return{type:o.Ae,payload:e}}},943:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a(6),a(92),a(84);var o=a(5),i=(a(960),a(933),a(18),a(320)),n=(a(36),a(123),a(15));a(2);const{CARD_TYPE:{CAROUSAL:l,MEDIUM:d}}=i.o,{CartError:c}=n.a,r=e=>Object(o.Jd)(null===e||void 0===e?void 0:e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew},944:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var o=a(3),i=a.n(o),n=a(61),l=a(25),d=a(63),c=a(5),r=a(30),s=a(6),u=a(36),v=a(2);var m=e=>{const{modalContent:t,onDispositionMethodSubmit:a,setRef:o=null}=e,{contentText:n="",infoObject:l=null,orderTypes:d=[]}=t,c=d.map((e=>Object(v.jsx)(u.c,{variant:e.selectDefault?u.b.secondary:u.b.tertiary,className:"christmas_ordering"!==e.dispositionType?"disposition-button":"disposition-button-christmas",onClickHandler:t=>{a(t,e.type,!1,e.dispositionType)},id:"DispositionModuleFormSubmit",type:"submit","data-testid":"disposition-order-click-handler-".concat(e.type),"aria-label":"order type ".concat(e.buttonText),children:e.buttonText},e.type)));return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{ref:o,className:"disposition-module-form","data-testid":"disposition-component",children:[Object(v.jsx)("h3",{className:"content-text","data-testid":"contenttext-component",children:n}),l&&Object(v.jsx)("div",{role:"alert",className:"info-text","data-testid":"info-component",children:Object(v.jsx)("span",{children:l.infoText})}),Object(v.jsx)("form",{className:"form",onSubmit:a,"data-testid":"form-component",children:c})]})})},b=a(121),O=a(49);var j=e=>{Object(o.useEffect)((()=>{Object(O.o)()}),[]);const{handleClose:t,DispositionModuleForm:a,headerText:n,modalTitleId:l=""}=e;return Object(v.jsx)(i.a.Fragment,{children:Object(v.jsx)(b.a,{id:"DispositionModulePopup",role:"dialog",modalTitleId:l,show:!0,classNames:"disposition-module-modal extra-small-modal",showCloseBtn:!0,closeDataTestId:"disposition-close-handler",closeButtonHandler:t,modalTitle:n,autoFocus:!0,children:a})})},p=a(19),h=a(9),g=a(0),I=a(334),S=a(14);const f=(e,t)=>{const a=[];for(const n of e){var o,i;const e=null===n||void 0===n||null===(o=n.fields)||void 0===o||null===(i=o.name)||void 0===i?void 0:i.split("-"),l=e[e.length-1].trim().toUpperCase();if(t&&null!==l&&void 0!==l&&l.includes(I.a.DISPOSITION_TYPE.TYPE_DELIVERY))continue;const{buttonText:d="",selectDefault:c=!1,name:r,showOption:s=!0,id:u="",dispositionType:v}=n.fields;a.push({buttonText:d,selectDefault:c,type:r,showOption:s,id:u,dispositionType:v})}return a},N=e=>{const{headline:t="",subHeadline:a="",subHeadlineType:o="",title:i=""}=e[0].fields||{};return{modalHeaderText:i,contentText:t,infoObject:{type:o,infoText:a}}},C=(e,t,a,o)=>{var i;const{CLEAR_CART_CONFIRM_CANCEL_MODAL:n,SHOW_CLEAR_CART_ALERT:l}=S.a;null!==e&&void 0!==e&&null!==(i=e.foodLines)&&void 0!==i&&i.length&&!o?Object(c.ue)(t,{},l,n,a):a()};var T=a(76),E=a(22),x=a(97),D=a(84),y=a(192),_=a(905),A=a(128),R=a(111),L=a(46);var P=e=>{const{CURRENTLY_CLOSED:t,SORRY:a}=_.a,{userOrderState:i,userOrderStateDispatch:u}=Object(o.useContext)(T.a),{contentData:b={}}=i.dispositionStateData,P=Object(l.c)((e=>e.tenantReducer)),{tenantId:w,disableOrderTypeAnalytic:M,isSpecialEventEnabled:k,enableDeliveryMenuOption:F}=P,{deeplinkSelectedStoreId:U,deepLinkStoreMode:H,isDeepLinkURL:W}=i,B=Object(c.Kd)(b)&&function(){let{dispositionData:e,deepLinkStoreMode:t=!1,isSpecialEventEnabled:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=e.disposition&&e.disposition.fields||{},{headline:i=[],supportedDispositions:n=[]}=o,l={modalHeaderText:"",modalContent:{}},d=a?n:n.filter((e=>{var t,a;return(null===e||void 0===e||null===(t=e.fields)||void 0===t||null===(a=t.dispositionType)||void 0===a?void 0:a.toUpperCase())!==g.zf}));l.modalContent.orderTypes=f(d,t);const{modalHeaderText:c,contentText:r,infoObject:s}=N(i);return l.modalHeaderText=c,l.modalContent.contentText=r,l.modalContent.infoObject=s,l}({dispositionData:b,deepLinkStoreMode:H,isSpecialEventEnabled:k,enableDeliveryMenuOption:F});let{modalContent:G={},modalHeaderText:V=""}=B;const{SEARCH_ORDER_DATA:Y,MENU_URL:z,DISPOSITION_DATA:K,CURRENT_STORE_INFO:q,SCHEDULE_ORDER_TIME_DATA:J,SELECTED_TILE_DATA:Q,DISPOSITION_METHOD:X,ADD_TO_CART_CLICK:Z,SET_DISPOSITION:$,USER_LOCALIZED:ee,SCHEDULE_ORDER_TIME_PRESERVE_TIME:te,SET_FIND_A_KFC_VIEW:ae,SET_REDIRECTION_PATH:oe}=S.a,{DISPOSITION_TYPE:{TYPE_DINE_IN:ie,TYPE_TAKE_WAY:ne,TYPE_DELIVERY:le,TYPE_CHRISTMAS_ORDERING:de},FIND_OPEN_KFC_TEXT:ce,INVALID_QR_TEXT:re,CLOSED_STORE_MODAL_SUBTITLE:se,TAKEAWAY_STORE_CLOSED_TEXT:ue,DINE_IN_STORE_CLOSED_TEXT:ve,SWITCH_TO_TAKEAWAY_TEXT:me,SWITCH_TO_DINEIN_TEXT:be}=I.a,{ENABLE_ADDRESS_LOCALISATION:Oe,SHOW_MAP_VIEW_BUTTON:je}=L.a,pe=i&&i.dispositionStateData&&i.dispositionStateData.dispositionType?i.dispositionStateData.dispositionType:null;let he="";const ge=Object(c.Jd)(i.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):i.dispositionNew,Ie=Object(l.b)(),Se=Object(n.g)(),[fe,Ne]=Object(o.useState)(""),[Ce,Te]=Object(o.useState)({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),{cartData:Ee={},qrCodeScanTime:xe}=Object(l.c)((e=>e.cartReducer)),{customerId:De=""}=Object(l.c)((e=>e.profileReducer));let ye=Object(l.c)((e=>e.appStateReducer.userStatus));const{storesWithStatus:_e=[],isStoreStatusLoading:Ae,selectedStoreDetailsDL:Re={}}=Object(l.c)((e=>Object(c.kd)(e.storesReducer))),{DISPOSITION_ACTION:{SET_QR_DEEPLINK_MODE:Le}}=I.a;Object(o.useEffect)((()=>{Ie(Object(d.u)()),Ie(Object(d.t)()),Ie(Object(d.r)()),((e,t)=>{e&&(null===t||void 0===t||t.push({pathname:g.Ae.HOME_PAGE}))})(H,Se)}),[Ie]);const Pe=Object(o.useCallback)(((e,t)=>{e.stopPropagation();C(Ee,u,(()=>{Te({showError:!1,errMsg:"",errDesc:null,buttonText:"",buttonCTA:null}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}})}),t)}),[Le,u,Ee]);Object(o.useEffect)((()=>{H&&Ie(Object(d.l)({storeId:U,tenantId:w},null,(()=>{Te({showError:!0,errMsg:Object(s.translateWithI18Next)(re),errDesc:null,buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Pe(e,!1)})})))}),[ce,re,H,U,Ie,w]);const we=(e,t,a,o)=>{e.stopPropagation(),e.preventDefault();const i=t.split("-");if(he=i[i.length-1].trim(),-1!==he.toLowerCase().indexOf("dine")&&(he=ie),o&&(he=o),(async e=>{const t=[];t.push({event:"orderType",dispositionSelected:Object(c.h)(e.selectedDispositionType)}),await p.a.registerEvent(void 0,{data:t[0]},c.xb)})({selectedDispositionType:he}),H){const e={data:[{storeId:U,channel:E.b.channel,service:g.ee},{storeId:U,channel:E.b.channel,service:g.Eb}],store:[{...Re,service:g.ee},{...Re,service:g.Eb}],tenantId:w,setStatusFlag:!1,isFavoritePage:!1},t=()=>{Ne(he),Ie(Object(d.d)(e)),u({type:X,value:{dispositionType:he}})};C(Ee,u,t,a)}else[ie,ne,le,de].includes(he.toUpperCase())&&(u({type:ae,value:{findAKFC:!1}}),u({type:Y,value:{showSearchStore:!0,configSearchScreen:R.a}}),localStorage.setItem(g.gd.CONFIG_SEARCH_SCREEN,R.a),u({type:K,value:{showDisposition:!1}}),u({type:X,value:{dispositionType:he}}),u({type:Oe,value:void 0}),u({type:je,value:void 0}),localStorage.removeItem(null===g.gd||void 0===g.gd?void 0:g.gd.FROM_SCHEDULE_ORDER_CONTAINER));const{localized:n=!1,loggedIn:l=!1}=ye,r=Object(c.gd)(n,l);((e,t)=>{var a;t||Object(O.p)(null===h.a||void 0===h.a||null===(a=h.a.selectOrderType)||void 0===a?void 0:a.name,{...e})})({"%event%":"selectOrderType","%disposition%":Object(c.h)(he),"%userType%":r},M)},Me=async(e,t)=>{const a=e.filter((e=>(null===e||void 0===e?void 0:e.service)===Object(c.Ib)(t)));if(null!==a&&void 0!==a&&a.length){var o,n,l,d,v,m,b,j,p,h,I,S,f;const e={time:"ASAP",interval:null===a||void 0===a||null===(o=a[0].summary.timings.scheduled.periods[0])||void 0===o?void 0:o.interval,date:new Date,selectedTime:"ASAP"},s=await Object(c.jb)(Ie,!0,xe,null===a||void 0===a?void 0:a[0],Object(c.Ib)(t),De,e);Ie(Object(r.f)({data:s,tenantId:w})),u({type:$,value:{oldvalue:ge,newValue:{store:null===a||void 0===a?void 0:a[0],time:e.time,date:e.date,type:t,interval:e.interval,deliveryAddress:null===i||void 0===i||null===(n=i.scheduleOrderData)||void 0===n?void 0:n.deliveryAddress,selectedTime:e.selectedTime}}}),localStorage.setItem("dispositionOld",JSON.stringify(ge)),localStorage.setItem("dispositionNew",JSON.stringify({type:t,store:null===a||void 0===a?void 0:a[0],date:e.date,time:e.time,selectedTime:e.selectedTime,interval:e.interval,deliveryAddress:null===i||void 0===i||null===(l=i.scheduleOrderData)||void 0===l?void 0:l.deliveryAddress})),Object(c.pe)(null===a||void 0===a||null===(d=a[0])||void 0===d||null===(v=d.addresses)||void 0===v||null===(m=v[0])||void 0===m||null===(b=m.address)||void 0===b||null===(j=b.addressLines)||void 0===j?void 0:j[0],A.a.ALREADY_SERACHED_LOCATIONS),Object(c.if)();const g={storeID:null===a||void 0===a||null===(p=a[0])||void 0===p?void 0:p.id,disposition:t,postCode:null===a||void 0===a||null===(h=a[0])||void 0===h||null===(I=h.addresses)||void 0===I||null===(S=I[0])||void 0===S||null===(f=S.address)||void 0===f?void 0:f.pinCode};Object(O.y)(g),u({type:K,value:{showSearchStore:!1}}),u({type:ee,value:{isLocalized:!0}}),((e,t)=>{let a=e||null;u({value:{selectedData:{}},type:Q}),localStorage.setItem("currentStoreInfo",JSON.stringify(a)),u({value:a,type:q}),Ie(Object(x.a)({...ye,localized:!0})),u({value:{selectedDateTime:t},type:J}),u({type:te,value:{selectContentTime:"ASAP"}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),localStorage.setItem("selectedTile",JSON.stringify({})),localStorage.setItem("dispositionType",pe),localStorage.setItem("tenantReducer",JSON.stringify(P)),localStorage.setItem("dateTimeOrder",JSON.stringify(t)),localStorage.setItem("storeInfo",JSON.stringify(a)),localStorage.setItem("savedTimeOrder","ASAP"),Se.push({pathname:"".concat(z)})})(null===a||void 0===a?void 0:a[0],e)}else(e=>{(null===e||void 0===e?void 0:e.toUpperCase())===ie?Te({showError:!0,errMsg:Object(s.translateWithI18Next)(ve),errDesc:null,buttonText:Object(s.translateWithI18Next)(me),buttonCTA:e=>we(e,g.kf,!0)}):(null===e||void 0===e?void 0:e.toUpperCase())===ne&&Te({showError:!0,errMsg:Object(s.translateWithI18Next)(ue),errDesc:null,buttonText:Object(s.translateWithI18Next)(be),buttonCTA:e=>we(e,g.Fb,!0)})})(t)};Object(o.useEffect)((()=>{if(_e.length>0&&!Ae&&fe&&H){var e,o,i;((e,o)=>{null!==e&&void 0!==e&&e.length?Me(e,pe):Te({showError:!0,errMsg:"".concat(Object(s.translateWithI18Next)(a)," ").concat(o," ").concat(Object(s.translateWithI18Next)(t)),errDesc:Object(s.translateWithI18Next)(se),buttonText:Object(s.translateWithI18Next)(ce),buttonCTA:e=>Pe(e,!0)})})(null===_e||void 0===_e?void 0:_e.filter((e=>{var t,a,o,i,n,l,d,c,r,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&"OPEN"===(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(r=c.timings)||void 0===r||null===(s=r.operatingHours)||void 0===s?void 0:s.length)>0&&(null===e||void 0===e||null===(u=e.summary)||void 0===u||null===(v=u.timings)||void 0===v||null===(m=v.asap)||void 0===m?void 0:m.isAvailable)})),null===_e||void 0===_e||null===(e=_e[0])||void 0===e||null===(o=e.name)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.value)}}),[_e,Ae,H]);const ke=e=>{e.stopPropagation(),e.preventDefault(),localStorage.setItem("renderComp",!0),u({type:K,value:{showDisposition:!1}}),u({type:Z,value:{addToCart:!1}}),u({type:Le,value:{deepLinkStoreMode:!1,deeplinkSelectedStoreId:""}}),u({type:oe,value:{redirectionOrder:""}}),u({type:ae,value:{findAKFC:window.location.pathname===g.Ae.FIND_STORE}}),W&&Object(c.td)(Se)};Object(o.useEffect)((()=>{const e=e=>{27===e.keyCode&&ke(e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const Fe=Object(v.jsx)(m,{modalContent:G,onDispositionMethodSubmit:we}),Ue=Object(v.jsx)(j,{handleClose:ke,DispositionModuleForm:Fe,headerText:V,modalTitleId:"dispostion_selector"});return Object(v.jsxs)(v.Fragment,{children:[(null===Ce||void 0===Ce?void 0:Ce.showError)&&Object(v.jsx)(y.a,{handleClose:null,CartAlertForm:Object(v.jsx)(D.a,{title:null===Ce||void 0===Ce?void 0:Ce.errMsg,contentMsg:null===Ce||void 0===Ce?void 0:Ce.errDesc,confirmButtonText:null===Ce||void 0===Ce?void 0:Ce.buttonText,confirmHandler:null===Ce||void 0===Ce?void 0:Ce.buttonCTA,buttonContainerClass:"deeplink-alert-btn-container"})}),Ue]})}},945:function(e,t,a){"use strict";var o=a(813);a.d(t,"a",(function(){return o.default}))},946:function(e,t,a){"use strict";t.a={PRODUCT_LISTING_DATA:"productListingData",SEARCHOURMENU:"searchMenu",GENERAL_ROUTING:"General Routing/Communication",HOME_PAGE_OFFERS:"Home Page Offers",MARKETING_HERO_3:"Marketing Hero 3",CRM_SIGNUP:"CRM SignUP",BROWSER_CATEGORIES:"Browser Categories",OFFERS_DEALS:"Offers and Deals",DISPOSITION:"disposition",CAROUSAL:"carousalComponent",ORDERSERV:"orderServComponent",ROUTING:"routingComponent",CRM:"crmSignUp",ORDER_IT_AGAIN:"Order it again",WELCOME_MESSAGE:"Welcome Message"}},947:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return f}));var o=a(924),i=a(37),n=a.n(i),l=(a(19),a(5),a(18)),d=a.n(l),c=a(96),r=a(49),s=a(2);const u=e=>{const{FOOTER_LOGO:t,FOOTER_SECTION:a,FIND_A_KFC_SECTION:i,APP_LINKS:l,SOCIAL_SECTION:d,COPYRIGHT:c,HEADLINE:r}=o.a,s={kfcLogo:{},categories:[],kfcStoreSearch:{},downloadAppButtons:[]},u={languageDropdown:{},copyrightContentData:{},socialMediaContent:[],copyrightNavLinks:[]};for(const o of e){const e=n()(o,"sys.contentType.sys.id"),S=n()(o,"fields.category");if(e===t){const{url:e,altText:t}=O(o.fields);s.kfcLogo={src:e,alt:t}}else if(S===i){var m,j,h;const e=null===o||void 0===o||null===(m=o.fields)||void 0===m||null===(j=m.links)||void 0===j||null===(h=j[0].fields)||void 0===h?void 0:h.linkText;s.kfcStoreSearch={...g(o.fields.links[0].fields),name:e}}else if(S===l)s.downloadAppButtons=v(o.fields.links);else if(S===d)u.socialMediaContent=b(o.fields.links);else if(S===c){var I;null===o||void 0===o||null===(I=o.fields)||void 0===I||I.links.forEach((e=>{var t,a,o;if((null===e||void 0===e||null===(t=e.sys)||void 0===t||null===(a=t.contentType)||void 0===a||null===(o=a.sys)||void 0===o?void 0:o.id)===r){const{headline:t}=e.fields;u.copyrightContentData={name:t}}else{const{linkText:t,title:a,internalurl:o,externalurl:i}=e.fields;u.copyrightNavLinks=[...u.copyrightNavLinks,{linkText:t,title:a,internalurl:o,externalurl:i}]}}))}else e===a&&s.categories.push(p(o.fields))}return{bodyContent:s,footerContent:u}},v=e=>e.map((e=>({...m(e.fields),name:e.fields.title})))||[],m=e=>{const{url:t,desktopImage:a={fields:{}}}=e,{file:o={}}=a.fields,{url:i=""}=o;return{linkTo:t,url:i}},b=e=>e.map((e=>{const{externalurl:t,icon:a={}}=e.fields,{url:o}=O(a.fields);return{...{linkTo:t,url:o},name:e.fields.title}}))||[],O=e=>{const{desktopImage:t}=e;return t&&j(t)||{}},j=e=>{var t;const{url:a="",altText:o=""}=(null===e||void 0===e||null===(t=e.fields)||void 0===t?void 0:t.file)||{};return{url:a,altText:o}},p=e=>{let t=[];const{category:a,links:o=[]}=e;return o.forEach((e=>{t.push(h(e.fields))})),{categoryHeaderText:a,subCategories:t}},h=e=>{var t,a,o,i,n,l,d,c,r,s;const{linkText:u,internalurl:v,externalurl:m}=e;return{name:u,linkTo:e.url||e.internalurl,internalurl:v,externalurl:m,icon:{desktopImage:null===e||void 0===e||null===(t=e.icon)||void 0===t||null===(a=t.fields)||void 0===a||null===(o=a.desktopImage)||void 0===o||null===(i=o.fields)||void 0===i||null===(n=i.file)||void 0===n?void 0:n.url,mobileImage:null===e||void 0===e||null===(l=e.icon)||void 0===l||null===(d=l.fields)||void 0===d||null===(c=d.mobileImage)||void 0===c||null===(r=c.fields)||void 0===r||null===(s=r.file)||void 0===s?void 0:s.url}}},g=e=>{const{linkTo:t,icon:a={},title:o,externalurl:i}=e,{url:n}=O(a.fields);return{linkTo:t,url:n,title:o,externalurl:i}},I=()=>{var e,t;null===(e=window)||void 0===e||null===(t=e.OneTrust)||void 0===t||t.ToggleInfoDisplay()},S=e=>(null===e||void 0===e?void 0:e.title)===(null===o.a||void 0===o.a?void 0:o.a.COOKIES_SETTINGS)?Object(s.jsx)("span",{onClick:I,children:null===e||void 0===e?void 0:e.linkText}):null===e||void 0===e?void 0:e.linkText,f=e=>null===e||void 0===e?void 0:e.map((e=>{const t=e.internalurl,a=d()(t)?e.externalurl:null;return Object(s.jsxs)("li",{id:e.title,children:[(!d()(t)||(null===e||void 0===e?void 0:e.title)===(null===o.a||void 0===o.a?void 0:o.a.COOKIES_SETTINGS))&&Object(s.jsx)(c.b,{to:t,onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:S(e)}),!d()(a)&&Object(s.jsx)("a",{href:a,target:"",onClick:()=>Object(r.r)(null===e||void 0===e?void 0:e.linkText),children:e.linkText})]})}))},948:function(e,t,a){"use strict";var o=a(3),i=a(61),n=a(25),l=a(172),d=a(5),c=a(110),r=a(69),s=a(899),u=a(54),v=a(925),m=a(6),b=a(30),O=a(955),j=a(324),p=a(15),h=a(321),g=a(76),I=a(0),S=a(329),f=a(2);const{CARD_TYPE:N}=l.MENU_PLP_CONSTANT,{heartIcon_active:C,heartIcon_activeFavourite:T,FavoriteInActiveWhite:E,heartIcon_inactive_red:x}=p.a,D=(e,t,a,o,i,n)=>e===N.LARGE?t?"menu-product-card product-card-active":"menu-product-card":e===N.MEDIUM?t?"medium-menu-product-card product-card-active":"medium-menu-product-card":e===N.SMALL?((e,t,a,o,i)=>e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||o||i)?"small-menu-product-card product-card-active":!e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,o,i,n):e===N.CAROUSAL?"carousal-menu-product-card":void 0,y=e=>e===N.LARGE?"menu-product-image":e===N.MEDIUM?"medium-menu-product-image":e===N.SMALL?"small-menu-product-image":e===N.CAROUSAL?"carousal-menu-product-image":void 0,_=(e,t,a,o,i)=>{let{timer:n,newitem:l,topseller:d,customlabelfield:c}=i;return e===N.LARGE?"menu-product-header":e===N.MEDIUM?"medium-menu-product-header":e===N.SMALL?t||a||o||n||l||d||c?"small-menu-product-header-shift small-menu-product-header":"small-menu-product-header":e===N.CAROUSAL?"carousal-menu-product-header":void 0},A=e=>e===N.LARGE?"menu-vegOrNonVeg":e===N.MEDIUM?"medium-menu-vegOrNonVeg":e===N.SMALL?"small-menu-vegOrNonVeg":e===N.CAROUSAL?"carousal-menu-vegOrNonVeg":void 0,R=e=>e===N.LARGE?"menu-product-price":e===N.MEDIUM?"medium-menu-product-price":e===N.SMALL?"small-menu-product-price":e===N.CAROUSAL?"carousal-menu-product-price":"",L=(e,t)=>e&&"recommended"!==t?"availableprice-withbaseprice":"",P=e=>e===N.LARGE?"menu-product-description":e===N.MEDIUM?"medium-menu-product-description":e===N.SMALL?"small-menu-product-description":e===N.CAROUSAL?"carousal-menu-product-description":"",w=(e,t)=>e?"cardButton "+t:"cardButtonOnly "+t,M=e=>{const{ADD_TO_CART:t}=s.a;let a=Object(m.translateWithI18Next)(t),o="",i=!0;return null!==e&&void 0!==e&&e.isStoreNone?(a="Store Closed",o="no-store-selected",i=!1):null!==e&&void 0!==e&&e.isStoreClosed&&(a="Store Closed",o="store-closed",i=!1),{btnText:a,className:o,enabled:i}},k=(e,t,a,o)=>e?"".concat(((e,t)=>{let a,o="button activeBtn";switch(o+=t?" blackButton":" redButton",e){case N.LARGE:a="menu-cart-button";break;case N.MEDIUM:a="medium-menu-cart-button";break;case N.SMALL:a="small-menu-cart-button";break;case N.CAROUSAL:a="carousal-menu-cart-button";break;default:a=""}return"".concat(o," ").concat(a)})(t,a)," ").concat(M(o).className):"button btn-black medium-menu-cart-button",F=(e,t,a,o,i,n)=>{let c;return c=n?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:n}):e||(t||(a?Object(f.jsx)("span",{"data-testid":"exclusive-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.EXCLUSIVE_DEAL)}):o?Object(f.jsx)("span",{"data-testid":"new-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.NEW)}):Object(d.Tc)(i,Object(f.jsx)("span",{"data-testid":"topseller-id",children:Object(m.translateWithI18Next)(l.MENU_PLP_CONSTANT.MENU_CARD.TOP_SELLER)}),null))),c},U=e=>e===N.CAROUSAL?C:T,H=e=>e===N.CAROUSAL?E:x,W=(e,t)=>Boolean(e)&&"recommended"!==t,B=(e,t)=>{let a;return a=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:"price-display",children:"old price"}),Object(f.jsxs)("span",{className:"base-price-menu",children:[l.MENU_PLP_CONSTANT.MENU_CARD.CURRENCY,(parseFloat(e)/t).toFixed(2)]})]}),a};t.a=e=>{var t,a,l,s,m,p,C,T;const{cardId:E,cardType:x,discount:G,specials:V,exclusive:Y,timer:z,availability:K=[],nextAvailableTime:q,isAvailable:J,tenantData:Q,customizable:X,categoryId:Z,activeId:$,addFavourite:ee,removeFavourite:te,item:ae,isHidden:oe,cardFor:ie,setShowTopScrollBtn:ne,userParams:le,productContent:de,plpbackgroundImageData:ce,viewUp:re}=e,se=Object(d.gd)(null===le||void 0===le?void 0:le.localized,null===le||void 0===le?void 0:le.loggedIn),ue=Object(c.b)(r.b),{QUANTITY_ACTION:ve}=u.a,me=Object(n.b)(),be=null===Q||void 0===Q?void 0:Q.tenantId,{componentOptions:Oe={}}=Q,{PlpProductCard:je={}}=Oe,{allowClickOnProductCard:pe=!1}=je,he=Object(n.c)((e=>e.cartReducer)),ge=Object(n.c)((e=>{var t;return null===(t=e.profileReducer)||void 0===t?void 0:t.basic})),{cartData:Ie={},isAddItemLoading:Se=!1}=Object(d.kd)(he),{discountTotal:fe,couponCode:Ne}=Object(d.vb)(Ie),[Ce,Te]=Object(o.useState)(0),[Ee,xe]=Object(o.useState)(null),[De,ye]=Object(o.useState)(0),_e=null===ge||void 0===ge?void 0:ge.id,Ae=Object(n.c)((e=>{var t;return Object(d.od)(null===(t=e.profileReducer)||void 0===t?void 0:t.favouriteItems)})),[Re,Le]=Object(o.useState)(!0),[Pe,we]=Object(o.useState)("product"),{flatResponse:{productMapByItemId:Me={}}={}}=null!==(t=Object(n.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==t?t:{},[ke,Fe]=Object(o.useState)(""),[Ue,He]=Object(o.useState)(0),[We,Be]=Object(o.useState)([]),[Ge,Ve]=Object(o.useState)(!1),[Ye,ze]=Object(o.useState)(""),[Ke,qe]=Object(o.useState)(!1),Je=Object(i.h)(),Qe=Object(n.c)((e=>e.storesReducer)),Xe=(null===Qe||void 0===Qe||null===(a=Qe.storesWithStatus)||void 0===a?void 0:a.length)&&(null===Qe||void 0===Qe||null===(l=Qe.storesWithStatus[0])||void 0===l||null===(s=l.summary)||void 0===s?void 0:s.timeZoneIANA),Ze=null===Oe||void 0===Oe||null===(m=Oe.web)||void 0===m||null===(p=m.global)||void 0===p?void 0:p.pricewithNumberofDecimalDigit,{userOrderStateDispatch:$e,userOrderState:et}=Object(o.useContext)(g.a),{timeBasedCetegory:tt,timeBasedAlertModalData:at}=et,ot=Object(n.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),it=Object(n.c)((e=>Object(d.kd)(e.storesReducer))),nt=null===Oe||void 0===Oe||null===(C=Oe.web)||void 0===C||null===(T=C.plp)||void 0===T?void 0:T.removeSingleItemInCartFromPLP,lt=(null===it||void 0===it?void 0:it.storesWithStatus)&&Object(S.b)(null===it||void 0===it?void 0:it.storesWithStatus[0]);Object(o.useEffect)((()=>{ie&&we(ie)}),[ie]),Object(o.useEffect)((()=>{const e=Object(d.Kd)(Ie)?Object(d.hc)(E,Ie):{},t=Object(d.Tc)(Object(d.Kd)(e),e.count,0),a=Object(d.Tc)(Object(d.Kd)(e),e.matchedItemFoodLineId,""),o=Object(d.Tc)(Object(d.Kd)(e),e.entriesCount,0),i=Object(d.Tc)(Object(d.Kd)(e),e.itemUnitPrice,"");Te(t),xe(a),ye(o),He(i)}),[Ie,E]);const dt=Object(o.useCallback)((()=>{Fe(D(x,pe,G,V,Y,z))}));Object(o.useEffect)((()=>{dt()}),[dt]);const ct=Object(o.useMemo)((()=>Object(d.Tc)(ce,ce,{})),[ce]);Object(o.useEffect)((()=>{Le(!0)}),[Ce]),Object(o.useEffect)((()=>{let e=Object(j.j)(null===Je||void 0===Je?void 0:Je.pathname);qe(e.showCateringflag)}),[null===Je||void 0===Je?void 0:Je.pathname]);const rt=e=>{if(null!==Ie&&void 0!==Ie&&Ie.id){let t=null===Ie||void 0===Ie?void 0:Ie.foodLines.filter((t=>{var a;return(null===t||void 0===t||null===(a=t.item)||void 0===a?void 0:a.id)===e}));Be(t)}ze(e),Ve(!0)},st=Object(d.db)(Se,$===E);return!oe&&!((e,t,a,o)=>((null===e||void 0===e?void 0:e.isReviewOrderClick)||(null===e||void 0===e?void 0:e.isCloseButtonClicked))&&Object(h.b)(t,a,o))(at,ot,lt,null===e||void 0===e?void 0:e.id)&&Object(f.jsx)(O.a,{...e,getCardTypeName:D,"data-testid":"MenuPlpTestId",allowClickOnProductCard:pe,getProductImageClassName:y,getSpecificRibbonBanner:F,favouriteItems:Ae,classFavouriteIconActive:U,getCardName:ke,favouriteButtonClickHandler:()=>{Object(d.db)(Array.isArray(Ae),null===Ae||void 0===Ae?void 0:Ae.find((e=>(null===e||void 0===e?void 0:e.id)===(null===ae||void 0===ae?void 0:ae.id))))?te(be,_e,ae.id):(async(e,t,a,o)=>{var i;const n=Object(d.ld)(null===(i=a[0])||void 0===i?void 0:i.price),l={mdmId:t.mdmId,id:t.id,name:t.name,imageName:t.imageName,description:t.longDescription,quantity:1,isCustomized:t.customizable,price:n/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor),additionalProperties:t.additionalProperties};await ee(e,l,o),await me(Object(b.v)({showProductListingModal:!1,categorySelected:Z}))})(be,ae,K,_e)},itemCount:Ce,classFavouriteIconInActive:H,getMenuProductHeader:_,getVegNonvegClassName:A,menuProductPriceClassName:R,checkForBasePriceInMenu:W,cardCat:Pe,displayPrice:B,getPriceClassName:L,menuProductDescriptionClassName:P,updateItemQuantity:(t,a)=>{var o;null===t||void 0===t||t.stopPropagation(),null===t||void 0===t||t.preventDefault();const i=Object(h.g)(null===e||void 0===e?void 0:e.cardId,null===ot||void 0===ot?void 0:ot.flatResponse),n=Object(h.d)(E,tt);if(!Object(h.c)({categoryUrl:i,itemInCart:n,alertType:Object(h.j)(null===tt||void 0===tt?void 0:tt.timebasedItemInCart,null===I.Sb||void 0===I.Sb?void 0:I.Sb.ITEM),categoryId:null===e||void 0===e?void 0:e.categoryId,itemId:null===e||void 0===e?void 0:e.cardId},{...tt,menuData:ot,foodLinesItems:(null===he||void 0===he||null===(o=he.cartData)||void 0===o?void 0:o.foodLines)||[]},$e)&&le.localized){const e=Number((Ue/(null===Q||void 0===Q?void 0:Q.currencyConversionFactor)).toFixed(2));let t={foodName:null===ae||void 0===ae?void 0:ae.name,foodItemId:null===ae||void 0===ae?void 0:ae.mdmId,cartPrice:e,modifiers:[],quantity:Ce,foodLineId:Ee};const{itemQuantityHandler:o,itemRemoveHandler:i}=Object(v.a)({cartId:null===Ie||void 0===Ie?void 0:Ie.id},null===Q||void 0===Q?void 0:Q.tenantId,void 0,Me,void 0,me,void 0,se,null===Q||void 0===Q?void 0:Q.currencyShortName,void 0,ue,Ne,fe,null===Q||void 0===Q?void 0:Q.currencyConversionFactor);a===ve.Increase?X&&Ce>=1?rt(null===t||void 0===t?void 0:t.foodItemId):(!X&&Le(!1),o(t,ve.Increase)):De>1?rt(null===t||void 0===t?void 0:t.foodItemId):(Le(!1),nt&&1===(null===t||void 0===t?void 0:t.quantity)?i(t):o(t,ve.Decrease))}},classesCardButton:w,classEnableAddToCart:k,enableAddToCartButton:Re,checkLoading:st,menuCardBtnText:M,itemFoodlineId:Ee,openCostomizedModal:Ge,filteredPreviousData:We,setOpenCostomizedModal:Ve,cartData:Ie,CARD_TYPE:N,setShowTopScrollBtn:ne,FoodId:Ye,plpbackgroundImageSrc:ct,storeTimeZone:Xe,showCateringflag:Ke,serves:null===de||void 0===de?void 0:de.serves,imageurl:null!==de&&void 0!==de?de:null===ae||void 0===ae?void 0:ae.content,nextAvailableTime:q,isAvailable:J,pricewithNumberofDecimalDigit:Ze,viewUp:re})}},949:function(e,t,a){var o=a(967),i=a(510),n=a(512),l=a(98);e.exports=function(e,t){return(l(e)?o:i)(e,n(t))}},950:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a(3);var o=a(900),i=a(909),n=a(910),l=a(346),d=a(43),c=(a(54),a(6)),r=a(36),s=a(5),u=a(2);const v=e=>{const{INDULGENT_ADD_ON:t,IndulgentData:a,isMobile:v,recommendationType:m,ruleName:b,productId:O,userType:j,flatResponse:p,catalogs:h,tenantReducer:g,cartReducer:I,dispatch:S,indulgentAddToCartHandler:f,rangeValue:N,updateRangeValue:C,currentSlide:T,updateCurrentSlide:E,caroselCount:x,setCaroselCount:D,carousal:y,setPrevArrowCSS:_,couponCode:A,discountTotal:R}=e,{ADD_TO_CART:L,HEADER:P,SLIDES_TO_SCROLL:w,SLIDES_TO_SHOW:M,RESPONSIVE_SETTINGS:k}=t,F={dots:!1,infinite:!1,speed:500,slidesToShow:M,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,nextArrow:Object(u.jsx)(i.a,{clickNextCard:()=>{if(T<a.length-1){let e=0;e=T+w>a.length-M-1?a.length-M:T+w,_(e),E(e),y.current.slickGoTo(e)}}}),prevArrow:Object(u.jsx)(n.a,{clickPrevCard:()=>{T>0&&(E(T-w),y.current.slickGoTo(T-w)),_(T-w)}}),beforeChange:(e,t)=>C(t),afterChange:(e,t)=>E(e),variableWidth:!0,accessibility:!0,responsive:[{breakpoint:2600,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1720,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1366,settings:{slidesToShow:3,slidesToScroll:1,arrows:!0,swipeToSlide:!0,variableWidth:!0}},{breakpoint:1050,settings:{slidesToShow:2,slidesToScroll:1,arrows:!0,swipeToSlide:!0}},{breakpoint:1023,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,swipeToSlide:!0,beforeChange:(e,t)=>{D(Math.round(t+1))}}}]},{currencyConversionFactor:U,componentOptions:{web:{global:{showPriceWithTax:H=!1}={}}={}}={}}=g;return Object(u.jsxs)("div",{className:"indulgent-container",children:[Object(u.jsxs)("div",{className:"indulgent-header-container",role:"heading","aria-level":"2",children:[Object(u.jsx)("span",{className:"indulgent-header",children:Object(c.translateWithI18Next)(P)}),v&&Object(u.jsxs)("span",{className:"indulgent-carousal-count","data-testid":"indulgent-count-test",children:[x,"/",a&&a.length]})]}),Object(u.jsx)("div",{className:"indulgent-card-list",children:Object(u.jsx)(o.b,{settings:F,carousalRef:y,children:a.map(((e,t)=>Object(u.jsxs)("div",{className:"indulgent-card",children:[Object(u.jsx)(d.a,{"data-testid":"",className:"indulgent-card-image",defaultPath:Object(s.Xb)(null,g,!0),srcFile:Object(s.Xb)(e.imageName,g)}),Object(u.jsxs)("div",{className:"indulgent-card-content",children:[Object(u.jsx)("div",{className:"indulgent-card-header",children:e.dname[0].value}),Object(u.jsxs)("div",{className:"indulgent-card-price",children:[g.currencySymbol,Object(s.Cc)(null===e||void 0===e?void 0:e.availability[0],null===e||void 0===e?void 0:e.additionalProperties,U,H)]}),Object(u.jsxs)(r.a,{className:"button redButton indulgent-card-button","aria-label":Object(c.translateWithI18Next)(L)+" "+e.dname[0].value,"data-testid":"add-to-cart",onClickHandler:o=>{o.preventDefault(),o.stopPropagation(),f({index:t,id:null===e||void 0===e?void 0:e.id,customizable:!1,dispatch:S,cartReducer:I,tenantReducer:g,catalogs:h,flatResponse:p,category_id:null===e||void 0===e?void 0:e.categoryId,userType:j,productId:O,ruleName:b,recommendationType:m,IndulgentData:a,couponCode:A,discountTotal:R})},children:[Object(c.translateWithI18Next)(L),Object(u.jsx)(d.a,{className:"add-to-cart-Icon",srcFile:l.a})]})]})]},t)))})}),!v&&a.length>3&&Object(u.jsx)("div",{className:"indulgent-slideContainer","data-testid":"indulgent-mobile-test",children:Object(u.jsx)("input",{className:"indulgent-slider",type:"range",min:"0",max:a.length-(e=>{const t=window.innerWidth;return t>1350&&t<1650?4:t>1650&&t<=1920?5:e})(M),value:N,id:"myRange",onChange:e=>{C(e.target.value),y.current.slickGoTo(e.target.value)}})})]})}},952:function(e,t,a){"use strict";a.d(t,"b",(function(){return te})),a.d(t,"c",(function(){return oe}));var o=a(3),i=a.n(o),n=a(171),l=a(25),d=a(6),c=a(123),r=a(317),s=a(5),u=a(69),v=a(212),m=a(43),b=a(15),O=a(901),j=a(190),p=a(2);const h=e=>{let{upsizeInfo:t,upSizeHandler:a,itemSelected:o,customizable:i}=e;const n=e=>i?Object(p.jsx)("span",{className:"size-desc",children:e.itemDesc}):Object(p.jsxs)("span",{children:[Object(p.jsx)("span",{className:"size-desc size-desc-price",children:e.price}),e.calories&&Object(p.jsx)("span",{className:"size-desc size-desc-cal",children:e.calories})]});let l=(e,t,i,l)=>Object(p.jsxs)("div",{className:"modifier-size",children:[Object(p.jsxs)("div",{className:"size-info",children:[Object(p.jsx)("span",{className:"size-title",children:t}),n(i)]}),Object(p.jsxs)("picture",{onClick:()=>e!==o&&((e,t)=>{var o;a(e);const i={name:null===t||void 0===t?void 0:t.itemDesc,size:null===t||void 0===t||null===(o=t.itemDesc)||void 0===o?void 0:o.split(" ")[0]};Object(O.e)(i,j.a.ADDONS)})(e,i),"data-testid":"upsize-handler-id-".concat(l),children:[Object(p.jsx)("source",{media:"(max-width: 1023px)",srcSet:e===o?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===o?"checked":""}),Object(p.jsx)("img",{src:e===o?b.a.Check_Icon:b.a.Selection_Checkbox_off,alt:e===o?"checked":""})]})]},l);return Object(p.jsx)("div",{className:"sopac-upsize",children:Object(s.kc)(t)&&t.map(((e,t)=>{let{id:a,title:o,desc:i}=e;return l(a,o,i,t)}))})};var g=i.a.memo(h),I=a(0),S=a(4),f=a(76),N=a(898),C=a(954),T=a(947);const E=()=>{const{headerData:{footer:e={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),t=Object(s.Sb)(e),{bodyContent:a={}}=Object(T.b)(t)||{},{categories:o=[]}=a,i=(e=>e.flatMap((e=>e.subCategories.filter((e=>e.internalurl===I.pc.NUTRITION_ALLERGEN_GUIDE_LINK)).map((e=>e.internalurl)))))(o),n=i[0],{ALLERGY_NUTRITION_TEXT:c}=j.a;return Object(p.jsx)("a",{className:"non-ala-carte-alert-link","data-testid":"nutritionAllergenLink1",href:n,type:"external",rel:"noreferrer",children:Object(d.translateWithI18Next)(c)})};var x=i.a.memo(E),D=a(934),y=a(213),_=a(914);const A=e=>!!e&&"".concat(Object(d.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.SERVES)," ").concat(e),R=e=>{var t,a,i,n,c,r,O,h,T,E;const{cardId:R,calories:P,customizable:w,price:M,upsizeInfo:k,upSizeHandler:F,showAddToCartButton:U,availability:H,isStoreClosed:W,kilojoule:B,pdpCardObject:G,pdpPromoPage:V,storeTimeZone:Y,modgrps:z,servesCount:K,imageName:q}=e,J=Object(l.b)(),Q=Object(l.c)((e=>e.tenantReducer)),X=Object(l.c)(u.b),{hiddenCouponDetails:Z}=Object(l.c)((e=>e.cartReducer)),{storesWithStatus:$}=Object(l.c)((e=>e.storesReducer)),[ee,te]=Object(o.useState)({}),{userOrderState:ae,userOrderStateDispatch:oe}=Object(o.useContext)(f.a),ie=null===(t=null===q||void 0===q?void 0:q.hideAllergenInformation)||void 0===t||t,ne=null===(a=null===q||void 0===q?void 0:q.hideNutritionInformation)||void 0===a||a,le=(null===(i=$[0])||void 0===i||null===(n=i.summary)||void 0===n?void 0:n.timeZoneIANA)||Object(s.Oc)(),de=null===Q||void 0===Q||null===(c=Q.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(O=r.pdp)||void 0===O?void 0:O.showAllergyNutrition,{currencyConversionFactor:ce,currencySymbol:re}=Q,se=null===Q||void 0===Q||null===(h=Q.componentOptions)||void 0===h||null===(T=h.pdp)||void 0===T?void 0:T.redirectAllergyNutritionInfo,{userParams:ue}=G,{nutritionAllergenHandler:ve,showNutritionAllergenModal:me}=(null===(be=e)||void 0===be?void 0:be.nutritionDetails)||{};var be;const{ALLERGY_NUTRITION_TEXT:Oe,PDP_CHOOSE_STORE:je,MODGROUPMAX:pe,SELECTED_ITEM_NOT_AVAILABLE:he}=j.a,ge=e,{pdpPayloadData:Ie}=ae;G[pe]=null===z||void 0===z||null===(E=z[0])||void 0===E?void 0:E.max,G[he]=Object(s.fb)(null===ge||void 0===ge?void 0:ge.isExcluded,Object(N.c)(Ie)),G.itemId=R,Object(o.useEffect)((()=>{Z&&Object(D.b)(null===Z||void 0===Z?void 0:Z[0],oe,J)}),[]),Object(o.useEffect)((()=>{te(((e,t)=>e&&t&&Object(N.k)(e,t))(H,le))}),[H,le]);const Se=(e,t)=>{var a,o,i,n,l;const c=X[I.gd.VIEW_PRODUCT],r=[Object(N.k)(null===c||void 0===c||null===(a=c.priceDetails)||void 0===a||null===(o=a.find((t=>(null===t||void 0===t?void 0:t.id)===e)))||void 0===o?void 0:o.availability,le)],s=(null===r||void 0===r||null===(i=r[0])||void 0===i?void 0:i.promoPrice)<(null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.price)?null===r||void 0===r||null===(l=r[0])||void 0===l?void 0:l.promoPrice:0,u=s?{...null===r||void 0===r?void 0:r[0],price:s}:t;return s&&V?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{"data-testid":"pdp-promos-with-price",className:"pdp-promos-container with-price",children:[Object(p.jsx)(y.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img"}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)}),Object(p.jsx)("span",{className:"pdp-promo-text",children:Object(p.jsx)("del",{children:M(w,null===r||void 0===r?void 0:r[0],!1,Y)})})]}),Object(p.jsx)("span",{className:"price-info",children:M(w,u,!1,Y)})]}):V?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(y.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price",children:M(w,t,!1,Y)})]}):Object(p.jsx)("span",{className:"price-info","data-testid":"pdp-item-price",children:M(w,t,!1,Y)})},fe=Object(p.jsx)("div",{className:"allergy-info",children:se?Object(p.jsx)(x,{}):Object(p.jsx)(v.a,{onClickHandler:ve,className:"allergy-info-link","data-testid":"allergy-info",children:Object(d.translateWithI18Next)(Oe)})}),Ne=Object(s.j)([null===ue||void 0===ue?void 0:ue.localized,!W,k.length>0])?Object(p.jsx)(g,{upsizeInfo:k,upSizeHandler:F,itemSelected:R,customizable:w}):null,Ce=Object(s.fb)(!(null!==ue&&void 0!==ue&&ue.localized),W)&&Object(p.jsxs)("div",{className:"pdp-summary-cart-notification",children:[!!Z.length&&Object(p.jsx)(L,{hiddenCouponDetails:Z,currencySymbol:re,currencyConversionFactor:ce}),Object(p.jsxs)("div",{className:"notify-alert",children:[Object(p.jsx)(m.a,{srcFile:b.a.Error_Yellow,className:"location-alert-icon"}),Object(p.jsx)("span",{children:Object(d.translateWithI18Next)(je)})]})]}),Te=Object(s.db)(null===ue||void 0===ue?void 0:ue.localized,!W)&&Object(p.jsxs)("div",{className:"price-kj-info",children:[Se(R,ee),Object(p.jsx)("span",{className:"kj-css",children:P&&Object(p.jsxs)("span",{className:"kj-info","data-testid":"pdp-kj-value",children:["".concat(P," ").concat(B)," \xa0 ",A(K)]})})]}),Ee=Object(s.j)([U,null===ue||void 0===ue?void 0:ue.localized,!W])&&Object(p.jsx)(_.a,{...G}),xe=Object(p.jsx)(C.a,{isMobile:G.isMobile,summaryData:ge});return Object(p.jsxs)(p.Fragment,{children:[Te,de&&(!ie||!ne)&&fe,Ne,Ce,Ee,me&&xe]})},L=e=>{var t,a;let{hiddenCouponDetails:o,currencySymbol:i,currencyConversionFactor:n}=e;const l=null===o||void 0===o||null===(t=o[0].itemDetails)||void 0===t||null===(a=t[0].availability)||void 0===a?void 0:a[0],c=Object(s.Qc)(l,n);return Object(p.jsxs)("div",{className:"price-kj-info",children:[Object(p.jsxs)("span",{"data-testid":"pdp-promos",className:"pdp-promos-container",children:[Object(p.jsx)(y.a,{src:b.a.Promos_Coupon_Icon,alt:"promo-tag",className:"pdp-promo-img-price"}),Object(p.jsx)("span",{className:"pdp-promo-text-price",children:Object(d.translateWithI18Next)(S.a.PROMO_TEXT)})]}),Object(p.jsx)("span",{className:"price-info-price","data-testid":"price-container",children:"".concat(i).concat(c)})]})},P=e=>{let{summaryData:t,pdpPromoPage:a,storeTimeZone:o,nutritionAllergenHandler:i,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}=e;const{pdpCardObject:v,comboData:m,customizable:b,makeItComboHandler:O,showMakeItComboButton:j}=t,h=Object(s.j)([!b,m>0,j])&&Object(p.jsx)(c.Link,{activeClass:"active",className:"combo-btn",to:"pdp-combo",offset:0,spy:!0,smooth:!0,children:Object(p.jsx)(r.a,{tabIndex:"1",className:"button whiteButton blackBorder pdp-combo-button","data-testid":"makeitcombo-btn",onClickHandler:O,children:Object(p.jsx)("span",{children:Object(d.translateWithI18Next)("makeItACombo")})})});return Object(p.jsx)("div",{className:"pdp-receipt-card",children:Object(p.jsxs)("form",{className:"pdp-receipt-form",onSubmit:e=>{null===e||void 0===e||e.preventDefault()},children:[Object(p.jsx)("h1",{className:"pdp-receipt-header","data-testid":"pdp-item-name",children:null===v||void 0===v?void 0:v.dName}),Object(p.jsx)(R,{...t,pdpPromoPage:a,storeTimeZone:o,nutritionDetails:{nutritionAllergenHandler:i,showNutritionAllergenModal:n,handleCloseModal:l,setNutritionAllergenModalOpen:u}}),h]})})};var w=i.a.memo(P),M=a(122),k=a(905),F=a(899),U=a(110),H=a(929);const W=e=>null!==e&&void 0!==e&&e.dname&&null!==e&&void 0!==e&&e.dname[0]?null===e||void 0===e?void 0:e.dname[0].value:(null===e||void 0===e?void 0:e.name)||"No Name",B=(e,t,a,o,i,n,l)=>{const{REGULAR_SIZE_TITLE:c,REGULAR_SIZE_DESC:r,UPSIZE_TITLE:u,UPSIZE_DESC:v}=j.a;var m;n||null!==l&&void 0!==l&&l.isProductPromo||(t=null===(m=t)||void 0===m?void 0:m.filter((e=>!(null!==e&&void 0!==e&&e.isHidden))));let b=[];if(e){var O,p;let e=((e,t)=>Object(s.yc)(e[1].availability[0],t).toFixed(I.dg)-Object(s.yc)(e[0].availability[0],t).toFixed(I.dg))(t,o);b=[{id:null===(O=t[0])||void 0===O?void 0:O.id,title:"".concat(Object(d.translateWithI18Next)(c)),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(r))}},{id:null===(p=t[1])||void 0===p?void 0:p.id,title:"".concat(Object(d.translateWithI18Next)(u)," (+").concat(a).concat((+e).toFixed(2),")"),desc:{itemDesc:"".concat(Object(d.translateWithI18Next)(v))}}]}else{let e={};t.forEach((t=>{let n=Object(s.yc)(t.availability[0],o).toFixed(I.dg),l=Object(s.hd)(t.additionalProperties,I.F);e={id:t.id,title:W(t),desc:{price:n>0?"".concat(a).concat(n):"",calories:0===l?"":" ".concat(l," ").concat(i)}},b.push(e)}))}return b};var G=e=>{var t,a,i,n,c,r;const v=Object(l.b)(),[m,b]=Object(o.useState)(""),[O,h]=Object(o.useState)([]),[g,S]=Object(o.useState)({}),[C,T]=Object(o.useState)(!1),[E,x]=Object(o.useState)(!1),D=Object(l.c)((e=>e.tenantReducer)),{cartData:y}=Object(l.c)((e=>e.cartReducer))||{},_=Object(l.c)((e=>e.appStateReducer.userStatus)),A=Object(U.b)(u.b),{pdpData:R,customModGrps:L={},isIpad:P,isMobile:G,comboData:V,isStoreClosed:Y,isItemDecreased:z,quantityRemovedObject:K,itemStatus:q,prodQuantity:J,quantityUpdate:Q,addtoCartClinckHandler:X,setItemStatus:Z,setProdQuantity:$,storeTimeZone:ee,imageContainerSize:te,pdpbackgroundImageData:ae}=e,{dname:oe,additionalProperties:ie={},availability:ne,modgrps:le,catalogName:de,customizable:ce,items:re=[]}=R||{},{EXPAND_ACCORDIAN:se,IS_IN_STOCK:ue,IS_OUT_OF_STOCK:ve,OUT_OF_STOCK_TEXT:me,PDP_ITEM_UPSIZE_ID:be}=j.a,Oe=null===D||void 0===D||null===(t=D.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(i=a.pdp)||void 0===i?void 0:i.pdpCateringItemQuantityLimit,{TURNED_NO_RESULTS_TEXT:je}=k.a,{veg:pe}=ie,he=null===D||void 0===D||null===(n=D.componentOptions)||void 0===n||null===(c=n.web)||void 0===c||null===(r=c.global)||void 0===r?void 0:r.pricewithNumberofDecimalDigit,{userOrderState:ge,userOrderStateDispatch:Ie}=Object(o.useContext)(f.a),{eventAvailabilities:Se,fetchEventItemAvailability:fe,getEventItemAvailability:Ne,isEvent:Ce}=(Object(s.Jd)(null===ge||void 0===ge?void 0:ge.dispositionNew)?JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW)):null===ge||void 0===ge||ge.dispositionNew,Object(H.a)()),{pdpScreenCommons:{currentAccordian:Te},pdpPromoPage:Ee,pdpDataForUpdateFoodLine:xe}=ge;Object(o.useEffect)((()=>{((e,t,a)=>{var o;Object(s.db)(null===e||void 0===e?void 0:e.length,null===t||void 0===t?void 0:t.length)&&a(null===(o=Object(s.Qb)(t))||void 0===o?void 0:o.id)})(L,le,b)}),[L,le]);const De=()=>{if(q===ve)return!1},ye=(e,t)=>{if(q===ve)return!1;e&&(e.preventDefault(),e.stopPropagation()),Ie({type:se,value:t});const a=document.getElementById("accordion-"+t);null===a||void 0===a||a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),b(t)};Object(o.useEffect)((()=>(fe(),()=>{Ie({type:se,value:""})})),[]),Object(o.useEffect)((()=>{Object(s.Tc)(Te,ye(null,Te),"")}),[Te]);const _e=e=>{Object(s.Tc)(De()?"":De()),e.preventDefault()},Ae=e=>{Object(N.B)(e,Oe,$)},Re=e=>{ge.pdpItemUpsizeId!==e&&(Ie({type:be,value:{pdpItemUpsizeId:e}}),v(Object(M.c)({tenantId:null===D||void 0===D?void 0:D.tenantId,catalogName:null===R||void 0===R?void 0:R.catalogName,itemId:e})))};Object(o.useEffect)((()=>{if(Object(s.Kd)(R)){let e=re.length>1?B(ce,re,D.currencySymbol,D.currencyConversionFactor,D.kilojoule,Ee,xe):[];h(e)}}),[R]),Object(o.useEffect)((()=>{if(Ce){Ne(null===R||void 0===R?void 0:R.id)?q===ve&&Z(ue):Z(ve)}}),[Se,Ne,Ce,null===R||void 0===R?void 0:R.id,y]);const Le=(e,t,a,o)=>{let i=Object(N.j)(t,null===D||void 0===D?void 0:D.currencyConversionFactor,a,null===R||void 0===R?void 0:R.id,o,A);if(!e&&0===i)return Z(ve),Object(d.translateWithI18Next)(me);let n=(Math.round(i*I.eg)/I.eg).toFixed(he);return"".concat(null===D||void 0===D?void 0:D.currencySymbol).concat(n)};return Object(o.useEffect)((()=>{let t=void 0!==Y,a=void 0!==m,o=[Object(s.Kd)(R),Object(s.kc)(re)>0,a,Array.isArray(O),(null===de||void 0===de?void 0:de.length)>0,Object(s.Kd)(D),t];if(Object(s.j)(o)){var i,n,l,d,c,r,u,v,b,j,p;const t=A[I.gd.VIEW_PRODUCT],{ITEM_QUANTITY:a}=F.a;let o={servesCount:null===R||void 0===R||null===(i=R.content)||void 0===i?void 0:i.serves,cardId:R.id,veg:pe,calories:null===R||void 0===R||null===(n=R.content)||void 0===n?void 0:n.caloricValue,modgrps:le,customizable:ce,isActive:m,setAsActiveLink:ye,isIpad:P,makeItComboHandler:_e,comboData:V,price:Le,catalogs:de,upsizeInfo:O,upSizeHandler:Re,showAddToCartButton:null===D||void 0===D||null===(l=D.componentOptions)||void 0===l||null===(d=l.web)||void 0===d||null===(c=d.pdp)||void 0===c?void 0:c.addToCartButton,showMakeItComboButton:null===D||void 0===D||null===(r=D.componentOptions)||void 0===r||null===(u=r.web)||void 0===u||null===(v=u.pdp)||void 0===v?void 0:v.makeItComboButton,pdpCardObject:{prodQuantity:J,userParams:_,quantityUpdate:Q,dName:W(R),maxItemCountPerLineItem:Object(N.o)(Ee,t,R.id,Oe),minItemCountPerLineItem:Object(N.p)(Ee,t,R.id,Oe),addtoCartClinckHandler:X,itemStatus:q,currencySymbol:null===D||void 0===D?void 0:D.currencySymbol,currencyConversion:null===D||void 0===D?void 0:D.currencyConversionFactor,isMobile:G,itemQuantity:Object(N.n)(Ee,t,R.id,a),handleProdQuantityForCatering:Ae,defaultdisposition:null===D||void 0===D||null===(b=D.authoredContent)||void 0===b?void 0:b.defaultdisposition,isItemDecreased:z,quantityRemovedObject:K,categoryId:null===e||void 0===e?void 0:e.categoryId},availability:R.availability,isStoreClosed:Y,isItemDecreased:z,kilojoule:null===D||void 0===D?void 0:D.kilojoule,allergenDetails:null===R||void 0===R||null===(j=R.content)||void 0===j?void 0:j.allergenInformation,nutritionalDetails:null===R||void 0===R||null===(p=R.content)||void 0===p?void 0:p.nutritionalInformation,imageName:null===R||void 0===R?void 0:R.content,imageContainerSize:te,pdpbackgroundImageData:ae,isExcluded:null===R||void 0===R?void 0:R.isExcluded};S(o),T(!0)}}),[oe,ne,pe,de,m,le,q,G,P,V,_,O,null===D||void 0===D?void 0:D.maxItemCountPerLineItem,J,Y,re]),Object(s.Tc)(C,Object(s.Kd)(g)?Object(p.jsx)(w,{"data-testid":"pdp-summary-view",summaryData:g,pdpPromoPage:Ee,storeTimeZone:ee,nutritionAllergenHandler:()=>{x(!0)},showNutritionAllergenModal:E,handleCloseModal:()=>{x(!1)},setNutritionAllergenModalOpen:x}):Object(p.jsx)("div",{className:"d-flex justify-content-center",children:Object(d.translateWithI18Next)(je)}),"")};var V=e=>{const{longDescription:t,isMobile:a,dispositionType:i}=e,{SHORT:n,READ_MORE:l,READ_LESS:c,LONG:r,MAX_LENGTH_READ:u}=j.a,[v,O]=Object(o.useState)(""),[h,g]=Object(o.useState)(n);Object(o.useEffect)((()=>{t&&O(t)}),[t]);const I=()=>{g(h===n?r:n)};return Object(p.jsxs)("div",{className:"pdp-desc",children:[Object(p.jsx)("div",{className:"d-flex mb-4 mobile-desc",children:Object(p.jsx)(m.a,{srcFile:a?b.a.StripsIconMobile:b.a.StripesIcon,className:"stripes-img"})}),Object(p.jsxs)("h2",{className:"pdp-desc-header mobile-desc","data-testid":"meal-menu-header",children:[" ",Y(d.translateWithI18Next,i)," "]}),a?Object(p.jsxs)("div",{className:"desc-box mobile-desc-text",children:[h===n?Object(s.uf)(v,u,!1):v,(null===v||void 0===v?void 0:v.length)>u?Object(p.jsx)("span",{className:"readMoreLess","data-testid":"read-more-less",onClick:I,children:h===n&&Object(d.translateWithI18Next)(l)||Object(d.translateWithI18Next)(c)}):Object(p.jsx)(p.Fragment,{})]}):Object(p.jsx)("div",{className:"desc-box",children:v})]})};function Y(e,t){return e(Object(s.Tc)(Object(s.yd)(t),j.a.BUNDLE_OPTIONS,j.a.MEAL_OPTIONS))}var z=a(14),K=a(957),q=a(54),J=a(918),Q=a(30);var X=e=>{let{showLegalInfo:t,isMobile:a}=e;const{LEGALINFOTEXT1:o,LEGALINFOTEXT2:i}=S.a;return t?Object(p.jsx)("div",{className:"".concat(a?"pdp-mobile-legal-info-container":"pdp-legal-info-container"),"data-testid":"pdp-legal-info",children:Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:"legal-info-desc",children:[Object(d.translateWithI18Next)(o),Object(p.jsx)("br",{}),Object(d.translateWithI18Next)(i)]})})}):Object(p.jsx)(p.Fragment,{})},Z=a(61),$=a(129),ee=a(930);const te=(e,t,a,o)=>{let i={combo:[],recommendation:[],addOnRecommendedItems:[],ruleName:{}};if(Object(s.kc)(e)){let n=e.find((e=>{let{recommendationType:a}=e;return a===t})),l=e.find((e=>{let{recommendationType:t}=e;return t===a}));i.combo=Object(s.Tc)(Object(s.Kd)(n),null===n||void 0===n?void 0:n.recommendedItems,[]),i.recommendation=Object(s.Tc)(Object(s.Kd)(l),null===l||void 0===l?void 0:l.recommendedItems,[]);let d=e.find((e=>{let{recommendationType:t}=e;return t===o}));i.ruleName=Object(N.r)(d),i.addOnRecommendedItems=Object(s.Tc)(Object(s.Kd)(d),null===d||void 0===d?void 0:d.recommendedItems,[])}return i},ae=(e,t,a,o)=>{var i,n;const{PDP_PRODUCT_MOBILE_IMG:l,PDP_PRODUCT_IMG:d}=j.a,c=Object(s.lc)(null===e||void 0===e?void 0:e.content,a.containerWidth,a.containerHeight);return null!==e&&void 0!==e&&null!==(i=e.content)&&void 0!==i&&null!==(n=i.image)&&void 0!==n&&n.mainImage?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(m.a,{srcFile:c,className:"".concat(Object(s.Tc)(t,l,d))})}):Object(p.jsx)(p.Fragment,{})},oe=(e,t,a,o,i,n,l,d,c,r,s)=>{i({type:o,value:Object(N.l)(e,t,a,n,l,d,c,r,s)})},ie=()=>Object(s.pf)(Object(d.translateWithI18Next)(null===S.a||void 0===S.a?void 0:S.a.PREFERENCES_ERROR_MSG)),ne=()=>Object(p.jsx)("div",{className:"pdp-custm-sopac",children:Object(p.jsx)("div",{className:"modal-body-row product-listing-component",children:Object(p.jsxs)("form",{className:"form",children:[Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})}),Object(p.jsx)("div",{className:"accordian-container",children:Object(p.jsx)("div",{className:"accordian-header",children:Object(p.jsx)("div",{className:"accordion placeholder",children:Object(p.jsx)("div",{className:"loading card-title shorter-m"})})})})]})})}),le=(e,t)=>{const{PDP_CUSTOMIZATION_PAGE:a,PDP_NON_CUSTOMIZATION_PAGE:o}=j.a,i=Object(s.db)(Object(s.yd)(e),!t)||t;return Object(s.Tc)(i,a,o)},de=(e,t,a,o,i,n)=>Object(s.kc)(t)?Object(p.jsx)(K.a,{products:t,country:null===o||void 0===o?void 0:o.country,cssClass:"pdp-combo",header:a,subHeader:"",recommendedRule:e,source:i,categoryId:n.categoryId}):null,ce=(e,t,a,o,i,n,l,d)=>{const{event:c,data:r,miniPDPData:u,totalAmount:v,cartId:m,pdpDataForUpdateFoodLine:b,cartData:O,storesWithStatus:j}=e;if(m&&c){const{paymentDiscountLines:a=[]}=O;null!==a&&void 0!==a&&a.length?(e=>{let{setCouponModal:t,parms:a,setAddToClickParms:o}=e;t(!0),o(a)})({setCouponModal:l,parms:e,setAddToClickParms:n}):(t(c,r,u,m,v,b,O),n({}))}else!m&&c&&(n(e),Object(s.A)(a,null===o||void 0===o?void 0:o.tenantId,i,j))},re=function(e,t,a,o,i){var n;let l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?i.length>=0:0===i.length;if((null===e||void 0===e||null===(n=e.discountLines)||void 0===n?void 0:n.length)>0&&(d||l))return t&&(null===e||void 0===e?void 0:e.discountLines.some((e=>e.couponCode===a)))&&Object(s.td)(o)},se=(e,t)=>{const{pdpData:a,isMobile:o,imageContainerSize:i,isPdpDataLoading:n,pdpbackgroundImageData:l,displayBreadcrumbPDP:d,currentPDPProduct:c,pdpSummaryView:r}=e;return Object(p.jsxs)("div",{className:"".concat(o?"pdp-mobile-image-container-sopac":"d-flex"),children:[Object(p.jsx)("div",{className:"".concat(o?"mobile-background-image-container":"image-container"),style:Object(s.ib)(l,i.containerWidth,i.containerHeight),children:ae(a,o,i)}),o&&Object(p.jsx)("div",{className:"pdp-mobile-navigation",children:Object(N.b)(d,null===t||void 0===t?void 0:t.allowHiddenMenuViaExternalUrl,c.isHidden)}),c.modgrps&&r()]})};t.a=e=>{var t,a,i,c,r,v,O,h,g,C,T,E,x,D,y,_,A;let{menuPDPItemData:R}=e;const{productDetails:L,tenantData:P,isMobile:w,displayBreadcrumbPDP:k,isIpad:F,product_name:H,isStoreClosed:W,prodName:B="",prodItems:Y=[],showLegalInfo:te,dispositionType:ae,prodURL:ue,imageContainerSize:ve,indulgentImageContainerSize:me,storeTimeZone:be,categoryName:Oe,categoryUrl:je,catalogs:pe,updatedFetchMenuPayload:he}=R,{ADD_TO_CART_CLICK:ge,DISPOSITION_DATA:Ie}=z.a,{CUSTM_EXPAND_TYPE:Se,CROSSELL:fe,PDP:Ne,IS_IN_STOCK:Ce,PDP_PAYLOAD_DATA:Te,RESET_MODGROUP_IDS_UPDATE:Ee,RESET_CUSTOMIZATION:xe,CUSTOMISE_FLAG_CART:De,SET_PDP_BUTTON_DISABLED:ye,SHOW_PDP_ALERT_POPUP:_e}=j.a,{RECOMMENDED_HEADER_TITLE:Ae,RECOMMENDED_HEADER_TITLE_CATERING:Re,ADD_TO_CART:Le,INDULDENT_ADD_ON_MSG:Pe,INDULDENT_ADD_ONS_HEADING:we,CONTINUE:Me}=S.a,[ke,Fe]=Object(o.useState)({}),[Ue,He]=Object(o.useState)(),[We,Be]=Object(o.useState)([]),[Ge,Ve]=Object(o.useState)([]),Ye=Object(l.c)((e=>e.tenantReducer)),{allowMultipleCoupon:ze}=Ye,[Ke,qe]=Object(o.useState)({}),{userOrderState:Je,userOrderStateDispatch:Qe}=Object(o.useContext)(f.a),{headerData:{pdpBackgroundImage:Xe={},pdpEventBackgroundImage:Ze={}}={}}=Object(l.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)||{}})),$e=Object(U.b)(u.b),{dispositionNew:et}=$e,tt=Object(s.Md)(null===et||void 0===et?void 0:et.type)?Ze:Xe,at=Object(s.hb)(tt),{pdpPayloadData:ot,isFromRecommendedSectionItemClick:it,pdpPromoPage:nt,pdpDataForUpdateFoodLine:lt}=Je,dt=Object(l.c)((e=>{let{menuReducer:{currentItemDetails:t}}=e;return t})),ct=Object(l.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),[rt,st]=Object(o.useState)({}),[ut,vt]=Object(o.useState)(0),[mt,bt]=Object(o.useState)(Ce),[Ot,jt]=Object(o.useState)({}),pt=Object(l.c)((e=>e.appStateReducer.userStatus)),{QUANTITY_ACTION:ht,EDIT_ITEM:gt}=q.a,It=Object(l.c)((e=>e.cartReducer)),{cartData:St={},isItemAdded:ft=!1}=Object(s.kd)(It),{storesWithStatus:Nt}=Object(l.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},Ct=Object(l.b)(),Tt=Object(Z.g)(),Et=null===P||void 0===P||null===(t=P.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(i=a.pdp)||void 0===i?void 0:i.showCrossSellSection,xt=null===P||void 0===P||null===(c=P.componentOptions)||void 0===c||null===(r=c.web)||void 0===r||null===(v=r.pdp)||void 0===v?void 0:v.plpRedirectionPromoItem,Dt=null===P||void 0===P||null===(O=P.componentOptions)||void 0===O||null===(h=O.web)||void 0===h||null===(g=h.pdp)||void 0===g?void 0:g.plpRedirectionWithaddOnItem,yt=null===St||void 0===St||null===(C=St.foodLines)||void 0===C?void 0:C.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id})),_t=(null===St||void 0===St||null===(T=St.foodLines)||void 0===T?void 0:T.length)>0&&(null===Ge||void 0===Ge?void 0:Ge.filter((e=>!yt.includes(e.id)))),At=(null===P||void 0===P||null===(E=P.componentOptions)||void 0===E||null===(x=E.web)||void 0===x||null===(D=x.pdp)||void 0===D?void 0:D.shouldFilterRecommendationListWithCartData)&&(null===St||void 0===St||null===(y=St.foodLines)||void 0===y?void 0:y.length)>0?_t:Ge,Rt=Object(o.useMemo)((()=>{var e;return Object($.b)(null===Tt||void 0===Tt||null===(e=Tt.location)||void 0===e?void 0:e.pathname)?Re:Ae}),[null===Tt||void 0===Tt||null===(_=Tt.location)||void 0===_?void 0:_.pathname]),Lt=Object(s.gd)(null===pt||void 0===pt?void 0:pt.localized,null===pt||void 0===pt?void 0:pt.loggedIn),{couponCode:Pt="",discountTotal:wt=""}=Object(s.vb)(St),[Mt,kt]=Object(o.useState)([]),[Ft,Ut]=Object(o.useState)(!1),Ht=Object(l.c)((e=>{var t;return null===(t=e.menuReducer)||void 0===t?void 0:t.isItemDetailsLoading})),[Wt,Bt]=Object(o.useState)({}),[Gt,Vt]=Object(o.useState)(!1),[Yt,zt]=Object(o.useState)({}),[Kt,qt]=Object(o.useState)(!1),Jt=JSON.parse(sessionStorage.getItem(I.Ke.INDULGENT_ADDONS_CART_CLICK)),Qt=Object(U.a)(),Xt=Object(U.b)(u.b),[Zt,$t]=Object(o.useState)(""),[ea,ta]=Object(o.useState)([]);Object(o.useEffect)((()=>(Qe({type:Se,value:"single"}),()=>{Fe({}),Qe({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!1})})),[]),Object(o.useEffect)((()=>{re(St,xt,Zt,Tt,Mt)}),[null===St||void 0===St?void 0:St.discountLines,Mt]),Object(o.useEffect)((()=>{let e={productDetails:L,currentItemObject:dt,prodURL:ue,product_name:H,pdpDataForUpdateFoodLine:lt,cartData:St,prodName:B,prodItems:Y,pdpPromoPage:nt,setPdpData:Fe,userOrderStateDispatch:Qe,setMakeItAComboData:Be,setRecommendationData:Ve,setAddOnRecommendedData:kt,setCurrentPDPProduct:qe,setProdQuantity:vt,setRuleName:zt,getPWAstorageData:Xt};Object(N.F)(e)}),[null===dt||void 0===dt?void 0:dt.id,L,nt]);const aa=(e,t,a)=>{a.preventDefault(),a.stopPropagation(),t===ht.Decrease&&ut>1&&(vt(ut-1),Vt(!0)),t===ht.Increase&&(vt(ut+1),Object(N.e)(ut,nt,ke,$e))},oa=(e,t,a,o,i,n,l)=>{e.stopPropagation(),e.preventDefault();ce({event:e,data:t,miniPDPData:a,cartId:o,totalAmount:i,pdpDataForUpdateFoodLine:n,cartData:l,storesWithStatus:Nt},ia,Ct,P,Je,Bt,qt)},ia=async(e,t,a,o,i,n,l)=>{var d,c,r,v;e.preventDefault();const m=(null===Nt||void 0===Nt||null===(d=Nt[0])||void 0===d||null===(c=d.summary)||void 0===c||null===(r=c.menu)||void 0===r||null===(v=r.catalogs)||void 0===v?void 0:v[0])||pe;if(Ct(Object(M.d)({tenantId:null===P||void 0===P?void 0:P.tenantId,catalogName:m},he)),sessionStorage.removeItem(I.Ke.INDULGENT_ADDONS_CART_CLICK,!0),pt.localized){let e=Object(N.m)(t),{id:d,modGrps:c,quantity:r}=e;if(jt({id:d,itemCount:r,totalAmount:i}),(null===a||void 0===a?void 0:a.flag)!==De){const t=$e[I.gd.VIEW_PRODUCT],a=null===t||void 0===t?void 0:t.couponCode;$t(a),a?(Ct(Object(Q.a)({params:{basketId:null===l||void 0===l?void 0:l.id},tenantId:null===P||void 0===P?void 0:P.tenantId},[{...e,isProductPromo:nt,categoryName:Oe,categoryUrl:je}],(()=>{Ct(Object(Q.b)({basketId:null===l||void 0===l?void 0:l.id,tenantId:null===P||void 0===P?void 0:P.tenantId},{couponCode:a}));let e={};e[a]=a,localStorage.setItem(I.gd.ADD_TO_ORDER,JSON.stringify(e)),Qe({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),vt(Object(N.t)(nt,null===ke||void 0===ke?void 0:ke.id,n,l,$e)),!ze&&Object(s.hf)({key:_e,value:!0},Qt)}))),vt(Object(N.t)(nt,null===ke||void 0===ke?void 0:ke.id,n,l,$e))):(ta(Je),await Ct(Object(Q.a)({params:{basketId:o},tenantId:null===P||void 0===P?void 0:P.tenantId},[{...e,categoryName:Oe,categoryUrl:je}])),vt(1)),Ut(!0)}else Ct(Object(Q.y)({params:{basketId:o,basketLineItemId:null===a||void 0===a?void 0:a.foodLineId},tenantId:null===P||void 0===P?void 0:P.tenantId},{Id:d,quantity:r,modGrps:c,isProductPromo:null===a||void 0===a?void 0:a.isProductPromo,categoryName:Oe,categoryUrl:je},(()=>{Qt(Object(u.d)({key:I.gd.CUSTOMISE_ITEM_CART,value:!0})),null===Tt||void 0===Tt||Tt.push({pathname:I.Ae.CART})})));window.scrollTo(0,0)}else Qe({type:Ie,value:{showDisposition:!0}}),Qe({type:ge,value:{addToCart:!0,productItemId:null===L||void 0===L?void 0:L.productId,categoryId:null===L||void 0===L?void 0:L.categoryId,oldProduct:null===L||void 0===L?void 0:L.productInfo,customizable:null===L||void 0===L?void 0:L.customizable,catalogs:null===L||void 0===L?void 0:L.catalogName,fromPdpPage:!0}})};Object(o.useEffect)((()=>{!Jt&&(e=>{var t,a;const{flatResponseData:o,analyticObjectData:i,tenantData:n,couponCode:l,discountTotal:d,isFromRecommendedSectionItemClick:c,isItemAdded:r,userType:u,modifierData:v}=e,m=null===v||void 0===v||null===(t=v.dispositionStateData)||void 0===t?void 0:t.dispositionType,b=null===o||void 0===o||null===(a=o.itemMapById)||void 0===a?void 0:a[null===i||void 0===i?void 0:i.id],{name:O="",availability:j,id:p,categoryName:h,categoryId:g}=Object(s.kd)(b),S=Object(s.Qb)(j);if(r){let{baseItemsCstmz:e,saucesCstmz:t,sidesCstmz:a,drinksCstmz:o,customizedPrice:b}=Object(s.E)(v);e=Object(s.ke)(e),t=Object(s.ke)(t),a=Object(s.ke)(a),o=Object(s.ke)(o);const j=[{item_name:O,item_id:p,price:Object(s.W)(null===S||void 0===S?void 0:S.price,b,null===n||void 0===n?void 0:n.currencyConversionFactor),coupon:l,currency:null===n||void 0===n?void 0:n.currencyShortName,discount:Object(s.g)(d,null===n||void 0===n?void 0:n.currencyConversionFactor),item_category:h,item_list_name:Object(s.Tc)(c,I.p.PDP_UPSELL,h),item_list_id:g,index:0,quantity:null===i||void 0===i?void 0:i.itemCount,originalPrice:Object(s.yc)(S,null===n||void 0===n?void 0:n.currencyConversionFactor).toString(),baseItemsCustomisation:e,saucesCustomisation:t,sidesCustomisation:a,drinksCustomisation:o}];Object(s.ob)(c,Object(s.yd)(localStorage.getItem(I.gd.DISPOSITION_TYPE)),Object(s.Ad)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.Xd)(localStorage.getItem(I.gd.DISPOSITION_TYPE))||Object(s.Md)(localStorage.getItem(I.gd.DISPOSITION_TYPE)))&&Object(N.a)(r,i,u,j,l,m,null===n||void 0===n?void 0:n.currencyShortName)}})({flatResponseData:ct,analyticObjectData:Ot,tenantData:P,couponCode:Pt,discountTotal:wt,isFromRecommendedSectionItemClick:it,isItemAdded:ft,userType:Lt,modifierData:ea})}),[ct,Ot,P,Pt,wt,it,ft,Lt,Jt]),Object(o.useEffect)((()=>{st({flatResponseData:ct,analyticObjectData:Ot,tenantData:P,couponCode:Pt,discountTotal:wt,isFromRecommendedSectionItemClick:it,isItemAdded:ft,userType:Lt})}),[Gt]);const na=e=>{let t=Object(p.jsx)(m.a,{srcFile:null===b.a||void 0===b.a?void 0:b.a.tickWhiteToast});Object(s.qf)(Object(d.translateWithI18Next)(Pe),t,"pdp-indulgent-toast pdp-modal-toast");let a=Mt.filter((t=>!e.includes(null===t||void 0===t?void 0:t.id)));kt(a),(null===Mt||void 0===Mt?void 0:Mt.length)<=0&&Ut(!1)},la=()=>{Ut(!1),re(St,xt,Zt,Tt,Mt,Dt,!0)};Object(o.useEffect)((()=>{let e={pdpData:ke,prodQuantity:ut,tenantData:P,PDP_PAYLOAD_DATA:Te,userOrderStateDispatch:Qe,pdpPromoPage:nt,storeTimeZone:be,pdpDataForUpdateFoodLine:lt,cartData:St,getPWAstorageData:Xt};Object(N.h)(e)}),[JSON.stringify(ke),P.currencyConversionFactor,nt,ut,be]),Object(o.useEffect)((()=>{Object(N.i)(ot,ut,null===ke||void 0===ke?void 0:ke.id,Qe),Qe({type:j.a.CART_MODIFIED_DATA,value:ot})}),[ut,ot]),Object(o.useEffect)((()=>{var e,t;ft&&(Qe({type:xe}),Qe({type:Ee}),oe(ke,1,P.currencyConversionFactor,Te,Qe,nt,be,lt,St,Xt,null===P||void 0===P||null===(e=P.componentOptions)||void 0===e||null===(t=e.pdp)||void 0===t?void 0:t.enableDefaultModifierCalculation));Qe({type:ye,value:{}})}),[ft,null===ke||void 0===ke?void 0:ke.catalogName]),Object(o.useEffect)((()=>{ce({...Wt,cartId:null===St||void 0===St?void 0:St.id,cartData:St,pdpDataForUpdateFoodLine:lt,storesWithStatus:Nt},ia,Ct,P,Je,Bt)}),[null===St||void 0===St?void 0:St.id]);const da={pdpData:ke,isMobile:w,imageContainerSize:ve,isPdpDataLoading:Ht,pdpbackgroundImageData:at,displayBreadcrumbPDP:k,currentPDPProduct:Ke,pdpSummaryView:()=>Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(G,{pdpData:ke,storeTimeZone:be,isMobile:w,isIpad:F,addtoCartClinckHandler:oa,customModGrps:Ue,categoryId:L.categoryId,comboData:null===We||void 0===We?void 0:We.length,itemStatus:mt,prodQuantity:ut,setProdQuantity:vt,quantityUpdate:aa,setItemStatus:bt,isItemDecreased:Gt,quantityRemovedObject:rt,isStoreClosed:W,imageContainerSize:ve,pdpbackgroundImageData:at,"data-testid":"add-to-cart-handler"})})};return Object(s.Kd)(ke)&&Object(s.Kd)(Ke)&&Object(s.Kd)(P)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"grid-container",children:[!w&&Object(p.jsx)("div",{className:"pdp-navigation pdp-navigation-sopac",id:"pdp-navigation-sopac",children:Object(N.b)(k,null===P||void 0===P?void 0:P.allowHiddenMenuViaExternalUrl,Ke.isHidden)}),Object(p.jsx)("div",{className:"".concat(Object(s.Tc)(w,"pdp-mobile-container ","pdp-details-container-sopac")),children:se(da,P)})]}),Object(p.jsx)("div",{style:{backgroundColor:"white"},children:Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{"data-testid":"pdp-desc-container",className:"pdp-desc-container-sopac ".concat(Object(s.Tc)(w,"mobile","")),children:!!Object(s.Kd)(Ke)&&Object(p.jsx)("div",{className:"d-flex",children:Object(p.jsx)(V,{longDescription:null===Ke||void 0===Ke||null===(A=Ke.content)||void 0===A?void 0:A.longDescription,isMobile:w,dispositionType:ae})})}),Object(s.db)(Object.prototype.hasOwnProperty.call(ot,"id"),void 0!==W)&&Object(p.jsx)("div",{className:"".concat(j.a.PDP_CUSTOM_CONTAINER," ").concat(Object(s.db)(w,I.Ve)),children:Object(p.jsx)("div",{className:"d-flex",children:Ht&&Object(p.jsx)(ne,{})||Object(p.jsx)(n.a,{testId:"menu-pdp-customization-container-test",data:Ke,isModal:!1,showPriceContent:!1,isMobile:w,customizable:ke.customizable,localized:pt.localized,isStoreClosed:W,callBackToPDP:e=>{const{modifierGrp:t={}}=e;He(t)},catalog:ke.catalogName,categoryId:L.categoryId,importPath:le(ae,ke.customizable)})})}),Object(p.jsx)(X,{showLegalInfo:te,isMobile:w}),Object(s.db)(Et,(null===At||void 0===At?void 0:At.length)>0)&&(ca=At,ra=Rt,sa="",ua="pdp-recommendations",Object(p.jsx)(K.a,{products:ca,country:null===P||void 0===P?void 0:P.country,cssClass:ua,header:ra,subHeader:sa,recommendedRule:fe,source:Ne,categoryId:L.categoryId})),(null===Mt||void 0===Mt?void 0:Mt.length)>0&&Object(p.jsx)("div",{className:"cart-addon-container-desktop pdp-addon-modal",children:Object(p.jsx)(ee.a,{isMobile:w,openIndulgentModal:Ft,handleClose:la,removeItemCart:!1,IndulgentData:Mt,imageContainerSize:me,modalTitle:we,continueButtonText:Me,toastMassage:Pe,callBackMethod:na,productId:null===L||void 0===L?void 0:L.productId,ruleNameDetails:Yt,"data-testid":"indulgetAddon-modal",addToCart:Le,errorBackMethod:ie})})]})}),de(fe,We,Object(d.translateWithI18Next)(Rt),P,Ne,L),Kt&&Object(p.jsx)(J.a,{addtoCartClinckHandler:ia,setCouponModal:qt,setAddToClickParms:Bt,addToClickParms:Wt,flag:gt})]}):Object(p.jsx)("div",{className:"d-flex justify-content-center no-results-section"});var ca,ra,sa,ua}},953:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var o=a(3),i=a(61),n=a(25),l=a(2);var d=e=>{const{className:t,clickNextCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"next button","data-testid":"next-button-handler-sopac"})};var c=e=>{const{className:t,clickPrevCard:a=null}=e;return Object(l.jsx)("div",{className:t,onClick:()=>{a()},tabIndex:"0","aria-label":"previous button","data-testid":"prev-button-handler-sopac"})},r=a(948),s=a(30),u=a(76),v=a(14),m=a(5),b=a(22),O=a(0),j=a(190),p=a(900),h=a(919);var g=e=>{var t,a,o;const{cardRenderer:i,productList:n,carousal:d,header:c="",subHeader:r="",settings:s,maxLengthToScroll:u,slidesToShow:v,rangeValue:b,onUpdateRange:O,showProductListingModal:j,isMobile:g,recommendedRule:I,flagUpsellCrossell:S,tenantData:f}=e,N=null===f||void 0===f||null===(t=f.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(o=a.pdp)||void 0===o?void 0:o.shouldShowRecommendationCardCount;return Object(l.jsxs)(l.Fragment,{children:[Boolean(null===n||void 0===n?void 0:n.length)&&Object(l.jsxs)("div",{className:Object(m.c)(),"data-testid":"recommendedCard-container-test",children:[Object(l.jsxs)("div",{className:"recommendedContainerHeader-items",children:[Object(l.jsxs)("div",{className:r?"pdp-carousal-header":"recommendedContainer-header",children:[Object(l.jsx)("span",{className:"main-header",children:c}),r&&Object(l.jsx)("span",{className:"sub-header",children:r})]}),N&&Object(l.jsxs)("span",{className:"count_box",children:[Math.round(b+1),"/",n.length]})]}),Object(l.jsxs)("div",{className:"recommendedCard-list",children:[Object(l.jsx)("div",{className:"recommendedCarousal-list",children:Object(l.jsx)(p.b,{settings:s,carousalRef:d,children:i()})}),n.length>u&&Object(l.jsx)("div",{className:"recommended-slideContainer",children:Object(l.jsx)("input",{className:"recommended-slider",type:"range",min:"0",max:n.length-v,value:b,id:"myRange","data-testid":"myRange",onChange:O})})]})]}),Object(m.db)(j,I===S)&&Object(l.jsx)("div",{className:"pdp-custm-container ".concat(g?"mobile":""),children:Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)(h.a,{})})})]})},I=a(930),S=a(901),f=a(925),N=a(961),C=a(69),T=a(110);const{PLP_PDP_DETAILS:E}=v.a,{PDP:x}=j.a,D=(e,t,a)=>{let o="recommended-card recommended-card-sopac";return e===t+a&&(o+=" recommendedCard-fade"),o};t.b=e=>{var t,a,v,p,h;const{PDP_RECOMMENDATIONS:y,CAROUSAL_CONFIG:_,CONTENT_DATA_MAX_LENGTH_TO_SCROLL:A,FADE_CARD_INDEX:R}=N.a,{SPEED:L,SLIDES_TO_SHOW:P,SLIDES_TO_SCROLL:w}=_,{PDP_SLIDES_TO_SHOW:M,PDP_CONTENT_DATA_MAX_LENGTH_TO_SCROLL:k,PDP_SLIDES_TO_SHOW_1024:F}=y,{products:U,storeClosedData:H,header:W="",subHeader:B="",cssClass:G="",recommendedRule:V,source:Y=""}=e,[z,K]=Object(o.useState)(0),[q,J]=Object(o.useState)(0),Q=Object(o.useRef)(null),[X,Z]=Object(o.useState)(Object(m.Ud)(window.innerWidth)),[$,ee]=Object(o.useState)(Object(m.Sd)()),{userOrderState:te,userOrderStateDispatch:ae}=Object(o.useContext)(u.a),oe=Object(n.b)(),ie=Object(T.a)(),{maxLengthToScroll:ne,slidesToShow:le}=((e,t,a,o,i,n,l)=>({maxLengthToScroll:"pdp-recommendations"===e||"pdp-combo"===e?n:a,slidesToShow:"pdp-recommendations"===e||"pdp-combo"===e?t&&l||o:i}))(G,$,A,M,P,k,F),{dispositionStateData:de=O.bg}=te,{dispositionType:ce=localStorage.getItem("dispositionType")}=de,[re]=Object(o.useState)(),se=Object(i.g)(),{tenantReducer:ue,cartReducer:ve,userParams:me}=Object(n.c)((e=>({tenantReducer:Object(m.kd)(e.tenantReducer),cartReducer:Object(m.kd)(e.cartReducer),userParams:Object(m.kd)(e.appStateReducer.userStatus)}))),{cartData:be={}}=Object(m.kd)(ve),{showProductListingModal:Oe=!1}=Object(m.kd)(ve),je=Object(i.h)(),{PlpProductCard:pe=O.bg}=(null===ue||void 0===ue?void 0:ue.componentOptions)||O.bg,he=Object(m.Jd)(te.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):te.dispositionNew,ge=he?he.store:O.bg,Ie=(null===ge||void 0===ge||null===(t=ge.summary)||void 0===t||null===(a=t.menu)||void 0===a||null===(v=a.catalogs)||void 0===v?void 0:v.length)&&(null===ge||void 0===ge||null===(p=ge.summary)||void 0===p||null===(h=p.menu)||void 0===h?void 0:h.catalogs[0])||(null===ue||void 0===ue?void 0:ue.genericMenuName)||"",Se=null===U||void 0===U?void 0:U.filter((e=>!e.isHidden)),fe=Y===x?Se:null===Se||void 0===Se?void 0:Se.filter((e=>{let t=b.b.channel,a=(e=>{let t=O.ee;return e===O.Bb&&(t=O.yb),e===O.Fb&&(t=O.Eb),t})(ce);return e.channel===t&&e.service===a})),{headerData:{pdpBackgroundImage:Ne={}}={}}=Object(n.c)((e=>{var t;return Object(m.kd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),Ce=Object(m.hb)(Ne),{showCartAlert:Te}=Object(f.a)(void 0,void 0,void 0,void 0,ae,oe,void 0),Ee=()=>{Te(!0)},xe={dots:!1,infinite:!1,speed:L,slidesToShow:le,slidesToScroll:w,arrows:!0,adaptiveHeight:!1,autoplay:!1,variableWidth:!0,responsive:N.b},De=()=>{const e=Object(m.Ud)(window.innerWidth),t=Object(m.Sd)();Z(e),ee(t)};Object(o.useEffect)((()=>{window.addEventListener("resize",De)}),[X]);const ye={...xe,nextArrow:Object(l.jsx)(d,{clickNextCard:()=>{if(q<fe.length-1){let e=0;e=q+w>fe.length-le-1?fe.length-le:q+w,Object(I.b)(e),J(e),Q.current.slickGoTo(e)}}}),prevArrow:Object(l.jsx)(c,{clickPrevCard:()=>{q>0&&(J(q-w),Q.current.slickGoTo(q-w)),Object(I.b)(q-w)}}),beforeChange:(e,t)=>K(t),afterChange:(e,t)=>J(e)},_e=Object(n.c)((e=>{let{menuReducer:t}=e;return null===t||void 0===t?void 0:t.currentItemDetails}));Object(o.useEffect)((()=>{let e=Object(m.Wc)(_e,te);Object(m.db)(e,re===V)&&oe(Object(s.v)({showProductListingModal:!0,categorySelected:""}))}),[_e,te.minipdpData.itemId,te.cartEditClicked]),Object(o.useEffect)((()=>{Oe&&oe(Object(s.v)({showProductListingModal:!1,categorySelected:""}))}),[je]);const Ae=(e,t,a,o,i)=>{var n,l,d;e.preventDefault(),e.stopPropagation(),null===(n=window)||void 0===n||n.scrollTo(0,0);let c={productId:t,customizable:a,categoryId:o,catalogName:Ie,productInfo:i,isFromPlp:!0};const r=fe.map((e=>e.id)).indexOf(t),{categoryURL:s,productPrice:u,productName:v}=i;ae({type:E,value:c}),ae({type:j.a.PDP_DATA_FOR_UPDATE_FOODLINE,value:{id:"",flag:"",foodLineId:""}});const{localized:b=!1,loggedIn:p=!1}=Object(m.kd)(me),h=Object(m.gd)(b,p),g=Object(m.Db)(be),{couponCode:I="",amount:f=""}=Object(m.kd)(g),N=[{item_name:null===(l=v[0])||void 0===l?void 0:l.value,item_id:t,price:u,coupon:I,discount:f,currency:O.p.AUD,item_category:s&&s[0],item_list_name:O.p.PDP_UPSELL,item_list_id:O.p.SR_VALUE,index:r,quantity:1}];Object(S.b)(h,N),localStorage.setItem(O.gd.PRODUCT_DETAILS,JSON.stringify(c)),ae({type:j.a.RECOMMENDED_SECTION_ITEM_CLICK,isFromRecommendedSectionItemClick:!0}),ae({type:j.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!1}}),ie(Object(C.c)({key:O.gd.VIEW_PRODUCT})),se.push({pathname:Object(m.sc)(i.categoryURL,i.prodURL,null===se||void 0===se||null===(d=se.location)||void 0===d?void 0:d.pathname)})},Re=((e,t)=>{var a,o;const i=null===e||void 0===e||null===(a=e.foodLines)||void 0===a?void 0:a.map((e=>{var t;return null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id}));return(null===e||void 0===e||null===(o=e.foodLines)||void 0===o?void 0:o.length)>0?null===t||void 0===t?void 0:t.filter((e=>!i.includes(e.id))):t})(be,fe),Le=e=>"False"!==e&&e;return Boolean(null===fe||void 0===fe?void 0:fe.length)&&Object(l.jsx)(g,{cardRenderer:()=>null===Re||void 0===Re?void 0:Re.map(((e,t)=>{var a;const o=Object(m.jd)(e.additionalProperties),i=o.length&&o.reduce(((e,t)=>{let{key:a,value:o}=t;return{...e,[a]:"True"===o||Le(o)}}),O.bg);return Object(l.jsx)("div",{className:D(t,q,R),children:Object(l.jsx)(r.a,{item:e,cardId:e.id,cardType:"medium",RecommendationCardItem:!0,cardFor:"recommended",configureOptions:pe,tenantData:ue,servingCount:null===i||void 0===i?void 0:i.servings,button:e.button,categoryId:e.categoryUrl,customizable:e.customizable,onCardClickHandler:Ae,userParams:me,dName:e.dname,prodURL:e.url,storeClosedData:H,"data-testid":"menu-card-component",openAlertModal:Ee,serves:null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.serves,recommImageSizeFlag:!0,plpbackgroundImageData:Ce,...i,...e,productContent:null===e||void 0===e?void 0:e.content},e.id)})})),productList:[...Re],carousal:Q,header:W,subHeader:B,settings:ye,maxLengthToScroll:ne,slidesToShow:le,rangeValue:z,onUpdateRange:e=>{K(e.target.value),Q.current.slickGoTo(e.target.value),Object(I.b)(e.target.value)},showProductListingModal:Oe,isMobile:X,tenantData:ue,flagUpsellCrossell:re,...e})}},954:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(73),d=a.n(l),c=a(989),r=a.n(c),s=a(214),u=a(5),v=a(6),m=a(4),b=a(137),O=a(121),j=a(43),p=a(62),h=a(942),g=a(15),I=a(338),S=a(177),f=a(0),N=a(18),C=a.n(N),T=a(2);var E=e=>{const{nutritionalDetails:t,onClickServehandler:a,onClickGramHandler:o,showPerGram:l,showPerServe:d}=e,c=localStorage.getItem(null===f.gd||void 0===f.gd?void 0:f.gd.USER_LANGUAGE),r=Object(n.c)((e=>e.tenantReducer)),s=null===r||void 0===r?void 0:r.showPer100gTab;return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsxs)("div",{className:"nutrition-header-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:Object(v.translateWithI18Next)(m.a.NUTRITION)}),Object(T.jsxs)("div",{className:"nutrition-value",children:[Object(T.jsx)("div",{className:"nutrition-value-serve",children:Object(T.jsx)("button",{"data-testid":"per_serve_handler",type:"button",className:"per-serve"+(d&&!l?" activeServe":""),onClick:a,children:Object(v.translateWithI18Next)(m.a.PER_SERVE)})}),s&&Object(T.jsx)("div",{className:"nutrition-value-gram",children:Object(T.jsx)("button",{"data-testid":"per_gram_handler",type:"button",className:"per-gram"+(l&&!d?" activeGram":""),onClick:o,children:Object(v.translateWithI18Next)(m.a.PER_GRAM)})}),Object(T.jsx)("div",{})]})]}),Object(T.jsx)("div",{className:"nutrition-details-global",children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:((null===e||void 0===e?void 0:e.nutritionComponent)!==S.a&&l||d)&&(null===e||void 0===e?void 0:e.isActive)&&Object(T.jsxs)("div",{className:"nutrition-name-amoumt-details",children:[l&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.gramWiseValue)}),d&&Object(T.jsx)("div",{className:"nutrition-amount-global",children:Object(I.j)(e,null===e||void 0===e?void 0:e.serveWiseValue)}),Object(T.jsxs)("div",{className:"nutrition-name-unit-global",children:[Object(T.jsx)("div",{className:"nutrition-name-global",children:"en"===(null===c||void 0===c?void 0:c.slice(0,2))||C()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.nutritionComponent:null===e||void 0===e?void 0:e.translationValue}),Object(T.jsxs)("div",{className:"nutrition-unit-global",children:["(",(null===e||void 0===e?void 0:e.nutritionUnit)===b.a.KJ_TEXT?Object(v.translateWithI18Next)(m.a.KJ):null===e||void 0===e?void 0:e.nutritionUnit,")"]})]})]})})))})]})},x=a(212),D=a(61);const y=e=>{const{allergenDetails:t,customizable:a,handleCloseModal:o,source:n}=e,l=localStorage.getItem(null===f.gd||void 0===f.gd?void 0:f.gd.USER_LANGUAGE);let d=Object(D.g)();const c=Object(T.jsx)("div",{className:"non-ala-carte-notification",children:Object(T.jsxs)("div",{className:"notification-alert",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Yellow,className:"non-ala-carte-alert-icon"}),Object(T.jsxs)("div",{className:"non-ala-carte-alert-text","data-testid":"navigation-click-testId",onClick:()=>(n===b.a.SOURCE&&o(),void Object(u.Oe)(d)),children:[Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_TEXT)}),Object(T.jsx)("span",{className:"non-ala-carte-alert-link-text",children:Object(T.jsx)(x.a,{className:"non-ala-carte-alert-link","data-testid":"non-ala-carte-alert-link-info",children:Object(v.translateWithI18Next)(m.a.NON_ALA_CARTE_ALERT_LINK)})})]})]})}),r=Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"allergen-information",children:[Object(T.jsxs)("div",{className:"allergen-notify-present",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Red,className:"alert-icon"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_PRESENT_DETAILS)})]})]}),Object(T.jsxs)("div",{className:"allergen-notify-trace",children:[Object(T.jsx)(j.a,{srcFile:g.a.Error_Black,className:"alert-icon-trace"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:"allergen-text",children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_TEXT)}),"\xa0",Object(T.jsx)("span",{children:Object(v.translateWithI18Next)(m.a.ALLERGEN_TRACE_DETAILS)})]})]})]}),Object(T.jsx)("div",{className:"allergen-details-global",children:Object(T.jsx)("table",{children:null===t||void 0===t?void 0:t.map((e=>Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{className:"allergen-component",children:"en"===(null===l||void 0===l?void 0:l.slice(0,2))||C()(null===e||void 0===e?void 0:e.translationValue)?null===e||void 0===e?void 0:e.allergenComponent:null===e||void 0===e?void 0:e.translationValue}),(null===e||void 0===e?void 0:e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Red})}),(null===e||void 0===e?void 0:e.isTrace)&&Object(T.jsx)("td",{className:"allergen-icon-trace",children:Object(T.jsx)(j.a,{srcFile:g.a.Error_Black})}),!(null!==e&&void 0!==e&&e.isTrace)&&!(null!==e&&void 0!==e&&e.isPresent)&&Object(T.jsx)("td",{className:"allergen-icon-text",children:Object(v.translateWithI18Next)(m.a.NOT_APPLICABLE)})]})})))})})]});return Object(T.jsxs)(i.a.Fragment,{children:[Object(T.jsx)("div",{className:"allergen-header-global",children:Object(T.jsx)("div",{className:"allergen-name-global",children:Object(v.translateWithI18Next)(m.a.ALLERGEN)})}),a?c:r]})};var _=i.a.memo(y),A=a(37),R=a.n(A);t.a=e=>{var t;const{isMobile:a,summaryData:i,source:l}=e,{nutritionalDetails:c,allergenDetails:I,customizable:S,pdpCardObject:f,calories:N,nutritionDetails:C,servesCount:x,kilojoule:D,imageName:{hideAllergenInformation:y,hideNutritionInformation:A}}=i,{dName:L}=f,{showNutritionAllergenModal:P,handleCloseModal:w}=C,{imageName:M,imageContainerSize:k,pdpbackgroundImageData:F}=i,U=Object(n.b)();Object(o.useEffect)((()=>{U(Object(h.a)({object:Object(p.a)(),contentFull:{content_type:"supportContent",include:"5","fields.title":"NutritionAllergenDisclaimer"}}))}),[U]);let H=null;const W=Object(n.c)((e=>({nutritionAllergenDisclaimerContent:R()(e,b.a.NUTRITION_ALLERGEN_ACTION_RESPONSE,null)})));var B,G,V,Y,z,K;Object(u.Kd)(null===W||void 0===W?void 0:W.nutritionAllergenDisclaimerContent)&&(H=null===W||void 0===W||null===(B=W.nutritionAllergenDisclaimerContent)||void 0===B||null===(G=B.nutritionAllergenDisclaimerResp)||void 0===G||null===(V=G.items[0])||void 0===V||null===(Y=V.fields.content[0])||void 0===Y||null===(z=Y.fields)||void 0===z||null===(K=z.richText)||void 0===K?void 0:K.content);const[q,J]=Object(o.useState)(!0),[Q,X]=Object(o.useState)(!1),[Z,$]=Object(o.useState)(!1),{tenantReducer:ee}=Object(n.c)((e=>({tenantReducer:e.tenantReducer||{}}))),te={id:"NutritionAllergenModal",role:"dialog",modalTitleId:"NutritionAllergen-Modal-id",show:P,classNames:"Base-modal  NutritionAllergen-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:w,modalTitle:Object(v.translateWithI18Next)(m.a.NUTRITION_ALLERGEN_INFORMATION),modalTitleRequired:!0,closeDataTestId:"close-modal",autoFocus:!0};return d.a.createPortal(Object(T.jsx)(O.a,{...te,children:Object(T.jsxs)("div",{className:"nutrition-allergen-container-global",children:[Object(T.jsx)("div",{className:"nutrion-allergen-image-container",style:Object(u.ib)(F,k.containerWidth,k.containerHeight),children:Object(T.jsx)(j.a,{"data-testid":"",className:"nutrition-allergen-card-image-global",defaultPath:Object(u.Xb)(null,ee,!0),srcFile:Object(u.lc)(M,k.containerWidth,k.containerHeight)})}),Object(T.jsxs)("div",{className:"nutrition-allergen-details-section",children:[Object(T.jsxs)("div",{className:"product-details-header",children:[Object(T.jsx)("div",{className:"d-flex strips-icon",children:Object(T.jsx)(j.a,{srcFile:a?g.a.StripsIconMobile:g.a.StripesIcon,className:"stripes-img"})}),Object(T.jsx)("div",{className:"product-name",children:L}),Object(T.jsx)("div",{className:"kj-info-details",children:N&&Object(T.jsxs)("span",{className:"kj-info",children:["".concat(N," ").concat(D)," \xa0 ",(e=>!!e&&"".concat(Object(v.translateWithI18Next)(null===m.a||void 0===m.a?void 0:m.a.SERVES)," ").concat(e))(x)]})})]}),Object(T.jsxs)("div",{className:"nutrition-allergen-list-global",children:[!A&&Object(T.jsx)(E,{nutritionalDetails:c,onClickServehandler:function(e){e.preventDefault(),J(!0),X(!1)},onClickGramHandler:function(e){e.preventDefault(),X(!0),J(!1)},showPerGram:Q,showPerServe:q}),!y&&Object(T.jsx)(_,{allergenDetails:I,customizable:S,handleCloseModal:w,source:l}),Object(T.jsx)("div",{className:"disclaimer-section ".concat(Z?"disclaimer-section-open":""),children:Object(T.jsxs)("div",{className:"global-accordian-container","data-testid":"global-accordian",children:[Object(T.jsx)("div",{className:"global-accordian-header-container ".concat(Z?"active":""),onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!Z)},"data-testid":"disclaimer-handle",children:Object(T.jsx)("span",{className:"global-accordian-header",children:Object(v.translateWithI18Next)(m.a.DISCLAIMER)})}),Z&&Object(T.jsx)("div",{className:"global-accordian-content",children:Object(T.jsx)("div",{className:"disclaimer-content",children:null===(t=H)||void 0===t?void 0:t.map((e=>Object(T.jsx)("ul",{dangerouslySetInnerHTML:{__html:r.a.sanitize(Object(s.documentToHtmlString)(e))},className:"protected-accordian-answer"})))})})]})})]})]})]})}),document.getElementById("modal-popups"))}},955:function(e,t,a){"use strict";a.d(t,"b",(function(){return W})),a.d(t,"c",(function(){return B}));var o=a(3),i=a(6),n=a(43),l=a(213),d=a(5),c=a(321),r=a(25),s=a(898),u=a(4),v=a(172),m=a(0),b=a(15),O=a(76),j=a(110),p=a(69),h=a(122),g=a(30),I=a(14),S=a(190),f=a(317),N=a(903),C=a(899),T=a(54),E=a(926),x=a(324),D=a(319),y=a(2);const _=(e,t)=>{const{configureOptions:a,servingCount:o,getVegNonvegClassName:n,cardType:l,veg:c}=e,{showVegOrNonVeg:r}=a;return r&&Object(y.jsxs)("span",{className:n(l),children:[Object(d.db)(t,Object(y.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(d.Tc)(!c,null===b.a||void 0===b.a?void 0:b.a.Non_veg_dot_Icon,null===b.a||void 0===b.a?void 0:b.a.Veg_dot_Icon)})),Object(d.db)(!t,Object(d.Tc)(!c,Object(i.translateWithI18Next)(null===v.MENU_PLP_CONSTANT||void 0===v.MENU_PLP_CONSTANT?void 0:v.MENU_PLP_CONSTANT.MENU_CARD.NON_VEG),Object(i.translateWithI18Next)(null===v.MENU_PLP_CONSTANT||void 0===v.MENU_PLP_CONSTANT?void 0:v.MENU_PLP_CONSTANT.MENU_CARD.VEG))),Object(d.db)(o,Object(y.jsx)("span",{className:"Dot"})),v.MENU_PLP_CONSTANT.MENU_CARD.SERVES,o]})},A=(e,t,a)=>{const{classFavouriteIconActive:o,classFavouriteIconInActive:i,favouriteItems:n,favouriteButtonClickHandler:l,cardId:c,getCardName:r,item:s,cardType:u,configureOptions:v}=t;if(null!==e&&void 0!==e&&e.loggedIn&&null!==v&&void 0!==v&&v.showAddToFav)return Object(y.jsxs)("picture",{children:[Object(y.jsx)("source",{media:"(max-width: 1023px)",srcSet:Object(d.Tc)("small-menu-product-card"===r,Object(d.Tc)(Array.isArray(n)&&n.find((e=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),o(u),i(u)),Object(d.Tc)(Array.isArray(n)&&n.find((e=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),null===b.a||void 0===b.a?void 0:b.a.heartIcon_active_red,null===b.a||void 0===b.a?void 0:b.a.heartIcon_inactive_red)),alt:"",className:"menu-product-save ".concat(a),"data-testid":"fav-item-source",onClick:()=>l()}),Object(y.jsx)("source",{media:"(min-width: 1023px)",srcSet:Object(d.Tc)(Array.isArray(n)&&n.find((e=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))),null===b.a||void 0===b.a?void 0:b.a.heartIcon_active,null===b.a||void 0===b.a?void 0:b.a.FavoriteInActiveWhite),alt:"",className:"menu-product-save ".concat(a),"data-testid":"fav-item-largeScreen",onClick:()=>l()}),Object(y.jsx)("img",{src:Object(d.db)(Array.isArray(n),null===n||void 0===n?void 0:n.find((e=>(null===e||void 0===e?void 0:e.id)===(null===s||void 0===s?void 0:s.id))))?o(u):i(u),alt:"",className:"menu-product-save ".concat(a),"data-testid":"save-product-".concat(c),onClick:()=>l()})]})},R=(e,t)=>e&&Object(y.jsx)("img",{className:"menu-vegOrNonVeg-icon",alt:"",src:Object(d.Tc)(!t,null===b.a||void 0===b.a?void 0:b.a.Non_veg_dot_Icon,null===b.a||void 0===b.a?void 0:b.a.Veg_dot_Icon)}),L=(e,t,a)=>{var o;const{productContent:i,cardType:n,menuProductDescriptionClassName:l}=t,d=null===i||void 0===i?void 0:i.shortDescription;return e&&Object(y.jsx)("div",{className:l(n),id:"longDescription",children:d||(null===a||void 0===a||null===(o=a[0])||void 0===o?void 0:o.value)})},P=(e,t,a,o)=>{var i,n,l;const d=null===o||void 0===o?void 0:o.maxItemCountPerLineItem,c=null===o||void 0===o||null===(i=o.componentOptions)||void 0===i||null===(n=i.web)||void 0===n||null===(l=n.plp)||void 0===l?void 0:l.removeSingleItemInCartFromPLP;return Object(y.jsx)(N.a,{itemCount:e,itemQuantity:null===C.a||void 0===C.a?void 0:C.a.ITEM_QUANTITY,updateItemQuantity:t,quantityAction:null===T.a||void 0===T.a?void 0:T.a.QUANTITY_ACTION,item:void 0,itemName:a,maxItemCountPerLineItem:d,cartItemCount:1,hideChild:!0,removeSingleItem:c})},w=(e,t)=>Object(d.Md)(null===e||void 0===e?void 0:e.type)?{isStoreClosed:!1}:t,M=e=>{var t;const{event:a,cardId:o,customizable:i,categoryId:n,itemCount:l,productInfo:d,itemFoodlineId:c,checkItemExpiry:r,menuCardBtnText:s,storeClosedData:u,clickHandler:v,dispositionNew:m}=e;null!==(t=s(w(m,u)))&&void 0!==t&&t.enabled&&l<=0&&v(a,o,i,n,l,d,c,r),a.preventDefault(),a.stopPropagation()},k=(e,t,a,o,n,l,c)=>{var r,s;const{itemCount:u,updateItemQuantity:m,classesCardButton:b,classEnableAddToCart:O,enableAddToCartButton:j,cardType:p,checkLoading:h,storeClosedData:g,cardId:I,menuCardBtnText:S,customizable:N,dname:C,imageName:T,availability:E,prodURL:D,item:_}=e,A={productName:C,productImage:T,productPrice:Object(d.yc)(null===E||void 0===E?void 0:E[0],null===a||void 0===a?void 0:a.currencyConversionFactor),prodURL:D,categoryURL:null===_||void 0===_?void 0:_.categoryUrl},R=w(c,g);return(t||(e=>Object(d.Md)(null===e||void 0===e?void 0:e.type))(c))&&Object(y.jsxs)("div",{className:"quantityAddtocart ".concat(u?"cardwithQuantity "+n:"cardwithNoquantity"),children:[!!u&&P(u,m,null===C||void 0===C?void 0:C[0].value,a),R&&Object(y.jsx)("div",{className:b(u,n),children:u<1?Object(y.jsxs)(f.a,{tabIndex:"0",className:O(j,p,h,R),"data-testid":"add-to-cart-".concat(I),disabled:Object(x.v)(R),onClickHandler:t=>{l({event:t,cardId:I,productInfo:A,orderClickHandler:M,props:e})},"aria-label":(null===(r=S(R))||void 0===r?void 0:r.btnText)+(null===C||void 0===C?void 0:C[0].value),children:[null===(s=S(R))||void 0===s?void 0:s.btnText,Object(d.H)(R.isStoreClosed)]}):N&&Object(y.jsx)("span",{className:"edit-selection","data-testid":"edit-selection",onClick:()=>l({cardId:I,productInfo:A,orderClickHandler:o,props:e}),children:Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.EDIT_SELECTIONS)})})]})},F=(e,t,a,o,n)=>{var l;const{setOpenCostomizedModal:c,filteredPreviousData:r,updateItemQuantity:s,dname:u,clickHandler:m,cardId:b,categoryId:O,itemCount:j,availability:p,pricewithouttax:h,customizable:g,openCostomizedModal:I,cartData:S,setShowTopScrollBtn:f,imageName:N,itemFoodlineId:C,item:T,prodURL:x}=e,D={productName:u,productImage:N,productPrice:Object(d.yc)(null===p||void 0===p?void 0:p[0],null===a||void 0===a?void 0:a.currencyConversionFactor),prodURL:x,categoryURL:null===T||void 0===T?void 0:T.categoryUrl};return Object(y.jsx)(E.a,{handleClose:()=>{c(!1),o(!1)},filteredPreviousData:r,updateItemQuantity:s,tenantData:a,dname:u,clickHandler:m,cardId:b,categoryId:O,itemCount:j,availability:p,pricewithouttax:h,imageName:N,itemFoodlineId:C,customizable:g,setOpenCostomizedModal:c,openCostomizedModal:I,cartData:S,setShowTopScrollBtn:f,foodId:null===(l=e.item)||void 0===l?void 0:l.mdmId,isEditSelection:t,headerText:Object(d.Tc)(t,Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.EDIT_QUANTITY),Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.SELECT_QUANTITY)),checkItemExpiry:n,productInfo:D})},U=(e,t,a,o,i,l)=>{var c;const{productContent:r,imageName:s}=e,u=null!==r&&void 0!==r&&null!==(c=r.image)&&void 0!==c&&c.mainImage&&null!==t&&void 0!==t&&t.width&&null!==t&&void 0!==t&&t.height?Object(d.lc)(r,t.width,t.height):Object(d.Xb)(s,o);return Object(y.jsx)(n.a,{"data-testid":"product-image",className:"".concat(i&&Object(D.t)(i)," ").concat(B(l)),srcFile:u,alt:"",inactive:a,disabled:a,defaultPath:i&&Object(d.Xb)(null,o,!0)})},{CARD_TYPE:H}=v.MENU_PLP_CONSTANT,W=(e,t,a,o,i,n,l)=>{const d=l?" product-card-deactive":"";let c="";return c=e?((e,t,a,o,i)=>e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long product-card-active":e&&!(t||a||o||i)?"small-menu-product-card product-card-active":!e&&(t||a||o||i)?"small-menu-product-card small-menu-product-card-long":"small-menu-product-card")(t,a,o,i,n):t?"medium-menu-product-card product-card-active":"medium-menu-product-card",c+d},B=e=>e?"small-menu-product-image":"medium-menu-product-image",G=(e,t,a)=>{const{Error:o}=b.a;let n="";return a&&(n=Object(y.jsx)("span",{className:"unavailable-text",children:Object(i.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.PRODUCT_UNAVAILABLE)})),e&&t&&(n=Object(y.jsx)("span",{className:"special-event-item-available-time",children:"".concat(e," ").concat(Object(i.translateWithI18Next)("availableAt"))})),Object(y.jsxs)("div",{className:"unavailable-container",children:[Object(y.jsx)("img",{src:o,className:"unavailable-icon",alt:"product-unavaliable"}),n]})};t.a=function(e){var t,a,n,f;const{allowClickOnProductCard:N,discount:C,specials:T,exclusive:E,timer:x,cardId:D,customizable:P,tenantData:w,imageName:M,onCardClickHandler:B,categoryId:V,dName:Y,availability:z=[],newitem:K,topseller:q,getSpecificRibbonBanner:J,userParams:Q,item:X,productContent:Z,checkForBasePriceInMenu:$,baseprice:ee,cardCat:te,displayPrice:ae,getPriceClassName:oe,serves:ie,prodURL:ne="",showCateringflag:le=!1,storeTimeZone:de,plpbackgroundImageSrc:ce,isAvailable:re,nextAvailableTime:se,pricewithNumberofDecimalDigit:ue,itemCount:ve,veg:me,customlabelfield:be,longDescription:Oe,configureOptions:je,itemFoodlineId:pe,openCostomizedModal:he,setOpenCostomizedModal:ge,cartData:Ie,pricewithouttax:Se,cardType:fe,viewUp:Ne,menuCardBtnText:Ce,storeClosedData:Te,clickHandler:Ee,shortDescription:xe,menuProductDescriptionClassName:De,menuProductPriceClassName:ye,getMenuProductHeader:_e,dispositionNew:Ae}=e,Re=null===w||void 0===w||null===(t=w.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(n=a.pdp)||void 0===n?void 0:n.plpUrlRedirectionWithUpsellItem,[Le,Pe]=Object(o.useState)(Object(d.Ud)(window.innerWidth)),[we,Me]=Object(o.useState)(0),{localized:ke}=Object(d.kd)(Q),{Product_Card_Icon:Fe,ribbonRedOutlined:Ue,Error:He}=b.a,We=(null===X||void 0===X?void 0:X.isExcluded)||(null===X||void 0===X?void 0:X.isNotAvailable)||se||!1===re,{userOrderStateDispatch:Be,userOrderState:Ge}=Object(o.useContext)(O.a),{timeBasedCetegory:Ve}=Ge,Ye=Object(r.c)((e=>{let{menuReducer:{flatResponse:t}}=e;return t})),{RECOMMENDED_ITEM:ze}=m.Oc,Ke=Object(j.a)(),qe=Object(r.b)(),{RESET_MODGROUP_IDS_UPDATE:Je}=S.a,{MINI_PDP_DATA:Qe,FROMFLAGEDIT:Xe,EDIT_CLICKED:Ze}=I.a,[$e,et]=Object(o.useState)(!1),{allowAddToCartButton:tt=!0,showVegOrNonVeg:at,showDescription:ot,showKJInfo:it,showDefaultImage:nt,showPriceForNonLocalized:lt,showGenericMenuForNonLocalizedUsers:dt}=je,{web:{global:{showPriceWithTax:ct=!1}={}}={}}=null!==(f=null===w||void 0===w?void 0:w.componentOptions)&&void 0!==f?f:{},rt=Object(d.Tc)(null===Q||void 0===Q?void 0:Q.loggedIn,m.Zf,""),st=Object(r.c)((e=>null===e||void 0===e?void 0:e.menuReducer)),ut=Object(r.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),vt=ne.slice(-5),mt=Re&&"-prod"!==vt?ne+"-prod":ne;Object(o.useEffect)((()=>{window.addEventListener(m.we,bt)}),[Le]),Object(o.useEffect)((()=>{bt()}),[]);const bt=()=>{let e=Object(d.Ud)(window.innerWidth);const t=((e,t)=>{const{ITEM_IMAGE_HEIGHT_MOBILE:a,ITEM_IMAGE_WIDTH_MOBILE:o,ITEM_IMAGE_HEIGHT_DESKTOP:i,ITEM_IMAGE_WIDTH_DESKTOP:n}=e;return t?{height:a,width:o}:{height:i,width:n}})(ze,e);Me(t),Pe(e)},Ot=()=>{const e=Object(s.k)(z,de);return ct?Object(d.yc)(e,null===w||void 0===w?void 0:w.currencyConversionFactor,de).toFixed(ue):Object(d.Dc)(Se,null===w||void 0===w?void 0:w.currencyConversionFactor)},jt=()=>Object(y.jsxs)("div",{className:ye(fe),children:[$(ee,te)&&ae(ee,null===w||void 0===w?void 0:w.currencyConversionFactor),Object(y.jsxs)("span",{className:oe(ee,te),"data-testid":"item-price",children:[null===w||void 0===w?void 0:w.currencySymbol,Ot()]}),Le&&_(e,Le),Le&&Object(y.jsx)("span",{className:"hearticonDiv",children:A(Q,e,rt)})]}),pt=e=>it&&Boolean(null===Z||void 0===Z?void 0:Z.caloricValue)&&Object(y.jsxs)("div",{className:Object(d.Tc)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[ke&&Object(y.jsx)("div",{className:"Dot"}),Object(y.jsxs)("span",{"data-testid":"kj-value",children:[" ","".concat(Z.caloricValue," ").concat(null===w||void 0===w?void 0:w.kilojoule," ")," \xa0"," ",!!Z.serves&&"".concat(Object(i.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SERVES)," ").concat(Z.serves," ")]})]}),ht=e=>Object(y.jsxs)("div",{className:Object(d.Tc)(e,"small-menu-price-and-KJ dd","medium-menu-price-and-KJ dd"),children:[(null===Z||void 0===Z?void 0:Z.caloricValue)&&Object(y.jsxs)("span",{children:[" ","".concat(null===Z||void 0===Z?void 0:Z.caloricValue," ").concat(null===w||void 0===w?void 0:w.kilojoule," ")," \xa0"," ",!(null===Z||void 0===Z||!Z.serves)&&"".concat(Object(i.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SERVES)," ").concat(null===Z||void 0===Z?void 0:Z.serves," ")]}),ie?Object(y.jsxs)("span",{children:[" ",Object(y.jsx)("div",{className:"Dot","data-testid":"serves-template"}),gt()]}):Object(y.jsx)(y.Fragment,{})]}),gt=()=>Object(d.Tc)(ie,Object(y.jsx)("span",{className:"product-serves",children:" ".concat(Object(i.translateWithI18Next)(null===u.a||void 0===u.a?void 0:u.a.SERVES_TEXT)," ").concat(ie)}),Object(y.jsx)(y.Fragment,{})),It=e=>!e&&Object(d.ib)(ce,we.width,we.height)||{},St=e=>{var t;return it?Object(d.Tc)(le,((e,t,a,o,i,n,l)=>Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:n,children:Object(y.jsxs)(y.Fragment,{children:[!(null!==t&&void 0!==t&&t.includes(m.pd))&&o(i),e&&a()]})}),!e&&Object(d.Tc)(null===t||void 0===t?void 0:t.includes(m.pd),Object(y.jsx)(y.Fragment,{}),l())]}))(ke,null===X||void 0===X||null===(t=X.categoryUrl)||void 0===t?void 0:t[0],jt,ht,Le,"Price-and-KJ-info-catering",gt),((e,t,a,o,i)=>Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:i,children:[e&&t(),e&&a(o)]})}))(ke||lt||dt,jt,pt,Le,e)):jt()},ft=e=>{var t,a,o,i,n,l;Ke(Object(p.d)({key:v.SHOW_PDP_ALERT_POPUP,value:!1}));const{event:r,itemId:s,productInfo:u,cardId:b}=e;null===r||void 0===r||r.stopPropagation(),null===r||void 0===r||r.preventDefault();const O=Object(c.g)(b,Ye),j=null===Ye||void 0===Ye||null===(t=Ye.itemMapById)||void 0===t||null===(a=t[b])||void 0===a?void 0:a.categoryId,h=Object(c.d)(s,Ve);if(!Object(c.c)({categoryUrl:O,itemInCart:h,alertType:Object(c.j)(null===Ve||void 0===Ve?void 0:Ve.timebasedItemInCart,null===m.Sb||void 0===m.Sb?void 0:m.Sb.ITEM),categoryId:j,itemId:b},{...Ve,menuData:st,foodLinesItems:(null===ut||void 0===ut||null===(o=ut.cartData)||void 0===o?void 0:o.foodLines)||[]},Be)&&(!Object(d.Md)(null===Ae||void 0===Ae?void 0:Ae.type)||null===r||void 0===r||null===(i=r.target)||void 0===i||null===(n=i.parentElement)||void 0===n||null===(l=n.className)||void 0===l||!l.includes("cart-food-quantity-change")))if(null!==e&&void 0!==e&&e.orderClickHandler){const t={event:r,cardId:D,customizable:P,categoryId:j,itemCount:ve,productInfo:u,itemFoodlineId:pe,checkItemExpiry:ft,menuCardBtnText:Ce,storeClosedData:Te,clickHandler:Ee,dispositionNew:Ae};null===e||void 0===e||e.orderClickHandler(t)}else if(Re){let e="";const t=ne.slice(-5);e=Re&&"-prod"!==t?ne+"-prod":ne,u.prodURL=e,B(r,D,P,V,u)}else B(r,D,P,V,u)};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:fe===(null===H||void 0===H?void 0:H.CAROUSAL)?"carousal-menu-product-card":W(Le,N,C,T,E,x,We),"data-testid":"click-allow-on-product-".concat(D),id:D,onClick:e=>Object(d.db)(N,!We)&&ft({event:e,cardId:D,productInfo:{productName:Y,productImage:M,productPrice:Object(d.yc)(z[0],null===w||void 0===w?void 0:w.currencyConversionFactor),prodURL:ne,categoryURL:null===X||void 0===X?void 0:X.categoryUrl}}),inactive:We,disabled:We,children:[!Le&&Object(y.jsx)("div",{style:It(nt),className:"product-image-parent-container",children:U(e,we,We,w,nt,Le)}),Object(y.jsx)(l.a,{className:Object(d.Tc)(T,"specials-product-ribbon",Object(d.Tc)(E||be,"exclusive-product-ribbon","discount-product-ribbon")),src:Object(d.Tc)(T,Fe,Object(d.Tc)(C||E||be||K||q,Ue,""))}),Object(y.jsx)("span",{className:Object(d.Tc)(T,"specials-ribbon-text","discount-ribbon-text"),children:x?Object(y.jsxs)("div",{children:[Object(y.jsx)("svg",{src:He,className:"product-timer"}),Object(y.jsx)("span",{className:"product-timer-text",children:Object(i.translateWithI18Next)(v.MENU_PLP_CONSTANT.MENU_CARD.TIMER)})]}):J(T,C,E,K,q,be)}),Object(y.jsx)("div",{"data-testid":"menu-card-content-pdp-nav",className:"menu-card-content",inactive:We,disabled:We,onClick:e=>N&&B(e,D,P,V,{productName:Y,productImage:M,productPrice:Object(d.zc)(z[0],Se,null===w||void 0===w?void 0:w.currencyConversionFactor,ct),prodURL:mt,categoryURL:null===X||void 0===X?void 0:X.categoryUrl}),children:Le?Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{className:Ne&&"product-columnview",children:[Object(y.jsx)("div",{className:"description-and-image product-image-parent-container",style:It(nt),children:U(e,we,We,w,nt,Le)}),Object(y.jsxs)("div",{className:"menu-card-content-wrapper",children:[Object(y.jsx)("div",{className:_e(fe,C,T,E,{timer:x,newitem:K,topseller:q,customlabelfield:be}),children:null===Y||void 0===Y?void 0:Y[0].value}),L(ot,e,xe),We?G(se,re,We):St("Price-and-KJ-info")]})]})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{"data-testid":"plp-menu-card-header",className:_e(fe,C,T,E,{timer:x,newitem:K,topseller:q,customlabelfield:be}),children:null===Y||void 0===Y?void 0:Y[0].value}),R(at,me),_(e,Le),Object(y.jsx)("div",{className:"hearticonDiv",children:A(Q,e,rt)}),We?G(se,re,We):St("Price-and-KJ-info"),L(ot,e,xe)]})}),k(e,tt,w,(()=>{1===ve?(Be({type:Qe,value:{id:null===X||void 0===X?void 0:X.mdmId,flag:Xe,foodLineId:pe}}),Be({type:Je}),Be({type:Ze,value:{cartEditClicked:!1}}),qe(Object(h.c)({tenantId:null===w||void 0===w?void 0:w.tenantId,catalogName:null===Ie||void 0===Ie?void 0:Ie.catalog,itemId:null===X||void 0===X?void 0:X.mdmId})),qe(Object(g.v)({showProductListingModal:!0,categorySelected:V}))):(et(!0),ge(!0))}),rt,ft,Ae)]}),Object(y.jsx)("div",{children:he&&F(e,$e,w,et,ft)})]})}},956:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return v}));var o=a(128);let i,n,l,d,c=[],r="";const s=(e,t,a,o)=>{if(i=e,n=t,c=a,d=o,c.length>0){let a=c.map((e=>{const{latitude:t,longitude:a}=e&&e.storeBasic.location;return{lat:t,lng:a}})),o=[{lat:e,lng:t}];(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...o].slice(0,24),destinations:[...a].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},u)}else d([],"")},u=(e,t)=>{let a=[],o=[];o=e&&e.rows&&e.rows[0].elements.map((e=>e));let i=e&&e.originAddresses&&e.originAddresses[0]||"";a=c.map(((e,t)=>({...e,...o[t]}))),d(a,i)},v=(e,t,a)=>{(new window.google.maps.DistanceMatrixService).getDistanceMatrix({origins:[...e].slice(0,24),destinations:[...t].slice(0,24),travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,avoidHighways:!1,avoidTolls:!1},m),l=a},m=(e,t)=>{if(t===o.a.OK_STATUS){let t=[],a=e&&e.rows&&e.rows.map((e=>e));t=null===a||void 0===a?void 0:a.map((e=>e.elements[0])),r=e&&e.originAddresses||[],l({allStoreDistance:t,originAddressText:r})}}},957:function(e,t,a){"use strict";var o=a(3),i=a(953),n=a(101),l=a(76),d=a(905),c=a(5),r=a(190),s=a(2);t.a=e=>{var t,a;const{products:u,country:v,cssClass:m="",categoryId:b,recommendedRule:O,componentOptions:j}=e,{userOrderState:p}=Object(o.useContext)(l.a),{UPSELL:h}=r.a,{INDIA:g}=d.a,[I,S]=Object(o.useState)(!1),f=Object(o.useMemo)((()=>Object(c.Jd)(p.currentStoreInfo)?Object(c.b)(localStorage.getItem("currentStoreInfo")):p.currentStoreInfo),[p.currentStoreInfo]),{futureDates:N,scheduled:C,asap:T}=Object(c.kd)(null===f||void 0===f||null===(t=f.summary)||void 0===t?void 0:t.timings),{unavailibilities:E}=Object(c.kd)(C),{interval:x=0,startEndTime:D={}}=Object(c.kd)((null===C||void 0===C||null===(a=C.periods)||void 0===a?void 0:a.length)&&(null===C||void 0===C?void 0:C.periods[0])),{from:y,to:_}=D,A=Object(o.useCallback)((()=>{if(Object(c.Kd)(f)){var e,t;let a=null===(e=f.summary)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.currentStatus,o=Object(n.j)(y,_,x,null===T||void 0===T?void 0:T.isAvailable,1===(null===N||void 0===N?void 0:N.length)&&(null===v||void 0===v?void 0:v.toUpperCase())===g,E);"CLOSED"!==a||o.length?S(!1):S(!0)}else S(!1)}),[f]);return Object(o.useEffect)((()=>{A()}),[A]),((e,t,a)=>{var o,i;return e!==t||(null===a||void 0===a||null===(o=a.web)||void 0===o||null===(i=o.pdp)||void 0===i?void 0:i.makeItComboButton)})(O,h,j)?Object(s.jsx)("div",{className:"recommended-container ".concat(m),"data-testid":"recommended-container",children:Object(s.jsx)(i.b,{"data-testid":"recommended-items",categoryId:b,products:u,storeClosedData:{isStoreClosed:I},...e})}):Object(s.jsx)(s.Fragment,{})}},960:function(e,t,a){"use strict";a(3);var o=a(933),i=a(5),n=a(2);t.a=e=>Object(i.R)(e.subCategory).map(((t,a)=>{let{categories:i="",products:l=[],id:d="",dname:c}=t;return Object(n.jsxs)("div",{id:d,children:[Object(n.jsxs)("div",{className:"large"===e.cardType?"large-subcategory-name":("medium"===e.cardType?"medium-subcategory-name":"carousal"===e.cardType&&"carousal-subcategory-name")||"small"===e.cardType&&"small-subcategory-name"||null,children:[Object(n.jsx)("div",{children:c[0].value}),i]}),Object(n.jsx)(o.a,{productList:l,cardType:e.cardType,tenantData:e.tenantData,categoryId:d,catalogs:e.catalogs,storeClosedData:e.storeClosedData})]},a)}))},961:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));let o,i;(async()=>{let t=await(async()=>{var t,o,i,n,l;const d=null===(t=e)||void 0===t||null===(o=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TENANT_CODE:"in",REACT_APP_API_BASE_URL:"https://online.kfc.co.in",REACT_APP_PWA_VERSION_STRING:"pwa-2502-0-3_39e1541f"}))||void 0===o?void 0:o.REACT_APP_TENANT_CODE,c=await Promise.resolve().then(a.bind(null,176));return null===c||void 0===c||null===(i=c.default)||void 0===i||null===(n=i[null===d||void 0===d||null===(l=d.toUpperCase)||void 0===l?void 0:l.call(d)])||void 0===n?void 0:n.RECOMMENDED_CONSTANTS})();o=null===t||void 0===t?void 0:t.RECOMMENDED_CONSTANTS,i=null===t||void 0===t?void 0:t.RESPONSIVE_CONFIG})()}).call(this,a(112))},962:function(e,t,a){var o=a(179),i=a(158);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==o(e)}},963:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(944),d=a(814),c=a(49),r=a(14),s=a(76),u=a(945),v=a(2);var m=e=>{const{DISPOSITION_DATA:t=""}=r.a,{userOrderState:a,userOrderStateDispatch:n}=Object(o.useContext)(s.a)||{};return Object(o.useEffect)((()=>{n({type:t,value:{showDisposition:!0}})}),[]),Object(v.jsx)(i.a.Fragment,{children:Object(v.jsxs)("div",{id:"startorder-container","data-testid":"UserLocalizationComponent-component",children:[(null===a||void 0===a?void 0:a.dispositionStateData.showDisposition)&&Object(v.jsx)(l.a,{}),(null===a||void 0===a?void 0:a.searchStoreData.showSearchStore)&&Object(v.jsx)(d.default,{onStoreSelectFinish:c.y}),(null===a||void 0===a?void 0:a.scheduleOrderData.showScheduleOrderCatering)&&Object(v.jsx)(u.a,{onStoreSelectFinish:c.y})]})})},b=a(5),O=a(946);t.a=()=>{var e,t,a,o;const{DISPOSITION:i}=O.a;let l=null,d=null,c=Object(n.c)((e=>e.appStateReducer.userStatus));const r=Object(n.c)((e=>({homePageContent:e.contentReducer.response||null,tenantReducerContent:e.tenantReducer||null,marketPageContent:e.marketConfigReducer.response||null})));if(r.marketPageContent&&r.tenantReducerContent&&r.homePageContent){const{tenant:e=[]}=r.marketPageContent.headerData||{};l=Object(b.bc)(r.homePageContent)||null,d=Object(b.Rc)(e)}return Object(v.jsx)(m,{contentData:{segmentedHomePageData:null!==(e=null===(t=l)||void 0===t?void 0:t[i])&&void 0!==e?e:{},dispositionData:d,contentDispositionData:null!==(a=null===(o=l)||void 0===o?void 0:o[i])&&void 0!==a?a:{}},userParams:c,tenantReducerData:r.tenantReducerContent})}},964:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n}));var o=a(1);function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:o.ik,payload:{data:e,tenantId:t},successCallback:a,errorCallback:i}}function n(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:o.dk,menuPayload:e,exclusionPayload:t,successCallback:a}}},965:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var o=a(3),i=a(25),n=a(61),l=a(0),d=a(22),c=a(77),r=a(43),s=a(173),u=a(6),v=a(333),m=a(110),b=a(69),O=a(15),j=a(2);const p=e=>{var t,a,p,h,g,I;const{navRight:S,hamburgerComp:f,closeHamburger:N}=e,C=Object(i.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{showContentCards:T=!1,showNeedhelpModal:E}=Object(i.c)((e=>{var t,a,o;return(null===(t=e.tenantReducer)||void 0===t||null===(a=t.componentOptions)||void 0===a||null===(o=a.web)||void 0===o?void 0:o.global)||{}})),x=!(d.b.isGoogle&&null!==C&&void 0!==C&&C.loggedIn),D=Object(n.g)(),{LOGGEDIN_USER_SIGNIN_TEXT:y,GUEST_USER_SINGIN_TEXT:_,SIGN_IN_LINK:A}=s.a,[R,L]=Object(o.useState)(0),P=Object(m.b)(b.b),w=(null===P||void 0===P?void 0:P.brazeInitialized)&&(null===(t=window)||void 0===t||null===(a=t.appboy)||void 0===a||null===(p=a.getCachedContentCards())||void 0===p||null===(h=p.cards)||void 0===h||null===(g=h.filter((e=>!e.isControl&&!e.viewed)))||void 0===g?void 0:g.length),{Arrow_Icon:M}=O.a;Object(o.useEffect)((()=>{L(w)}),[w]);const k=()=>{null!==C&&void 0!==C&&C.loggedIn?(null===N||void 0===N||N(),D.push({pathname:l.Ae.ACCOUNT})):Object(c.b)()},F=e=>f?Object(u.translateWithI18Next)(_):null===e||void 0===e?void 0:e.name;return Object(j.jsx)("div",{className:"sign-in-container","data-testid":e["data-testid"],"data-id":(U=x,U?l.qb.HEADER_SIGN_IN_ATTR_DATA_ID:""),children:null===S||void 0===S||null===(I=S.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.toUpperCase())===A})))||void 0===I?void 0:I.map((e=>Object(j.jsxs)("div",{className:"account-container","data-testid":"account-container",onClick:k,children:[Object(v.p)((null===e||void 0===e?void 0:e.url)||(null===e||void 0===e?void 0:e.imageUrl),"HEADER_SIGN_IN","account-icon"),T&&!!R&&(null===C||void 0===C?void 0:C.loggedIn)&&Object(j.jsx)("span",{className:"msg-badge",children:R}),Object(j.jsx)("span",{className:"sign-in-text".concat(""," ").concat(E?"":"not-cart-icon"),children:null!==C&&void 0!==C&&C.loggedIn?Object(u.translateWithI18Next)(y):F(e)}),f?Object(j.jsx)(r.a,{srcFile:M,className:"arrow"}):null]},null===e||void 0===e?void 0:e.title)))});var U}},966:function(e,t,a){"use strict";var o=a(97),i=a(30),n=a(0),l=a(4),d=a(76),c=a(111),r=a(14),s=a(3),u=a(61),v=a(911),m=a(5),b=a(25);t.a=()=>{var e,t,a;const{MENU_NAVALERT_TITLE:O,MENU_NAVALERT_SUBTITLE:j}=l.a,{userOrderStateDispatch:p}=Object(s.useContext)(d.a),h=Object(b.b)(),{dispositionNew:g}=Object(v.a)(),I=Object(u.g)(),S=Object(b.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),f=Object(b.c)((e=>e.tenantReducer)),{tenantId:N}=f,C=null===f||void 0===f||null===(e=f.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(a=t.dispositionConfig)||void 0===a?void 0:a.hideCartDeletionAlert,{cartData:T={}}=Object(b.c)((e=>e.cartReducer)),{DISPOSITION_TYPE:E}=n.gd;let x={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};const D=e=>{p({type:r.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:e,title:O,contentMsg:j}})},y=e=>{p({type:r.a.SET_DISPOSITION,value:{oldvalue:e||x,newValue:e||x}}),p({type:r.a.DISPOSITION_METHOD,value:{dispositionType:e?null===e||void 0===e?void 0:e.type:""}}),localStorage.removeItem(n.gd.DISPOSITION_TYPE),localStorage.removeItem(n.gd.DISPOSITION_OLD),localStorage.removeItem(n.gd.DISPOSITION_NEW)},_=()=>{S&&h(Object(o.a)({...S,localized:!1})),p({type:r.a.USER_LOCALIZED,value:{isLocalized:!1}}),null!==T&&void 0!==T&&T.id&&h(Object(i.g)({basketId:null===T||void 0===T?void 0:T.id},!1,{data:{},tenantId:N}))};return{handleMenuNavigation:e=>{C?I.push({pathname:e}):Object(m.Nd)(e)&&!Object(m.Md)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?D(e):Object(m.Nd)(e)&&Object(m.Md)(null===g||void 0===g?void 0:g.type)?I.push({pathname:n.Ae.EVENT_PAGE}):!Object(m.Nd)(e)||null!==g&&void 0!==g&&g.type?!Object(m.Nd)(e)&&Object(m.Md)(null===g||void 0===g?void 0:g.type)&&D(e):(I.push({pathname:n.Ae.EVENT_PAGE}),localStorage.setItem(n.gd.TO_EVENT_PAGE_USING_BUTTON,!0))},handleDeliveryMenuNavigation:e=>{C?I.push({pathname:e}):Object(m.Ed)(e)&&!Object(m.Ad)(null===g||void 0===g?void 0:g.type)&&null!==g&&void 0!==g&&g.type?D(e):Object(m.Ed)(e)&&Object(m.Ad)(null===g||void 0===g?void 0:g.type)?I.push({pathname:n.Ae.DELIVERY_PAGE}):!Object(m.Ed)(e)||null!==g&&void 0!==g&&g.type?(Object(m.Nd)(e)||Object(m.Td)(e))&&Object(m.Ad)(null===g||void 0===g?void 0:g.type)?D(e):I.push({pathname:e}):I.push({pathname:n.Ae.DELIVERY_PAGE})},reset:()=>{y(),_()},navigateToEvent:()=>{I.push({pathname:n.Ae.EVENT_PAGE}),y({...x,type:n.Jb.CHRISTMAS_ORDERING}),localStorage.setItem(E,n.Jb.CHRISTMAS_ORDERING),_(),p({type:r.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:c.c}})}}}},967:function(e,t){e.exports=function(e,t){for(var a=-1,o=null==e?0:e.length;++a<o&&!1!==t(e[a],a,e););return e}},971:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(6),d=a(4),c=a(14),r=a(0),s=a(5),u=a(76),v=a(43),m=a(121),b=a(190),O=a(898),j=a(110),p=a(69),h=a(919),g=a(30),I=a(122),S=a(317),f=a(899),N=a(2);const{CHOOSE_ANY_PRODUCT:C}=d.a;t.a=e=>{var t,a,d,T,E;const{PLP_PDP_DETAILS:x,SET_MULTI_PRODUCT_VIEW_MODAL:D}=c.a,{userOrderStateDispatch:y,userOrderState:_}=Object(o.useContext)(u.a),A=Object(n.c)((e=>e.storesReducer)),R=Object(n.c)((e=>e.cartReducer)),L=Object(n.c)((e=>{let{menuReducer:{flatResponse:t={}}={}}=e;return t||{}})),{isDealModalOpen:P,handleClose:w,viewProductCardData:M,imageContainerSize:k,tenantId:F,addToOrderClickHandler:U}=Object(s.kd)(e),{item:H,titleValue:W,promoParams:B,priceDetails:G}=Object(s.kd)(M),{itemDetails:V}=Object(s.kd)(H),Y=Object(n.c)((e=>e.tenantReducer)),{data:{categories:z=[]}={}}=Object(n.c)((e=>{let{menuReducer:t}=e;return t||{}})),K=Object(j.a)(),q=(null===A||void 0===A||null===(t=A.storesWithStatus)||void 0===t?void 0:t.length)&&(null===A||void 0===A||null===(a=A.storesWithStatus[0])||void 0===a||null===(d=a.summary)||void 0===d?void 0:d.timeZoneIANA),J={id:"productDetailsPopUp",role:"dialog",modalTitleId:"productDetailsPopUp",show:{isProductModalOpen:P},classNames:"multi-product-wrapper-modal",showCloseBtn:!0,closeButtonHandler:w,modalTitle:W,autoFocus:!0},{headerData:{plpBackgroundImage:Q={}}={}}=Object(n.c)((e=>{var t;return Object(s.kd)(null===e||void 0===e||null===(t=e.marketConfigReducer)||void 0===t?void 0:t.response)})),X=Object(s.hb)(Q),Z=Object(s.Jd)(_.dispositionNew)?JSON.parse(localStorage.getItem(r.Hb)):_.dispositionNew,$=Object(o.useMemo)((()=>({storeInfo:Z?Z.store:{}})),[Z,_,Y]),ee=Object(n.b)(),[te,ae]=Object(o.useState)(""),[oe,ie]=Object(o.useState)(!1),{ADD_TO_CART:ne}=f.a,le=null===Y||void 0===Y||null===(T=Y.componentOptions)||void 0===T||null===(E=T.PlpProductCard)||void 0===E?void 0:E.allowClickOnProductCard,de=(t,a,o,i,n,l,d,c,u)=>{var v,m,O,j,h;let g={productId:t,customizable:a,categoryId:o,catalogName:n,productInfo:i,isFromPlp:!0,categoryName:c,categoryUrl:l,url:u};const{url:I}=null!==(v=null===L||void 0===L||null===(m=L.productMapByItemId)||void 0===m?void 0:m[d])&&void 0!==v?v:{};y({type:x,value:g}),y({type:D,isFromMultiProductViewModal:!0}),localStorage.setItem(r.gd.PRODUCT_DETAILS,JSON.stringify(g)),null===e||void 0===e||null===(O=e.history)||void 0===O||O.push({pathname:Object(s.sc)(l,I||u,null===e||void 0===e||null===(j=e.history)||void 0===j||null===(h=j.location)||void 0===h?void 0:h.pathname)}),K(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===H||void 0===H?void 0:H.couponCode,promoParams:B,priceDetails:G}})),K(Object(p.d)({key:r.gd.PROMO_PRODUCT_CART,value:{couponCode:null===H||void 0===H?void 0:H.couponCode,promoParams:B,priceDetails:G,isPromo:!0}})),y({type:b.a.SET_PDP_PROMO_MODE,value:{pdpPromoPage:!0}})},ce=t=>{var a,o,i,n,l,d;const c=null!==(a=null===L||void 0===L||null===(o=L.productMapByItemId)||void 0===o?void 0:o[t])&&void 0!==a?a:{},u=null!==(i=null===L||void 0===L||null===(n=L.productMapByItemId)||void 0===n||null===(l=n[t])||void 0===l||null===(d=l.itemMapByItemId)||void 0===d?void 0:d[t])&&void 0!==i?i:{},v=null===L||void 0===L?void 0:L.catalogName,m=null===c||void 0===c?void 0:c.customizable;ae(c),K(Object(p.d)({key:r.gd.VIEW_PRODUCT,value:{couponCode:null===H||void 0===H?void 0:H.couponCode,promoParams:B,priceDetails:G}})),ie(null===c||void 0===c?void 0:c.customizable),ee(Object(I.c)({tenantId:F,catalogName:v,itemId:t})),m?ee(Object(g.v)({showProductListingModal:!0,categorySelected:null===te||void 0===te?void 0:te.categoryId})):((t,a)=>{var o,i;const{id:n,categoryId:l,categoryName:d,url:c}=t;ee(Object(g.a)({params:{basketId:null===R||void 0===R||null===(o=R.cartData)||void 0===o?void 0:o.id},tenantId:F},[{Id:n,categoryId:l,quantity:(null===B||void 0===B||null===(i=B.find((e=>(null===e||void 0===e?void 0:e.itemId)===n)))||void 0===i?void 0:i.quantity)||1,modGrps:[],categoryName:d,categoryUrl:c,isProductPromo:!0}],(()=>{U({couponCode:null===H||void 0===H?void 0:H.couponCode}),w(),!a&&1===(null===V||void 0===V?void 0:V.length)&&Object(s.Ee)(e)})))})(u,m)},re=e=>{var t,a,o,i,n,d,c,u;let{item:m,params:b}=e;const{dname:j=[],imageName:p,content:h,availability:g=[],customizable:I,id:f,categoryUrl:C,url:T}=Object(s.kd)(m),E=Object(O.k)(g,q),{caloricValue:x}=Object(s.kd)(h),D=x,{storeInfo:y}=Object(s.kd)(b);let _=C&&C[0];_=null===(t=_)||void 0===t||null===(a=t.split("-").join(" "))||void 0===a?void 0:a.toUpperCase();let A=null===z||void 0===z?void 0:z.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===_}));const R=A&&A[0],L=null===R||void 0===R?void 0:R.name,P=f,w=null===R||void 0===R?void 0:R.id,M={productName:j,productImage:p,productPrice:Object(s.yc)(E,null===Y||void 0===Y?void 0:Y.currencyConversionFactor,q)},F=y&&(null===y||void 0===y||null===(o=y.summary)||void 0===o||null===(i=o.menu)||void 0===i||null===(n=i.catalogs)||void 0===n?void 0:n.length)&&(null===y||void 0===y||null===(d=y.summary)||void 0===d||null===(c=d.menu)||void 0===c?void 0:c.catalogs[0])||(null===Y||void 0===Y?void 0:Y.genericMenuName)||"",U=(e=>null===e||void 0===e?void 0:e.map((e=>({...e,price:null!==e&&void 0!==e&&e.promoPrice&&(null===e||void 0===e?void 0:e.promoPrice)<(null===e||void 0===e?void 0:e.price)?null===e||void 0===e?void 0:e.promoPrice:null===e||void 0===e?void 0:e.price}))))(g),H=Object(O.k)(U,q);return Object(N.jsx)("div",{class:"container","data-testid":"container-test",onClick:()=>le?de(P,I,w,M,F,C,f,L,T):ce(f),children:Object(N.jsx)("main",{class:"grid",children:Object(N.jsxs)("article",{children:[Object(N.jsx)("div",{className:"product-image-parent-container",style:Object(s.ib)(X,k,k),children:Object(N.jsx)(v.a,{"data-testid":"multi-product-image",className:"multi-product-image",defaultPath:Object(s.Xb)(null,Y,!0),srcFile:Object(s.lc)(h,k,k),alt:""})}),Object(N.jsxs)("div",{class:"description-txt",children:[Object(N.jsx)("span",{className:"desc",children:null===(u=j[0])||void 0===u?void 0:u.value}),Object(N.jsxs)("div",{className:"".concat(le?"":"align-button"),children:[Object(N.jsxs)("span",{className:"price-value",children:[null===Y||void 0===Y?void 0:Y.currencySymbol,Object(s.yc)(H,null===Y||void 0===Y?void 0:Y.currencyConversionFactor,q).toFixed(r.dg)]}),Object(N.jsx)("span",{children:D&&Object(N.jsx)("span",{className:"kj-info",children:" ".concat(D," ").concat(null===Y||void 0===Y?void 0:Y.kilojoule)})}),!le&&Object(N.jsxs)(S.a,{tabIndex:"0",className:"button redButton model-cart-button",children:[" ",Object(l.translateWithI18Next)(ne)]})]})]})]})})})};return Object(o.useEffect)((()=>{(null===L||void 0===L?void 0:L.productMapByItemId)&&1===(null===V||void 0===V?void 0:V.length)&&(e=>{var t,a,o,i,n,l,d,c,r;const{storeInfo:u,tenantReducer:v}=$,{imageName:m,dname:b,availability:j,customizable:p,id:h,categoryUrl:g}=null!==(t=(null===e||void 0===e||null===(a=e.itemDetails)||void 0===a?void 0:a.length)&&(null===e||void 0===e?void 0:e.itemDetails[0]))&&void 0!==t?t:{};if(!le)return void ce(h);let I=g&&g[0];I=null===(o=I)||void 0===o||null===(i=o.split("-").join(" "))||void 0===i?void 0:i.toUpperCase();const S=Object(O.k)(j,q);let f=null===z||void 0===z?void 0:z.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase())===I}));const N=f&&f[0],C=null===N||void 0===N?void 0:N.name,T=h,E=null===N||void 0===N?void 0:N.id,x={productName:b,productImage:m,productPrice:Object(s.yc)(S,null===v||void 0===v?void 0:v.currencyConversionFactor,q)},D=u&&(null===u||void 0===u||null===(n=u.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===u||void 0===u||null===(c=u.summary)||void 0===c||null===(r=c.menu)||void 0===r?void 0:r.catalogs[0])||(null===v||void 0===v?void 0:v.genericMenuName)||"";de(T,p,E,x,D,g,h,C)})(H)}),[]),Object(N.jsxs)(i.a.Fragment,{children:[V&&(null===V||void 0===V?void 0:V.length)>1&&Object(N.jsx)(m.a,{...J,"data-testid":"offers-deals-modal-testid",children:Object(N.jsxs)("div",{className:"multi-product-wrapper",children:[Object(N.jsx)("div",{className:"content",children:Object(N.jsx)("h4",{children:Object(l.translateWithI18Next)(C)})}),Object(N.jsx)("div",{className:"grid-container card-items container",children:null===V||void 0===V?void 0:V.map(((e,t)=>Object(N.jsx)(re,{item:e,params:$},"card-item-".concat(t))))})]})}),(null===R||void 0===R?void 0:R.showProductListingModal)&&oe&&Object(N.jsx)(h.a,{addToOrderClickHandler:U,closeParentModal:w})]})}},973:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var o=a(3),i=a(25),n=a(73),l=a(356),d=a(0),c=a(15),r=a(36),s=a(977),u=a.n(s),v=a(902),m=a(213),b=a(28),O=a(43),j=a(6),p=a(5),h=a(61),g=a(76),I=a(173),S=a(14),f=a(110),N=a(69),C=a(2);const T=e=>e?c.a.LangGlobeHeader:c.a.LangGlobeFooter,E=e=>{const{allowedLanguages:t,onChangeHandler:a,onCloseModal:o,selectedLanguage:i}=e;return Object(n.createPortal)(Object(C.jsx)("div",{className:"root-header-au",children:Object(C.jsxs)("div",{className:"hamburger-container side-nav-open",children:[Object(C.jsxs)("div",{className:"hamburger-header-container",children:[Object(C.jsx)(r.a,{className:"langmodal-close-button","data-testid":"langmodal-close",onClick:o,children:Object(C.jsx)(O.a,{srcFile:c.a.ArrowIcon,alt:"close"})}),Object(C.jsx)("span",{className:"langmodal-label",children:Object(j.translateWithI18Next)(d.O)})]}),Object(C.jsx)("div",{className:"langmodal-stripe-icon",children:Object(C.jsx)(m.a,{src:c.a.Strips})}),Object(C.jsx)("div",{className:"langmodal-list-content",children:t.map((e=>Object(C.jsx)("div",{onClick:()=>a(null,e,e.key),className:"langmodal-list",children:Object(C.jsx)("span",{className:"langmodal-list-txt ".concat(e.key===(null===i||void 0===i?void 0:i.key)?"active-lang":""),children:e.value})},e.key)))})]})}),document.getElementById("modal-popups"))},x=e=>{let{isMobile:t,defaultTooltipShow:a,allowedLanguages:o,placeHolderValue:i,onChangeHandler:n}=e;return!t&&Object(C.jsxs)("div",{className:"lang-selector-wrapper",children:[Object(C.jsx)(O.a,{className:"lang-globe-icon",srcFile:T(a),alt:I.a.LANGUAGE_SELECTOR}),Object(C.jsx)(l.a,{source:o,optionLabelFieldName:"value",optionValueFieldName:"key",placeholder:i(),langSelector:!0,onChange:n})]})},D=e=>{let{isMobile:t,setShowMobLangComp:a,hamburgerMenu:o,placeHolderValue:i}=e;return t&&Object(C.jsx)("div",{children:Object(C.jsxs)("div",{className:"lang-selector-wrapper mob","data-testid":"lang-select-mob-component",onClick:()=>a(!0),children:[Object(C.jsx)(O.a,{className:"lang-globe-icon",srcFile:T(o),alt:I.a.LANGUAGE_SELECTOR}),Object(C.jsx)("span",{children:i()})]})})},y=e=>{let{showMobLangComp:t,selectedLanguage:a,allowedLanguages:o,onChangeHandler:i,onCloseModal:n}=e;return t&&Object(C.jsx)(E,{"data-testid":"languageSelectorMobComp",selectedLanguage:a,allowedLanguages:o,onChangeHandler:i,onCloseModal:n})},_=e=>{var t,a;const{userOrderState:n,userOrderStateDispatch:l}=Object(o.useContext)(g.a),[c,r]=Object(o.useState)(Object(p.Ud)(window.innerWidth)),[s,m]=Object(o.useState)(!1),[O,j]=Object(o.useState)(!1),{cartData:I}=Object(i.c)((e=>e.cartReducer)),{SHOW_CLEAR_CART_ALERT:T}=S.a,E=Object(h.g)(),{defaultTooltipShow:_,hamburgerMenu:A}=e,R=Object(f.a)(),{tenantReducer:{basic:{allowedLanguages:L=[],defaultLanguage:P}={},country:w="",useDeviceDefaultLanguage:M=!1}={}}=Object(i.c)((e=>e)),[k,F]=Object(o.useState)(M?Object(p.Bb)(L,P):P),U=()=>{const e=Object(p.Ud)(window.innerWidth);r(e)};Object(o.useEffect)((()=>{var e,t;null!==I&&void 0!==I&&null!==(e=I.foodLines)&&void 0!==e&&e.length&&null!==I&&void 0!==I&&null!==(t=I.discountLines)&&void 0!==t&&t.length||null===n||void 0===n||!n.selectedLanguage||(null===k||void 0===k?void 0:k.key)===(null===n||void 0===n?void 0:n.selectedLanguage)||H()}),[null===I||void 0===I||null===(t=I.foodLines)||void 0===t?void 0:t.length,null===I||void 0===I||null===(a=I.discountLines)||void 0===a?void 0:a.length]),Object(o.useEffect)((()=>{window.addEventListener(d.we,U)}),[c]),Object(o.useEffect)((()=>{const e=L.find((e=>{var t,a,o;return(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())===(null===(a=localStorage)||void 0===a||null===(o=a.getItem(d.gd.USER_LANGUAGE))||void 0===o?void 0:o.toLowerCase())}));w&&e&&F(e)}),[w,L]),Object(o.useEffect)((()=>{var e,t,a;const o=(null===(e=new URLSearchParams(window.location.search))||void 0===e?void 0:e.get(d.Yc))||Object(p.cd)(),i=null===o||void 0===o?void 0:o.slice(0,2);window.OneTrust&&(null===(t=window.OneTrust)||void 0===t?void 0:t.changeLanguage)&&(null===(a=window.OneTrust)||void 0===a||a.changeLanguage(i))}),[window.OneTrust]),Object(o.useEffect)((()=>{null!==n&&void 0!==n&&n.cartClearConfirmed&&""!==(null===n||void 0===n?void 0:n.languageToChange)&&(l({type:d.Le,value:{selectedLanguage:null===n||void 0===n?void 0:n.languageToChange}}),l({type:T,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1}}))}),[T,null===n||void 0===n?void 0:n.cartClearConfirmed,null===n||void 0===n?void 0:n.languageToChange,l]);const H=e=>{R(Object(N.d)({key:d.Pe,value:!1})),R(Object(N.d)({key:d.Zc,value:d.Zc}));const t=e||(null===n||void 0===n?void 0:n.selectedLanguage)||(null===k||void 0===k?void 0:k.key);Object(b.changeLanguage)(t),localStorage.setItem(null===d.gd||void 0===d.gd?void 0:d.gd.USER_LANGUAGE,t),Object(p.Me)({history:E}),setTimeout((()=>window.location.reload()),1e3)},W=(e,t,a)=>{var o;document.documentElement.setAttribute("lang",null===a||void 0===a?void 0:a.slice(0,2)),(null===k||void 0===k?void 0:k.key)!==a&&((null===I||void 0===I||null===(o=I.foodLines)||void 0===o?void 0:o.length)>0?(j(!0),l({type:T,value:{showCartClearAlert:!0,languageToChange:a}})):(j(!1),H(a)))},B=()=>A?u()(null===k||void 0===k?void 0:k.short_value):null===k||void 0===k?void 0:k.value;return Object(C.jsx)("div",{"data-testid":"language-selector-container",className:(G=L,"language-selector-container".concat((null===G||void 0===G?void 0:G.length)<=1?" no-border":"")),children:(null===L||void 0===L?void 0:L.length)>1&&Object(C.jsxs)("div",{children:[x({isMobile:c,defaultTooltipShow:_,allowedLanguages:L,placeHolderValue:B,onChangeHandler:W}),D({isMobile:c,setShowMobLangComp:m,hamburgerMenu:A,placeHolderValue:B}),y({showMobLangComp:s,selectedLanguage:k,allowedLanguages:L,onChangeHandler:W,onCloseModal:()=>{m(!1)}}),O&&n.showCartClearAlert?Object(C.jsx)(v.a,{langSelector:!0}):null]})});var G}},977:function(e,t,a){var o=a(221),i=a(516);e.exports=function(e){return i(o(e).toLowerCase())}},978:function(e,t,a){"use strict";a(3);var o=a(175),i=a(139),n=a(214),l=a(2);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?Object(o.a)(Object(n.documentToHtmlString)(e).replace(/<p>/gi,t).replace(/<\/p>/gi,t)):""},c=e=>{let{data:t}=e;const{html:a,css:o,javascript:n}=t,c=d(a),r=d(o),s=d(n,"\n\n");return Object(l.jsxs)(l.Fragment,{children:[(n||o)&&Object(l.jsxs)(i.a,{children:[n&&Object(l.jsx)("script",{type:"text/javascript",children:s}),o&&Object(l.jsx)("style",{type:"text/css",children:r})]}),a&&Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})]})};c.defaultProps={},t.a=c},979:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var o=a(3),i=a(25),n=a(37),l=a.n(n),d=a(43),c=a(36),r=a(0),s=a(76),u=a(5),v=a(63),m=a(155),b=a(22),O=a(935),j=a(30),p=a(97),h=a(14);const g=(e,t,a,o)=>{const i={data:null===e||void 0===e?void 0:e.map((e=>({storeId:e.id,channel:b.b.channel,service:t}))),store:e,tenantId:o,setStatusFlag:!1,isFavoritePage:!1};a(Object(v.d)(i))},I=e=>{const{storesWithStatus:t,dispositionNew:a,setAutoDetectFlow:o,activeDisposition:i,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,SetLocationClickHandler:b}=e,g=null===v||void 0===v?void 0:v.localized,I=null===t||void 0===t?void 0:t.filter((e=>{var t,a,o,i,n,l,d,c,s,u,v,m;return(null===e||void 0===e?void 0:e.id)&&(null===e||void 0===e||null===(t=e.location)||void 0===t?void 0:t.latitude)&&(null===e||void 0===e||null===(a=e.location)||void 0===a?void 0:a.longitude)&&(null===e||void 0===e||null===(o=e.summary)||void 0===o||null===(i=o.status)||void 0===i?void 0:i.currentStatus)===r.Nd&&(null===e||void 0===e||null===(n=e.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d.length)&&(null===e||void 0===e||null===(c=e.summary)||void 0===c||null===(s=c.timings)||void 0===s||null===(u=s.operatingHours)||void 0===u?void 0:u.length)>0&&(null===e||void 0===e||null===(v=e.summary)||void 0===v||null===(m=v.timings)||void 0===m?void 0:m.asap)}));(null===I||void 0===I?void 0:I.length)>0?g?a&&o(!1):((async e=>{var t;let{finalStore:a,dispositionNew:o,activeDisposition:i,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:b}=e,h={time:r.s,interval:null===(t=a.summary.timings.scheduled.periods[0])||void 0===t?void 0:t.interval,date:new Date,selectedTime:r.s},g=await Object(u.z)(a,Object(u.Ib)(i),null===l||void 0===l?void 0:l.customerId,h);d(Object(j.f)({data:g,tenantId:c})),Object(O.i)(o,s,n,i,a,h);let I=a||null;d(Object(p.a)({...v,localized:!0})),Object(O.j)(s,i,h,I,m),b(!1),Object(u.if)()})({finalStore:I[0],dispositionNew:a,activeDisposition:i,userOrderState:n,profileReducer:l,dispatch:d,tenantId:c,userOrderStateDispatch:s,userParams:v,tenantReducer:m,setAutoDetectFlow:o}),s({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}})):(o(!1),b())};var S=a(38),f=a(4),N=a(6),C=a(49),T=a(111),E=a(217),x=a(2);const D=e=>{var t,a,n,j,p;const{setLocationdata:D=[]}=e,{srcFile:y,locationMap:_,buttonText:A,textDescription:R}=D,{userOrderState:L,userOrderStateDispatch:P}=Object(o.useContext)(s.a),[w,M]=Object(o.useState)(Object(u.Vd)(window.innerWidth)),k=Object(i.b)(),[F,U]=Object(o.useState)(""),[H,W]=Object(o.useState)(!1),[B,G]=Object(o.useState)(!1),{AUTO_DETECTION_BUTTON_FLAG:V,PICK_UP:Y,GRANTED:z}=E.a,{profileReducer:K,tenantReducer:q,storesReducer:J,appStateReducer:Q}=Object(i.c)((e=>e)),{storesWithStatus:X,storesSatusError:Z,count:$}=J,{allStores:ee=[],currentCount:te=0}=Object(i.c)((e=>e.allStoresReducer))||{},{storeSearch:ae={},tenantId:oe}=q,ie=null===q||void 0===q||null===(t=q.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(n=a.dispositionConfig)||void 0===n?void 0:n.enableAutoSetLocation;let ne=Q.userStatus;const{maxDriveTimeMins:le,distanceMetrics:de,geohashprecision:ce,boundingBoxSizeMeters:re,boundingBoxSizeDivider:se}=ae;let ue=null===L||void 0===L?void 0:L.dispositionNew;if(!ue){const e=localStorage.getItem(r.Hb);ue=JSON.parse(e)}const ve=Object(i.c)((e=>({marketPageContent:l()(e,"marketConfigReducer.response",null)}))),me=null===ve||void 0===ve||null===(j=ve.marketPageContent)||void 0===j||null===(p=j.headerData)||void 0===p?void 0:p.autodetectDistance,be=()=>{k(Object(v.u)()),Object(C.o)(),P({type:h.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}}),P({type:h.a.SEARCH_ORDER_DATA,value:{showSearchStore:B}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!0}}),P({type:h.a.DISPOSITION_METHOD,value:{dispositionType:r.Jb.PICKUP}}),P({type:S.a.SET_LOCATION_BUTTON_FLAG,value:{setLocationClicked:!0}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,T.a)};Object(o.useEffect)((()=>{window.addEventListener("resize",(()=>{const e=Object(u.Vd)(window.innerWidth);M(e)}))}),[w]);const Oe=Object(o.useCallback)((async()=>{if(await Object(O.g)()){const{longitude:e=0,latitude:t=0}=null===b.b||void 0===b.b?void 0:b.b.coordinates;((e,t,a,o,i,n)=>{const l={lat:e,lon:t,distanceFromCurrentLoc:a/o,geohashprecision:i},d=null===m.a||void 0===m.a?void 0:m.a.calculateGH(l);n(Object(v.v)(null===d||void 0===d?void 0:d.length))})(t,e,re,se,ce,k),Object(u.pe)(null===b.b||void 0===b.b?void 0:b.b.address,S.a.ALREADY_SERACHED_LOCATIONS)}}));return Object(o.useEffect)((()=>{if(H&&(null===ee||void 0===ee?void 0:ee.length)>0&&$===te){(e=>{const{allStores:t,maxDistance:a,dispositionType:o,setActiveDisposition:i,distanceMetrics:n,maxDriveTimeMins:l,dispatch:d,tenantId:c,SetLocationClickHandler:r}=e;i(o);const s=Object(O.a)(t),u={stores:s,disposition:o,distanceMetrics:n,driveTime:l,distanceInMtrs:a,noOfStores:s.length,channel:b.b.channel},v=null===m.a||void 0===m.a?void 0:m.a.checkAndProceed(u);null!==v&&void 0!==v&&v.length?g(v,o,d,c):r()})({allStores:ee,maxDistance:me,dispositionType:Y,setActiveDisposition:U,distanceMetrics:de,maxDriveTimeMins:le,dispatch:k,tenantId:oe,SetLocationClickHandler:be})}}),[ee,te]),Object(o.useEffect)((()=>{const e={storesWithStatus:X,dispositionNew:ue,setAutoDetectFlow:W,activeDisposition:F,userOrderState:L,profileReducer:K,dispatch:k,tenantId:oe,userOrderStateDispatch:P,userParams:ne,tenantReducer:q,SetLocationClickHandler:be};H&&(null===X||void 0===X?void 0:X.length)>0&&I(e)}),[X,Z]),Object(x.jsx)(x.Fragment,{children:Object(u.Kd)(D)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{id:"kfc-banner-image",className:"setLocationData ".concat(window.location.pathname===r.Ae.NUTRITION_ALLERGEN?"for-nutrigen-banner":""),"data-testid":"banner-setLocation",children:[Object(x.jsx)(d.a,{"data-testid":"",srcFile:y,alt:_,className:"google-location-img"}),Object(x.jsx)("div",{className:"setLocationText",children:R}),Object(x.jsx)(c.c,{variant:c.b.tertiary,className:"setLocation-button",small:!0,"data-testid":"set-location-button",onClickHandler:ie?()=>{var e,t,a;k(Object(v.u)()),Object(C.o)(),G(!0),P({type:V,value:{autoDetectionClicked:!0}}),P({type:h.a.DISPOSITION_DATA,value:{showDisposition:!1}}),localStorage.setItem(r.gd.CONFIG_SEARCH_SCREEN,T.a),W(!0);null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(a=t.geolocation)||void 0===a||a.getCurrentPosition((()=>{k(Object(v.p)(z)),(async()=>{await Oe()})()}))}:be,children:w&&window.location.pathname===r.Ae.NUTRITION_ALLERGEN?Object(N.translateWithI18Next)(null===f.a||void 0===f.a?void 0:f.a.SET_YOUR_LOCATION):A}),w&&window.location.pathname===r.Ae.NUTRITION_ALLERGEN?Object(x.jsx)("span",{className:"arrow_white"}):""]}),Object(x.jsx)("hr",{role:"presentation",className:"setLocationdivider"})]})})}},980:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(36),l=a(43),d=a(15),c=a(25),r=a(0),s=a(2);const{Error:u}=d.a,v=e=>{const{show:t,errorObj:a,isInProgress:o,comingFrom:d}=e,{firstBtnCTA:v,secondBtnCTA:m,firstBtnText:b,secondBtnText:O,errMsg:j,firstBtnClassName:p=""}=a,h=Object(c.c)((e=>{var t;return null!==(t=(e=>{var t;return null===(t=e.LoaderReducer)||void 0===t?void 0:t.isLoading})(e))&&void 0!==t?t:o}));return Object(s.jsx)(i.a.Fragment,{children:!h&&(t?Object(s.jsx)("div",{className:"err-container",children:Object(s.jsxs)("div",{"data-testid":"search-error-container",className:"alert-location-popup",children:[Object(s.jsx)(l.a,{srcFile:u,className:"location-alert-icon"}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"location-error-message",children:j}),Object(s.jsxs)("div",{className:"location-error-button-section",children:[d!==r.a&&v&&Object(s.jsx)(n.a,{"data-testid":"first-btn-click",className:"button whiteButton blackBorder location-warning-button ".concat(p),onClickHandler:e=>v(e),children:b}),m&&Object(s.jsx)(n.a,{"data-testid":"second-btn-click",className:"button whiteButton blackBorder location-warning-button ml",onClickHandler:e=>m(e),children:O})]})]})]})}):null)})};v.defaultProps={comingFrom:""};const m=i.a.memo(v);t.a=m},981:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"c",(function(){return k}));var o=a(3),i=a.n(o),n=a(25),l=a(61),d=a(43),c=a(36),r=a(318),s=a(101),u=a(6),v=a(5),m=a(921),b=a(15),O=a(4),j=a(76),p=a(14),h=a(0),g=a(38),I=a(1019),S=a(2);const{GET_DIRECTION:f,MORE_INFO:N,VIEW_MENU:C,SCHEDULE_ORDER:T,ORDER_NOW:E,BROWSE_MENU:x}=O.a,{Direction:D,AccordianArrow:y,phoneImg:_,FavoriteFillImage:A,FavoriteUnfillImage:R,InfoIcon:L}=b.a,{RESTAURANT:P}=h.Ae||{},w=(e,t,a,o)=>{const{history:i,dispatch:n,tenantId:l,userParams:d,basketId:c,foodLines:s,enableDeliveryMenuOption:u}=t;Object(r.H)(e,i,n,{tenantId:l,userParams:d,userOrderState:a,store:o,basketId:c,foodLines:s,enableDeliveryMenuOption:u}),e({type:p.a.FAV_STORE_NOT_IN_RADIUS,value:{showNotInRadiusError:!1}}),e({type:p.a.ORDER_MODE_BROWSE_MENU_CLICK,value:{orderModeBrowseMenuBtnClicked:!0}})},M=e=>{const t=Object(v.Pd)(e),a=Object(v.Od)(e);return Boolean(a||t)},k=(e,t,a,o)=>e||t&&(!a||!o),F=e=>{const{testid:t,getStore:a,buttonText:o,orderObj:i,goToMenuObj:n,enableClickCollectScheduleOrderFlag:l,enableScheduleOrder:d,enableOrderCapacityManagement:s}=e,m=o===T?c.b.tertiary:c.b.primary;return Object(S.jsx)(c.c,{"data-testid":t,variant:m,onClickHandler:e=>(e=>{const{event:t,buttonText:a,getStore:o,orderObj:i,goToMenuObj:n,enableScheduleOrder:l,enableClickCollectScheduleOrderFlag:d,enableOrderCapacityManagement:c}=e,{store:s,userOrderStateDispatch:u,userOrderState:m,componentOptions:b}=i,O=M(s),j=Object(v.wd)(s),h={event:t,store:s,userOrderStateDispatch:u,userOrderState:m,componentOptions:b,isFutureTimeDate:O},g=null===o||void 0===o?void 0:o.open;if(a===T)return Object(r.N)({...h,flag:T});var I,S;k(d,l,g,j)&&(null!==m&&void 0!==m&&null!==(S=m.reorderFlag)&&void 0!==S&&S.fromReorderFlag?(u({type:p.a.SET_ORDER_NOW_REORDER,value:{showOrderNowReorder:!0}}),u({type:p.a.SET_SCHEDULE_ORDER_REORDER,value:{showScheduleOrderReorder:!1}}),u({type:p.a.REORDER_STORE_CHANGED,value:{storeChanged:!0}}),u({type:p.a.REORDER_MODAL_OPEN,value:{reorderModalOpen:!0}}),u({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),u({type:p.a.CURRENT_STORE_INFO,value:s})):(u({type:p.a.SET_ORDER_NOW,value:{showOrderNow:!1}}),u({type:p.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:!0}})),u({type:p.a.SET_ASAP_SCHEDULING,value:{enableASAPScheduling:!0}})),null!==m&&void 0!==m&&null!==(I=m.reorderFlag)&&void 0!==I&&I.fromReorderFlag||(Boolean(!c&&(d||l&&a===x))&&w(u,n,m,s),Boolean(l&&(a===E||a===x&&c))&&Object(r.N)({...h,flag:E}))})({event:e,buttonText:o,getStore:a,orderObj:i,goToMenuObj:n,enableClickCollectScheduleOrderFlag:l,enableScheduleOrder:d,enableOrderCapacityManagement:s}),children:Object(u.translateWithI18Next)(o)})},U=(e,t,a,o,i)=>Object(S.jsx)(S.Fragment,{children:o&&Object(S.jsxs)("div",{children:[Object(S.jsxs)(c.c,{variant:"link dark","data-testid":"more-info",className:"kfcmoreInfo",onClick:()=>a(e),children:[Object(S.jsx)("img",{src:L,alt:"icon",className:"KfcMoreinfo"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(N)})]}),Object(S.jsx)("a",{className:"kfcdirectionLink",href:Object(v.Cb)(null===t||void 0===t?void 0:t.storeAddress,i),target:"_blank",rel:"noreferrer noopener",children:Object(S.jsxs)("span",{className:"kfcdirection",children:[Object(S.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(f)})]})})]})}),H=(e,t,a,o,i,n,l)=>Object(S.jsx)(S.Fragment,{children:e&&!t&&Object(S.jsx)(c.c,{variant:null!==a&&void 0!==a&&a.storeOpen?c.b.primary:c.b.tertiary,"data-testid":"view-menu",onClick:()=>w(o,i,n,l),children:Object(u.translateWithI18Next)(C)})}),W=(e,t,a,o)=>Object(S.jsx)(S.Fragment,{children:!e&&!t&&Object(S.jsx)("div",{className:"kfcdirectionLink map-link","data-testid":"map-handler",onClick:()=>a(null===o||void 0===o?void 0:o.id),children:Object(S.jsxs)("span",{className:"kfcdirection",children:[Object(S.jsx)("img",{src:D,alt:"direction",className:"KfcDirectionIcon"}),Object(S.jsx)("span",{children:Object(u.translateWithI18Next)(f)})]})})}),B=(e,t)=>!Object(v.Ad)(null===e||void 0===e?void 0:e.service)||Boolean(!Object(v.wd)(e)&&!M(e)||t)&&x,G=(e,t,a,o)=>e&&!t||t&&B(a,o),V=e=>{var t,a,i,b,f,N,C,D,L,k,V,Y,z,K,q,J,Q,X,Z,$,ee;const{store:te,isMapView:ae,centerIndex:oe,storeLength:ie,loggedIn:ne,onClickMapHandler:le,storeOpenBtnText:de,findAKFC:ce,storeNumberFormat:re}=e,{tenantId:se,componentOptions:ue={},enableOrderCapacityManagement:ve=!1,savedAddressPage:me,is24HoursFormatEnabled:be,isViewMenuDisabled:Oe,enableDeliveryMenuOption:je}=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),pe=Object.keys(te).length&&Object(r.i)(null===te||void 0===te||null===(t=te.summary)||void 0===t?void 0:t.availableCollectionPoints);let he=Object.keys(te).length&&Object(r.w)(te,ce,pe,null,me.showStateCityAddAddress,be);const ge=null===(a=Object(r.A)(null===he||void 0===he?void 0:he.dispositionService,null===he||void 0===he?void 0:he.storeTiming))||void 0===a?void 0:a.storeTimingData,Ie={};null===ge||void 0===ge||ge.forEach((e=>{var t,a;const{day:o}=e;Ie[o]||(Ie[o]={closed:!1,data:null}),(null===e||void 0===e||null===(t=e.availableHours)||void 0===t?void 0:t.from)===Object(u.translateWithI18Next)(null===O.a||void 0===O.a?void 0:O.a.CLOSED_HOURS)&&(null===e||void 0===e||null===(a=e.availableHours)||void 0===a?void 0:a.to)===Object(u.translateWithI18Next)(null===O.a||void 0===O.a?void 0:O.a.CLOSED_HOURS)&&(Ie[o].closed=!0,Ie[o].data=e)}));const Se=null===ge||void 0===ge?void 0:ge.filter((e=>{var t,a;const{day:o}=e;return null===(t=Ie[o])||void 0===t||!t.closed||(null===(a=Ie[o])||void 0===a?void 0:a.data)===e})),{customerId:fe}=Object(n.c)((e=>null===e||void 0===e?void 0:e.profileReducer)),Ne=null===ue||void 0===ue||null===(i=ue.web)||void 0===i||null===(b=i.dispositionConfig)||void 0===b?void 0:b.enableScheduleOrder,Ce=null===ue||void 0===ue||null===(f=ue.web)||void 0===f||null===(N=f.storeSearch)||void 0===N?void 0:N.enableDateHighlight,Te=null===ue||void 0===ue||null===(C=ue.web)||void 0===C||null===(D=C.dispositionConfig)||void 0===D?void 0:D.enableAsapOrder,Ee=null===ue||void 0===ue||null===(L=ue.web)||void 0===L||null===(k=L.dispositionConfig)||void 0===k?void 0:k.enableClickCollectScheduleOrder,xe=null===ue||void 0===ue||null===(V=ue.web)||void 0===V||null===(Y=V.scheduledDelivery)||void 0===Y?void 0:Y.allowScheduleOrderForDispositions,De=null===ue||void 0===ue||null===(z=ue.web)||void 0===z?void 0:z.findStoreRedirectionUrlRegex,ye=null===ue||void 0===ue||null===(K=ue.web)||void 0===K||null===(q=K.dispositionConfig)||void 0===q?void 0:q.disableScheduleOrderForNotAliveStore,_e=Ee&&(null===xe||void 0===xe?void 0:xe.includes(null===he||void 0===he?void 0:he.dispositionService)),Ae=Ne||_e,Re=Object(n.c)((e=>{var t;return(null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus)||{}})),{id:Le="",foodLines:Pe=[]}=null!==(J=Object(n.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})))&&void 0!==J?J:{},we=Object(n.b)(),{userOrderState:Me,userOrderStateDispatch:ke}=Object(o.useContext)(j.a),Fe=Object(l.g)(),Ue={history:Fe,dispatch:we,tenantId:se,userParams:Re,basketId:Le,foodLines:Pe,enableDeliveryMenuOption:je},He=null===ue||void 0===ue||null===(Q=ue.web)||void 0===Q||null===(X=Q.restaurantDetailPage)||void 0===X?void 0:X.favStoreToastMsg,We={enableScheduleOrderFlag:Ae,store:te,userOrderStateDispatch:ke,userOrderState:Me,componentOptions:ue},Be=Object(s.t)(te,Ae,_e,!1,!1,!1,!1,ye),Ge=(e=>{let{store:t,enableScheduleOrderFlag:a,enableAsapOrder:o,getStore:i,isStoreOrderSchedulingUnavailable:n}=e;return o&&(null===t||void 0===t?void 0:t.service)===g.a.DELIVERY_SERVICE?B(t,n):a&&Object(v.wd)(t)&&null!==i&&void 0!==i&&i.storeOpen?E:x})({store:te,enableScheduleOrderFlag:Ae,enableAsapOrder:Te,getStore:he,isStoreOrderSchedulingUnavailable:Be});return Object(S.jsx)("div",{id:"store-card-".concat(null===te||void 0===te?void 0:te.id),className:"store-card-container ".concat(ae&&"map-card"),"data-testid":"store-card",children:Object(S.jsxs)("div",{className:"store-card-main-content-container",children:[Object(S.jsxs)("div",{className:"store-card-storename-dist-container",children:[Object(S.jsxs)("div",{className:"store-card-storename-dist-section ".concat(ae&&"map-view"),children:[Object(S.jsx)("div",{className:"store-card-storename store-card-name","data-testid":"store-name",children:null===he||void 0===he?void 0:he.storeName}),Object(S.jsx)("div",{className:"store-distance","data-testid":"store-card-distance",children:null===he||void 0===he?void 0:he.storeMile})]}),ae&&Object(S.jsx)("span",{className:"store-index",children:"".concat(oe+1," of ").concat(ie)})]}),Object(S.jsxs)("div",{className:"store-card-content-container",children:[Object(S.jsxs)("div",{className:"store-card-ordertypes",children:[null===he||void 0===he?void 0:he.storeOrderTypes,(null===he||void 0===he?void 0:he.dispositionService)===h.T&&null!==he&&void 0!==he&&he.availabilityLevel?Object(S.jsx)("span",{className:"store-card-order-option store-card-order-option-data store-card-order-option-availability",children:"".concat(Object(u.translateWithI18Next)(g.a.AVAILABLE)," ").concat(null===he||void 0===he?void 0:he.availabilityLevel)}):""]}),Object(S.jsxs)("div",{className:"store-card-store-address",children:[Object(S.jsx)("span",{className:"store-address","data-testid":"store-card-address",children:null===he||void 0===he?void 0:he.storeAddress}),Object(S.jsxs)("div",{"data-testid":"toggle-hours",onClick:()=>Object(r.V)(null===te||void 0===te?void 0:te.id),id:"hours-".concat(null===te||void 0===te?void 0:te.id),className:"store-timing-msg",children:[Object(S.jsx)("span",{children:null===he||void 0===he?void 0:he.storeTimeMessage}),Object(S.jsx)("span",{className:"ml-2 caretIcon",children:Object(S.jsx)(d.a,{id:"caret-".concat(null===te||void 0===te?void 0:te.id),srcFile:y,alt:"caretIcon"})})]}),Object(S.jsxs)("div",{id:"view-".concat(null===te||void 0===te?void 0:te.id),className:"hours-view hoursHidden",children:[!(null===(Z=Object(r.A)(null===he||void 0===he?void 0:he.dispositionService,null===he||void 0===he?void 0:he.storeTiming))||void 0===Z||null===($=Z.storeTimingData)||void 0===$||!$.length)&&Object(S.jsx)("div",{className:"dispotion-hours-text",children:Object(r.B)(null===te||void 0===te?void 0:te.service)}),null===Se||void 0===Se?void 0:Se.map((e=>Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:"hours-text",children:[Object(S.jsx)("span",{className:"day-details",children:Object(I.c)(e,Ce)}),Object(S.jsxs)("span",{className:"time-details",children:[Object(I.d)(e,Ce,be)," "]})]})},null===e||void 0===e?void 0:e.day))),Object(r.d)(te)&&Object(S.jsxs)("div",{className:"mt15",children:[Object(S.jsx)("span",{className:"contact-icon",children:Object(S.jsx)(d.a,{id:"phoneImg-".concat(null===te||void 0===te?void 0:te.id),srcFile:_,alt:"\u2121"})}),Object(S.jsx)("a",{"data-testid":"store-number",href:"tel:".concat(Object(r.d)(te)),className:"contact-info ml-2",children:Object(r.n)(Object(r.d)(te),re)})]})]}),W(ae,ce,le,te),U(te,he,(e=>{var t,a,o,i;const n=null===e||void 0===e||null===(t=e.summary)||void 0===t?void 0:t.name.split(" ").join("-").toLowerCase(),l=null===te||void 0===te||null===(a=te.addresses)||void 0===a||null===(o=a[0])||void 0===o||null===(i=o.address)||void 0===i?void 0:i.pinCode;Fe.push({pathname:"".concat(P,"/").concat(n,"/").concat(l),state:{storeId:null===e||void 0===e?void 0:e.id}}),ke({type:p.a.DISPOSITION_DATA,value:{showDisposition:!1}}),ke({type:p.a.SEARCH_ORDER_DATA,value:{showSearchStore:!1}}),ke({type:p.a.SET_FIND_A_KFC_VIEW,value:{findAKFC:!1}})}),ce,De)]}),Object(S.jsx)("div",{className:"facilities",children:null===(ee=Object(m.a)(te))||void 0===ee?void 0:ee.map((e=>Object(S.jsx)(d.a,{"data-testid":"",srcFile:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.label,className:"facility-img",title:null===e||void 0===e?void 0:e.label},null===e||void 0===e?void 0:e.key)))})]}),Object(S.jsxs)("div",{className:"search-store-card-button",children:[ne&&Object(S.jsx)(d.a,{"data-testid":"favorite-img",srcFile:null!==te&&void 0!==te&&te.isFavoriteStore?A:R,alt:"favorite",className:"favorite-img",onClick:()=>null!==te&&void 0!==te&&te.isFavoriteStore?Object(r.L)(te,we,se,fe,He):Object(r.a)(te,we,se,fe,He)}),H(ce,Ae,he,ke,Ue,Me,te),!ce&&!Ae&&Object(S.jsx)(c.c,{"data-testid":"schedule-order",variant:c.b.primary,onClickHandler:e=>null!==he&&void 0!==he&&he.storeOpen?Object(r.N)({event:e,store:te,userOrderStateDispatch:ke,userOrderState:Me,componentOptions:ue}):w(ke,Ue,Me,te),children:Object(r.C)(ce,null===he||void 0===he?void 0:he.storeOpen,de)}),!Oe&&G(Ae,Te,te,Be)&&F({testid:null===g.a||void 0===g.a?void 0:g.a.ORDER_NOW,getStore:he,buttonText:Ge,orderObj:We,goToMenuObj:Ue,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ne,enableOrderCapacityManagement:ve}),Ae&&(M(te)||ve)&&!Be&&F({testid:g.a.ORDER_SCHEDULE,getStore:he,buttonText:T,orderObj:We,goToMenuObj:Ue,enableClickCollectScheduleOrderFlag:_e,enableScheduleOrder:Ne,enableOrderCapacityManagement:ve})]})]})},null===te||void 0===te?void 0:te.id)},Y=i.a.memo(V);t.a=Y},982:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return u}));var o=a(3),i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},i(e,t)};var n=50,l=50;function d(e){var t=e.className,a=e.counterClockwise,i=e.dashRatio,n=e.pathRadius,l=e.strokeWidth,d=e.style;return Object(o.createElement)("path",{className:t,style:Object.assign({},d,r({pathRadius:n,dashRatio:i,counterClockwise:a})),d:c({pathRadius:n,counterClockwise:a}),strokeWidth:l,fillOpacity:0})}function c(e){var t=e.pathRadius,a=e.counterClockwise?1:0;return"\n      M "+n+","+l+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+a+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+a+" 1 1 0,-"+2*t+"\n    "}function r(e){var t=e.counterClockwise,a=e.dashRatio,o=e.pathRadius,i=2*Math.PI*o,n=(1-a)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-n:n)+"px"}}var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,a=e.minValue,o=e.maxValue;return(Math.min(Math.max(t,a),o)-a)/(o-a)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,a=e.className,i=e.classes,c=e.counterClockwise,r=e.styles,s=e.strokeWidth,u=e.text,v=this.getPathRadius(),m=this.getPathRatio();return Object(o.createElement)("svg",{className:i.root+" "+a,style:r.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?Object(o.createElement)("circle",{className:i.background,style:r.background,cx:n,cy:l,r:50}):null,Object(o.createElement)(d,{className:i.trail,counterClockwise:c,dashRatio:t,pathRadius:v,strokeWidth:s,style:r.trail}),Object(o.createElement)(d,{className:i.path,counterClockwise:c,dashRatio:m*t,pathRadius:v,strokeWidth:s,style:r.path}),u?Object(o.createElement)("text",{className:i.text,style:r.text,x:n,y:l},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(o.Component);function u(e){var t=e.rotation,a=e.strokeLinecap,o=e.textColor,i=e.textSize,n=e.pathColor,l=e.pathTransition,d=e.pathTransitionDuration,c=e.trailColor,r=e.backgroundColor,s=null==t?void 0:"rotate("+t+"turn)",u=null==t?void 0:"center center";return{root:{},path:v({stroke:n,strokeLinecap:a,transform:s,transformOrigin:u,transition:l,transitionDuration:null==d?void 0:d+"s"}),trail:v({stroke:c,strokeLinecap:a,transform:s,transformOrigin:u}),text:v({fill:o,fontSize:i}),background:v({fill:r})}}function v(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}},983:function(e,t,a){},985:function(e,t,a){"use strict";var o=a(3),i=a(927),n=a(2);t.a=e=>{const{endTime:t=new Date}=e,[a,l]=Object(o.useState)(Object(i.d)(t));return Object(o.useEffect)((()=>{let e;return Object(i.e)(t)?e=setTimeout((()=>{l(Object(i.d)(t))}),1e3):l("00HR : 00M : 00S"),()=>{clearTimeout(e)}})),Object(n.jsx)("span",{"data-testid":"timer","aria-live":"polite",children:a})}},986:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(43),l=a(213),d=a(25),c=a(36),r=a(6),s=a(15),u=a(12),v=a(13),m=a(923),b=a(74),O=a(0),j=a(4),p=a(5),h=a(927),g=a(901),I=a(2);t.a=e=>{var t,a,o;const{smallText:S,titleValue:f,imageName:N,item:C,tenantId:T,setConfirmationModal:E,setViewDetailsHandler:x,showMultiProductModal:D,dispositionType:y,addToOrderClickHandler:_,startOrderClickHandler:A,promosApplied:R,basketData:L,setViewCartHandler:P,setDispositionHandler:w,createSignInURL:M,page:k,loggedIn:F,localized:U,setLocationClickHandler:H}=e,{ITEM_IN_CART:W,ONE_PROMO_APPLIED:B,DELIVERY_PROMOTION:G,PICKUP_PROMOTION:V,VIEW_MENU:Y,START_ORDER:z,VIEW_PRODUCT:K,PROMO_ADD_TO_CART:q,VIEW_DETAILS:J,CHANGE_PICKUP:Q,CHANGE_DELIVERY:X,VIEW_CART:Z,GUEST_USER_SINGIN_TEXT:$,SIGNIN_TEXT:ee,CHECK_BACK_AGAIN:te,THATS_ALL_FOR_NOW:ae,CATERING_PROMO_ERROR:oe,NO_IMAGE:ie}=j.a,{SignInCard:ne,Error_Yellow:le,GreenCheck:de,Applied_CouponIcon:ce}=s.a,{DEFAULT_IMAGE_PATH:re}=m.a,se=(null===L||void 0===L||null===(t=L.foodLines)||void 0===t?void 0:t.length)||0,ue=Object(d.c)((e=>e.tenantReducer)),ve={userType:Object(p.gd)(U,F),couponCode:e.couponCode,dispositionType:e.dispositionType,titleValue:null===C||void 0===C?void 0:C.titleValue},{componentOptions:{web:{plp:{promosRewardsImage:me}={},coupons:be={}}={}}={}}=null!==ue&&void 0!==ue?ue:{},{cardImagePath:Oe,useBucketSize:je}=be,pe=null===ue||void 0===ue||null===(a=ue.componentOptions)||void 0===a||null===(o=a.coupons)||void 0===o?void 0:o.noAvailableCouponsLongText,he=t=>{if(null!==t&&void 0!==t&&t.isApplied&&se&&null!==t&&void 0!==t&&t.itemDetails)return Object(I.jsx)("div",{onClick:t=>P(e),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(Z)})});if(null!==t&&void 0!==t&&t.isApplied||!R){let e=y===O.ee?Object(r.translateWithI18Next)(X):Object(r.translateWithI18Next)(Q),t=y===O.ee?O.yb:O.ee;return Object(I.jsx)("div",{onClick:e=>w(t),className:"promos-tost-link","data-testid":"change-deals-handler",children:Object(I.jsx)("u",{children:e})})}return""},ge=()=>{return Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(k===O.ge&&"plp-toast-item"),children:Object(I.jsxs)("div",{className:"promos-tost-container ".concat((null===C||void 0===C?void 0:C.isApplied)&&"greenbg"),children:[Object(I.jsxs)("div",{className:"promos-tost-icon ",children:[(null===C||void 0===C?void 0:C.isApplied)&&se&&(null===C||void 0===C?void 0:C.itemDetails)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:de,className:"promos-store-image green-icon",alt:""})}),!(null!==C&&void 0!==C&&C.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(l.a,{src:le,className:"promos-store-image ".concat(k===O.ge&&"plp-promos-store-image"),alt:""})})]}),Object(I.jsxs)("div",{className:"promos-tost-text-container",children:[Object(I.jsx)("div",{className:"promos-tost-text",children:Object(p.yd)(y)?Object(r.translateWithI18Next)(oe):(e=C,null!==e&&void 0!==e&&e.isApplied&&se&&null!==e&&void 0!==e&&e.itemDetails?Object(r.translateWithI18Next)(W)+".":null!==e&&void 0!==e&&e.isApplied||!R?y===O.ee?Object(r.translateWithI18Next)(G):Object(r.translateWithI18Next)(V):Object(r.translateWithI18Next)(B))}),Object(p.yd)(y)?null:he(C)]})]})})});var e},Ie=t=>{var a,o,n,d,s;if(Object(p.db)(Object(p.yd)(y),!(null!==t&&void 0!==t&&t.employeePromotion)))return ge();let u=null===t||void 0===t||null===(a=t.termsAndConditions[0])||void 0===a?void 0:a.parameter;return null===t||void 0===t||null===(o=t.termsAndConditions)||void 0===o||o.forEach((e=>{var t,a;Object(p.fb)(null===e||void 0===e||null===(t=e.parameter)||void 0===t?void 0:t.includes(O.yb),null===e||void 0===e||null===(a=e.parameter)||void 0===a?void 0:a.includes(O.ee))&&(u=null===e||void 0===e?void 0:e.parameter)})),R&&Object(p.db)(!(null!==t&&void 0!==t&&t.isApplied),!(null!==t&&void 0!==t&&t.employeePromotion))?ge():Object(p.fb)(null===(n=u)||void 0===n?void 0:n.includes(y),Object(p.db)(!(null!==(d=u)&&void 0!==d&&d.includes(O.yb)),!(null!==(s=u)&&void 0!==s&&s.includes(O.ee))))?null!==t&&void 0!==t&&t.itemDetails?(Se(),null!==t&&void 0!==t&&t.isApplied?ge():Object(I.jsx)(i.a.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.db)(k===O.ge,"plp-promosButton-item")),"data-testid":"promos-product-button",children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>U?D(e,t):H(e),disabled:null===C||void 0===C?void 0:C.isApplied,"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(f),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(K)})})})):Object(I.jsxs)(i.a.Fragment,{children:[(null===C||void 0===C?void 0:C.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"promosButton-item ".concat(Object(p.db)(k===O.ge,"plp-promosButton-item")),children:[Object(I.jsx)("div",{className:"promos-checked-icon ".concat(k===O.ge&&"plp-promos-checked-icon"),onClick:t=>E(e,t),"data-testid":"greentick-button",children:Object(I.jsx)(l.a,{src:ce,className:"promos-appled-icon ".concat(Object(p.db)(k===O.ge,"plp-promos-appled-icon")),alt:""})}),Object(I.jsx)(c.c,{variant:null!==C&&void 0!==C&&C.isApplied&&!se?c.b.primary:c.b.tertiary,onClick:t=>A(e,t),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(f),children:se?Object(r.translateWithI18Next)(Y):Object(r.translateWithI18Next)(z)})]})}),!(null!==C&&void 0!==C&&C.isApplied)&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("div",{className:"promosButton-item ".concat(Object(p.db)(k===O.ge,"plp-promosButton-item")),children:Object(I.jsx)(c.c,{variant:c.b.secondary,onClick:t=>U?_(e,t):H(e),"data-testid":"promos-and-rewards-image-text-button","aria-label":"".concat(Object(r.translateWithI18Next)(J)," ").concat(f),className:"plp-promosButton-alignment",children:Object(r.translateWithI18Next)(q)})})})]}):ge()},Se=()=>{Object(p.db)(!se,localStorage.getItem(O.gd.ADD_TO_ORDER))&&localStorage.removeItem(O.gd.ADD_TO_ORDER)},fe=()=>Object(I.jsx)("div",{className:"slick-slide medium-card-offers-deals",children:Object(I.jsxs)("div",{className:"promosCard-content ".concat(Object(p.db)(pe,"alignCenter")),children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title small-text ".concat(Object(p.db)(k===O.ge,"plp-empty-card-title")," ").concat(Object(p.db)(pe,"longText")),children:Object(I.jsxs)("span",{className:"promosCard-ellipsis-text  ".concat(Object(p.db)(pe,"longTextLines")),children:[" ",Object(r.translateWithI18Next)(ae)]})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text small-text emptycard",children:Object(r.translateWithI18Next)(te)})]})}),Ne=()=>Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(l.a,{src:ne,className:"offers-store-image",alt:""}),Object(I.jsx)("h3",{className:"offer-login-text ".concat(Object(p.db)(k===O.ge,"plp-offer-login-text")),children:Object(r.translateWithI18Next)(ee)}),Object(I.jsx)("div",{className:"offer-store-btn-container ".concat(Object(p.db)(k===O.ge,"plp-offer-store-btn-container")," "),children:Object(I.jsx)(c.a,{"data-testid":"sign-in-btnid",onClick:()=>M(),className:"store-btn signin-offers-btn",children:Object(r.translateWithI18Next)($)})})]});return Object(I.jsx)(i.a.Fragment,{children:(()=>{if(me&&k===O.ge)switch(null===C||void 0===C?void 0:C.cardType){case"empty":return fe();case"login":return Ne();default:return Object(I.jsxs)("div",{className:"plp-promosCard-content promosCard-content",children:[Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-title promosOnlyTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"plp-promosOnlyTextCard-text promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"plp-view-all-text view-all-text",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"plp-offersViewAll-link offersViewAll-link","data-testid":"plp-view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(C)]})}switch(null===C||void 0===C?void 0:C.cardType){case"image-text":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"promosImageText-background",children:Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:Oe,imageName:N}),alt:Object(r.translateWithI18Next)(ie),defaultPath:"".concat(Object(v.a)(u.Kb)).concat(T).concat(re),className:"promosImageText-background-img"})}),Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosImageTextCard-title",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text","data-testid":"promos-card-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"promosCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:()=>{Object(g.f)(ve),x(e)},className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{"data-testid":"view-details-link",children:Object(r.translateWithI18Next)(J)})})}),Ie(C)]})]});case"image":return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(n.a,{srcFile:Object(h.c)({tenantId:T,useBucketSize:je,imagePath:Oe,imageName:N}),alt:Object(r.translateWithI18Next)(ie),defaultPath:"".concat(Object(v.a)(u.Kb)).concat(T).concat(re),className:"promosOnlyImage-background"}),Object(I.jsxs)("div",{className:"promosCard-content promosFullImageCard-content ".concat(Object(p.db)(R,"promos-applied")),children:[Object(I.jsx)("div",{className:"view-all-text fullImageText-item",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(C)]})]});case"text":return Object(I.jsxs)("div",{className:"promosCard-content",children:[Object(I.jsx)("div",{className:"promosOnlyTextCard-title ".concat(k),children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(f)})}),Object(I.jsx)("div",{className:"promosOnlyTextCard-text",children:Object(I.jsx)("span",{className:"promosCard-ellipsis-text",children:Object(b.l)(S)})}),Object(I.jsx)("div",{className:"view-all-text",children:Object(I.jsx)("div",{onClick:t=>x(e),className:"offersViewAll-link","data-testid":"view-all-deals-handler",children:Object(I.jsx)("u",{children:Object(r.translateWithI18Next)(J)})})}),Ie(C)]});case"empty":return fe();case"login":return Ne()}})()})}},987:function(e,t,a){"use strict";a(3);var o=a(25),i=a(6),n=a(4),l=a(0),d=a(5),c=a(36),r=a(979),s=a(2);t.a=e=>{var t,a,u;const{setLocationClickHandler:v,page:m}=e,{SEE_PROMOS_FOR_YOU:b,SET_LOCATION:O}=n.a,j={buttonText:Object(i.translateWithI18Next)(O)},{tenantReducer:p}=Object(o.c)((e=>e)),h=null===p||void 0===p||null===(t=p.componentOptions)||void 0===t||null===(a=t.web)||void 0===a||null===(u=a.dispositionConfig)||void 0===u?void 0:u.enableAutoSetLocation;return Object(s.jsx)("div",{id:"startorder-container","data-testid":"set-locaton-component",children:Object(s.jsx)("div",{"data-testid":"start-order-items",className:"sc-dlnjwi redBg headerBottom ".concat(Object(d.db)(m===l.ge,"plp-headBottom")),id:"start-order-component",children:Object(s.jsxs)("div",{className:"headBottomParent",children:[Object(s.jsx)("div",{className:"headBottomTxt ".concat(Object(d.db)(m===l.ge,"plp-headBottomTxt")),children:Object(i.translateWithI18Next)(b)}),h?Object(s.jsx)(r.a,{setLocationdata:j}):Object(s.jsx)(c.c,{onClick:()=>v(),variant:c.b.secondary,inverted:!0,role:"button","aria-label":"Start Order","data-testid":"set-location-buttonId",id:"startOrderItemButton",type:"button",children:Object(s.jsx)("span",{children:Object(i.translateWithI18Next)(O)})})]})})})}},988:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(6),l=a(15),d=a(12),c=a(13),r=a(121),s=a(36),u=a(5),v=a(74),m=a(923),b=a(4),O=a(325),j=a(927),p=a(25),h=a(2);const{Error_Yellow:g}=l.a,{DEFAULT_IMAGE_PATH:I}=m.a,{VIEW_DETAILS:S,VALID_TO:f,REVEIW_CONDITION:N,GOT_IT_BUTTON:C,NO_IMAGE:T,EXPIRE_DATE:E}=b.a;t.a=e=>{var t,a,o,l;const{isDealModalOpen:m,handleClose:b,viewDetailsData:x,tenantId:D}=Object(u.kd)(e),{description:y}=Object(u.kd)(x),_=null===y||void 0===y?void 0:y.replace(/\n/g,"<br />"),{item:A}=Object(u.kd)(x),{imageName:R,validityEndTime:L,titleValue:P,termsAndConditions:w,legalText:M,hideEndDate:k}=Object(u.kd)(A),F=()=>null===w||void 0===w?void 0:w.map(((e,t)=>Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:null===e||void 0===e?void 0:e.message})},t))),{componentOptions:U}=null!==(t=Object(p.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)))&&void 0!==t?t:{},{detailsImagePath:H,useBucketSize:W}=(null===U||void 0===U||null===(a=U.web)||void 0===a?void 0:a.coupons)||{},B={id:"viewDetailsPopUp",role:"dialog",modalTitleId:"viewDetailsPopUp",show:{isProductModalOpen:m},classNames:"view-details-wrapper-modal white-background",showCloseBtn:!0,closeButtonHandler:b,modalTitle:Object(n.translateWithI18Next)(S),autoFocus:!0};return Object(h.jsx)(i.a.Fragment,{children:Object(h.jsx)(r.a,{...B,"data-testid":"offers-deals-modal-testid",children:Object(h.jsxs)("div",{className:"view-details-wrapper",children:[A&&Object(h.jsxs)(i.a.Fragment,{children:[Object(h.jsx)("div",{className:"view-details-img",children:Object(h.jsx)(O.a,{srcFile:Object(j.c)({tenantId:D,useBucketSize:W,imagePath:H,imageName:R}),alt:Object(n.translateWithI18Next)(T),defaultPath:"".concat(Object(c.a)(d.Kb)).concat(D).concat(I),className:"veiw-detail-img-section"})}),Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("h5",{className:"delivery-content",children:P}),Object(h.jsxs)("div",{className:"view-details-small-text",children:[Object(h.jsx)("div",{children:!k&&"".concat(Object(n.translateWithI18Next)(null!==U&&void 0!==U&&null!==(o=U.coupons)&&void 0!==o&&o.YYYYMMDDWithSlash?E:f)," ").concat(Object(v.b)(L,null===U||void 0===U||null===(l=U.coupons)||void 0===l?void 0:l.YYYYMMDDWithSlash))}),Object(h.jsx)("div",{children:M})]}),(null===w||void 0===w?void 0:w.length)&&Object(h.jsx)("div",{className:"review-condition",children:Object(h.jsxs)("div",{className:"condition-wrapper",children:[Object(h.jsx)(O.a,{srcFile:g,className:"location-alert-icon"}),Object(h.jsx)("div",{className:"review-text",children:Object(n.translateWithI18Next)(N)})]})}),Object(h.jsx)("div",{className:"list-item",children:Object(h.jsx)(F,{})}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(C)})})})]})]}),y&&Object(h.jsxs)("div",{className:"veiw-detail-section",children:[Object(h.jsx)("p",{dangerouslySetInnerHTML:{__html:_}}),Object(h.jsx)("div",{className:"offers-modal-deals-footer got-it-button-container",children:Object(h.jsx)(s.a,{"data-testid":"got-it-button",disabled:!1,onClick:()=>b(),className:"got-it-button",children:Object(h.jsx)("span",{className:"btn-text",children:Object(n.translateWithI18Next)(C)})})})]})]})})})}},991:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(6),l=a(212),d=a(43),c=a(15),r=a(5),s=a(4),u=a(2);const v=e=>{const{isAlert:t,show:a,sectionHeader:o,subSectionValue:i,orderTypeChange:v,onClickHandler:m,description:b,storeUnavailableError:O,showChangeButton:j=!0,scheduleTimeWarning:p=!1,scheduleErrMsg:h="",cssSubsection:g,specialNote:I="",dataTestid:S="",elementUniqueLocator:f}=e;return a?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(n.translateWithI18Next)(o)}),Boolean(O)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(r.Tc)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(d.a,{srcFile:t&&c.a.Error_Yellow||c.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(n.translateWithI18Next)(O)}})]}),Boolean(p)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(d.a,{srcFile:c.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:h})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(g),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:i}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),I&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(n.translateWithI18Next)(null===s.a||void 0===s.a?void 0:s.a.SPECIAL_NOTE)," ",I]}),Object(u.jsx)("div",{className:"border-bottom"}),j&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(l.a,{"aria-label":"Edit order type",onClickHandler:m,"data-testid":f?S:"dynamic-click-test",children:Object(n.translateWithI18Next)(v)})})]})]}):null},m=i.a.memo(v);t.a=m},992:function(e,t,a){"use strict";var o=a(3),i=a(73),n=a.n(i),l=a(76),d=a(61),c=a(25),r=a(328),s=a(6),u=a(84),v=a(92),m=a(905),b=a(2);t.a=()=>{const{ALERT_TEXT:e,ALERT_CONFIRM_TEXT:t,ALERT_CANCEL_TEXT:a}=m.a,{userOrderStateDispatch:i}=Object(o.useContext)(l.a),O=Object(d.g)(),j=Object(c.b)(),{showCartAlert:p}=Object(r.a)(void 0,void 0,void 0,void 0,i,j,void 0),h=Object(b.jsx)(v.a,{handleClose:()=>p(!1),classNames:"",CartAlertForm:Object(b.jsx)(u.a,{title:Object(s.translateWithI18Next)(e),confirmButtonText:Object(s.translateWithI18Next)(t),cancelButtonText:Object(s.translateWithI18Next)(a),cancelHandler:()=>p(!1),confirmHandler:()=>(p(!1),O.push({pathname:"/cart"}),void window.scrollTo(0,0))})});return n.a.createPortal(h,document.getElementById("modal-popups"))}},993:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a(36),a(3),a(25),a(900),a(909),a(910),a(54),a(6),a(5),a(43),a(122),a(30),a(76),a(78),a(0),a(15),a(2);const o=e=>{let t=document.getElementsByClassName("slick-prev")[0]||{style:{display:"block"}};t.style.display=e>0?"block":"none"}},994:function(e,t,a){"use strict";var o=a(321),i=a(76),n=a(3),l=a(5),d=a(15),c=a(6),r=a(92),s=a(84),u=a(61),v=a(25),m=a(329),b=a(14),O=a(2);t.a=()=>{const{userOrderState:e,userOrderStateDispatch:t}=Object(n.useContext)(i.a),{menuReducer:a,PlpDisclaimerReducerContent:j}=Object(v.c)((e=>e)),p=Object(v.c)((e=>Object(l.kd)(e.storesReducer))),h=Object(v.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),g=Object(v.c)((e=>e.cartReducer)),{timeBasedCetegory:I,timeBasedAlertModalData:S}=e,f=Object(v.b)(),N=Object(u.g)(),{CartError:C}=d.a,T=(null===p||void 0===p?void 0:p.storesWithStatus)&&Object(m.b)(null===p||void 0===p?void 0:p.storesWithStatus[0]),E=Object(n.useCallback)((()=>{if(null===I||void 0===I||!I.supportContentAlertData){var e,a,i;const n=null===j||void 0===j||null===(e=j.response)||void 0===e||null===(a=e.plpDisclaimerResponseData)||void 0===a||null===(i=a.includes)||void 0===i?void 0:i.Entry;null!==n&&void 0!==n&&n.length&&Object(o.s)({...I,supportContentAlertData:n},t)}}),[j,I,t]);return Object(n.useEffect)((()=>{E()}),[E]),Object(n.useEffect)((()=>{const e={menuReducer:a,userParams:h,updateTimebasedCategory:o.s,userOrderStateDispatch:t,dispatch:f,getStoreDetail:T,cartReducer:g,timeBasedCetegory:I};Object(o.r)(e)}),[a]),Object(O.jsx)(O.Fragment,{children:(null===S||void 0===S?void 0:S.flag)&&Object(O.jsx)(r.a,{"data-testid":"timeBasedAlert-modal",handleClose:null!==S&&void 0!==S&&S.showCrossIcon?()=>Object(o.o)(t,S):null,classNames:"clear-cart-modal catering-menu-nav-alert timebased-alert ".concat((null===S||void 0===S?void 0:S.title)!==(null===b.a||void 0===b.a?void 0:b.a.CART_REVIEW_ORDER_MODAL)?"timebased-alert-notification":"timebased-alert-popup"),CartAlertForm:Object(O.jsx)(s.a,{title:Object(l.bf)(null===S||void 0===S?void 0:S.headline,null===S||void 0===S?void 0:S.cName),contentMsg:Object(l.bf)(null===S||void 0===S?void 0:S.subHeadline,null===S||void 0===S?void 0:S.cName),contentImg:null===S||void 0===S?void 0:S.contentImg,imageSrc:null!==S&&void 0!==S&&S.contentImg?null:C,altText:"",confirmButtonText:Object(c.translateWithI18Next)(null===S||void 0===S?void 0:S.buttonText),confirmHandler:()=>Object(o.n)({timeBasedAlertModalData:S,userOrderStateDispatch:t,timeBasedCetegory:I,history:N})})})})}},995:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(6),l=a(15),d=a(4),c=a(43),r=a(2);const{SingleArrowBlackExpand:s,SingleArrowBlack:u}=l.a,{TIME_NOT_AVAILABLE:v}=d.a;var m=e=>{const{cssClass:t,dropdownTitle:a,setSelectedItem:i,selectedItem:d,options:m,dropdownId:b,changeTimeObj:O={},changeDateObj:j={},dateTimeArr:p=[],placeholderText:h,disableOptions:g=!1,enableOrderCapacityManagement:I=!1,shouldDisplayDropdownError:S=!1,errorMessage:f="",dataTestid:N="",elementUniqueLocator:C}=e,T=(null===d||void 0===d?void 0:d.value)||h,[E,x]=Object(o.useState)(!1),{setSelectedTime:D=null,setErrorObj:y={}}=O,{setSelectedDate:_=null,dispositionType:A=""}=j;return Object(o.useEffect)((()=>{const e=e=>{var t,a;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.matches("#".concat(b))||null!==e&&void 0!==e&&null!==(a=e.target)&&void 0!==a&&a.closest("#".concat(b))||x(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[b]),Object(r.jsxs)("div",{className:"custom-dropdown ".concat(t," ").concat(S?"custom-dropdown-error":""),children:[a&&Object(r.jsx)("div",{className:"dropdown-title","aria-level":"1",role:"heading",tabIndex:"0",children:a}),Object(r.jsxs)("div",{id:b,className:"dropdown-value","data-testid":C?N:"dropdown-value-id",role:"listbox",tabIndex:"0",onClick:()=>x(!E),children:[Object(r.jsx)("div",{className:"selected-value",children:T}),!g&&Object(r.jsx)("img",{src:E?s:u,alt:" ",className:"downarrow-imgs"})]}),!g&&E&&Object(r.jsx)("div",{className:"options-container",children:Object(r.jsx)("ul",{children:null===m||void 0===m?void 0:m.map((e=>{let t=null===e||void 0===e?void 0:e.value,a=null!==e&&void 0!==e&&e.disabled||null!==e&&void 0!==e&&e.storeClosed?"disabledOption":"";return"time-id"!==b||!I||null!==e&&void 0!==e&&e.isOrderCapacityAvailable||(t+=" ".concat(Object(n.translateWithI18Next)(v)),a+=" unavailableOption"),Object(r.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),x(!1),"time-id"===b?(!I||I&&null!==t&&void 0!==t&&t.isOrderCapacityAvailable)&&i(t,D,y):i(t,p,_,D,y,A,j,I)})(t,e),className:a,"data-testid":"option-id",children:t},null===e||void 0===e?void 0:e.key)}))})}),S&&Object(r.jsxs)("div",{className:"dropdown-error",children:[Object(r.jsx)(c.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(r.jsx)("div",{className:"dropdown-error-message",children:f})]})]})},b=a(101),O=a(915),j=a(14);const p=e=>{const{show:t,sectionHeader:a,selectedDate:o,selectedTime:i,changeDateValue:s,changeTimeValue:u,dateTimeArr:v,showCateringWarning:p=!1,scheduleTimeWarning:h=!1,scheduleErrMsg:g="",scheduleErrorType:I="",scheduleWarningMsg:S="",changeTimeObj:f={},changeDateObj:N={},placeholderText:C,disableDateOption:T=!1,disableTimeOption:E=!1,enableScheduleOrderFlag:x=!1,enableOrderCapacityManagement:D=!1,orderCapacity:y={},storeId:_="",elementUniqueLocator:A}=e,{SingleArrow:R}=l.a,{DATE:L,TIME:P}=d.a,w=x?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",M=D?Object(b.n)(y,_,o,v):[],k=D?M:null===o||void 0===o?void 0:o.timeSlots;return t?Object(r.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(r.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(n.translateWithI18Next)(a)}),Object(r.jsx)(O.a,{show:null===p||void 0===p?void 0:p.show,errorMsg:null===p||void 0===p?void 0:p.warning,errImage:null===p||void 0===p?void 0:p.image,cssClass:null===p||void 0===p?void 0:p.cssClass}),h&&Object(r.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(r.jsx)(c.a,{srcFile:l.a.Error,className:"store-cannot-deliver-icon"}),Object(r.jsx)("div",{className:"storeErrorMessage",children:g})]}),Object(r.jsxs)("div",{className:w,children:[Object(r.jsx)(m,{cssClass:"date-time-dropdown",dropdownTitle:Object(n.translateWithI18Next)(L),setSelectedItem:s,changeDateObj:N,changeTimeObj:f,dateTimeArr:v,selectedItem:null===o||void 0===o?void 0:o.date,imgSrc:R,options:Object(b.o)(v),dropdownId:"date-id",disableOptions:T,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&S&&I===j.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:S,dataTestid:"schedule-date",elementUniqueLocator:A}),Object(r.jsx)(m,{cssClass:"date-time-dropdown ".concat(D?"date-time-dropdown--order-capacity":""),dropdownTitle:Object(n.translateWithI18Next)(P),setSelectedItem:u,changeDateObj:N,changeTimeObj:f,dateTimeArr:v,selectedItem:i,imgSrc:R,options:k,dropdownId:"time-id",placeholderText:C,disableOptions:E,enableOrderCapacityManagement:D,shouldDisplayDropdownError:h&&S&&I===j.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:S,dataTestid:"schedule-time",elementUniqueLocator:A})]})]}):null},h=i.a.memo(p);t.a=h},996:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var o=a(3),i=a.n(o),n=a(6),l=a(266),d=a.n(l),c=a(43),r=a(38),s=a(5),u=a(15),v=a(216),m=a(2);const{GoogleMapLocationImage:b,SuggestionItemSearchPin:O,clearTextIcon:j,Time_Clock:p}=u.a,{SUUGESTED_ITEMS_TEXT:h,ALLOWED_SUGGESTION_LIST:g,SUGGESTION_ACTIVE_COLOR:I,SUGGESTION_ACTIVE_OPACITY:S,BRAND_BLACK:f}=r.a,N=e=>{const{currentMarket:t,placeholder:a,storeSelection:o={},address:l,inputOnChange:r,handleSelectAddress:u,onSearchError:g,locationAlert:I,negativeScenarioAlert:S,inputRef:f,keyPress:N,onClearTextHandler:C,showAutoSuggestion:T,alreadySearched:E,setSuggestedAddress:x,filteredTypes:D,maxLength:y,filterConditions:_,isAddressNotChangable:A}=e,{placesSearchInput:R=!0}=o;return Object(m.jsx)("div",{className:"search-delivery-address",children:Object(m.jsx)("div",{className:"input-delivery-address",children:Object(m.jsx)(d.a,{value:l,onChange:r,onSelect:u,searchOptions:{componentRestrictions:{country:t},types:D},shouldFetchSuggestions:!0,onError:g,children:e=>{let{getInputProps:t,suggestions:o,getSuggestionItemProps:d,loading:r}=e;return Object(m.jsx)("div",{children:R&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(c.a,{"data-testid":"",srcFile:b,alt:" ",className:"google-location-img"}),Object(m.jsx)("input",{"data-testid":"store-search-input","aria-label":"Enter your delivery address",maxLength:y,className:"".concat(Object(s.Tc)(Object(s.id)(I,S),"store-search-input error-border mt-2","store-search-input mt-2")),...t({placeholder:a,ref:f}),onKeyUp:N,disabled:A}),l&&!A&&Object(m.jsx)("img",{src:j,alt:"clear-text-btn","data-testid":"clear-text-btn",className:"clearTextIcon",onClick:C}),Object(s.db)(Object(s.kc)(o),T)?Object(m.jsx)("div",{className:"suggestion-list",children:Object(v.d)(o,_).map(((e,t)=>(null===x||void 0===x||x(o),Object(m.jsxs)(i.a.Fragment,{children:[0===t&&Object(m.jsx)("div",{className:"suggestion-items suggest-text",children:Object(n.translateWithI18Next)(h)}),Object(m.jsx)("div",{className:"suggestion-item-container",children:Object(m.jsx)("div",{...d(e,{className:"suggestion-items"}),children:Object(m.jsxs)("div",{className:"suggested-address-alignment-delivery",children:[Object(m.jsx)("div",{children:Object(m.jsx)(c.a,{"data-testid":"",srcFile:Object(s.Tc)(E(e.description),p,O),alt:"googleMapLocation",className:"suggetion-pin"})}),Object(m.jsx)("div",{className:"suggestion-description",children:e.description})]})},t)})]},null===e||void 0===e?void 0:e.id))))}):null]})})}})})})},C=i.a.memo(N)},997:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(25),l=a(36),d=a(6),c=a(4),r=a(318),s=a(76),u=a(38),v=a(69),m=a(110),b=a(2);const{SAVED_ADDRESS:O,START_ORDER:j,SAVED_ADDRESSES:p}=c.a,{SAVED_ADDRESS_LIMIT:h}=u.a,g=e=>{var t;const a=Object(m.a)(),{handleSelectAddress:i,savedAddresses:c=[],show:u,scheduleOrderDateFormat:g}=e,I=Object(n.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),S=null===I||void 0===I||null===(t=I.savedAddressPage)||void 0===t?void 0:t.showPrefectureAddAddressScreen,{userOrderStateDispatch:f}=Object(o.useContext)(s.a),N=null===c||void 0===c?void 0:c.sort(((e,t)=>(null===t||void 0===t?void 0:t.isPrimary)-(null===e||void 0===e?void 0:e.isPrimary))).slice(0,h),C=(null===c||void 0===c?void 0:c.length)>1?Object(d.translateWithI18Next)(p):Object(d.translateWithI18Next)(O),T=(null===c||void 0===c?void 0:c.length)>h?h:c.length;return u&&Object(b.jsxs)("div",{"data-testid":"saved-address-container",children:[Object(b.jsx)("div",{className:"savedAddress-store-count",children:Object(b.jsx)("span",{className:"saved-address-count-title",children:"".concat(C," (").concat(T,")")})}),null===N||void 0===N?void 0:N.map(((e,t)=>{var o,n;return Object(b.jsx)("div",{className:"savedAddress-module-card",children:Object(b.jsxs)("div",{className:"inside-card",children:[Object(b.jsxs)("div",{className:"address-section",children:[Object(b.jsxs)("div",{className:"address-type",children:[null===e||void 0===e?void 0:e.name,": "]}),S&&Object(b.jsx)("div",{className:"address",children:(null===e||void 0===e?void 0:e.addressLines)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e||null===(o=e.addressLines)||void 0===o||null===(n=o.filter(Boolean))||void 0===n?void 0:n.join(" ")," "]})}),!S&&Object(b.jsxs)("div",{className:"address",children:[(null===e||void 0===e?void 0:e.addressLines[0])&&Object(b.jsxs)("span",{children:[" ",Object(r.F)(null===e||void 0===e?void 0:e.addressLines[0]),", "]}),(null===e||void 0===e?void 0:e.addressLines[1])&&Object(b.jsxs)("span",{children:[" ",Object(r.F)(null===e||void 0===e?void 0:e.addressLines[1]),", "]}),(null===e||void 0===e?void 0:e.city)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.city,", "]}),(null===e||void 0===e?void 0:e.state)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.state," - "]}),(null===e||void 0===e?void 0:e.pinCode)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.pinCode,", "]}),(null===e||void 0===e?void 0:e.country)&&Object(b.jsxs)("span",{children:[" ",null===e||void 0===e?void 0:e.country," "]})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)(l.a,{className:"button redButton search-store-card-btn",onClickHandler:()=>Object(r.U)(e,f,i,a,v.d,g),"data-testid":"saved-start-order-click-test",children:Object(d.translateWithI18Next)(j)})})]})},"".concat(null===e||void 0===e?void 0:e.name,"-").concat(t))}))]})||null},I=i.a.memo(g);t.a=I},998:function(e,t,a){"use strict";var o=a(3),i=a.n(o),n=a(121),l=a(2);t.a=e=>{const{handleClose:t,ProductListingModalForm:a,headerText:o,modalTitleId:d="",closeDataTestId:c=""}=e;return Object(l.jsx)(i.a.Fragment,{children:Object(l.jsx)(n.a,{"data-testid":"ProductListingModalPopup",role:"dialog",modalTitleId:d,show:!0,classNames:"product-listing-module-modal-sopac",showCloseBtn:!0,closeButtonHandler:t,modalTitle:o,autoFocus:!0,closeDataTestId:c,children:a})})}},999:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return b}));var o=a(3),i=a(76),n=a(5),l=a(25),d=a(54),c=a(940),r=a(922),s=a(190),u=a(0),v=a(2);const m=(e,t,a)=>{const{RECIPE:o,DEFAULT_REASON:i,MODGROUP_MAX_RADIOBUTTON:l}=s.a;return((e,t,a)=>e.every((e=>Object(n.hd)(e.additionalProperties,t)===a)))(e,i,o)||!b(t)||a===l},b=e=>{const{PEROPTIONMAX_KEY:t,PEROPTIONMIN_KEY:a,MAXDISTINCT_KEY:o}=s.a;let i=Object(n.me)(e);return[t,a,o].every((e=>Object.prototype.hasOwnProperty.call(i,e)))&&!(0===i[t]&&0===i[a]&&0===i[o])};t.a=e=>{let{tenantData:t,modifiers:a,modgrpData:s,isModal:O,isStoreClosed:j,catalog:p}=e;const[h,g]=Object(o.useState)(Object(n.Ud)(window.innerWidth)),{modgrpId:I,additionalProperties:S,max:f}=s,[N,C]=Object(o.useState)({}),{userOrderState:T}=Object(o.useContext)(i.a),{resetCustomization:E}=T;let x=Object(l.c)((e=>e.appStateReducer.userStatus));const D=Object(l.c)((e=>e.cartReducer)),{isItemAdded:y=!1}=Object(n.kd)(D),[_,A]=Object(o.useState)(),[R,L]=Object(o.useState)(),[P,w]=Object(o.useState)([]),[M,k]=Object(o.useState)([]),[F,U]=Object(o.useState)(!0),[H,W]=Object(o.useState)(0),{SINGLE:B}=r.a,{PDP_MODIFIER:G}=u.Oc;Object(o.useEffect)((()=>{C({}),w([]),k([]),U(!0)}),[E]),Object(o.useEffect)((()=>{O||(C({}),w([]),k([]),U(!0))}),[p,y]),Object(o.useEffect)((()=>{if(Object(n.db)(Object(n.Kd)(S),Object(n.kc)(a))){let e=m(a,S,f);L(e);let t=!e&&b(S);A(t)}}),[S,a]);const V=()=>{const e=Object(n.Ud)(window.innerWidth),t=e?G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_MOBILE:G.PDP_MODF_IMAGE_VIEWPORT_WIDTH_DESKTOP,a=Math.round(t*window.innerWidth/u.eg);W(a),g(e)};Object(o.useEffect)((()=>{window.addEventListener(u.we,V)}),[h]),Object(o.useEffect)((()=>{V()}),[]);const{QUANTITY_ACTION:Y}=d.a,z=function(e,t,o){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{id:n}=e;if(t===B)a.forEach((e=>{e.id===n&&w([e.id])})),k([{...e,itemId:n,modgrpId:I}]);else if(t){let t=o.some((t=>{let{id:a}=t;return a===e.id}));if(!t){let t=[...o,{...e,itemId:n,modgrpId:I}],a=null===t||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.id));i&&w(a),k(t)}}else if(o.length){let e=o.filter((e=>{let{itemId:t}=e;return t!==n})),t=null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.id));w(t),k(e)}},K=(e,t,a,o,i)=>{var l;let d=null===N||void 0===N||null===(l=N[t])||void 0===l?void 0:l[e],c=null===N||void 0===N?void 0:N[t],r=null===N||void 0===N?void 0:N.totalQuantity;if(d){let l=a===Y.Increase?c[e].quantity+1:Object(n.Tc)(a===Y.Decrease,c[e].quantity-1,o),d=a===Y.Increase?r+1:Object(n.Tc)(a===Y.Decrease,r-1,r-c[e].quantity+o),s=((e,t,a,o)=>Object(n.fb)(e===t.Increase,e===t.Decrease)?a:o)(a,Y,l,i);C({...N,totalQuantity:d,[t]:{...c,[e]:{...c[e],quantity:l,quantityDisplay:s}}})}else Object(n.Kd)(N[t])?C({...N,totalQuantity:r+o,[t]:{...c,[e]:{quantity:o,quantityDisplay:o}}}):C({totalQuantity:o,[t]:{[e]:{quantity:o,quantityDisplay:o}}})};return Object(n.j)([void 0!==R,void 0!==_,!!H])&&a.map(((e,a)=>{let o=Object(n.yc)(e.availability[0],null===t||void 0===t?void 0:t.currencyConversionFactor).toFixed(u.dg);return Object(v.jsx)(c.a,{tenantData:t,modgrpData:s,cardData:e,price:o,isMobile:h,localized:x.localized,currencySymbol:null===t||void 0===t?void 0:t.currencySymbol,saveCustomizedItemCount:K,savedCustomizedModifier:N,toRenderCheckBox:R,toRenderQuantityModifier:_,savedModifierHandler:z,updatedItems:P,savedModifiers:M,isModal:O,isStoreClosed:j,initialRender:F,setInitialRender:U,catalog:p,imageContainerSize:H})}))}}}]);