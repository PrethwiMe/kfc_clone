(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[50],{1022:function(e,t,l){"use strict";var i=l(3),a=l.n(i),o=l(28),d=l(4),r=l(92),n=l(84),s=l(15),c=l(2);t.a=e=>{let{confirmationMsg:t,handleClose:l,handleConfirmBtn:i,imageSrc:u}=e;const{CONFIRM_BTN_TEXT:v,CANCEL:O}=d.a;return Object(c.jsx)(a.a.Fragment,{children:Object(c.jsx)(r.a,{handleClose:l,classNames:"delete-account-modal unlink-confirmation-modal",CartAlertForm:Object(c.jsx)(n.a,{title:t,cancelButtonText:Object(o.translateWithI18Next)(O),confirmButtonText:Object(o.translateWithI18Next)(v),confirmHandler:i,cancelHandler:l,imageSrc:s.a.PictogramAlertIcon})})})}},1055:function(e,t,l){"use strict";var i=l(3),a=l.n(i),o=l(25),d=l(13),r=l(12),n=l(44),s=l(1022),c=l(6),u=l(4),v=l(937),O=l(15),b=l(2);t.a=e=>{let{setStep:t,cardType:l,setShowConfirmationModal:h,handleUnlinkedAction:m,showConfirmationModal:j}=e;const p=Object(o.b)(),[S,T]=Object(i.useState)(!1),{ID:E,UNLINK:g,EXPIRATION_DATE:C,BALANCE:I,UNLINK_CONFIRMATION_MESSAGE:D,ABOUT_KFC_CARD:A,TRANSFER_BALANCE:N,AVAILABLE_POINTS:y,PONTA_CARD_NUMBER:f,RAKUTEN_CARD_NUMBER:_,LINKING:x}=u.a,R=l===v.a.KFC,w=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.userMiles})),{KFC_Card:L,PontaId:F,RakutenId:M}=w||{},k=Object(o.c)((e=>{var t,l;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(l=t.rakutenBalanceInquiry)||void 0===l?void 0:l.AvailablePoints})),U=Object(o.c)((e=>{var t,l;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t||null===(l=t.pontaBalanceInquiry)||void 0===l?void 0:l.AvailablePoints})),H="-1"===(null===w||void 0===w?void 0:w.RakutenId),P=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.tenantReducer)||void 0===t?void 0:t.hideRakutenIdInDetails})),B=Object(o.c)((e=>{var t;return null===e||void 0===e||null===(t=e.loyaltyMileageReducer)||void 0===t?void 0:t.kfcLinkingData})),{BalanceAfter:W,ExpirationDate:V}=B||{};let Y="";if(V){const e=V.slice(0,4),t=V.slice(4,6),l=V.slice(6,8);Y="".concat(e,"/").concat(t,"/").concat(l)}return Object(i.useEffect)((()=>{p(Object(n.j)({memberId:M}))}),[M]),Object(i.useEffect)((()=>{p(Object(n.i)({memberId:F}))}),[F]),Object(b.jsx)("div",{className:"kfc-card-details align-items-center flex-column d-flex",children:Object(b.jsxs)("div",{className:"col-12 col-lg-8 p-0",children:[j&&Object(b.jsx)(s.a,{confirmationMsg:Object(c.translateWithI18Next)(D),handleClose:()=>h(!1),handleConfirmBtn:()=>m(l),imageSrc:O.a.PictogramAlertIcon}),Object(b.jsx)("button",{onClick:()=>t(v.d.Home),className:"btn-back",children:"\u2794"}),Object(b.jsxs)("div",{className:"kfc-card-details_wrapper",children:[R&&Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(I)}),Object(b.jsx)("p",{className:"detail-value",children:W})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(E)}),Object(b.jsx)("p",{className:"detail-value",children:L})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(C)}),Object(b.jsx)("p",{className:"detail-value",children:Y})]}),Object(b.jsx)("div",{className:"linking-wraper",children:Object(b.jsx)("a",{href:Object(d.a)(r.gb),target:"_blank",className:"linking-text",rel:"noopener noreferrer",children:Object(c.translateWithI18Next)(N)})})]}),l===v.a.PONTA&&Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:U||Object(b.jsx)("div",{className:"loader"})})]}),Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(f)}),Object(b.jsx)("p",{className:"detail-value",children:F.slice(-15)})]})]}),l===v.a.RAKUTEN&&Object(b.jsxs)(a.a.Fragment,{children:[!H&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(y)}),Object(b.jsx)("p",{className:"detail-value",children:k||Object(b.jsx)("div",{className:"loader"})})]}),!P&&Object(b.jsxs)("div",{className:"info-wraper",children:[Object(b.jsx)("p",{className:"lbl-note-dark",children:Object(c.translateWithI18Next)(_)}),Object(b.jsx)("p",{className:"detail-value",children:M})]})]})]}),Object(b.jsx)("div",{className:"loyalty-fields loyalty-fields-btns",children:Object(b.jsx)("button",{"data-loading":S,"data-type":"primary",className:"button-contained kfc-button kfc-unlink-btn ".concat(S?"loading":""),onClick:()=>{p(Object(n.b)()),T(!0),h(!0)},children:Object(c.translateWithI18Next)(g)})}),R&&Object(b.jsx)("p",{style:{textAlign:"center",textDecoration:"underline"},children:Object(b.jsx)("a",{className:"btn-kfc-card btn-link btn-sm",href:"".concat(Object(d.a)(r.a)),children:"".concat(Object(c.translateWithI18Next)(A))})})]})})}},1056:function(e,t,l){"use strict";l.d(t,"a",(function(){return T})),l.d(t,"b",(function(){return E}));var i=l(4),a=l(0),o=l(218);const{AUTO_SUGGESTIONS_DELIVERY_FILTER:d}=o.b,{DELIVERY:r}=a.Jb||{},{DELIVERY_PLACEHOLDER:n,SELECT_KFC_TITLE:s,DELIVERY_ADDRESS_TITLE:c,SWITCH_TO_TAKEAWAY_TEXT:u,RETRY_BTN_TEXT:v,DELIVERY_UNAVAILABLE_ERROR:O,STORE_CLOSE_ERROR_DELIVERY:b,SAVED_ADDRESS:h,DELIVER_TO_YOU:m,ORDER_MODE:j,SELECT_STORE_TEXT:p,START_ORDER:S}=i.a,T="FORM",E={["".concat(r,"_").concat(T)]:{placeholder:n,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:h,scheduleOrderScreenTitle:j,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:S,filteredTypes:d},["".concat(r,"_").concat("STORES")]:{serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},modalHeaderTitle:s,orderModeScreenErrorText:b,placeholder:n,kfcStoresCountText:m,scheduleOrderScreenTitle:j,shouldPopulateFirstSuggestion:!0,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:S,filteredTypes:d},["".concat(r,"_").concat("SAVED")]:{placeholder:n,serviceUnavailableError:{errMsg:O,firstBtnText:v,secondBtnText:u,firstBtnHandler:"focusInputBox",secondBtnHandler:"switchToPickup"},orderModeScreenErrorText:b,modalHeaderTitle:c,kfcStoresCountText:h,scheduleOrderScreenTitle:j,shouldPopulateFirstSuggestion:!1,storeOpenBtnText:p,shouldShowOrderType:!0,shouldShowDateTime:!0,orderModeBtnText:S,filteredTypes:d}}},1063:function(e,t,l){"use strict";var i=l(63),a=l(0),o=l(25);t.a=()=>{const e=Object(o.b)();return{fetchData:t=>{let{storeId:l,timeStamp:o,dispositionType:d}=t;if(!l||!o)throw new Error("storeId, timeStamp, and dispositionType are required");const r={storeId:l,dateTimeEpoch:o};e((null===d||void 0===d?void 0:d.toUpperCase())===a.zf?Object(i.k)(r):Object(i.m)(r))}}}},879:function(e,t,l){"use strict";l.r(t),l.d(t,"scheduleTimeErrorFlag",(function(){return X})),l.d(t,"disableDateOption",(function(){return z})),l.d(t,"disableTimeOption",(function(){return Z})),l.d(t,"showChangeCTAForDelivery",(function(){return Q})),l.d(t,"inactivateStartOrderButton",(function(){return $})),l.d(t,"getScheduledEpochDateTime",(function(){return ee})),l.d(t,"handleDispositonForFavouriteOrder",(function(){return te})),l.d(t,"enableScheduleMode",(function(){return le})),l.d(t,"changeTimeValue",(function(){return ie})),l.d(t,"changeDateValue",(function(){return ae})),l.d(t,"getBasket",(function(){return oe})),l.d(t,"disableStartOrder",(function(){return de})),l.d(t,"getContent",(function(){return re})),l.d(t,"getDisableWarning",(function(){return ne})),l.d(t,"getDateString",(function(){return se})),l.d(t,"checkForDate",(function(){return ce})),l.d(t,"checkforTime",(function(){return ue})),l.d(t,"isFutureDateOrderHandler",(function(){return ve})),l.d(t,"isAsapSelecetedUnavailable",(function(){return Oe})),l.d(t,"isFutureTimeSelectedUnavailable",(function(){return be})),l.d(t,"isValidTimeSlot",(function(){return he})),l.d(t,"checkDateandTime",(function(){return me})),l.d(t,"isStoreCompletelyClosed",(function(){return je})),l.d(t,"checkDateString",(function(){return pe})),l.d(t,"checkCardData",(function(){return Se})),l.d(t,"showOrderNowFlag",(function(){return Te})),l.d(t,"showScheduleOrderFlag",(function(){return Ee})),l.d(t,"showChangeScheduleModeFlag",(function(){return ge})),l.d(t,"showSheduleDispositionFlag",(function(){return Ce})),l.d(t,"showHandleBackFlag",(function(){return Ie})),l.d(t,"getOrderType",(function(){return De})),l.d(t,"placeholderContentText",(function(){return Ae})),l.d(t,"onOrderCapacitySuccess",(function(){return Ne})),l.d(t,"changeProductURLToMenu",(function(){return ye}));var i=l(6),a=l(30),o=l(122),d=l(63),r=l(69),n=l(110),s=l(15),c=l(46),u=l(49),v=l(0),O=l(4),b=l(11),h=l(5),m=l(76),j=l(18),p=l.n(j),S=l(321),T=l(121),E=l(902),g=l(1056),C=l(190),I=l(995),D=l(991),A=l(101),N=l(111),y=l(38),f=l(318),_=l(14),x=l(3),R=l.n(x),w=l(25),L=l(61),F=l(36),M=l(43),k=l(1063),U=l(335),H=l(929),P=l(331),B=l(267),W=l(64);var V=l(212),Y=l(2);var G=e=>{const{firstHeadline:t,secondHeadline:l,thirdHeadline:i,description:a,moreInfoLink:o,secondMainHeadline:d,subTitle:r,thirdTitle:n,closeButtonText:s,mainImageSource:c,onConfirm:u,expandHandler:v}=e;return Object(Y.jsxs)(T.a,{id:"UberEatsAlertModal",role:"dialog",ariaLabel:"uber eats alert dialog",show:!0,classNames:"uber-eats-alert-modal-container-info extra-small-modal",showCloseBtn:!1,children:[Object(Y.jsx)(M.a,{srcFile:c,className:"uber-eats-alert-main-image"}),Object(Y.jsxs)("div",{className:"uber-eats-alert-titles",children:[Object(Y.jsx)("div",{className:"uber-eats-alert-first-headline",children:t}),Object(Y.jsx)("div",{className:"uber-eats-alert-second-headline",children:l}),Object(Y.jsx)("div",{className:"uber-eats-alert-third-headline",children:i})]}),Object(Y.jsx)("div",{className:"uber-eats-alert-description",children:a}),Object(Y.jsx)(V.a,{onClickHandler:v,className:"uber-eats-alert-more-info-link","data-testid":"uber-eats-alert-more-info",children:Object(Y.jsx)("span",{children:o})}),Object(Y.jsx)("div",{children:Object(Y.jsx)(F.c,{variant:F.b.primary,"aria-label":s,onClickHandler:u,id:"uberEatsAlertButton",className:"uber-eats-alert-submit-button","data-testid":"uber-eats-alert-confirm-button",children:Object(Y.jsx)("span",{children:s})})})]})};l(1055);var K=e=>{const{secondMainHeadline:t,deliveryVendorLogo:l,thirdTitle:i,subTitle:a,closeButtonText:o,onConfirm:d}=e;return Object(Y.jsxs)(T.a,{id:"UberEatsAlertModal",role:"dialog",ariaLabel:"uber eats alert dialog",show:!0,classNames:"uber-eats-alert-modal-container-expanded extra-small-modal",showCloseBtn:!1,children:[Object(Y.jsx)("div",{className:"uber-eats-alert-second-main-headline",children:t}),Object(Y.jsx)(M.a,{srcFile:l,className:"uber-eats-alert-delivery-logo"}),Object(Y.jsxs)("div",{className:"uber-eats-alert-third-title",children:["\u2022 ",i]}),Object(Y.jsx)("div",{className:"uber-eats-alert-subtitle",children:a.split("\n").map(((e,t)=>Object(Y.jsx)("div",{className:"uber-eats-alert-subtitle-line",children:e},t)))}),Object(Y.jsx)("div",{children:Object(Y.jsx)(F.c,{variant:F.b.primary,"aria-label":o,onClickHandler:d,id:"uberEatsAlertButton",className:"uber-eats-alert-submit-button","data-testid":"uber-eats-alert-confirm-button",children:Object(Y.jsx)("span",{children:o})})})]})};const q=e=>{let{isOpen:t,onClose:l=(()=>{}),IsConfirmed:i=(()=>{})}=e;const a=Object(w.b)(),o=Object(w.c)(W.c),[d,r]=Object(x.useState)(!1),[n,s]=Object(x.useState)(!1),c=()=>{l(),r(!1),i()},u=(e=>{var t,l,i,a,o;const d=null!==(t=null===e||void 0===e||null===(l=e.items)||void 0===l||null===(i=l[0])||void 0===i||null===(a=i.fields)||void 0===a?void 0:a.content)&&void 0!==t?t:[],{fields:r}=null!==(o=null===d||void 0===d?void 0:d[0])&&void 0!==o?o:[];var n="",s="",c="",u="",v="",O="",b="",h="",m="",j="",p="";if(void 0!==r){var S,T;const{firstHeadline:e,secondHeadline:t,thirdHeadline:l,description:i,moreInfoLink:a,secondMainHeadline:o,subTitle:d,thirdTitle:E,closeButtonText:g}=r;n=e,s=t,c=l,u=i,v=a,O=o,b=d,h=E,p=g;const{mianImage:C,deliveryVendorLogo:I}=r;m="https:".concat(null===C||void 0===C||null===(S=C.fields.file)||void 0===S?void 0:S.url),j="https:".concat(null===I||void 0===I||null===(T=I.fields.file)||void 0===T?void 0:T.url)}return{mainImageSource:m,deliveryVendorLogoSource:j,firstHeadline:n,secondHeadline:s,thirdHeadline:c,description:u,moreInfoLink:v,secondMainHeadline:O,subTitle:b,thirdTitle:h,closeButtonText:p}})(null===o||void 0===o?void 0:o.uberTermsAndConditions);return Object(x.useEffect)((()=>{a(Object(B.q)())}),[a]),Object(x.useEffect)((()=>{r(t)}),[t]),Object(Y.jsx)(R.a.Fragment,{children:d&&(n?Object(Y.jsx)(K,{secondMainHeadline:null===u||void 0===u?void 0:u.secondMainHeadline,deliveryVendorLogo:null===u||void 0===u?void 0:u.deliveryVendorLogoSource,thirdTitle:null===u||void 0===u?void 0:u.thirdTitle,subTitle:null===u||void 0===u?void 0:u.subTitle,closeButtonText:null===u||void 0===u?void 0:u.closeButtonText,onConfirm:c}):Object(Y.jsx)(G,{firstHeadline:null===u||void 0===u?void 0:u.firstHeadline,secondHeadline:null===u||void 0===u?void 0:u.secondHeadline,thirdHeadline:null===u||void 0===u?void 0:u.thirdHeadline,description:null===u||void 0===u?void 0:u.description,moreInfoLink:null===u||void 0===u?void 0:u.moreInfoLink,deliveryVendorLogo:null===u||void 0===u?void 0:u.deliveryVendorLogoSource,mainImageSource:null===u||void 0===u?void 0:u.mainImageSource,closeButtonText:null===u||void 0===u?void 0:u.closeButtonText,onConfirm:c,expandHandler:()=>{s(!0)}}))})};const{RESET_SCHEDULE_PAGE_AND_DISPOSITION:J}=c.a,X=(e,t)=>(null===e||void 0===e?void 0:e.key)<Object(b.p)()&&t,z=(e,t)=>!!e&&(null===t||void 0===t?void 0:t.length)<=1,Z=(e,t,l,i)=>{var a;return!!Object(P.e)(i)||!!e&&(!(null!==t&&void 0!==t&&null!==(a=t.timeSlots)&&void 0!==a&&a.length)||l)},Q=(e,t,l)=>!(e&&t)&&!l,$=e=>{let{enableOrderCapacityManagement:t,storeUnavailableError:l,enableScheduleOrderFlag:i,selectedTime:a,showOrderNow:o,changeScheduleMode:d,hasError:r,isForNow:n,scheduleModeClicked:s}=e;return t&&p()(a)||Boolean(l)||r.error||de(i,a,o,d,n,s)},ee=(e,t)=>e||p()(t)?"":t.key,te=(e,t,l,i,a)=>{const o=(!i||!a)&&e;return Object(h.Tc)(o,[null===t||void 0===t?void 0:t.store],[l])},le=(e,t,l,i,a,o)=>{e(!1),t(!0),l(!0),i(!0),o&&o(!0),a&&(a({type:_.a.SHOW_SCHEDULE_DISPOSITION,value:{showSheduleDisposition:!0}}),a({type:_.a.ORDER_CAPACITY_DATA_UPDATED,value:{orderCapacityDataUpdated:!1}}))},ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{setHasError:i,hasError:a}=l;t(e),Object(A.r)(i,a,!1),Object(A.q)(i,a,!1)},ae=function(e,t,l,i,a,o){let d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},r=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const{setHasError:n,hasError:s}=a,{userOrderStateDispatch:c,orderCapacityDataUpdated:u="",setOrderCapacityCallDispatched:v}=d;Object(A.r)(n,s,!1),Object(A.p)(n,s,!1);const O=null===t||void 0===t?void 0:t.find((t=>{var l;return(null===t||void 0===t||null===(l=t.date)||void 0===l?void 0:l.key)===(null===e||void 0===e?void 0:e.key)}));var b;(l(O),r)?i(void 0):i({...null===O||void 0===O||null===(b=O.timeSlots)||void 0===b?void 0:b[0]});v&&v(!1),c&&c({type:u,value:{orderCapacityDataUpdated:!1}})},oe=(e,t,l,i,a)=>{var o,d,r;((null===t||void 0===t||null===(o=t[0])||void 0===o||null===(d=o.summary)||void 0===d||null===(r=d.status)||void 0===r?void 0:r.currentStatus)===y.a.STORE_STATUS_OPEN||l)&&i(e,t[0],localStorage.getItem(v.gd.SET_CART_CLEAR),a)},de=(e,t,l,i,a,o)=>!(!e||!p()(t)||i||l&&a||!o),re=(e,t)=>{const l=(null===t||void 0===t?void 0:t.toUpperCase())===v.Jb.DELIVERY?Object(i.translateWithI18Next)(O.a.SELECT_DELIVERY_TIME):Object(i.translateWithI18Next)(O.a.SELECT_PICKUP_TIME);return e?l:Object(i.translateWithI18Next)(O.a.ASAP)},ne=(e,t)=>e&&t,se=e=>{if(null!==e){var t,l,a;const{date:o="",store:d={},time:r=""}=e,{MMMM_D:n}=v.sb;let s=null===r||void 0===r||null===(t=r.replace(v.We,""))||void 0===t?void 0:t.toLowerCase();const c=r!==v.s&&(null===(l=Object(b.h)(o,n))||void 0===l?void 0:l.split(" "));return r===v.s?Object(i.translateWithI18Next)(O.a.ASAP):"".concat(Object(i.translateWithI18Next)(Object(h.Xc)(o,null===d||void 0===d||null===(a=d.summary)||void 0===a?void 0:a.timeZoneIANA))," ").concat(Object(i.translateWithI18Next)(c[0])+" "+c[1],", ").concat(s)}return""},ce=e=>{let{isForNow:t=!1,enableScheduleOrderFlag:l,showScheduleOrder:i,showSheduleDisposition:a,shouldShowDateTime:o}=e;return l?(i||t)&&!a:o},ue=(e,t,l)=>{var a;return(null===(a=Object(A.i)(e,t,l))||void 0===a?void 0:a.dispositionValue)===v.Jb.PICKUP?Object(i.translateWithI18Next)(O.a.PICK_UP_TIME):Object(i.translateWithI18Next)(O.a.DELIVERY_TIME)},ve=(e,t)=>Boolean(Object(h.Pd)(e)||Object(h.Od)(e))&&!t,Oe=function(e,t,l,i){var a,o;let d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Boolean((null===e||void 0===e||null===(a=e[0])||void 0===a||null===(o=a.summary)||void 0===o?void 0:o.orderingAttribute)&&((null===t||void 0===t?void 0:t.currentStatus)!==y.a.STORE_STATUS_OPEN||!l)&&((null===i||void 0===i?void 0:i.key)===v.s||(null===d||void 0===d?void 0:d.time)===v.s))},be=(e,t,l,i)=>{var a;return Boolean(e&&!(null!==t&&void 0!==t&&null!==(a=t.timeSlots)&&void 0!==a&&a.length)||(null===l||void 0===l?void 0:l.key)!==v.s&&!e&&!i)},he=(e,t)=>{var l;return(null===e||void 0===e||null===(l=e.timeSlots)||void 0===l?void 0:l.some((e=>{let{key:l}=e;return l===(null===t||void 0===t?void 0:t.key)})))||!1},me=e=>{let{enableScheduleOrderFlag:t,showScheduleOrder:l,scheduleOrderFlag:i,showSheduleDisposition:a,shouldShowDateTime:o}=e;return t?(l||i)&&a:o},je=e=>{var t,l;let{enableScheduleOrderFlag:i,isAsapSelecetedUnavailableFlag:a,isFutureTimeSelectedUnavailableFlag:o,isStoreStatusLoading:d,selectedStoreStatus:r}=e;const{STORE_STATUS_OPEN:n}=y.a;return i?(a||o||v.Qe.includes(null===r||void 0===r||null===(t=r.message)||void 0===t||null===(l=t.split("||")[0])||void 0===l?void 0:l.trim()))&&Boolean((null===r||void 0===r?void 0:r.currentStatus)!==n&&!d):Boolean((null===r||void 0===r?void 0:r.currentStatus)!==n&&!d)},pe=(e,t)=>e&&se(t),Se=(e,t)=>e.findAKFC&&t({type:_.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0}}),Te=(e,t,l)=>e?t:l,Ee=(e,t,l)=>e?t:l,ge=(e,t)=>e||t,Ce=(e,t)=>e||t,Ie=(e,t)=>e.findAKFC&&t({type:_.a.ORDER_SUMMARY_MODAL_CLOSE,orderSummaryModalClose:!1}),De=e=>{const{enableScheduleOrderFlag:t,showScheduleOrder:l,showSheduleDisposition:i,shouldShowDateTime:a,dateString:o,enableSceduleCA:d,setOrderNowFlag:r,setScheduleOrdeFlag:n,setScheduleDisposition:s,setChangeScheduleOrderMode:c,userOrderState:u,isForNow:v,isSpecialEvent:b,shouldShowDateTimeSection:h,setIsEditingDateTime:m,orderNowFlag:j,enableOrderCapacityManagement:p}=e,{dispositionStateData:S,scheduleOrderData:T}=u,{changeFlow:E=!1,isAddressFlow:g=!1}=T,{dispositionType:C}=S;return j&&p&&le(r,n,s,c,null,m),Object(Y.jsx)(Y.Fragment,{children:!b&&t&&Object(Y.jsx)(D.a,{show:!h&&ce({isForNow:v,enableScheduleOrderFlag:t,showScheduleOrder:l,showSheduleDisposition:i,shouldShowDateTime:a}),sectionHeader:ue(E,g,C),subSectionValue:o,orderTypeChange:O.a.ORDER_TYPE_CHANGE,onClickHandler:()=>le(r,n,s,c,null,m),showChangeButton:d})})},Ae=(e,t,l,a)=>!a&&Object(h.Pd)(e)&&t?Object(i.translateWithI18Next)(O.a.ASAP):l,Ne=e=>{var t;let{DATE_FORMATS:l,changeFlow:i,dateTimeArr:a,dateEpochFromStorage:o,enableOrderCapacityManagement:d,formatDateTime:r,getFormatFromUnix:n,getScheduledEpochDateTime:s,hasError:c,isEmpty:u,isOrderCapacityLoading:v,orderCapacity:O,scheduledOrderCapacityNoOrdersError:b,scheduledOrderCapacityTimeSlotError:h,selectedDate:m,selectedTime:j,setHasError:p,setSelectedTime:S,SESSION_STORAGE_KEYS:T,sessionStorage:E,storeId:g,deliveryPartner:C}=e;if(d&&!v&&!u(null===(t=m)||void 0===t?void 0:t.date)&&!Object(P.e)(C)){var I,D,N;const e=r(null===(I=m)||void 0===I||null===(D=I.date)||void 0===D?void 0:D.key,l.YYYYMMDD),t=null===O||void 0===O||null===(N=O[g])||void 0===N?void 0:N[e];if(t){var y,f;if((null===(y=m)||void 0===y||null===(f=y.timeSlots)||void 0===f?void 0:f.find((e=>{let{value:l}=e;const i=l.replace(":","");return t[i]>0})))||b(p,c,!0),i&&!u(j)){const e=null===j||void 0===j?void 0:j.value.replace(":",""),l=Object.keys(t)&&Object.keys(t).includes(e)?t[e]:null;h(p,c,0===Number(l))}}if(u(j)){var _,x,R,w;if((null===(_=m)||void 0===_||null===(x=_.timeSlots)||void 0===x?void 0:x.length)>0&&void 0===m.timeSlots[0].isOrderCapacityAvailable){const e=Object(A.n)(O,g,m,a);m={...m,timeSlots:e}}const e=((null===(R=m)||void 0===R?void 0:R.timeSlots)||[]).find((e=>e.isOrderCapacityAvailable)),t=s(!1,e);S(((null===(w=m)||void 0===w?void 0:w.timeSlots)||[]).find((e=>e.key===Number(o)))||e),E.setItem(T.SCHEDULE_DATE_EPOCH,o||t)}}},ye=(e,t,l)=>{if((null===e||void 0===e?void 0:e.service)===v.bc)Object(h.sd)(t);else{if((null===e||void 0===e?void 0:e.service)!==v.yb||!l)return-1!==window.location.pathname.indexOf(v.Ae.MENU_PAGE)&&Object(h.td)(t);Object(h.rd)(t)}};t.default=e=>{var t,l,c,j,y,B,W,V,G,K,de,re,se,ce,ue,fe,_e,xe,Re,we,Le,Fe,Me,ke,Ue,He,Pe,Be,We,Ve,Ye,Ge;const{Error_Yellow:Ke}=s.a,{DELIVERY:qe,CATERING:Je,CHRISTMAS_ORDERING:Xe}=v.Jb,{DISPOSITION_TYPE:ze,DISPOSITION_NEW:Ze,DROPOFF_ADDRESS:Qe,CURRENT_STORE_INFO_STORAGE:$e,STORE_INFO:et,CONFIG_SEARCH_SCREEN:tt,RENDER_COMP:lt,SET_CART_CLEAR:it,CHANGE_SCHEDULE_MODE:at,SELECTED_ADDRESS:ot,CURRENTSTOREINFO:dt,DISPOSITIONOLD:rt}=v.gd,{ORDER_TYPE:nt,YOUR_KFC_RESTAURANT:st,ORDER_TYPE_CHANGE:ct,YOUR_LOCATION:ut,SCHEDULE_FOR_YOUR_ORDER_TEXT:vt,CATERING_WARNING:Ot,PICK_UP_TIME:bt,DELIVERY_TIME:ht}=O.a,{SEARCH_ORDER_DATA:mt,SCHEDULE_ORDER_DATA:jt,DISPOSITION_DATA:pt,DISPOSITION_METHOD:St,CURRENT_STORE_INFO:Tt,START_ORDER_CLICK:Et,RESET_DELIVERY_ADDRESS_LINE:gt,SET_FIND_A_KFC_VIEW:Ct,SET_REDIRECTION_PATH:It,SET_ASAP_SCHEDULING:Dt,ORDER_CAPACITY_DATA_UPDATED:At,SHOW_CLEAR_CART_ALERT:Nt,CLEAR_CART_CONFIRM_CANCEL_MODAL:yt,clearCartChangeFlag:ft,orderTypeAlertTitle:_t,ORDER_SUMMARY_MODAL_CLOSE:xt,SHOW_SCHEDULE_DISPOSITION:Rt}=_.a,{onStoreSelectFinish:wt}=e,{userOrderState:Lt,userOrderStateDispatch:Ft}=Object(x.useContext)(m.a),{dispositionStateData:Mt,scheduleOrderData:kt,searchStoreData:Ut,redirectionOrder:Ht,showScheduleOrder:Pt,showOrderNow:Bt,changeScheduleModeFlag:Wt,showSheduleDisposition:Vt,scheduleModeClicked:Yt=!1,comingFromFavouriteStoreCard:Gt,currentDisposition:Kt,timeBasedAlertModalData:qt,timeBasedCetegory:Jt}=Lt,{configSearchScreen:Xt=(null===(t=localStorage)||void 0===t?void 0:t.getItem(tt))}=Ut,{changeFlow:zt=!1,isAddressFlow:Zt=!1}=kt,{dispositionType:Qt}=Mt,$t=Object(n.b)(r.b),el=Object(h.Tc)(Object(h.Jd)(Lt.dispositionNew),JSON.parse(localStorage.getItem(Ze)),Lt.dispositionNew),{componentOptions:tl,enableAddressLocalisation:ll=!1,enableOrderCapacityManagement:il=!1,orderServDateFormat:al,tenantId:ol,elementUniqueLocator:dl,scheduleOrderDateFormat:rl,timeFormat:nl,dateFormat:sl,storeSearch:{shouldNavigateToPickupDisposition:cl},showDescriptionInChangeFlow:ul,isAsapDisabledForTenant:vl,isUberServiceableEnabled:Ol,enableDeliveryMenuOption:bl}=Object(w.c)((e=>null===e||void 0===e?void 0:e.tenantReducer)),{web:hl={}}=tl,{shouldCheckDropOffAddress:ml=!1}=hl,jl=null===tl||void 0===tl||null===(l=tl.web)||void 0===l?void 0:l.dispositionConfig,{enableScheduleOrder:pl=!1,enableClickCollectScheduleOrder:Sl=!1}=jl,Tl=null===tl||void 0===tl||null===(c=tl.web)||void 0===c?void 0:c.scheduledDelivery,{clearCartOnChangeDisposition:El}=Tl,{allowScheduleOrderForDispositions:gl=[]}=Tl,Cl=null===tl||void 0===tl||null===(j=tl.web)||void 0===j||null===(y=j.dispositionConfig)||void 0===y?void 0:y.disableChangeCTAForDelivery,Il=null===tl||void 0===tl||null===(B=tl.web)||void 0===B||null===(W=B.dispositionConfig)||void 0===W?void 0:W.changeDateFormatOrder,Dl=null===hl||void 0===hl||null===(V=hl.global)||void 0===V?void 0:V.formattedDeliveryAddressFilterBy,Al=null===hl||void 0===hl||null===(G=hl.dispositionConfig)||void 0===G?void 0:G.disableScheduleOrderForNotAliveStore,Nl=Object(w.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),{id:yl="",foodLines:fl=[]}=Object(w.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData}))||{},_l=Object(w.b)(),xl=Object(L.g)(),Rl=Object(w.c)((e=>e.cartReducer)),wl=Qt&&!zt?(null===Qt||void 0===Qt?void 0:Qt.toUpperCase())===qe:(null===el||void 0===el?void 0:el.type)===qe,Ll=(cl||ll)&&wl,Fl=Object(w.c)((e=>{var t;return null===e||void 0===e||null===(t=e.cartReducer)||void 0===t?void 0:t.cartData})),Ml=null===Fl||void 0===Fl||null===(K=Fl.requestedDateTime)||void 0===K?void 0:K.isForNow,{isOrderCapacityLoading:kl,isOrderCapacitySuccess:Ul,isOrderCapacityFailure:Hl,isStoreStatusLoading:Pl,orderCapacity:Bl,storesWithStatus:Wl}=Object(w.c)((e=>Object(h.kd)(e.storesReducer))),[Vl,Yl]=Object(x.useState)(!0),[Gl,Kl]=Object(x.useState)(!1),[ql,Jl]=Object(x.useState)(!1),[Xl,zl]=Object(x.useState)(!1),[Zl,Ql]=Object(x.useState)({}),$l=sessionStorage.getItem(v.Ke.SCHEDULE_DATE_EPOCH),[ei,ti]=Object(x.useState)(p()(Zl)&&!$l&&il),[li]=Object(x.useState)(),[ii,ai]=Object(x.useState)([]),[oi,di]=Object(x.useState)({}),[ri,ni]=Object(x.useState)(),[si,ci]=Object(x.useState)(),[ui,vi]=Object(x.useState)(),[Oi,bi]=Object(x.useState)(!1),[hi,mi]=Object(x.useState)(!1),[ji,pi]=Object(x.useState)(!1),[Si,Ti]=Object(x.useState)(!1),[Ei,gi]=Object(x.useState)({error:!1,errormessage:"",errorType:"",warningMessage:""}),[Ci,Ii]=Object(x.useState)(!1),Di=Object(n.a)(),Ai=Te(ql,Vl,Bt),Ni=il||Ee(ql,Gl,Pt),yi=ge(ql,Wt),fi=Ce(Xl,Vt),_i={hasError:Ei,setHasError:gi},xi=((null===Qt||void 0===Qt?void 0:Qt.toUpperCase())||(null===el||void 0===el?void 0:el.type))===Xe,Ri=Object(x.useMemo)((()=>{const e=Object(h.Tc)(Object(h.Jd)(Lt.currentStoreInfo),Object(h.b)(localStorage.getItem($e)),Lt.currentStoreInfo);return null!==e&&void 0!==e&&e.id?e:{...e,id:null===e||void 0===e?void 0:e.storeId}}),[Lt.currentStoreInfo]),{deliveryPartner:wi="",dropoffEtaUD:Li="",timeZoneIANA:Fi=""}=(null===Wl||void 0===Wl||null===(de=Wl[0])||void 0===de?void 0:de.summary)||{},Mi=Object(P.e)(wi)&&Ol,ki=(null===Wl||void 0===Wl||null===(re=Wl[0])||void 0===re||null===(se=re.summary)||void 0===se?void 0:se.status)||(null===Ri||void 0===Ri||null===(ce=Ri.summary)||void 0===ce?void 0:ce.status),Ui=Sl&&(null===gl||void 0===gl?void 0:gl.includes(null===Ri||void 0===Ri?void 0:Ri.service)),Hi=pl||Ui,Pi=Object(A.t)(Ri,Hi,Ui,!1,nl,Il,vl,Al),Bi=ve(Ri,Pi),Wi=Hi&&(Bi||il),Vi=pe(Hi,el),Yi=il&&(null===Ei||void 0===Ei?void 0:Ei.error)&&(null===Ei||void 0===Ei?void 0:Ei.errorType)===_.a.ORDER_CAPACITY_DAY_ERROR,Gi=z(Hi,ii),Ki=Z(Hi,oi,Yi,wi),qi=Ri,Ji=(null===qi||void 0===qi?void 0:qi.id)||(null===qi||void 0===qi?void 0:qi.storeId),Xi=Object(h.Lc)(null===qi||void 0===qi?void 0:qi.name)||(null===qi||void 0===qi||null===(ue=qi.summary)||void 0===ue?void 0:ue.name),zi=Object(h.wd)(Ri),Zi=null===$t||void 0===$t?void 0:$t.latLong,{fetchData:Qi}=Object(k.a)(),{fetchEventItemAvailabilityForDisposition:$i}=Object(H.a)(),ea=Object(x.useCallback)((e=>{let t=JSON.parse(localStorage.getItem(v.gd.SEARCHED_LOCATIONS)),l=!Zt&&t?t[(null===t||void 0===t?void 0:t.length)-1]:[];Object(A.a)(Zt,null===kt||void 0===kt?void 0:kt.storeInfo,e,zt,t,l,Ft,Mi)}),[zt,Zt,null===kt||void 0===kt?void 0:kt.storeInfo,Ft,Mi]),ta=Object(x.useCallback)((()=>{var e;if(El&&(null===Fl||void 0===Fl||null===(e=Fl.foodLines)||void 0===e?void 0:e.length)>0){let e={flag:ft,onConfirm:_t};Object(h.ue)(Ft,e,Nt,yt)}else la()}),[Ft,El]),la=()=>{Ft({type:gt}),Ft({type:pt,value:{showDisposition:!0}});let e={type:jt,value:{showScheduleOrderCatering:!1}};null!==jl&&void 0!==jl&&jl.clearDliveryTextFilter&&(e={type:jt,value:{showScheduleOrderCatering:!1,changeFlow:!0}}),Ft(e),Ft({type:mt,value:{showSearchStore:!1}}),Ft({type:At,value:{orderCapacityDataUpdated:!1}})},ia=Object(x.useCallback)((()=>{ea(Ll?N.a:N.c),Ie(Lt,Ft),Ft({type:At,value:{orderCapacityDataUpdated:!1}})}),[ea]),aa=()=>{localStorage.removeItem(it)},oa=(null===(fe=Object(h.b)(localStorage.getItem(Ze)))||void 0===fe?void 0:fe.deliveryAddressLine)||(null===$t||void 0===$t?void 0:$t.selectedLineValueAddress),da=(null===$t||void 0===$t?void 0:$t.selectedLineValueAddress)||(null===(_e=Object(h.b)(localStorage.getItem(Ze)))||void 0===_e?void 0:_e.deliveryAddressLine),ra=Object(h.Tc)(zt,Object(h.Tc)(ul,oa,da),(null===kt||void 0===kt?void 0:kt.deliveryAddressLine)||(null===$t||void 0===$t?void 0:$t.selectedLineValueAddress)),na=(null===kt||void 0===kt||null===(xe=kt.selectedAddress)||void 0===xe?void 0:xe.specialNote)||(null===(Re=Object(h.b)(localStorage.getItem(ot)))||void 0===Re?void 0:Re.specialNote);Object(x.useEffect)((()=>{(async()=>{if(Ll){const e=Object(h.b)(localStorage.getItem(Qe));if(ul&&"string"===typeof e)ni(e);else{const t=Object(h.Wb)(e);vi(null===e||void 0===e?void 0:e.state),ci(null===e||void 0===e?void 0:e.city),ni(t)}}else{const e=Qt||v.Jb.DELIVERY,t=await Object(h.Ab)(e,null===kt||void 0===kt?void 0:kt.deliveryAddress,Dl),l=Object(h.Wb)(t);vi(null===t||void 0===t?void 0:t.state),ci(null===t||void 0===t?void 0:t.city),ni(Object(f.M)($t)||l),localStorage.setItem(v.gd.FORMATTED_DELIVERY_ADDRESS_FILTERBY,Dl)}})()}),[null===kt||void 0===kt?void 0:kt.deliveryAddress]);const sa=Object(h.Tc)(zt&&!Ll,Object(f.M)($t)||(null===(we=Object(h.b)(localStorage.getItem(Ze)))||void 0===we?void 0:we.deliveryAddress),ri),ca="".concat(null===(Le=Object(A.i)(zt,Zt,Qt))||void 0===Le?void 0:Le.dispositionValue,"_").concat(Xt),ua=Ll?g.b:N.d,{shouldShowUserLocation:va,shouldShowOrderType:Oa,orderModeScreenErrorText:ba,scheduleOrderScreenTitle:ha,shouldShowDateTime:ma,orderModeBtnText:ja}={...null===ua||void 0===ua?void 0:ua[ca],...null===jl||void 0===jl?void 0:jl[ca]},pa=(e,t,l,i,a)=>{const r={dispatch:_l,userOrderStateDispatch:Ft,dispositionNew:el,selectedDispositionValue:e,currentStoreInfoData:Ri,dateTimeObj:t,scheduleOrderData:kt,history:xl,redirectionOrder:Ht,userParams:Nl,dispositionType:Qt,fromflag:"",obj:l,updatedBasketId:i,isFromDeliveryAddressForm:Ll,scheduleOrderDateFormat:a,sliceDispatch:Di,enableDeliveryMenuOption:bl};if(t.selectedTime!==v.s&&t.time!==v.s){const{storeId:e,channel:i,service:a,requestedDateTime:o}=l,n={storeid:e,channel:i,service:a,futureDateTimeInEpochFormat:null===o||void 0===o?void 0:o.futureDateTime};$i({date:t.date,storeId:null===Ri||void 0===Ri?void 0:Ri.id,time:t.selectedTime}),_l(Object(d.n)({data:n,tenantId:ol},(()=>Object(A.u)(r)),null))}else Object(o.g)(),Object(A.u)(r)},Sa=(e,t,l)=>{aa(),_l(Object(a.f)({data:l,tenantId:ol})),pa(e,t,l,yl)},Ta=async(e,t,l,i)=>{var o,r,n,s,c,u,O,b,m;Ft({type:at,value:{changeScheduleModeFlag:!1}}),e.stopPropagation(),e.preventDefault();const j=Object(A.e)(oi,Zl,rl),p={date:null===j||void 0===j?void 0:j.date,time:null===j||void 0===j?void 0:j.time,selectedTime:null===j||void 0===j?void 0:j.selectedTime,epochTime:null===j||void 0===j?void 0:j.epochTime},S=null===(o=Object(A.i)(zt,Zt,Qt))||void 0===o?void 0:o.dispositionValue,T={storeID:(null===t||void 0===t?void 0:t.id)||(null===t||void 0===t?void 0:t.storeId),disposition:S,postCode:(null===t||void 0===t||null===(r=t.addresses)||void 0===r||null===(n=r[0])||void 0===n||null===(s=n.address)||void 0===s?void 0:s.pinCode)||"",storeName:(null===t||void 0===t||null===(c=t.name)||void 0===c||null===(u=c[0])||void 0===u?void 0:u.value)||(null===t||void 0===t||null===(O=t.summary)||void 0===O?void 0:O.name)};var E,g,I,D,N,y;Object(h.Xd)(S)?(T.state=(null===t||void 0===t||null===(E=t.addresses)||void 0===E||null===(g=E[0])||void 0===g||null===(I=g.address)||void 0===I?void 0:I.state)||"",T.city=(null===t||void 0===t||null===(D=t.addresses)||void 0===D||null===(N=D[0])||void 0===N||null===(y=N.address)||void 0===y?void 0:y.city)||""):(T.state=ui||"",T.city=si||"");wt(T),Ft({type:Et,value:{startOrderBtnClicked:!0}}),Ft({type:jt,value:{showScheduleOrderCatering:!1,selectedStoreInfo:t}}),Ft({type:St,value:{dispositionType:S}}),localStorage.setItem(ze,S),localStorage.setItem(et,JSON.stringify(t)),localStorage.setItem($e,JSON.stringify(t)),Ft({type:Tt,value:t||{}}),Ft({type:mt,value:{showSearchStore:!1}}),Ft({type:C.a.SET_MULTI_PRODUCT_VIEW_MODAL,isFromMultiProductViewModal:!1});const f=(null===kt||void 0===kt?void 0:kt.selectedAddress)||JSON.parse(localStorage.getItem(ot))||(null===$t||void 0===$t?void 0:$t.selectedAddress),_=await Object(h.z)(t,Object(h.Ib)(S),"",p,null===kt||void 0===kt?void 0:kt.deliveryAddress,null===kt||void 0===kt?void 0:kt.deliveryAddressLine,f,void 0,i,JSON.parse(localStorage.getItem(v.gd.ADDRESS_COORDS)));if(l){var x,R;if(Object(h.yd)(null===Ri||void 0===Ri?void 0:Ri.service))return void Sa(S,p,_);if(((null===el||void 0===el||null===(x=el.type)||void 0===x?void 0:x.toUpperCase())!==S||(null===el||void 0===el||null===(R=el.store)||void 0===R?void 0:R.id)!==(null===Ri||void 0===Ri?void 0:Ri.id)||(null===el||void 0===el?void 0:el.deliveryAddress)!==(null===kt||void 0===kt?void 0:kt.deliveryAddress)||(null===el||void 0===el?void 0:el.selectedTime)!==p.selectedTime||(null===el||void 0===el?void 0:el.date)!==(null===p||void 0===p?void 0:p.date))&&yl&&null!==fl&&void 0!==fl&&fl.length)return void Sa(S,p,_)}var w,L,F,M;Object(h.ye)(null===el,(null===el||void 0===el||null===(b=el.type)||void 0===b?void 0:b.toUpperCase())!==S,(null===el||void 0===el||null===(m=el.store)||void 0===m?void 0:m.id)!==(null===Ri||void 0===Ri?void 0:Ri.id),(null===el||void 0===el?void 0:el.deliveryAddress)!==(null===kt||void 0===kt?void 0:kt.deliveryAddress),(null===el||void 0===el?void 0:el.deliveryAddressLine)!==(null===kt||void 0===kt?void 0:kt.deliveryAddressLine),(null===el||void 0===el?void 0:el.selectedTime)!==p.selectedTime,(null===el||void 0===el?void 0:el.date)!==(null===p||void 0===p?void 0:p.date))&&(yl&&(null===fl||void 0===fl?void 0:fl.length)>0?((null===el||void 0===el||null===(w=el.type)||void 0===w?void 0:w.toUpperCase())===S&&(null===el||void 0===el||null===(L=el.store)||void 0===L?void 0:L.id)===(null===Ri||void 0===Ri?void 0:Ri.id)&&(null===el||void 0===el?void 0:el.deliveryAddress)===(null===kt||void 0===kt?void 0:kt.deliveryAddress)&&(null===el||void 0===el?void 0:el.deliveryAddressLine)===(null===kt||void 0===kt?void 0:kt.deliveryAddressLine)||_l(Object(a.z)({tenantId:ol,basketId:yl,postBody:{storeID:null===Ri||void 0===Ri?void 0:Ri.id,service:xi?v.bc:null===S||void 0===S?void 0:S.toLowerCase(),deliveryAddress:null===_||void 0===_?void 0:_.deliveryAddress,requestedDateTime:null===_||void 0===_?void 0:_.requestedDateTime}},(()=>{_l(Object(d.q)({params:{basketId:yl},tenantId:ol,postBody:null===_||void 0===_?void 0:_.requestedDateTime,orderReadyDateTimeUpdateSuccessCallback:()=>{ye(Ri,xl,bl)}}))}))),(null===el||void 0===el||null===(F=el.type)||void 0===F?void 0:F.toUpperCase())!==S||(null===el||void 0===el||null===(M=el.store)||void 0===M?void 0:M.id)!==(null===Ri||void 0===Ri?void 0:Ri.id)||(null===el||void 0===el?void 0:el.deliveryAddress)!==(null===kt||void 0===kt?void 0:kt.deliveryAddress)||(null===el||void 0===el?void 0:el.deliveryAddressLine)!==(null===kt||void 0===kt?void 0:kt.deliveryAddressLine)||(null===el||void 0===el?void 0:el.selectedTime)===p.selectedTime&&(null===el||void 0===el?void 0:el.date)===(null===p||void 0===p?void 0:p.date)||_l(Object(d.q)({params:{basketId:yl},tenantId:ol,postBody:null===_||void 0===_?void 0:_.requestedDateTime,orderReadyDateTimeUpdateSuccessCallback:()=>{ye(Ri,xl,bl)}})),pa(S,p,_,"",rl)):(ye(Ri,xl,bl),_l(Object(a.f)({data:_,tenantId:ol})),pa(S,p,_,yl,rl)))},Ea=Object(x.useCallback)((()=>{Ll||Ft({type:gt}),ea(N.a),Ft({type:At,value:{orderCapacityDataUpdated:!1}})}),[ea,Ft]),ga=(e,t,l)=>{const i={data:Object(h.B)(e,t,null,ml,Zi),store:e,tenantId:ol,setStatusFlag:!1,isFavoritePage:!1};_l(Object(d.d)(i,l))};Object(x.useEffect)((()=>{kl||Ne({DATE_FORMATS:v.sb,changeFlow:zt,dateTimeArr:ii,dateEpochFromStorage:$l,enableOrderCapacityManagement:il,formatDateTime:b.h,getFormatFromUnix:b.C,getScheduledEpochDateTime:ee,hasError:Ei,isEmpty:p.a,isOrderCapacityLoading:kl,orderCapacity:Bl,scheduledOrderCapacityNoOrdersError:A.p,scheduledOrderCapacityTimeSlotError:A.q,selectedDate:oi,selectedTime:Zl,setHasError:gi,setSelectedTime:Ql,SESSION_STORAGE_KEYS:v.Ke,sessionStorage:sessionStorage,storeId:Ji,deliveryPartner:wi})}),[zt,il,kl,Bl,null===oi||void 0===oi?void 0:oi.date,null===Zl||void 0===Zl?void 0:Zl.key,Ji]);const Ca={dispositionType:Qt,orderCapacityDataUpdated:At,setOrderCapacityCallDispatched:Ti,setSelectedDate:di,userOrderStateDispatch:Ft},Ia={setSelectedTime:Ql,setErrorObj:_i};Object(x.useEffect)((()=>{var e;return ga(Object(h.Tc)(zt,[null===el||void 0===el?void 0:el.store],[Ri]),Object(h.Ib)(null===(e=Object(A.i)(zt,Zt,Qt))||void 0===e?void 0:e.dispositionValue)),()=>{Ft({type:Ct,value:{findAKFC:!1}})}}),[]),Object(x.useEffect)((()=>{Object(A.s)(zt,Ft,el,jt)}),[zt]);const Da=Oe(Wl,ki,zi,Zl,el),Aa=be(Bi,oi,Zl,il),Na=je({enableScheduleOrderFlag:Hi,isAsapSelecetedUnavailableFlag:Da,isFutureTimeSelectedUnavailableFlag:Aa,isStoreStatusLoading:Pl,selectedStoreStatus:ki,currentStoreInfoData:Ri}),ya=Da&&(null===Rl||void 0===Rl||null===(Fe=Rl.cartData)||void 0===Fe?void 0:Fe.service)===qe.toLowerCase();let fa=Object(h.Tc)(Na||ya,ba,"");fa=Object(h.Tc)(he(oi,Zl),"",fa),Object(x.useEffect)((()=>{var e;const t=null===(e=Object(A.i)(zt,Zt,Qt))||void 0===e?void 0:e.dispositionName;Oi||Object(A.l)(fa,t,bi)}),[fa,null===ki||void 0===ki?void 0:ki.currentStatus]),Object(x.useEffect)((()=>{if(il&&(null===Lt||void 0===Lt||!Lt.orderCapacityDataUpdated||(null===el||void 0===el?void 0:el.type)===Xe)&&!kl&&!p()(null===oi||void 0===oi?void 0:oi.date)&&!p()(Ji)&&!hi){var e;const t=Object(b.A)(null===oi||void 0===oi||null===(e=oi.date)||void 0===e?void 0:e.key,al);if(t&&!Si){const e=null!==Qt&&void 0!==Qt?Qt:null===el||void 0===el?void 0:el.type;Qi({storeId:Ji,timeStamp:t,dispositionType:e}),Ti(!0)}}}),[zt,_l,il,kl,Ul,Hl,hi,Si,At,al,null===oi||void 0===oi?void 0:oi.date,Ji,null===Lt||void 0===Lt?void 0:Lt.orderCapacityDataUpdated,Ft]),Object(x.useEffect)((()=>{Si&&(Ul&&Ft({type:At,value:{orderCapacityDataUpdated:!0}}),mi(Hl))}),[Si,Ul,Hl,Ft,At]),Object(x.useEffect)((()=>{zt&&Ft({type:At,value:{orderCapacityDataUpdated:!1}})}),[zt,Ft,At]),Object(x.useEffect)((()=>{il&&null!==Ei&&void 0!==Ei&&Ei.error&&pi(!0)}),[null===Ei||void 0===Ei?void 0:Ei.error,il]),Object(x.useEffect)((()=>{const e=Hi||ma;if(e&&null!==Wl&&void 0!==Wl&&Wl.length)if(Object(P.e)(wi)&&Ol)Object(A.d)(Li,di,Ql,$l,Fi);else{const t={shouldShowScheduleOrder:e,store:Wl,setDateTimeArr:ai,setSelectedDate:di,setSelectedTime:Ql,changeFlow:zt,showScheduleOrder:Ni,enableScheduleOrder:Hi,enableClickCollectScheduleOrderFlag:Ui,scheduleModeClicked:Yt,orderServDateFormat:al,isSpecialEvent:xi,enableOrderCapacityManagement:il,changeDateFormatOrder:Il,isAsapDisabledForTenant:vl};Object(A.c)(t,rl,nl,sl)}}),[Wl,zt]);const _a=Object(i.translateWithI18Next)(null===(Me=Object(A.i)(zt,Zt,Qt))||void 0===Me||null===(ke=Me.dispositionValue)||void 0===ke?void 0:ke.toLowerCase())===Object(i.translateWithI18Next)(O.a.DELIVERY)?Object(i.translateWithI18Next)(O.a.SELECT_DELIVERY_TIME):Object(i.translateWithI18Next)(O.a.SELECT_PICKUP_TIME),xa=Ae(Ri,yi&&!xi,_a,vl),Ra=xi?Object(i.translateWithI18Next)(O.a.CHRISTMAS_ORDERING):Object(i.translateWithI18Next)(null===(Ue=Object(A.i)(zt,Zt,Qt))||void 0===Ue||null===(He=Ue.dispositionValue)||void 0===He?void 0:He.toLowerCase());return Object(x.useEffect)((()=>{Ii(Ol&&Object(P.e)(wi))}),[wi]),Object(Y.jsxs)(R.a.Fragment,{children:[Object(Y.jsxs)(T.a,{id:"ScheduleOrderModal",role:"dialog",ariaLabel:"Close Start your Order dialog",modalTitleId:"schedule-order-id",show:!0,classNames:"search-store-modal extra-small-modal",showCloseBtn:!0,closeButtonHandler:e=>{aa(),localStorage.setItem(v.gd.CONFIG_SEARCH_SCREEN,N.a),Ll&&!zt&&(Ft({type:jt,value:{selectedAddress:{}}}),localStorage.removeItem(ot),Di(Object(r.c)({key:v.qe.SELECTED_ADDRESS}))),Ft({type:gt}),Gt&&localStorage.setItem(v.gd.DISPOSITION_TYPE,Kt),Gt&&Ft({type:J}),e.stopPropagation(),e.preventDefault(),localStorage.setItem(lt,!0),Ft({type:jt,value:{selectedStoreInfo:Lt.scheduleOrderData.storeInfo,showScheduleOrderCatering:!1}}),Ft({type:mt,value:{showSearchStore:!1}}),Ft({type:It,value:{redirectionOrder:""}}),Ft({type:Ct,value:{findAKFC:window.location.pathname===v.Ae.FIND_STORE}}),Se(Lt,Ft),Ft({type:xt,orderSummaryModalClose:!1}),Ft({type:At,value:{orderCapacityDataUpdated:!1}})},modalTitle:Object(i.translateWithI18Next)(ha),closeDataTestId:"close-modal-handler",backDataTestId:"back-handler-schedule-order",showBackBtn:!0,backButtonHandler:ia,children:[Object(Y.jsx)(D.a,{show:Oa,sectionHeader:nt,subSectionValue:Ra,orderTypeChange:ct,onClickHandler:ta,storeUnavailableError:!(!fa&&!ya||xi)&&fa,enableScheduleOrder:pl||xi,showOrderNow:Ai,dataTestid:"disposition-change-link",elementUniqueLocator:dl}),Object(Y.jsx)(D.a,{show:va,sectionHeader:ut,subSectionValue:null!==tl&&void 0!==tl&&tl.showComma?sa:null===sa||void 0===sa?void 0:sa.replace(/,/g,""),description:ra,specialNote:na,cssSubsection:Ll?"schedule-order-description-value":"",orderTypeChange:ct,onClickHandler:Ea}),Object(Y.jsx)(D.a,{show:!0,sectionHeader:st,subSectionValue:Xi,orderTypeChange:ct,onClickHandler:ia,showChangeButton:Q(Cl,wl,Ll),dataTestid:"store-change-link",elementUniqueLocator:dl}),Object(Y.jsx)(D.a,{show:!(xi||Ll||!Hi)&&(Ai&&!Ml),sectionHeader:(null===(Pe=Object(A.i)(zt,Zt,Qt))||void 0===Pe||null===(Be=Pe.dispositionValue)||void 0===Be?void 0:Be.toUpperCase())===qe?ht:bt,subSectionValue:Object(i.translateWithI18Next)(O.a.ASAP),orderTypeChange:ct,onClickHandler:()=>le(Yl,Kl,zl,Jl,null),showChangeButton:Wi,dataTestid:"schedule-time",elementUniqueLocator:dl}),De({userOrderState:Lt,enableScheduleOrderFlag:Hi,showScheduleOrder:Ni,showSheduleDisposition:fi,shouldShowDateTime:ma,dateString:Vi,enableSceduleCA:Wi,setOrderNowFlag:Yl,setScheduleOrdeFlag:Kl,setScheduleDisposition:zl,setChangeScheduleOrderMode:Jl,isForNow:Ml,shouldShowDateTimeSection:ji,isSpecialEvent:xi,isFromDeliveryAddressForm:Ll,setIsEditingDateTime:ti,orderNowFlag:Vl,enableOrderCapacityManagement:il}),Object(Y.jsx)(I.a,{show:ei||ji||me({enableScheduleOrderFlag:Hi,showScheduleOrder:Ni,scheduleOrderFlag:Gl,showSheduleDisposition:fi,shouldShowDateTime:ma}),sectionHeader:Hi?(null===(We=Object(A.i)(zt,Zt,Qt))||void 0===We||null===(Ve=We.dispositionValue)||void 0===Ve?void 0:Ve.toUpperCase())===qe&&ht||bt:vt,subSectionValue:Xi,orderTypeChange:ct,changeDateValue:ae,changeTimeValue:ie,dateTimeArr:ii,changeTimeObj:Ia,changeDateObj:Ca,selectedDate:oi,selectedTime:Zl,placeholderText:xa,enableClickCollectScheduleOrderFlag:Ui,showCateringWarning:{show:Object(h.db)((null===Qt||void 0===Qt?void 0:Qt.toUpperCase())===Je,(null===Lt||void 0===Lt||null===(Ye=Lt.dispositionOld)||void 0===Ye||null===(Ge=Ye.type)||void 0===Ge?void 0:Ge.toUpperCase())===qe),warning:Object(i.translateWithI18Next)(Ot),image:Ke,cssClass:"location-blocked"},scheduleTimeWarning:Hi&&Ei&&Ei.error,scheduleErrMsg:Ei.errormessage,scheduleErrorType:Ei.errorType,scheduleWarningMsg:Ei.warningMessage,disableDateOption:Gi,disableTimeOption:Ki,enableScheduleOrderFlag:Hi,enableOrderCapacityManagement:il,orderCapacity:Bl,storeId:Ji,elementUniqueLocator:dl}),!Hi&&li&&Object(Y.jsxs)("div",{className:"store-cannot-deliver-error timebased-inline-message",children:[Object(Y.jsx)(M.a,{srcFile:s.a.Error_Yellow,className:"store-cannot-deliver-icon"}),Object(Y.jsx)("div",{className:"storeErrorMessage",children:li})]}),Lt.showCartClearAlert?Object(Y.jsx)(E.a,{}):null,Object(Y.jsx)("div",{className:"scheduleOrder-button-container",children:Object(Y.jsx)(F.c,{variant:F.b.secondary,"aria-label":Object(i.translateWithI18Next)(ja),onClickHandler:e=>{const t=Boolean((null===Zl||void 0===Zl?void 0:Zl.key)===v.s);if(Object(U.a)(kt),X(Zl,Hi))Object(A.r)(gi,Ei,!0);else{var l;const i=ee(t,Zl);pi(!1),sessionStorage.setItem(v.Ke.SCHEDULE_DATE_EPOCH,i),!il&&Hi&&Ai&&Vl&&Ft({type:Dt,value:{enableASAPScheduling:!0}}),!Hi||Ai&&Vl||Ft({type:Dt,value:{enableASAPScheduling:!1}}),Hi&&ql&&fi&&(Ft({type:_.a.SET_ORDER_NOW,value:{showOrderNow:Vl}}),Ft({type:_.a.SET_SCHEDULE_ORDER,value:{showScheduleOrder:Gl}}),Ft({type:at,value:{changeScheduleModeFlag:!0}}),Ft({type:Rt,value:{showSheduleDisposition:!0}}),Object(S.s)({...Jt,isTimeExpired:!1},Ft),Object(S.q)(qt,Ft));const a=ne(Hi||(null===gl||void 0===gl?void 0:gl.includes(null===Ri||void 0===Ri?void 0:Ri.service)),Ni);ga(te(zt,el,Ri,Gt,cl),Object(h.Ib)(null===(l=Object(A.i)(zt,Zt,Qt))||void 0===l?void 0:l.dispositionValue),(t=>{t.length>0&&oe(e,t,a,Ta,Mi)})),Object(u.u)(Ra),localStorage.setItem(v.gd.TO_EVENT_PAGE_USING_BUTTON,!0)}},"data-testid":"confirm-button-handler",inactive:$({enableOrderCapacityManagement:il,storeUnavailableError:fa,enableScheduleOrderFlag:Hi,selectedTime:Zl,showOrderNow:Ai,changeScheduleMode:yi,hasError:Ei,isForNow:Ml,scheduleModeClicked:Yt}),children:Object(i.translateWithI18Next)(ja)})})]}),Object(Y.jsx)(q,{isOpen:Ci})]})}},902:function(e,t,l){"use strict";l.d(t,"a",(function(){return j}));var i=l(3),a=l(25),o=l(84),d=l(92),r=l(76);const n={CLEAR_ALL_MSG:{MSGTXT1:"clearCartAwareText",MSGTXT2:"clearCartActionText",MSGTXT3:"clearCartCompleteText"},CLEAR_ALL:"continue",CANCEL:"cancel",TO_CHANGE_LANGUAGE:"toChangeLanguage"};var s=l(14),c=l(6),u=l(5),v=l(30),O=l(15),b=l(0),h=l(69),m=l(2);const j=e=>{const t=Object(a.c)((e=>e.cartReducer)),{cartData:l={}}=t||{},j=Object(a.c)((e=>e.tenantReducer)),{tenantId:p=""}=j||{},{userOrderState:S,userOrderStateDispatch:T}=Object(i.useContext)(r.a),{modalToOpenOnConfirm:E,modalOpenFrom:g,confirmCallBack:C}=S,{CartError:I}=O.a,D=Object(a.b)(),{CLEAR_ALL_MSG:A,CLEAR_ALL:N,CANCEL:y,TO_CHANGE_LANGUAGE:f}=n;((e,t,l)=>{e.langSelector?t.MSGTXT3=l:t.MSGTXT3})(e,A,f);const{SHOW_CLEAR_CART_ALERT:_,DISPOSITION_DATA:x,SEARCH_ORDER_DATA:R,SCHEDULE_ORDER_DATA:w,clearCartChangeFlag:L,orderTypeAlertTitle:F,searchStoreAlertTitle:M,RESET_DELIVERY_ADDRESS_LINE:k,CLEAR_CART_CONFIRM_CANCEL_MODAL:U,ORDER_CAPACITY_DATA_UPDATED:H}=s.a,P=Object(u.Jd)(S.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):S.dispositionNew,B=()=>{T({type:U,value:{}}),T({type:b.Le,value:{selectedLanguage:""}}),T({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!1,languageToChange:""}}),g===L&&T({type:w,value:{showScheduleOrderCatering:!0,selectedStoreInfo:P.store,changeFlow:!0}})};return Object(m.jsx)(d.a,{handleClose:B,classNames:"clear-cart-modal",CartAlertForm:Object(m.jsx)(o.a,{splitTitle:A,imageSrc:I,altText:"cart-error",confirmButtonText:Object(c.translateWithI18Next)(N),cancelButtonText:Object(c.translateWithI18Next)(y),cancelHandler:B,confirmHandler:()=>{if(l.discountLines.length>0){let e=l.discountLines.map((e=>e.id));D(Object(v.n)({params:{basketId:l.id},tenantId:p,shouldClearCart:!0},e))}else D(Object(v.o)({basketId:l.id,tenantId:p}));D(Object(h.c)({key:b.gd.VIEW_PRODUCT})),localStorage.removeItem(b.gd.ADD_TO_ORDER),D(Object(v.u)(new Date)),T({type:_,value:{showCartClearAlert:!1,modalOpenFrom:"",cartClearConfirmed:!0}}),C&&C(),E===F?(T({type:k}),T({type:x,value:{showDisposition:!0}}),T({type:w,value:{showScheduleOrderCatering:!1}}),T({type:R,value:{showSearchStore:!1}}),T({type:H,value:{orderCapacityDataUpdated:!1}}),T({type:U,value:{}})):E===M&&T({type:R,value:{showSearchStore:!0}})}})})}},911:function(e,t,l){"use strict";var i=l(3),a=l(76),o=l(5),d=l(11);t.a=()=>{const{userOrderState:e}=Object(i.useContext)(a.a),t=Object(i.useMemo)((()=>(Object(o.Jd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(d.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},915:function(e,t,l){"use strict";var i=l(3),a=l.n(i),o=l(43),d=l(2);const r=e=>{const{show:t,errorMsg:l="",cssClass:i="",errImage:a}=e;return t?Object(d.jsxs)("div",{className:"inline-error-container ".concat(i),children:[Object(d.jsx)(o.a,{srcFile:a}),Object(d.jsx)("div",{className:"error-message",children:l})]}):null},n=a.a.memo(r);t.a=n},929:function(e,t,l){"use strict";var i=l(3),a=l(25),o=l(18),d=l.n(o),r=l(339),n=l(341),s=l(51),c=l(911),u=l(11),v=l(5),O=l(0);t.a=function(){let{enabled:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(a.b)(),{dispositionNew:l}=Object(c.a)(),o=Object(a.c)((e=>e.specialEventReducer||{})),b=Object(a.c)((e=>e.cartReducer||{})),{isLoading:h}=o,{cartData:m}=b,j=e=>(null===e||void 0===e?void 0:e.toUpperCase())===O.Cf,p=Object(i.useMemo)((()=>o.specialEventItemAvailability||[]),[o.specialEventItemAvailability]),S=Object(i.useMemo)((()=>{const{type:e}=l||{},t=Object(r.a)(j,v.Ib);return!!e&&t(e)}),[l]),T=Object(i.useCallback)((function(e){var t;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=p.find((t=>{let{id:l}=t;return l.includes(e)}));if(!i)return!1;const a=null===m||void 0===m||null===(t=m.foodLines)||void 0===t?void 0:t.find((t=>{var l;return(null===t||void 0===t||null===(l=t.item)||void 0===l?void 0:l.id)===e})),o=(null===a||void 0===a?void 0:a.quantity)||0,{available:d,stock:r}=i;return d&&parseInt(r)>0&&l?o<=parseInt(r):o<parseInt(r)}),[p,null===m||void 0===m?void 0:m.foodLines]),E=Object(i.useCallback)((e=>{let{date:l,storeId:i,time:a}=e;if(!l||!i||!a)return!1;const o=s.a.formatValue(s.a.dayjs(a,O.sb.h_mm_A),O.sb.HHmm),d=Object(u.A)("".concat(l," ").concat(a),O.sb.YYYY_MM_DD_h_mm_A);t(Object(n.a)(i,d,o))}),[t]),g=Object(i.useCallback)((()=>{if(!S||h)return!1;const{date:e,selectedTime:t,store:i}=l;E({date:e,storeId:i.id,time:t})}),[l,E,S,h]);Object(i.useEffect)((()=>{e&&d()(p)&&g()}),[g,e,p]);return{isAllCartProductsAvailable:()=>{var e;const t=null===b||void 0===b||null===(e=b.cartData)||void 0===e?void 0:e.foodLines;return(null===t||void 0===t?void 0:t.every((e=>{var t;return T(null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.id,!0)})))||!1},eventAvailabilities:p,fetchEventItemAvailability:g,fetchEventItemAvailabilityForDisposition:e=>{if(!S)return!1;E(e)},getEventItemAvailability:T,isEvent:S}}},937:function(e,t,l){"use strict";l.d(t,"d",(function(){return i})),l.d(t,"a",(function(){return a})),l.d(t,"c",(function(){return o})),l.d(t,"b",(function(){return d}));const i={HOME:"Home",CARD_DETAILS_VIEW:"Card Details View",KFC_FORM:"KFC form",MILE_DETAILS:"mile details",RANKING:"Ranking"},a={KFC:"kfc",PONTA:"ponta",RAKUTEN:"rakuten"},o={PLATINUM:"platinum",REGULAR:"regular",BRONZE:"bronze",SILVER:"silver",GOLD:"gold"},d={milesMemberId:"I",stageNumber:"R",pontaId:"P",kfcCard:"K",rakutenId:"RK",expirationTime:"ED"}},991:function(e,t,l){"use strict";var i=l(3),a=l.n(i),o=l(6),d=l(212),r=l(43),n=l(15),s=l(5),c=l(4),u=l(2);const v=e=>{const{isAlert:t,show:l,sectionHeader:i,subSectionValue:a,orderTypeChange:v,onClickHandler:O,description:b,storeUnavailableError:h,showChangeButton:m=!0,scheduleTimeWarning:j=!1,scheduleErrMsg:p="",cssSubsection:S,specialNote:T="",dataTestid:E="",elementUniqueLocator:g}=e;return l?Object(u.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(u.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(i)}),Boolean(h)&&Object(u.jsxs)("div",{className:"store-cannot-deliver-error ".concat(Object(s.Tc)(!t,"store-error-msg-container","")),children:[Object(u.jsx)(r.a,{srcFile:t&&n.a.Error_Yellow||n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",dangerouslySetInnerHTML:{__html:Object(o.translateWithI18Next)(h)}})]}),Boolean(j)&&Object(u.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(u.jsx)(r.a,{srcFile:n.a.Error,className:"store-cannot-deliver-icon"}),Object(u.jsx)("div",{className:"storeErrorMessage",children:p})]}),Object(u.jsxs)("div",{className:"schedule-form-subsection ".concat(S),children:[Object(u.jsx)("div",{className:"schedule-order-subsection-value","data-testid":"store-store-name",children:a}),b&&Object(u.jsx)("div",{className:"schedule-order-subsection-value flat-num schedule-order-subsection-secondary",children:b}),T&&Object(u.jsxs)("div",{className:"schedule-order-subsection-value schedule-order-subsection-secondary special-note",children:[Object(o.translateWithI18Next)(null===c.a||void 0===c.a?void 0:c.a.SPECIAL_NOTE)," ",T]}),Object(u.jsx)("div",{className:"border-bottom"}),m&&Object(u.jsx)("div",{className:"changeOrEditOrderType","data-testid":"store-changelink",children:Object(u.jsx)(d.a,{"aria-label":"Edit order type",onClickHandler:O,"data-testid":g?E:"dynamic-click-test",children:Object(o.translateWithI18Next)(v)})})]})]}):null},O=a.a.memo(v);t.a=O},995:function(e,t,l){"use strict";var i=l(3),a=l.n(i),o=l(6),d=l(15),r=l(4),n=l(43),s=l(2);const{SingleArrowBlackExpand:c,SingleArrowBlack:u}=d.a,{TIME_NOT_AVAILABLE:v}=r.a;var O=e=>{const{cssClass:t,dropdownTitle:l,setSelectedItem:a,selectedItem:r,options:O,dropdownId:b,changeTimeObj:h={},changeDateObj:m={},dateTimeArr:j=[],placeholderText:p,disableOptions:S=!1,enableOrderCapacityManagement:T=!1,shouldDisplayDropdownError:E=!1,errorMessage:g="",dataTestid:C="",elementUniqueLocator:I}=e,D=(null===r||void 0===r?void 0:r.value)||p,[A,N]=Object(i.useState)(!1),{setSelectedTime:y=null,setErrorObj:f={}}=h,{setSelectedDate:_=null,dispositionType:x=""}=m;return Object(i.useEffect)((()=>{const e=e=>{var t,l;null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),null!==e&&void 0!==e&&null!==(t=e.target)&&void 0!==t&&t.matches("#".concat(b))||null!==e&&void 0!==e&&null!==(l=e.target)&&void 0!==l&&l.closest("#".concat(b))||N(!1)};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[b]),Object(s.jsxs)("div",{className:"custom-dropdown ".concat(t," ").concat(E?"custom-dropdown-error":""),children:[l&&Object(s.jsx)("div",{className:"dropdown-title","aria-level":"1",role:"heading",tabIndex:"0",children:l}),Object(s.jsxs)("div",{id:b,className:"dropdown-value","data-testid":I?C:"dropdown-value-id",role:"listbox",tabIndex:"0",onClick:()=>N(!A),children:[Object(s.jsx)("div",{className:"selected-value",children:D}),!S&&Object(s.jsx)("img",{src:A?c:u,alt:" ",className:"downarrow-imgs"})]}),!S&&A&&Object(s.jsx)("div",{className:"options-container",children:Object(s.jsx)("ul",{children:null===O||void 0===O?void 0:O.map((e=>{let t=null===e||void 0===e?void 0:e.value,l=null!==e&&void 0!==e&&e.disabled||null!==e&&void 0!==e&&e.storeClosed?"disabledOption":"";return"time-id"!==b||!T||null!==e&&void 0!==e&&e.isOrderCapacityAvailable||(t+=" ".concat(Object(o.translateWithI18Next)(v)),l+=" unavailableOption"),Object(s.jsx)("li",{tabIndex:"0",onClick:t=>((e,t)=>{null===e||void 0===e||e.preventDefault(),null===e||void 0===e||e.stopPropagation(),N(!1),"time-id"===b?(!T||T&&null!==t&&void 0!==t&&t.isOrderCapacityAvailable)&&a(t,y,f):a(t,j,_,y,f,x,m,T)})(t,e),className:l,"data-testid":"option-id",children:t},null===e||void 0===e?void 0:e.key)}))})}),E&&Object(s.jsxs)("div",{className:"dropdown-error",children:[Object(s.jsx)(n.a,{srcFile:d.a.Error,className:"store-cannot-deliver-icon"}),Object(s.jsx)("div",{className:"dropdown-error-message",children:g})]})]})},b=l(101),h=l(915),m=l(14);const j=e=>{const{show:t,sectionHeader:l,selectedDate:i,selectedTime:a,changeDateValue:c,changeTimeValue:u,dateTimeArr:v,showCateringWarning:j=!1,scheduleTimeWarning:p=!1,scheduleErrMsg:S="",scheduleErrorType:T="",scheduleWarningMsg:E="",changeTimeObj:g={},changeDateObj:C={},placeholderText:I,disableDateOption:D=!1,disableTimeOption:A=!1,enableScheduleOrderFlag:N=!1,enableOrderCapacityManagement:y=!1,orderCapacity:f={},storeId:_="",elementUniqueLocator:x}=e,{SingleArrow:R}=d.a,{DATE:w,TIME:L}=r.a,F=N?"date-time-section date-time-section-ca":"date-time-section date-time-section-au",M=y?Object(b.n)(f,_,i,v):[],k=y?M:null===i||void 0===i?void 0:i.timeSlots;return t?Object(s.jsxs)("div",{className:"schedule-order-form-sections",children:[Object(s.jsx)("h3",{className:"schedule-form-subsection-header",children:Object(o.translateWithI18Next)(l)}),Object(s.jsx)(h.a,{show:null===j||void 0===j?void 0:j.show,errorMsg:null===j||void 0===j?void 0:j.warning,errImage:null===j||void 0===j?void 0:j.image,cssClass:null===j||void 0===j?void 0:j.cssClass}),p&&Object(s.jsxs)("div",{className:"store-cannot-schedule-error timebased-inline-message",children:[Object(s.jsx)(n.a,{srcFile:d.a.Error,className:"store-cannot-deliver-icon"}),Object(s.jsx)("div",{className:"storeErrorMessage",children:S})]}),Object(s.jsxs)("div",{className:F,children:[Object(s.jsx)(O,{cssClass:"date-time-dropdown",dropdownTitle:Object(o.translateWithI18Next)(w),setSelectedItem:c,changeDateObj:C,changeTimeObj:g,dateTimeArr:v,selectedItem:null===i||void 0===i?void 0:i.date,imgSrc:R,options:Object(b.o)(v),dropdownId:"date-id",disableOptions:D,enableOrderCapacityManagement:y,shouldDisplayDropdownError:p&&E&&T===m.a.ORDER_CAPACITY_DAY_ERROR,errorMessage:E,dataTestid:"schedule-date",elementUniqueLocator:x}),Object(s.jsx)(O,{cssClass:"date-time-dropdown ".concat(y?"date-time-dropdown--order-capacity":""),dropdownTitle:Object(o.translateWithI18Next)(L),setSelectedItem:u,changeDateObj:C,changeTimeObj:g,dateTimeArr:v,selectedItem:a,imgSrc:R,options:k,dropdownId:"time-id",placeholderText:I,disableOptions:A,enableOrderCapacityManagement:y,shouldDisplayDropdownError:p&&E&&T===m.a.ORDER_CAPACITY_TIME_ERROR,errorMessage:E,dataTestid:"schedule-time",elementUniqueLocator:x})]})]}):null},p=a.a.memo(j);t.a=p}}]);