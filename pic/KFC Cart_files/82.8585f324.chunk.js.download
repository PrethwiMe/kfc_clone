(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[82],{1068:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"b",(function(){return O})),r.d(t,"d",(function(){return b})),r.d(t,"m",(function(){return m})),r.d(t,"g",(function(){return j})),r.d(t,"f",(function(){return h})),r.d(t,"l",(function(){return p})),r.d(t,"j",(function(){return N})),r.d(t,"i",(function(){return y})),r.d(t,"k",(function(){return x})),r.d(t,"e",(function(){return D})),r.d(t,"c",(function(){return I})),r.d(t,"h",(function(){return R}));var o=r(6),i=r(102),a=r(268),d=r(4),l=r(958),n=r(215),s=r(11),c=r(5),u=r(939);const v={props:null,dispatch:null,customerId:null,tenantId:null,customer:null,userStatus:null,isMobileView:!1,favoriteItems:null,selectedOrderId:null,currencySymbol:null,currencyConversionFactor:null,addHope:null,carryBag:null,showCarryBagInLineItem:null,pastOrderDateformat:"",pastOrderTimeFormat:"",orderDetails:{},orderHistory:[],currentOrderHistory:[],completedOrderHistory:[],displayNumOfRecords:10,currentPage:1,totalNumOfPages:1,displayAllRecords:!1,showHaveQuestionSection:!0,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1,isDarkMode:!1,orderHistoryLoading:!0,userOrderStateDispatch:null,cartDataService:null,showTaxLines:!1,showTaxExcluded:!0},O=e=>{const{dispatch:t,customerId:r,tenantId:o}=e,i=Object(c.tc)(12);t(Object(a.d)({customerId:r,tenantId:o},i))},b=e=>{const{dispatch:t,tenantId:r,selectedOrderId:o,orderDetails:a}=e,d=null===a||void 0===a?void 0:a.service;Object(c.he)(o)&&t(Object(i.c)({orderId:o,tenantId:r,CTO:!!Object(c.Ad)(d)&&void 0}))},m=e=>{var t,r,o,i,a,d,l,n,s,c,u,v,O,b,m,j,h,p,N,y,x,D,I,R,S,T,g,E,w,C,f,A,F,H,_,M,k,P;const{props:L,dispatch:W,tenantReducer:U,profileReducer:V,updateSetOrderHistoryDetails:B,openReorderModal:G,userOrderStateDispatch:Y}=e,{authoredContent:q,tenantId:X,currencySymbol:Z,currencyConversionFactor:J,addHope:K,carryBag:Q,showCarryBagInLineItem:z,pastOrderDateformat:$="",pastOrderTimeFormat:ee="",componentOptions:te,scheduleOrderDateFormat:re,dateFormat:oe,timeFormat:ie}=U;B({props:L,dispatch:W,authoredContent:q,tenantId:X,currencySymbol:Z,currencyConversionFactor:J,addHope:K,carryBag:Q,showCarryBagInLineItem:z,pastOrderDateformat:$,pastOrderTimeFormat:ee,scheduleOrderDateFormat:re,dateFormat:oe,timeFormat:ie,customerId:null===V||void 0===V?void 0:V.customerId,customer:null===V||void 0===V?void 0:V.basic,favoriteItems:(null===V||void 0===V?void 0:V.favouriteItems)||[],openReorderModal:G,userOrderStateDispatch:Y,showTaxLines:null===te||void 0===te||null===(t=te.web)||void 0===t||null===(r=t.cartPage)||void 0===r?void 0:r.showTaxLines,showTaxExcluded:null===te||void 0===te||null===(o=te.web)||void 0===o||null===(i=o.checkout)||void 0===i?void 0:i.showTaxExcluded,enableGlobalOrderTracking:null===U||void 0===U||null===(a=U.componentOptions)||void 0===a||null===(d=a.web)||void 0===d||null===(l=d.orderPages)||void 0===l?void 0:l.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===U||void 0===U||null===(n=U.componentOptions)||void 0===n||null===(s=n.web)||void 0===s||null===(c=s.orderPages)||void 0===c?void 0:c.enableRetryCountForPickupOrderTracking,pickupTrackOrderButtonLabel:null===U||void 0===U||null===(u=U.componentOptions)||void 0===u||null===(v=u.web)||void 0===v||null===(O=v.orderPages)||void 0===O?void 0:O.pickupTrackOrderButtonLabel,enableClickCollectScheduleOrder:null===te||void 0===te||null===(b=te.web)||void 0===b||null===(m=b.dispositionConfig)||void 0===m?void 0:m.enableClickCollectScheduleOrder,allowScheduleOrderForDispositions:null===te||void 0===te||null===(j=te.web)||void 0===j||null===(h=j.scheduledDelivery)||void 0===h?void 0:h.allowScheduleOrderForDispositions,showGiftCardOrVoucherSummary:null===U||void 0===U||null===(p=U.componentOptions)||void 0===p||null===(N=p.web)||void 0===N||null===(y=N.orderPages)||void 0===y?void 0:y.showGiftCardOrVoucherSummary,showPromosSummary:null===U||void 0===U||null===(x=U.componentOptions)||void 0===x||null===(D=x.web)||void 0===D||null===(I=D.orderPages)||void 0===I?void 0:I.showPromosSummary,enableScheduleOrder:null===U||void 0===U||null===(R=U.componentOptions)||void 0===R||null===(S=R.web)||void 0===S||null===(T=S.dispositionConfig)||void 0===T?void 0:T.enableScheduleOrder,showStoreRegistrationNumber:null===te||void 0===te||null===(g=te.web)||void 0===g||null===(E=g.orderPages)||void 0===E?void 0:E.showStoreRegistrationNumber,showStoreOrderNumber:null===te||void 0===te||null===(w=te.web)||void 0===w||null===(C=w.orderPages)||void 0===C?void 0:C.showStoreOrderNumber,showOrderDateTime:null===te||void 0===te||null===(f=te.web)||void 0===f||null===(A=f.orderPages)||void 0===A?void 0:A.showOrderDateTime,showOrderMode:null===te||void 0===te||null===(F=te.web)||void 0===F||null===(H=F.orderPages)||void 0===H?void 0:H.showOrderMode,showOrderStatus:null===te||void 0===te||null===(_=te.web)||void 0===_||null===(M=_.orderPages)||void 0===M?void 0:M.showOrderStatus,showPickupOrDeliveryTime:null===te||void 0===te||null===(k=te.web)||void 0===k||null===(P=k.orderPages)||void 0===P?void 0:P.showPickupOrDeliveryTime})},j=e=>{const{cartReducer:t,updateSetOrderHistoryDetails:r}=e,{cartData:o}=t;r({cartDataService:null===o||void 0===o?void 0:o.service})},h=e=>{const{appStateReducer:t,updateSetOrderHistoryDetails:r}=e;r({userStatus:null===t||void 0===t?void 0:t.userStatus})},p=e=>{const{paymentsContentReducer:t,updateSetOrderHistoryDetails:r}=e;r({paymentsContentReducer:t})},N=e=>{var t,r,o;const{orderHistoryReducer:i,orderHistoryDetails:a,updateSetOrderHistoryDetails:d,tenantReducer:n}=e;d({selectedOrderId:"",orderHistory:null!==i&&void 0!==i&&i.orderHistory&&Array.isArray(null===i||void 0===i?void 0:i.orderHistory)&&(null===i||void 0===i||null===(t=i.orderHistory)||void 0===t?void 0:t.length)>0?null===i||void 0===i||null===(r=i.orderHistory)||void 0===r||null===(o=r.sort(((e,t)=>(null===t||void 0===t?void 0:t.orderDateTimeInEpoch)-(null===e||void 0===e?void 0:e.orderDateTimeInEpoch))))||void 0===o?void 0:o.map((t=>{var r;const o=Object(l.j)({postOrPastOrderDetails:{...t,customer:null===a||void 0===a?void 0:a.customer,phoneNum:null===t||void 0===t||null===(r=t.customer)||void 0===r?void 0:r.phoneNumber},orderDetails:a,paymentsContentReducer:null===a||void 0===a?void 0:a.paymentsContentReducer,tenantReducer:n});return o.enableGlobalOrderTracking=null===a||void 0===a?void 0:a.enableGlobalOrderTracking,o.enableRetryCountForPickupOrderTracking=null===a||void 0===a?void 0:a.enableRetryCountForPickupOrderTracking,(e=>{const{profileReducer:t,orderDetails:r}=e,{favouriteOrders:o}=t;if(Object(c.ge)(r)&&(null===o||void 0===o?void 0:o.length)>0){const e=null===o||void 0===o?void 0:o.find((e=>(null===e||void 0===e?void 0:e.id)===(null===r||void 0===r?void 0:r.orderId)));Object(c.ge)(e)&&(r.isOrderSavedAsFavorite=!0,r.favoriteOrderName=null===e||void 0===e?void 0:e.name)}return r})({orderDetails:o,...e})})):[]})},y=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r}=e,{orderHistory:o}=t;r({currentOrderHistory:null===o||void 0===o?void 0:o.filter((e=>!Object(n.bb)(e)&&!Object(n.ab)(e))),completedOrderHistory:null===o||void 0===o?void 0:o.filter((e=>Object(n.bb)(e)||Object(n.ab)(e)))})},x=e=>{const{orderReducer:t,orderHistoryDetails:r,updateSetOrderHistoryDetails:o,tenantReducer:i}=e;o({orderDetails:Object(l.j)({postOrPastOrderDetails:null===t||void 0===t?void 0:t.response,orderDetails:r,paymentsContentReducer:null===r||void 0===r?void 0:r.paymentsContentReducer,tenantReducer:i})})},D=e=>{const{orderDetails:t,orderHistoryDetails:r,redirectTo:o}=e,{props:i}=r;(null===t||void 0===t?void 0:t.orderId)&&Object(u.r)({trackDetails:r,orderDetails:t,redirectTo:o,props:i})},I=e=>{var t,r,i,a;const{orderHistoryDetails:l,orderDetails:u,tenantReducer:v}=e,{orderDateOn:O,displayTodayDate:b,displayFormatOrderTime:m,service:j,statusUpdatedDate:h,showOrderingTime:p}=u,{showOrderDateTime:N}=l,y=N?p:m,x=null===O||void 0===O?void 0:O.split(" "),D=!!(null===v||void 0===v||null===(t=v.componentOptions)||void 0===t||null===(r=t.orderHistory)||void 0===r?void 0:r.showGiftCardRefundStatus)&&Object(n.Y)(null===u||void 0===u?void 0:u.postOrderDetails),I=Object(c.Ad)(j)?Object(n.A)(u):Object(n.u)(u),{isMobileView:R}=l;var S,T;if(Object(n.Z)(u))return"".concat(Object(o.translateWithI18Next)(Object(n.kb)(u)||Object(n.jb)(u)?D?null===d.a||void 0===d.a?void 0:d.a.GIFT_CARD_PROVIDED:null===d.a||void 0===d.a?void 0:d.a.REFUNDED:null===d.a||void 0===d.a?void 0:d.a.CANCELED),": ").concat(Object(o.translateWithI18Next)(null===x||void 0===x?void 0:x[0])+" "+(null!==(S=null===x||void 0===x?void 0:x[1])&&void 0!==S?S:"")+" "+(null!==(T=null===x||void 0===x?void 0:x[2])&&void 0!==T?T:"")+" "+y);if(!I&&Object(s.J)(h)&&O===b){var g,E;let e="".concat(Object(o.translateWithI18Next)(null===x||void 0===x?void 0:x[0])+" "+(null!==(g=null===x||void 0===x?void 0:x[1])&&void 0!==g?g:"")+" "+(null!==(E=null===x||void 0===x?void 0:x[2])&&void 0!==E?E:"")," ").concat(Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.AT)," ");return O===b&&(e=Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.SCHEDULE)+" ".concat(Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.FOR)," ")+Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.TODAY_AT)),"".concat(e," ").concat(y)}return"".concat(Object(o.translateWithI18Next)(null===x||void 0===x?void 0:x[0])+" "+(null!==(i=null===x||void 0===x?void 0:x[1])&&void 0!==i?i:"")+" "+(null!==(a=null===x||void 0===x?void 0:x[2])&&void 0!==a?a:"")," ").concat(R?" "+y:Object(o.translateWithI18Next)(null===d.a||void 0===d.a?void 0:d.a.AT)+" "+y)},R=e=>{const{contentReducer:t,updateSetOrderHistoryDetails:r}=e;r({StoreRegistrationNumber:Object(c.Nc)(t),...Object(c.Mc)(t)})}},1109:function(e,t,r){"use strict";r.d(t,"b",(function(){return N})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return F}));var o=r(6),i=r(136),a=r(4),d=r(0),l=r(15),n=r(11),s=r(5),c=r(333),u=r(215),v=(r(110),r(69),r(331)),O=r(16),b=r.n(O),m=r(1110),j=r.n(m),h=r(2);b.a.extend(j.a);const p=e=>{const{displayOrderId:t}=e;return Object(h.jsxs)("span",{className:"orderId col-8",children:[Object(h.jsx)("span",{className:"OrderClass",children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_HASH)}),t]})},N=e=>{var t,r,i;const{enableClickCollectScheduleOrder:l,allowScheduleOrderForDispositions:s,service:c,enableScheduleOrder:u,requestedDateTime:v,fulfillmentDateTime:O,scheduleOrderDateFormat:b}=e,m=l&&s.includes(c),j=Object(n.D)(O,null===e||void 0===e||null===(t=e.store)||void 0===t?void 0:t.timeZoneIANA,null===d.sb||void 0===d.sb?void 0:d.sb.MMMM_D_HH_MM_A),p=!!u&&!(null!==v&&void 0!==v&&v.isForNow),N=m||p,y=j.split(" "),x=Object(n.W)(y[2]+y[3]),D=null===e||void 0===e?void 0:e.is24HoursFormatEnabled,I="".concat(y[1].split(",")[0]).concat(Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DAY),",");return N?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"order-scheduled",children:null===(r=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.SCHEDULED))||void 0===r?void 0:r.toUpperCase()}),Object(h.jsx)("div",{className:"orderingDateTime",children:b?Object(n.D)(O,null===e||void 0===e||null===(i=e.store)||void 0===i?void 0:i.timeZoneIANA,null===d.sb||void 0===d.sb?void 0:d.sb.YYYY_MM_dd_AA):Object(o.translateWithI18Next)(y[0])+" "+(D?I:y[1])+" "+(D?x:y[2]+" "+y[3])})]}):null},y=e=>{var t,r,i,l,n,s,c,u,v,O,b,m,j,p,N,y,x,D,I,R,S;const{paymentType:T,tenders:g,paymentReferences:E,orderStatusFlag:w}=e;return Object(h.jsxs)("div",{className:"postorder-payment-details","data-testid":"post-payment-details",children:[Object(h.jsx)("h2",{className:"payment-header",children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PAYMENT_HEADER)}),Object(h.jsx)("div",{className:"payment-details",children:(null===T||void 0===T||null===(t=T.fields)||void 0===t||null===(r=t.displayFormat)||void 0===r?void 0:r.toLowerCase())===(null===d.Ne||void 0===d.Ne||null===(i=d.Ne.ONLY_IMAGE)||void 0===i?void 0:i.toLowerCase())?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("img",{src:null===T||void 0===T||null===(l=T.fields)||void 0===l||null===(n=l.icon)||void 0===n||null===(s=n.fields)||void 0===s||null===(c=s.desktopImage)||void 0===c||null===(u=c.fields)||void 0===u||null===(v=u.file)||void 0===v?void 0:v.url,alt:"paymentMethod"}),(null===E||void 0===E?void 0:E.length)>0&&(null===d.Ud||void 0===d.Ud||null===(O=d.Ud.CREDIT_CARD)||void 0===O?void 0:O.toLowerCase())===(null===g||void 0===g||null===(b=g[0])||void 0===b||null===(m=b.type)||void 0===m?void 0:m.toLowerCase())&&Object(h.jsx)("span",{className:"payment-completed",children:" x - ".concat(null===E||void 0===E||null===(j=E[0])||void 0===j?void 0:j.lastFour)})]}):Object(h.jsxs)(h.Fragment,{children:[w&&Object(h.jsx)("img",{src:null===T||void 0===T||null===(p=T.fields)||void 0===p||null===(N=p.icon)||void 0===N||null===(y=N.fields)||void 0===y||null===(x=y.desktopImage)||void 0===x||null===(D=x.fields)||void 0===D||null===(I=D.file)||void 0===I?void 0:I.url,alt:"paymentMethod",className:"mr-2"}),Object(h.jsx)("span",{className:"payment-completed",children:Object(o.translateWithI18Next)(T&&(null===T||void 0===T||null===(R=T.fields)||void 0===R?void 0:R.displayName)||(null===g||void 0===g||null===(S=g[0])||void 0===S?void 0:S.type))})]})})]})},x=e=>{var t,r,i;return Object(h.jsxs)("span",{class:"get-direction-panel ".concat((null===e||void 0===e||null===(t=e.orderDetails)||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)&&"orderdirection-icon"),"data-testid":"get-direction-panel",children:[Object(h.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.Direction,alt:"",className:"get-direction-icon ".concat(null!==e&&void 0!==e&&null!==(r=e.orderDetails)&&void 0!==r&&r.showStoreRegistrationNumber?"get-direction-icon-jp":"")}),Object(h.jsx)("span",{"data-testid":"get-direction",tabIndex:"0",className:"get-direction-text ".concat(null!==e&&void 0!==e&&null!==(i=e.orderDetails)&&void 0!==i&&i.showStoreRegistrationNumber?"get-direction-text-jp":""),onClick:()=>null===e||void 0===e?void 0:e.updateSetOrderDetails({isOpenOrderSummaryDirectionMap:!0}),children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.GET_DIRECTION)})]})},D=e=>{const{storeOperatingTime:t,operatingTimeFromStoreReducer:r,scheduleOrderDateFormat:i}=e,l=Object(s.gb)((null===t||void 0===t?void 0:t.operatingHours)||r);var c="",u="";c="00"===Object(s.qc)(l).split(":")[1]?null===d.Ne||void 0===d.Ne?void 0:d.Ne.H_a:null===d.Ne||void 0===d.Ne?void 0:d.Ne.H_MM_a;const v=i?Object(s.qc)(l):Object(n.R)(Object(s.qc)(l),null===d.Ne||void 0===d.Ne?void 0:d.Ne.HH_MM,c);u="00"===Object(s.qb)(l).split(":")[1]?null===d.Ne||void 0===d.Ne?void 0:d.Ne.H_MM_a:null===d.Ne||void 0===d.Ne?void 0:d.Ne.HH_MM_A;const O=i?Object(s.qb)(l):Object(n.R)(Object(s.qb)(l),null===d.Ne||void 0===d.Ne?void 0:d.Ne.HH_MM,u);return(null===l||void 0===l?void 0:l.length)&&Object(h.jsx)("span",{className:"hrs-view mob-display",children:"".concat(Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.HOURS)," ").concat(v,"-").concat(O)})},I=e=>{const{service:t,additionalCharges:r,subTotal:o,taxLines:i,inclusiveTaxTotal:a,discountTotal:l,discountLines:n,paymentDiscountLines:u,currencySymbol:v,currencyConversionFactor:O,showCombinedDiscount:b,showTaxLines:m,postOrderDetails:j,bottleDepositChargeTotal:p,showGiftCardOrVoucherSummary:N,showPromosSummary:y,showTaxExcluded:x,paymentDiscountTotal:D,taxAmountRoundOff:I,showDeliveryFeeInProductSection:R,showReducedAndStandardTax:S,foodLines:T,addHope:g}=e,E=l||D;Object(s.Z)(null===e||void 0===e?void 0:e.foodLines,g,v,O);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"line",children:Object(c.b)(e)}),R&&Object(c.f)(r,v,O,I,t),Boolean(N&&(null===u||void 0===u?void 0:u.length)>0&&D>0&&!b)&&Object(h.jsxs)(h.Fragment,{children:[Object(c.o)({discountLines:u,currencySymbol:v,currencyConversionFactor:O,showDiscountCouponCode:!0,showDiscountRemoveIcon:!1,isPaymentDiscount:!0}),Object(h.jsx)("div",{class:"hr-giftcard-type"})]}),Object(h.jsxs)("div",{className:y&&null!==n&&void 0!==n&&n.length&&l>0||null!==r&&void 0!==r&&r.length&&!R?"bottom-line":"",children:[!R&&Object(c.l)(o,v,O,I),m&&(null===i||void 0===i?void 0:i.length)>0?Object(c.g)(i,v,O,d.R.CHECK_OUT_PAGE,I):Object(c.k)(a,v,O,x,I)]}),S&&Object(c.q)(i,v,O,d.R.CHECK_OUT_PAGE,I),S&&Object(c.r)(i,v,O,d.R.CHECK_OUT_PAGE,I),y&&l>0&&!b&&Object(c.o)({discountLines:n,currencySymbol:v,currencyConversionFactor:O,showDiscountCouponCode:!1,showDiscountRemoveIcon:!1,isPaymentDiscount:!1}),E>0&&b&&Object(c.j)(E,v,O),!R&&Object(c.f)(r,v,O,I,t),R&&Object(c.l)(o,v,O,I),(null===j||void 0===j?void 0:j.driverTippingCharge)>0&&Object(c.n)(null===j||void 0===j?void 0:j.driverTippingCharge,v,O),Object(c.d)(T,g,v,O),Object(c.h)(p,v,O)]})},R=(e,t,r)=>{const{fullAddressDetails:i}=e;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DELIVERY_ADDRESS)}),Object(h.jsx)("div",{className:"place",children:Object(s.m)(r,t)?null!==t&&void 0!==t&&t.selectedLineValueAddress?"".concat(null===t||void 0===t?void 0:t.selectedLineValueAddress,", ").concat(null===t||void 0===t?void 0:t.NonFormattedAddress):null===t||void 0===t?void 0:t.NonFormattedAddress:i})]})},S=e=>{const{fullAddressDetails:t}=e;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DELIVERY_ADDRESS)}),Object(h.jsx)("div",{className:"place",children:t})]})},T=e=>{const{service:t}=e;return t===d.ee?L(e):P(e)},g=e=>{const{orderDetails:t,showServiceInTeanatLanauage:r,showStoreRegistrationNumberNewLogic:i}=e,{showStoreDirectinPanelInOrderSummaryInfoDetails:d,showStoreHoursPanelInOrderSummaryInfoDetails:n,store:s,showStoreRegistrationNumber:c,showOrderDateTime:u,showOrderMode:v,showOrderStatus:O,showPickupOrDeliveryTime:b}=t,m=null!==t&&void 0!==t&&t.showTrackingPageStaticStoreNumber?null===t||void 0===t?void 0:t.staticStoreNumber:null===s||void 0===s?void 0:s.phoneNumber;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PREPARED_BY)}),Object(h.jsxs)("div",{className:"preparedByPanel place",children:[Object(h.jsxs)("div",{className:"place-direction",children:[Object(h.jsx)("span",{className:"fnt-bld mob-display storeName",children:null===t||void 0===t?void 0:t.storeName}),d&&!(null!==t&&void 0!==t&&t.disableTrackingFields)&&x(e),Object(h.jsx)("div",{children:c&&H({...t,showStoreRegistrationNumberNewLogic:i})})]}),n&&D(t)]}),(null===t||void 0===t?void 0:t.enableRetryCountForPickupOrderTracking)&&Object(h.jsxs)("div",{className:"phone-details",children:[Object(h.jsx)("img",{src:null===l.a||void 0===l.a?void 0:l.a.phoneImg,alt:"",className:"get-direction-icon"}),Object(h.jsx)("a",{tabIndex:"-1",href:"tel:"+m,className:"ml-2 phone-details-text",children:m})]}),u&&_(t),v&&M(t,r),O&&k(t),b&&T(t)]})},E=e=>{var t;const{instruction:r}=e;return r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:null===(t=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.INSTRUCTIONS))||void 0===t?void 0:t.toUpperCase()}),Object(h.jsx)("div",{className:"place",children:Object(h.jsx)("span",{className:"mob-display",children:r})})]})},w=e=>{var t;const{instruction:r}=e;return r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:null===(t=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DELIVERY_INSTUCTIONS_TITLE))||void 0===t?void 0:t.toUpperCase()}),Object(h.jsx)("div",{className:"place",children:Object(h.jsx)("span",{className:"mob-display",children:r})})]})},C=e=>{const{orderDetails:t,showServiceInTeanatLanauage:r,enableOrderNoteForCheckout:o}=e,{addHope:i,carryBag:d,service:l,foodLines:n,total:s,currencySymbol:v,currencyConversionFactor:O,orderSummaryInfoDetailsShowInAccordion:b,taxAmountRoundOff:m,showOrderSummaryOnSentToPosFailed:j,showCarryBagInLineItem:N}=t;return Object(h.jsxs)("div",{className:"order-processing-info-container ".concat(l," col-12"),children:[!b&&p(t),j&&Object(u.mb)(t)&&U(t),g({...e,showServiceInTeanatLanauage:r}),(null!==o&&void 0!==o?o:null===t||void 0===t?void 0:t.enableOrderNoteForCheckout)&&E(t),I(t),!N&&Object(c.i)(l,n,d,v,O),Object(h.jsx)("div",{class:"hr-payment-type"}),Object(c.m)(s,v,O,null===a.a||void 0===a.a?void 0:a.a.TOTAL,m),Object(h.jsx)("div",{class:"hr-payment-type"}),!(null!==t&&void 0!==t&&t.disableTrackingFields)&&y(t)]})},f=(e,t,r)=>{var o,i;switch(null===e||void 0===e||null===(o=e.orderDetails)||void 0===o||null===(i=o.service)||void 0===i?void 0:i.toUpperCase()){case d.Jb.DELIVERY:return(e=>{var t;const{orderDetails:r,showServiceInTeanatLanauage:o,getPwaStorageData:i,showAddressWithApartment:d,enableOrderNoteForCheckout:l}=e,{total:n,currencySymbol:s,currencyConversionFactor:O,orderSummaryInfoDetailsShowInAccordion:b,service:m,taxAmountRoundOff:j,foodLines:x,showOrderSummaryOnSentToPosFailed:D,showViewReceiptModal:T}=r;return Object(h.jsxs)("div",{className:"order-processing-info-container ".concat(m),children:[!b&&p(r),D&&Object(u.mb)(r)&&U(r),!(null!==r&&void 0!==r&&r.isUberServiceableEnabled&&Object(v.e)(null===r||void 0===r||null===(t=r.deliveryDetails)||void 0===t?void 0:t.partnerName))&&N(r),!(null!==r&&void 0!==r&&r.disableTrackingFields)&&(T?S(r):R(r,i,d)),w(r),(null!==l&&void 0!==l?l:null===r||void 0===r?void 0:r.enableOrderNoteForCheckout)&&W(r),g({...e,showServiceInTeanatLanauage:o}),I(r),Object(h.jsx)("div",{className:"hr-payment-type"}),Object(c.m)(n,s,O,null===a.a||void 0===a.a?void 0:a.a.TOTAL_GST_INCLUDED,j),Object(h.jsx)("div",{className:"hr-payment-type"}),!(null!==r&&void 0!==r&&r.disableTrackingFields)&&y(r)]})})(e);case d.Jb.PICKUP:return C(e);case d.Jb.DINE_IN:case d.Jb.CATERING:return(e=>C(e))(e);default:return C(e)}},A=(e,t)=>{var r,o,i,a,d,l;const{updateSetOrderDetails:n,orderDetails:s}=t;n({orderSummaryInfoDetailsOpenAccordion:!(null!==s&&void 0!==s&&s.orderSummaryInfoDetailsOpenAccordion)});const c=null===e||void 0===e||null===(r=e.target)||void 0===r||null===(o=r.parentElement)||void 0===o||null===(i=o.parentElement)||void 0===i?void 0:i.parentElement;null!==c&&void 0!==c&&null!==(a=c.classList)&&void 0!==a&&a.contains("terms-accordian-open")?null===c||void 0===c||null===(d=c.classList)||void 0===d||d.remove("terms-accordian-open"):null===c||void 0===c||null===(l=c.classList)||void 0===l||l.add("terms-accordian-open")},F=(e,t,r)=>{const{orderDetails:d}=e,{orderId:l,displayOrderId:n,orderSummaryInfoDetailsOpenAccordion:s,showOrderSummaryOnSentToPosFailed:c}=d,v=c&&Object(u.mb)(d)?Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CONTACT_CUSTOMER_CARE):"".concat(Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_HASH)).concat(n);return Object(h.jsx)("div",{className:"order-processing-info-accordion col-12",children:Object(h.jsxs)("div",{className:"order-processing-info-accordion-info",children:[Object(h.jsx)("div",{class:"circle-topp"}),Object(h.jsx)("div",{className:"accordion-Title",children:Object(h.jsx)("div",{className:"order-processing-info-accordian",id:l,children:Object(h.jsx)(i.a,{dataTestId:"order-processing-info-container",cssClass:"order-processing-info-container",header:v,open:s,onClickHandler:A,additionalDetails:e,children:Object(h.jsx)("div",{className:"order-processing-info-accordian-description",children:f(e,t,r)})})})}),Object(h.jsx)("div",{class:"circle-bottomm"})]})})},H=e=>{const{oldTaxId:t,taxId:r,taxIdChangeDate:i,fulfillmentDateTime:d,showStoreRegistrationNumberNewLogic:l}=e,{StoreRegistrationNumber:n}=e;return l?Object(h.jsxs)("div",{children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.STORE_REGISTRATION_NUMBER)," :",b()(1e3*d).isSameOrAfter(b()(i))?r:t]}):Object(h.jsxs)("div",{children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.STORE_REGISTRATION_NUMBER)," : ",n]})},_=e=>{const{orderingDayAndMonthName:t,orderingTime:r,showComma:i}=e;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"order-field-title",children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_DATE_TIME)," :",Object(h.jsxs)("p",{className:"order-field-value",children:[" ",t," ",i&&","," ",r]})]})})},M=(e,t)=>{const{service:r}=e;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"order-field-title",children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_MODE)," :",Object(h.jsx)("p",{className:"order-field-value",children:t?Object(o.translateWithI18Next)(r):Object(s.Rb)(r)})]})})},k=e=>{const{orderStatus:t}=e;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"order-field-title",children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_STATUS)," :",Object(h.jsx)("p",{className:"order-field-value",children:Object(s.Rb)(Object(o.translateWithI18Next)(Object(u.cb)(t)?Object(s.Tc)(null===e||void 0===e?void 0:e.ShowOrderStatusAsResponse,t,null===a.a||void 0===a.a?void 0:a.a.PROCESSING):null===a.a||void 0===a.a?void 0:a.a.CANCELED))})]})})},P=e=>{const{deliveryOrEstimatedOrCollectAtDateFullMonthNameTime:t}=e;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"order-field-title",children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.DELIVERY_DATE_TIME)," :",Object(h.jsxs)("span",{className:"order-field-value",children:[" ",t]})]})})},L=e=>{const{pickupOrderEstimatedOrCollectAtDateFullMonthNameTime:t}=e;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"order-field-title",children:[Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.PICKUP_DATE_TIME)," :",Object(h.jsxs)("span",{className:"order-field-value",children:[" ",t]})]})})},W=e=>{var t;const{checkInSummary:r}=e;return r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:null===(t=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.ORDER_NOTES))||void 0===t?void 0:t.toUpperCase()}),Object(h.jsx)("div",{className:"place",children:Object(h.jsx)("span",{className:"mob-display",children:r})})]})},U=e=>{var t,r;const{customer:i}=e;return i&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"orderFrom",children:null===(t=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.CUSTOMER_NAME))||void 0===t?void 0:t.toUpperCase()}),Object(h.jsx)("div",{className:"place",children:Object(h.jsxs)("span",{className:"mob-display",children:[null===i||void 0===i?void 0:i.firstName," ",null===i||void 0===i?void 0:i.lastName]})}),Object(h.jsx)("h2",{className:"orderFrom",children:null===(r=Object(o.translateWithI18Next)(null===a.a||void 0===a.a?void 0:a.a.MOBILE_NUMBER))||void 0===r?void 0:r.toUpperCase()}),Object(h.jsx)("div",{className:"place",children:Object(h.jsx)("span",{className:"mob-display",children:null===i||void 0===i?void 0:i.phoneNumber})})]})}},1110:function(e,t,r){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},881:function(e,t,r){"use strict";r.r(t);var o=r(3),i=r.n(o),a=r(5),d=r(175),l=r(6),n=r(4),s=r(1004),c=r(1003),u=r(121),v=r(1080),O=r(0),b=r(14),m=r(2);const j=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r,userParams:o,tenantReducer:i,productMapById:a}=e,{showFavoriteModal:c,orderHistory:u,selectedOrderId:v}=t;if(c&&v&&null!==u&&void 0!==u&&u.length){const e=null===u||void 0===u?void 0:u.find((e=>(null===e||void 0===e?void 0:e.orderId)===v)),{favoriteOrderName:t="",orderId:O}=e,b=()=>{var e;return Object(d.a)(null===(e=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_ADDED_TO_FAVOURITE))||void 0===e?void 0:e.replace(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.FAVOURITES),"<u>".concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.FAVOURITES),"</u>")))};return Object(m.jsx)(s.a,{showOccassionModal:c,setOccassionModalOpen:()=>r({showFavoriteModal:!1}),occasionName:t,setOccasionName:e=>console.log(e),cardInfo:{id:O},toastmessage:b(),userParams:o,currencyShortName:null===i||void 0===i?void 0:i.currencyShortName,currencyConversionFactor:null===i||void 0===i?void 0:i.currencyConversionFactor,productMapById:a,orderDetail:e})}return null},h=e=>{const{orderHistoryDetails:t}=e,{orderHistory:r,selectedOrderId:o,openReorderModal:i,userOrderStateDispatch:a}=t,{REORDER_MODAL_OPEN:d,FROM_REORDER_MODAL_OPEN:l,REORDER_STORE_CHANGED:n}=b.a;if(i&&o&&null!==r&&void 0!==r&&r.length){const e=null===r||void 0===r?void 0:r.find((e=>(null===e||void 0===e?void 0:e.orderId)===o)),{service:t,orderId:s,store:u,deliveryAddress:v}=e,b=()=>{a({type:d,value:{reorderModalOpen:!1}}),a({type:n,value:{storeChanged:!1}}),a({type:l,value:{fromReorderFlag:!1}})};return Object(m.jsx)(c.a,{currentOrderInfo:{service:t,id:s,store:u,deliveryAddress:v},reorderModalOpen:i,closeButtonHandler:b,source:O.ve.ACCOUNT_ORDER_HISTORY})}return null},p=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r}=e,{showViewReceiptModal:o,orderHistory:i,selectedOrderId:d,orderDetails:s,currencySymbol:c,currencyConversionFactor:O,showTaxLines:b,showTaxExcluded:j,showGiftCardOrVoucherSummary:h,showPromosSummary:p,enableClickCollectScheduleOrder:N,allowScheduleOrderForDispositions:y,showStoreRegistrationNumber:x,showOrderDateTime:D,showOrderMode:I,showOrderStatus:R,showPickupOrDeliveryTime:S,StoreRegistrationNumber:T,enableScheduleOrder:g,scheduleOrderDateFormat:E,dateFormat:w,timeFormat:C,showCarryBagInLineItem:f,oldTaxId:A,taxId:F,taxIdChangeDate:H}=t;if(o&&d&&null!==i&&void 0!==i&&i.length){const e={id:"orderHistoryViewReceiptModal",role:"dialog",modalTitleId:"orderHistoryViewReceiptModal",show:o,classNames:"Base-modal order-History-view-receipt-modal",showCloseBtn:!0,showBackBtn:!1,closeButtonHandler:()=>r({showViewReceiptModal:!1}),modalTitle:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_RECEIPT),closeDataTestId:"orderHistoryViewReceiptCloseModal",autoFocus:!0},t=e=>{r({orderDetails:{...s,...e}})};return Object(m.jsx)(u.a,{...e,children:Object(m.jsx)("div",{className:"order-History-view-receipt-modal-container",children:Object(m.jsx)(v.a,{orderDetails:{...s,currencySymbol:c,currencyConversionFactor:O,showCarryBagInLineItem:f,showStoreDirectinPanelInOrderSummaryInfoDetails:Object(a.Xd)(null===s||void 0===s?void 0:s.service)||Object(a.yd)(null===s||void 0===s?void 0:s.service),showStoreHoursPanelInOrderSummaryInfoDetails:!0,showTaxLines:b,showTaxExcluded:j,showGiftCardOrVoucherSummary:h,showPromosSummary:p,enableClickCollectScheduleOrder:N,allowScheduleOrderForDispositions:y,showStoreRegistrationNumber:x,showOrderDateTime:D,showOrderMode:I,showOrderStatus:R,showPickupOrDeliveryTime:S,StoreRegistrationNumber:T,enableScheduleOrder:g,scheduleOrderDateFormat:E,dateFormat:w,timeFormat:C,showViewReceiptModal:o,oldTaxId:A,taxId:F,taxIdChangeDate:H},updateSetOrderDetails:t})})})}return null};var N=r(36),y=r(18),x=r.n(y),D=r(15),I=r(61),R=r(43);const S=e=>{const t={history:Object(I.g)()},{placeHolderText:r=(null===n.a||void 0===n.a?void 0:n.a.YOUR_CART_EMPTY),buttonLabel:o=(null===n.a||void 0===n.a?void 0:n.a.START_ORDER),onBtnClickHandler:i=(()=>Object(a.Ne)(t))}=e;return Object(m.jsxs)("div",{className:"cart-empty-placeholder cart-empty-root",children:[Object(m.jsxs)("div",{className:"cart-empty-placeholder-view",children:[Object(m.jsx)("span",{className:"cart-empty-placeholder-text",children:Object(l.translateWithI18Next)(r)}),Object(m.jsx)(N.a,{className:"button redButton start-order-btn cart-empty-placeholder-button","aria-label":Object(l.translateWithI18Next)(o),onClickHandler:i,id:"startOrderItemButton",type:"submit","data-testid":"empty-cart-start-order-button",children:Object(m.jsx)("span",{children:Object(l.translateWithI18Next)(o)})})]}),Object(m.jsx)(R.a,{className:"cart-empty-img",srcFile:null===D.a||void 0===D.a?void 0:D.a.EmptyCartImage,altText:""})]})};var T=i.a.memo(S),g=r(215),E=r(1109),w=r(1068),C=r(49);const f=e=>Object(m.jsxs)("div",{className:"order-history-order-item col-12",children:[L(e),W(e),U(e)]}),A=e=>{const{orderHistoryDetails:t,orderDetails:r}=e,{orderId:o}=r,{isDarkMode:i,selectedOrderId:a}=t;return a===o?i&&(null===D.a||void 0===D.a?void 0:D.a.AccordianUpDark)||(null===D.a||void 0===D.a?void 0:D.a.ArrowOrderUp):i&&(null===D.a||void 0===D.a?void 0:D.a.AccordianDownDark)||(null===D.a||void 0===D.a?void 0:D.a.ArrowOrderDown)},F=e=>{const{requestedDateTime:{isForNow:t}}=e;return Object(g.Z)(e)?null===D.a||void 0===D.a?void 0:D.a.Reload:Object(a.yd)(null===e||void 0===e?void 0:e.service)||!t&&Object(g.lb)(null===e||void 0===e?void 0:e.orderStatus)?null===D.a||void 0===D.a?void 0:D.a.ScheduledIcon:Object(a.Ad)(null===e||void 0===e?void 0:e.service)||Object(a.Xd)(null===e||void 0===e?void 0:e.service)||!t&&Object(g.lb)(!(null!==e&&void 0!==e&&e.orderStatus))?null===D.a||void 0===D.a?void 0:D.a.Time_Clock:void 0},H=e=>{const{requestedDateTime:{isForNow:t}}=e;return Object(g.Z)(e)?null===n.a||void 0===n.a?void 0:n.a.REFUND_INIT_TEXT:Object(a.yd)(null===e||void 0===e?void 0:e.service)||!t&&Object(g.lb)(null===e||void 0===e?void 0:e.orderStatus)?Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.HISTORY_STATUS_SCHEDULED)?null===n.a||void 0===n.a?void 0:n.a.HISTORY_STATUS_SCHEDULED:null===n.a||void 0===n.a?void 0:n.a.SCHEDULE:Object(a.Ad)(null===e||void 0===e?void 0:e.service)||Object(a.Xd)(null===e||void 0===e?void 0:e.service)||!t&&Object(g.lb)(!(null!==e&&void 0!==e&&e.orderStatus))?null===n.a||void 0===n.a?void 0:n.a.IN_PROGRESS:void 0},_=e=>{var t;const{favoriteOrderName:r,service:o}=e;var i;return Object(g.bb)(e)||Object(g.ab)(e)||!Object(g.Z)(e)?Object(a.he)(r)?r:"".concat(Object(l.translateWithI18Next)(o)," ").concat(null===(t=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER))||void 0===t?void 0:t.toUpperCase()):null===(i=Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.PROCESSING_REFUND))||void 0===i?void 0:i.toUpperCase()},M=(e,t)=>Object(a.yd)(null===e||void 0===e?void 0:e.service)?null===n.a||void 0===n.a?void 0:n.a.VIEW_DETAILS:Object(a.Ad)(null===e||void 0===e?void 0:e.service)?null===n.a||void 0===n.a?void 0:n.a.TRACK_ORDER:Object(a.Xd)(null===e||void 0===e?void 0:e.service)?Object(l.translateWithI18Next)(t):null,k=e=>{const{orderDetails:t}=e,{occasionTime:r}=t;return Object(m.jsx)("span",{"data-testid":"order-history-order-text",className:"order-history-order-date-time ".concat(Object(g.Z)(t)?"red":""),children:r||Object(w.c)(e)})},P=(e,t)=>{const{displayOrderId:r,store:{name:o}={},postOrderDetails:{phoneNum:i}}=e;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"order-item",children:Object(E.b)(e)}),Object(m.jsx)("div",{className:"order-item",children:o}),Object(m.jsxs)("div",{className:"order-item",children:[Object(l.translateWithI18Next)(n.a.ORDER_HASH),r]}),t&&i&&Object(m.jsxs)("div",{className:"order-item",children:[Object(l.translateWithI18Next)(n.a.PHONE_STATIC_TEXT),": ",i]})]})},L=e=>{var t;const{orderHistoryDetails:r,updateSetOrderHistoryDetails:o,tenantReducer:i}=e,d=null===i||void 0===i?void 0:i.is24HoursFormatEnabled,n={...null===e||void 0===e?void 0:e.orderDetails,enableGlobalOrderTracking:null===r||void 0===r?void 0:r.enableGlobalOrderTracking,enableRetryCountForPickupOrderTracking:null===r||void 0===r?void 0:r.enableRetryCountForPickupOrderTracking,enableScheduleOrder:null===r||void 0===r?void 0:r.enableScheduleOrder,is24HoursFormatEnabled:d},{orderId:s,service:c}=n,{isMobileView:u,selectedOrderId:v,pickupTrackOrderButtonLabel:O}=r,b=Object(a.Xd)(c)||Object(a.Md)(c),j=null===i||void 0===i?void 0:i.showCustomerPhoneNumber;return Object(m.jsxs)("div",{className:"order-history-order-item-header-container col-12",children:[Object(m.jsxs)("div",{className:"order-history-order-item-header-left-container ".concat(Object(a.Tc)(u,"col-5","col-7")),children:[!Object(g.bb)(n)&&!Object(g.ab)(n)&&Object(m.jsxs)("div",{className:"order-history-order-item-heading-section","data-testid":"checkin-button",children:[Object(m.jsx)("img",{alt:"reload",src:F(n),className:"order-item-heading-status-icon"}),!u&&Object(m.jsx)("span",{className:"order-item-heading-status-msg",children:null===(t=Object(l.translateWithI18Next)(H(n)))||void 0===t?void 0:t.toUpperCase()})]}),Object(m.jsx)("span",{className:"order-history-order-item-heading",children:_(n)}),b&&P(n,j)]}),Object(m.jsxs)("div",{className:"order-history-order-item-header-right-container",children:[Object(g.bb)(n)||Object(g.ab)(n)||!M(n,O)?k(e):Object(m.jsx)(N.a,{className:"button transparent-btn order-history-track-btn","data-testid":"track-order-btn-".concat(s),"aria-label":Object(l.translateWithI18Next)(M(n,O)),onClickHandler:()=>Object(w.e)(e),children:Object(m.jsx)("span",{children:Object(l.translateWithI18Next)(M(n,O))})}),Object(m.jsx)("img",{alt:"arrows",src:A(e),onClick:()=>o({selectedOrderId:v===s?"":s,orderDetails:n,showViewReceiptModal:!1,showFavoriteModal:!1,showReorderModal:!1}),className:"order-history-order-item-accordion-arrow","data-testid":"order-item-arrow-".concat(s)})]})]})},W=e=>{const{orderHistoryDetails:t,orderDetails:r,imageOrderContainerSize:o,tenantReducer:i}=e,{height:d,width:l}=o,{orderId:n,filteredFoodLines:s,orderedItemDetails:c}=r,{selectedOrderId:u,currencySymbol:v,currencyConversionFactor:b}=t,j=c||s,h=Object(a.xc)(j,O.i,null===i||void 0===i?void 0:i.carryBag,null===i||void 0===i?void 0:i.showCarryBagInLineItem);return u===n&&Object(m.jsx)("div",{className:"order-history-order-item-content col-12",children:null===h||void 0===h?void 0:h.map((e=>{var r;const{dname:o,quantity:n,unitPrice:s,amount:c,content:u}=(null===e||void 0===e?void 0:e.item)||e;return Object(m.jsxs)("div",{className:"order-history-order-item-panel default-img",children:[Object(m.jsx)(R.a,{className:"order-history-order-item-img-sopac ".concat(!u&&"no-image"),defaultPath:Object(a.Xb)(null,t,!0),srcFile:Object(a.lc)(u,l,d)}),Object(m.jsxs)("div",{className:"order-history-order-item-details-section",children:[Object(m.jsxs)("span",{className:"order-history-order-item-title",children:[n," x ",null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.value]}),Object(m.jsx)("span",{className:"order-history-order-item-price",children:Object(a.I)(s||c,{currencySymbol:v,currencyConversionFactor:b},"",null===i||void 0===i?void 0:i.taxAmountRoundOff)})]})]})}))})},U=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r,orderDetails:o,userParams:i}=e,{orderId:d,isOrderSavedAsFavorite:s,service:c}=o,{selectedOrderId:u,props:v,userOrderStateDispatch:j,cartDataService:h}=t,{REORDER_MODAL_OPEN:p,FROM_REORDER_MODAL_OPEN:y}=b.a;return u===d&&Object(m.jsxs)("div",{className:"order-history-order-item-footer-container col-12",children:[Object(m.jsxs)("div",{className:"order-history-order-item-header-left-container",children:[Object(m.jsxs)("span",{className:"order-history-order-occasion-link","data-testid":"view-occasion-modal",onClick:()=>{var e;return s?null===t||void 0===t||null===(e=t.props)||void 0===e?void 0:e.updateMenu(null===n.a||void 0===n.a?void 0:n.a.FAVORITE_ORDERS):r({showFavoriteModal:!0})},children:[Object(m.jsx)("img",{alt:"favourite-unfavourite",src:s?null===D.a||void 0===D.a?void 0:D.a.FavouriteActiveBlack:null===D.a||void 0===D.a?void 0:D.a.FavouriteInActiveBlack,className:"order-history-order-favourite"}),Object(l.translateWithI18Next)(s?null===n.a||void 0===n.a?void 0:n.a.VIEW_IN_FAVOURITES:null===n.a||void 0===n.a?void 0:n.a.ADD_TO_OCCASION)]}),Object(m.jsx)("span",{className:"order-history-order-receipt-link","data-testid":"view-receipt",onClick:()=>r({showViewReceiptModal:!0}),children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.VIEW_RECEIPT)})]}),Object(m.jsx)("div",{className:"order-history-order-item-footer-right-container",children:Object(m.jsx)(N.a,{className:"button re-order-btn ".concat(Object(a.yd)(c)?"":"redButton"),"aria-label":"",type:"submit","data-testid":"re-order-btn",onClick:()=>{var e;Object(a.yd)(c)?(e=v,!h||Object(a.yd)(h)?Object(a.Fe)(e):j({type:null===O.Ne||void 0===O.Ne?void 0:O.Ne.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:null===O.Ae||void 0===O.Ae?void 0:O.Ae.CATERING_PAGE,title:null===n.a||void 0===n.a?void 0:n.a.CATERING_NAVALERT_TITLE,contentMsg:null===n.a||void 0===n.a?void 0:n.a.CATERING_NAVALERT_SUBTITLE}})):((null===i||void 0===i||!i.localized)&&Object(C.o)(),r({showReorderModal:!0}),sessionStorage.setItem(O.gd.REORDER_CLICK,!0),j({type:y,value:{fromReorderFlag:!0}}),j({type:p,value:{reorderModalOpen:!0}}))},children:Object(m.jsx)("span",{children:Object(l.translateWithI18Next)(Object(a.yd)(c)?null===n.a||void 0===n.a?void 0:n.a.EXPLORE_CATERING:null===n.a||void 0===n.a?void 0:n.a.REORDER_TEXT)})})})]})};var V=r(1059);const B=e=>{const{orderHistoryDetails:t}=e,{isMobileView:r,props:o}=t;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"order-history-header col-12",children:[r&&Object(m.jsx)("img",{alt:"back-arrow",src:null===D.a||void 0===D.a?void 0:D.a.Arrow,className:"back-icon","data-testid":"order-history-back-btn",onClick:()=>null===o||void 0===o?void 0:o.updateMenu("")}),Object(m.jsx)("span",{className:"order-history-heading",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_HISTORY_TAG)})]}),r&&Object(m.jsx)("div",{className:"order-history-title",children:Object(m.jsx)("h3",{className:"order-history-text",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.ORDER_HISTORY_TAG)})})]})},G=e=>{const{orderHistoryDetails:t}=e,{orderHistory:r,orderHistoryLoading:o}=t;return 0===(null===r||void 0===r?void 0:r.length)&&!o&&Object(m.jsx)(T,{placeHolderText:null===n.a||void 0===n.a?void 0:n.a.NO_ORDER_HISTORY_MSG})},Y=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r}=e,{completedOrderHistory:o,displayAllRecords:i,displayNumOfRecords:a,currentPage:d,totalNumOfPages:s}=t;return(null===o||void 0===o?void 0:o.length)>0&&a<(null===o||void 0===o?void 0:o.length)&&!i&&Object(m.jsxs)("div",{className:"order-History-Footer col-12",children:[Object(m.jsx)("div",{className:"load-more",children:Object(m.jsx)(N.a,{className:"button transparent-btn footer-btn","data-testid":"load-more-btn","aria-label":Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.LOAD_MORE),onClickHandler:()=>r({currentPage:d+1,displayAllRecords:d+1>=s}),children:Object(m.jsx)("span",{children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.LOAD_MORE)})})}),Object(m.jsx)("div",{className:"view-order-count",children:Object(m.jsx)("span",{children:"".concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.VIEWED)," ").concat(a*d," ").concat(Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.OF)," ").concat(null===o||void 0===o?void 0:o.length)})})]})},q=e=>{const{orderHistoryDetails:t,contentReducer:r}=e,{showHaveQuestionSection:i,orderHistory:d}=t,[s,c]=Object(o.useState)(!1),u=x()(Object(a.Ob)(r));return 0===(null===d||void 0===d?void 0:d.length)&&i&&Object(m.jsxs)("div",{className:"order-history-header get-help-header col-12",children:[Object(m.jsxs)("div",{className:"order-History-Footer col-12",children:[Object(m.jsx)("hr",{className:"horizontal-bar"}),Object(m.jsxs)("div",{className:"get-help-section",children:[Object(m.jsxs)("div",{className:"footer-bootm-left",children:[Object(m.jsx)("span",{className:"have-a-question",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.HAVE_A_QUESTION)}),Object(m.jsx)("span",{className:"connect-specialist",children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.CONNECT_WITH_SPECIALIST)})]}),Object(m.jsx)("div",{className:"get-help-btn",children:Object(m.jsx)(N.a,{className:"button transparent-btn footer-btn","data-testid":"getHelp-btn","aria-label":Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.GET_HELP),onClickHandler:()=>u?c(!0):window.open(Object(a.Ob)(r),"_blank"),children:Object(m.jsx)("span",{children:Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.GET_HELP)})})})]})]}),s&&Object(m.jsx)(V.a,{orderHistoryPage:!0,isOpen:s,handleClose:()=>c(!1)})]})},X=e=>{const{orderHistoryDetails:t}=e,{currentOrderHistory:r}=t;return(null===r||void 0===r?void 0:r.length)>0&&Object(m.jsxs)("div",{className:"order-History-current-order-section col-12",children:[Object(m.jsxs)("span",{className:"order-section-header col-12","data-testid":"account-current-orders-three",children:[Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.CURRENT_ORDERS)," (",null===r||void 0===r?void 0:r.length,")"]}),null===r||void 0===r?void 0:r.map((t=>f({...e,orderDetails:t})))]})},Z=e=>{const{orderHistoryDetails:t}=e,{completedOrderHistory:r,displayAllRecords:o,displayNumOfRecords:i,currentPage:a}=t;return(null===r||void 0===r?void 0:r.length)>0&&Object(m.jsxs)("div",{className:"order-History-completed-order-section col-12",children:[Object(m.jsxs)("span",{className:"order-section-header col-12","data-testid":"account-previous-orders",children:[Object(l.translateWithI18Next)(null===n.a||void 0===n.a?void 0:n.a.COMPLETED_ORDERS_TEXT)," (",null===r||void 0===r?void 0:r.length,")"]}),null===r||void 0===r?void 0:r.map(((t,r)=>(r<i*a||o)&&f({...e,orderDetails:t})))]})};var J=r(1023);const K=e=>{const{orderHistoryDetails:t,updateSetOrderHistoryDetails:r}=e,{orderDetails:o}=t;return Object(m.jsxs)("div",{className:"order-history col-12 au",children:[B(e),G(e),X({...e,redirectTo:a.Qe}),Z({...e,redirectTo:a.Qe}),Y(e),q(e),p(e),o.isOpenOrderSummaryDirectionMap&&Object(J.d)({orderDetails:o,updateSetOrderDetails:e=>{r({orderDetails:{...o,...e}})}}),j(e),h(e)]})};t.default=i.a.memo(K)}}]);