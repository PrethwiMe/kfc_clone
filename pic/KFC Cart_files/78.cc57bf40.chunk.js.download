(this["webpackJsonpreusable-comps"]=this["webpackJsonpreusable-comps"]||[]).push([[78],{1042:function(e,t,o){"use strict";var i=o(3),a=o(61),n=o(122),l=o(76),d=o(25),s=o(5),c=o(279),u=o(18),r=o.n(u),v=o(14),p=o(345),O=o(129),b=o(324),m=o(63),S=o(30),I=o(0),N=o(69),E=o(110),g=o(966),T=o(11),h=o(2);t.a=function(e){const{SET_FORCERELOAD:t,STATUS_API_CALLED:o}=v.a,{DISPOSITION_DATA:u,SEARCH_ORDER_DATA:j,EVENT:D,DELIVERY:A}=p.a;return function(v){var p,y,_,R,f,w,M,P,C,L,G,V;let{...U}=v;const{flatResponse:Y={},searchResults:{id:F=null,categories:J=[]}={},isMenuReset:x,isLoading:k}=null!==(p=Object(d.c)((e=>{let{menuReducer:t}=e;return t})))&&void 0!==p?p:{},{userOrderState:{dispositionNew:H=JSON.parse(localStorage.getItem("dispositionNew")),forceReload:z}={},userOrderStateDispatch:B}=Object(i.useContext)(l.a),[W,q]=Object(i.useState)(!1),Z=Object(s.Jd)(H)?JSON.parse(localStorage.getItem("dispositionNew")):H,K=Object(d.c)((e=>null===e||void 0===e?void 0:e.cartReducer)),{storesWithStatus:Q}=Object(d.c)((e=>null===e||void 0===e?void 0:e.storesReducer))||{},X=Object(E.b)(N.b),$=Object(E.a)(),ee=null===K||void 0===K||null===(y=K.cartData)||void 0===y||null===(_=y.requestedDateTime)||void 0===_?void 0:_.isForNow,{tenantId:te,authoredContent:{defaultdisposition:oe,defaultcateringdisposition:ie}={},genericMenuName:ae,genericMenuNameChristmas:ne,genericCateringName:le,componentOptions:de,enableDeliveryMenuOption:se}=Object(d.c)((e=>e.tenantReducer||{})),ce=Object(a.h)(),ue=(Object(s.Nd)(ce.pathname),null===de||void 0===de||null===(R=de.web)||void 0===R?void 0:R.dispositionConfig),{enableScheduleOrder:re=!1,enableClickCollectScheduleOrder:ve=!1}=ue,pe=null!==(f=null===de||void 0===de||null===(w=de.web)||void 0===w||null===(M=w.scheduledDelivery)||void 0===M?void 0:M.allowScheduleOrderForDispositions)&&void 0!==f?f:[],Oe=re||ve,be=Object(O.c)({path:null===U||void 0===U||null===(P=U.location)||void 0===P?void 0:P.pathname,genericMenuName:ae,genericCateringName:le,defaultdisposition:oe,defaultcateringdisposition:ie,genericMenuNameChristmas:ne}),me=null!==(C=null===K||void 0===K||null===(L=K.cartData)||void 0===L||null===(G=L.requestedDateTime)||void 0===G?void 0:G.futureDateTime)&&void 0!==C?C:"",{SERVICE_CHANNEL:Se}=c.a,Ie=Object(i.useMemo)((()=>{var e,t;const o=((e,t)=>null!==e&&void 0!==e?e:t)(null===Z||void 0===Z?void 0:Z.type,be.defaultdispostitionType),i=Object(T.h)(null===Z||void 0===Z?void 0:Z.date,I.sb.YYYY_MM_DD);return{storeInfo:null!==(e=null===Z||void 0===Z?void 0:Z.store)&&void 0!==e?e:{},dispositionType:Object(s.Ib)(o),time:null!==(t=Object(b.l)(Z,i))&&void 0!==t?t:me}}),[Z,oe,null===U||void 0===U?void 0:U.location]),{storeInfo:Ne,dispositionType:Ee,time:ge}=Ie,Te=Ee,he=((e,t,o,i)=>{var a,n,l,d,s,c,u;const r=null===e||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.service)===o));return(null===r||void 0===r||null===(a=r[0])||void 0===a||null===(n=a.summary)||void 0===n||null===(l=n.menu)||void 0===l||null===(d=l.catalogs)||void 0===d?void 0:d[0])||(null===i||void 0===i||null===(s=i.summary)||void 0===s||null===(c=s.menu)||void 0===c||null===(u=c.catalogs)||void 0===u?void 0:u[0])||t.defaultMenuName})(Q,be,Te,Ne),je=(null===Ne||void 0===Ne?void 0:Ne.id)||(null===Ne||void 0===Ne?void 0:Ne.storeId);let De={storeId:je,channel:Se,service:Te};const Ae={enableScheduleOrderFlag:Oe,showOrderNow:ee,allowScheduleOrderForDispositions:pe},{handleMenuNavigation:ye,handleDeliveryMenuNavigation:_e}=Object(g.a)(),Re=Object(b.q)(De,Te,Ae,ge),fe=Object(d.b)(),we=()=>{const e=isNaN(ge)?"":ge,t={storeid:je,service:Te,channel:Se},i=e?{...t,futureDateTimeInEpochFormat:e}:t;fe(Object(m.n)({data:i,tenantId:te},(()=>{B({type:o,value:{statusAPICalled:!0}}),fe(Object(n.d)({tenantId:te,catalogName:he},Re,(()=>{var e;null!==X&&void 0!==X&&X.LanguageChanged&&null!==K&&void 0!==K&&null!==(e=K.cartData)&&void 0!==e&&e.id&&((async()=>{var e;const t=await Object(s.z)(Q[0]);fe(Object(S.f)({data:t,tenantId:te}));const o=JSON.parse(localStorage.getItem(I.gd.DISPOSITION_NEW));o.store.summary=null===Q||void 0===Q||null===(e=Q[0])||void 0===e?void 0:e.summary,localStorage.setItem(I.gd.DISPOSITION_NEW,JSON.stringify(o))})(),setTimeout((()=>$(Object(N.c)({key:I.Zc}))),3e3))})))}),null))};Object(i.useEffect)((()=>{var e;const o=!je&&Object(b.i)(null===U||void 0===U||null===(e=U.location)||void 0===e?void 0:e.pathname,J),i=function(e,o,i,a,n){let l=r()(e)||a;if(a&&n({type:t,value:{forceReload:!1}}),!l&&o){const e=localStorage.getItem("storeId");e&&o===e||(localStorage.setItem("storeId",o),l=!0)}if(!l&&i){const e=localStorage.getItem("serviceType");e&&i===e||(localStorage.setItem("serviceType",i),l=!0)}return l}(Y,je,Te,z,B);o&&fe(Object(n.f)()),Me(o,i)&&(q(!1),je&&Te?we():fe(Object(n.d)({tenantId:te,catalogName:he},Re)))}),[Se,he,fe,Y,Te,je,te,z,W,ge]),Object(i.useEffect)((()=>{const e=Object(s.Nd)(ce.pathname),t=localStorage.getItem(I.gd.TO_EVENT_PAGE_USING_BUTTON);e&&Ie.dispositionType!==D&&"true"!==t?(ye(I.Ae.EVENT_PAGE),B({type:u,value:{showDisposition:!1,dispositionType:"christmas_ordering"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0,userAddress:""}})),1500)):Object(s.Ed)(ce.pathname)&&Ie.dispositionType!==A&&"true"!==t&&se?(localStorage.setItem(I.gd.RETAIN_ADDRESS,""),_e(I.Ae.DELIVERY),B({type:u,value:{showDisposition:!1,dispositionType:"delivery"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",showSearchStore:!0}})),1500)):Object(s.Td)(ce.pathname)&&Ie.dispositionType===A&&se&&(B({type:u,value:{showDisposition:!1,dispositionType:"pickup"}}),setTimeout((()=>B({type:j,value:{configSearchScreen:"FORM",contentData:{},searchedPlaceNonLocalized:void 0,showSearchStore:!0}})),1500)),localStorage.setItem(I.gd.TO_EVENT_PAGE_USING_BUTTON,!1)}),[]);const Me=(e,t)=>(!k||F&&F!==he||je)&&(e||(t||W)&&!x);return Object(i.useEffect)((()=>{q(!0),B({type:o,value:{statusAPICalled:!1}})}),[null===U||void 0===U||null===(V=U.location)||void 0===V?void 0:V.pathname]),r()(Y)?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(e,{...U})}}},1261:function(e,t,o){"use strict";o.r(t);var i=o(171),a=o(1042),n=o(348),l=o(25),d=o(2);t.default=Object(a.a)((e=>{const{componentOptions:t={web:{pdp:{}}}}=Object(l.c)((e=>e.tenantReducer)),{web:{global:o}}=t;return null!==o&&void 0!==o&&o.cateringNavigationAllowed||null===e||void 0===e||!e.isCateringPage?Object(d.jsx)(i.a,{testId:null===e||void 0===e?void 0:e.testId,importPath:"MENU_PLP_LANDING_PAGE",...e}):Object(d.jsx)(n.a,{})}))},911:function(e,t,o){"use strict";var i=o(3),a=o(76),n=o(5),l=o(11);t.a=()=>{const{userOrderState:e}=Object(i.useContext)(a.a),t=Object(i.useMemo)((()=>(Object(n.Jd)(e.dispositionNew)?JSON.parse(localStorage.getItem("dispositionNew")):null===e||void 0===e?void 0:e.dispositionNew)||{}),[null===e||void 0===e?void 0:e.dispositionNew]);return{dispositionNew:t,getUnixTimestampFromDisposition:()=>Object(l.A)(t.date+" "+t.selectedTime,"YYYY-MM-DD hh:mm")}}},966:function(e,t,o){"use strict";var i=o(97),a=o(30),n=o(0),l=o(4),d=o(76),s=o(111),c=o(14),u=o(3),r=o(61),v=o(911),p=o(5),O=o(25);t.a=()=>{var e,t,o;const{MENU_NAVALERT_TITLE:b,MENU_NAVALERT_SUBTITLE:m}=l.a,{userOrderStateDispatch:S}=Object(u.useContext)(d.a),I=Object(O.b)(),{dispositionNew:N}=Object(v.a)(),E=Object(r.g)(),g=Object(O.c)((e=>{var t;return null===e||void 0===e||null===(t=e.appStateReducer)||void 0===t?void 0:t.userStatus})),T=Object(O.c)((e=>e.tenantReducer)),{tenantId:h}=T,j=null===T||void 0===T||null===(e=T.componentOptions)||void 0===e||null===(t=e.web)||void 0===t||null===(o=t.dispositionConfig)||void 0===o?void 0:o.hideCartDeletionAlert,{cartData:D={}}=Object(O.c)((e=>e.cartReducer)),{DISPOSITION_TYPE:A}=n.gd;let y={type:"",store:"",date:"",time:"",interval:"",deliveryAddress:"",deliveryAddressLine:"",selectedTime:""};const _=e=>{S({type:c.a.UPDATE_CATERING_RETAIL_MENU_ALERT,value:{flag:!0,pathname:e,title:b,contentMsg:m}})},R=e=>{S({type:c.a.SET_DISPOSITION,value:{oldvalue:e||y,newValue:e||y}}),S({type:c.a.DISPOSITION_METHOD,value:{dispositionType:e?null===e||void 0===e?void 0:e.type:""}}),localStorage.removeItem(n.gd.DISPOSITION_TYPE),localStorage.removeItem(n.gd.DISPOSITION_OLD),localStorage.removeItem(n.gd.DISPOSITION_NEW)},f=()=>{g&&I(Object(i.a)({...g,localized:!1})),S({type:c.a.USER_LOCALIZED,value:{isLocalized:!1}}),null!==D&&void 0!==D&&D.id&&I(Object(a.g)({basketId:null===D||void 0===D?void 0:D.id},!1,{data:{},tenantId:h}))};return{handleMenuNavigation:e=>{j?E.push({pathname:e}):Object(p.Nd)(e)&&!Object(p.Md)(null===N||void 0===N?void 0:N.type)&&null!==N&&void 0!==N&&N.type?_(e):Object(p.Nd)(e)&&Object(p.Md)(null===N||void 0===N?void 0:N.type)?E.push({pathname:n.Ae.EVENT_PAGE}):!Object(p.Nd)(e)||null!==N&&void 0!==N&&N.type?!Object(p.Nd)(e)&&Object(p.Md)(null===N||void 0===N?void 0:N.type)&&_(e):(E.push({pathname:n.Ae.EVENT_PAGE}),localStorage.setItem(n.gd.TO_EVENT_PAGE_USING_BUTTON,!0))},handleDeliveryMenuNavigation:e=>{j?E.push({pathname:e}):Object(p.Ed)(e)&&!Object(p.Ad)(null===N||void 0===N?void 0:N.type)&&null!==N&&void 0!==N&&N.type?_(e):Object(p.Ed)(e)&&Object(p.Ad)(null===N||void 0===N?void 0:N.type)?E.push({pathname:n.Ae.DELIVERY_PAGE}):!Object(p.Ed)(e)||null!==N&&void 0!==N&&N.type?(Object(p.Nd)(e)||Object(p.Td)(e))&&Object(p.Ad)(null===N||void 0===N?void 0:N.type)?_(e):E.push({pathname:e}):E.push({pathname:n.Ae.DELIVERY_PAGE})},reset:()=>{R(),f()},navigateToEvent:()=>{E.push({pathname:n.Ae.EVENT_PAGE}),R({...y,type:n.Jb.CHRISTMAS_ORDERING}),localStorage.setItem(A,n.Jb.CHRISTMAS_ORDERING),f(),S({type:c.a.SEARCH_ORDER_DATA,value:{showSearchStore:!0,configSearchScreen:s.c}})}}}}}]);